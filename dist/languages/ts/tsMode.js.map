{"version":3,"file":"tsMode.js","sources":["../../../node_modules/monaco-editor/esm/vs/language/typescript/tokenization.js","../../../node_modules/monaco-editor/esm/vs/language/typescript/workerManager.js","../../../node_modules/monaco-editor/esm/vs/language/typescript/languageFeatures.js","../../../node_modules/monaco-editor/esm/vs/language/typescript/tsMode.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as ts from './lib/typescriptServices.js';\nexport var Language;\n(function (Language) {\n    Language[Language[\"TypeScript\"] = 0] = \"TypeScript\";\n    Language[Language[\"EcmaScript5\"] = 1] = \"EcmaScript5\";\n})(Language || (Language = {}));\nexport function createTokenizationSupport(language) {\n    var classifier = ts.createClassifier(), bracketTypeTable = language === Language.TypeScript ? tsBracketTypeTable : jsBracketTypeTable, tokenTypeTable = language === Language.TypeScript ? tsTokenTypeTable : jsTokenTypeTable;\n    return {\n        getInitialState: function () { return new State(language, ts.EndOfLineState.None, false); },\n        tokenize: function (line, state) { return tokenize(bracketTypeTable, tokenTypeTable, classifier, state, line); }\n    };\n}\nvar State = /** @class */ (function () {\n    function State(language, eolState, inJsDocComment) {\n        this.language = language;\n        this.eolState = eolState;\n        this.inJsDocComment = inJsDocComment;\n    }\n    State.prototype.clone = function () {\n        return new State(this.language, this.eolState, this.inJsDocComment);\n    };\n    State.prototype.equals = function (other) {\n        if (other === this) {\n            return true;\n        }\n        if (!other || !(other instanceof State)) {\n            return false;\n        }\n        if (this.eolState !== other.eolState) {\n            return false;\n        }\n        if (this.inJsDocComment !== other.inJsDocComment) {\n            return false;\n        }\n        return true;\n    };\n    return State;\n}());\nfunction tokenize(bracketTypeTable, tokenTypeTable, classifier, state, text) {\n    // Create result early and fill in tokens\n    var ret = {\n        tokens: [],\n        endState: new State(state.language, ts.EndOfLineState.None, false)\n    };\n    function appendFn(startIndex, type) {\n        if (ret.tokens.length === 0 || ret.tokens[ret.tokens.length - 1].scopes !== type) {\n            ret.tokens.push({\n                startIndex: startIndex,\n                scopes: type\n            });\n        }\n    }\n    var isTypeScript = state.language === Language.TypeScript;\n    // shebang statement, #! /bin/node\n    if (!isTypeScript && checkSheBang(0, text, appendFn)) {\n        return ret;\n    }\n    var result = classifier.getClassificationsForLine(text, state.eolState, true), offset = 0;\n    ret.endState.eolState = result.finalLexState;\n    ret.endState.inJsDocComment = result.finalLexState === ts.EndOfLineState.InMultiLineCommentTrivia && (state.inJsDocComment || /\\/\\*\\*.*$/.test(text));\n    for (var _i = 0, _a = result.entries; _i < _a.length; _i++) {\n        var entry = _a[_i];\n        var type;\n        if (entry.classification === ts.TokenClass.Punctuation) {\n            // punctions: check for brackets: (){}[]\n            var ch = text.charCodeAt(offset);\n            type = bracketTypeTable[ch] || tokenTypeTable[entry.classification];\n            appendFn(offset, type);\n        }\n        else if (entry.classification === ts.TokenClass.Comment) {\n            // comments: check for JSDoc, block, and line comments\n            if (ret.endState.inJsDocComment || /\\/\\*\\*.*\\*\\//.test(text.substr(offset, entry.length))) {\n                appendFn(offset, isTypeScript ? 'comment.doc.ts' : 'comment.doc.js');\n            }\n            else {\n                appendFn(offset, isTypeScript ? 'comment.ts' : 'comment.js');\n            }\n        }\n        else {\n            // everything else\n            appendFn(offset, tokenTypeTable[entry.classification] || '');\n        }\n        offset += entry.length;\n    }\n    return ret;\n}\nvar tsBracketTypeTable = Object.create(null);\ntsBracketTypeTable['('.charCodeAt(0)] = 'delimiter.parenthesis.ts';\ntsBracketTypeTable[')'.charCodeAt(0)] = 'delimiter.parenthesis.ts';\ntsBracketTypeTable['{'.charCodeAt(0)] = 'delimiter.bracket.ts';\ntsBracketTypeTable['}'.charCodeAt(0)] = 'delimiter.bracket.ts';\ntsBracketTypeTable['['.charCodeAt(0)] = 'delimiter.array.ts';\ntsBracketTypeTable[']'.charCodeAt(0)] = 'delimiter.array.ts';\nvar tsTokenTypeTable = Object.create(null);\ntsTokenTypeTable[ts.TokenClass.Identifier] = 'identifier.ts';\ntsTokenTypeTable[ts.TokenClass.Keyword] = 'keyword.ts';\ntsTokenTypeTable[ts.TokenClass.Operator] = 'delimiter.ts';\ntsTokenTypeTable[ts.TokenClass.Punctuation] = 'delimiter.ts';\ntsTokenTypeTable[ts.TokenClass.NumberLiteral] = 'number.ts';\ntsTokenTypeTable[ts.TokenClass.RegExpLiteral] = 'regexp.ts';\ntsTokenTypeTable[ts.TokenClass.StringLiteral] = 'string.ts';\nvar jsBracketTypeTable = Object.create(null);\njsBracketTypeTable['('.charCodeAt(0)] = 'delimiter.parenthesis.js';\njsBracketTypeTable[')'.charCodeAt(0)] = 'delimiter.parenthesis.js';\njsBracketTypeTable['{'.charCodeAt(0)] = 'delimiter.bracket.js';\njsBracketTypeTable['}'.charCodeAt(0)] = 'delimiter.bracket.js';\njsBracketTypeTable['['.charCodeAt(0)] = 'delimiter.array.js';\njsBracketTypeTable[']'.charCodeAt(0)] = 'delimiter.array.js';\nvar jsTokenTypeTable = Object.create(null);\njsTokenTypeTable[ts.TokenClass.Identifier] = 'identifier.js';\njsTokenTypeTable[ts.TokenClass.Keyword] = 'keyword.js';\njsTokenTypeTable[ts.TokenClass.Operator] = 'delimiter.js';\njsTokenTypeTable[ts.TokenClass.Punctuation] = 'delimiter.js';\njsTokenTypeTable[ts.TokenClass.NumberLiteral] = 'number.js';\njsTokenTypeTable[ts.TokenClass.RegExpLiteral] = 'regexp.js';\njsTokenTypeTable[ts.TokenClass.StringLiteral] = 'string.js';\nfunction checkSheBang(deltaOffset, line, appendFn) {\n    if (line.indexOf('#!') === 0) {\n        appendFn(deltaOffset, 'comment.shebang');\n        return true;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(modeId, defaults) {\n        var _this = this;\n        this._modeId = modeId;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        var _this = this;\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `TypeScriptWorker` instance\n                moduleId: 'vs/language/typescript/tsWorker',\n                label: this._modeId,\n                // passed in to the create() method\n                createData: {\n                    compilerOptions: this._defaults.getCompilerOptions(),\n                    extraLibs: this._defaults.getExtraLibs()\n                }\n            });\n            var p = this._worker.getProxy();\n            if (this._defaults.getEagerModelSync()) {\n                p = p.then(function (worker) {\n                    return _this._worker.withSyncedResources(monaco.editor.getModels()\n                        .filter(function (model) { return model.getModeId() === _this._modeId; })\n                        .map(function (model) { return model.uri; }));\n                });\n            }\n            this._client = p;\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as ts from './lib/typescriptServices.js';\nvar Uri = monaco.Uri;\nvar Promise = monaco.Promise;\nvar Adapter = /** @class */ (function () {\n    function Adapter(_worker) {\n        this._worker = _worker;\n    }\n    Adapter.prototype._positionToOffset = function (uri, position) {\n        var model = monaco.editor.getModel(uri);\n        return model.getOffsetAt(position);\n    };\n    Adapter.prototype._offsetToPosition = function (uri, offset) {\n        var model = monaco.editor.getModel(uri);\n        return model.getPositionAt(offset);\n    };\n    Adapter.prototype._textSpanToRange = function (uri, span) {\n        var p1 = this._offsetToPosition(uri, span.start);\n        var p2 = this._offsetToPosition(uri, span.start + span.length);\n        var startLineNumber = p1.lineNumber, startColumn = p1.column;\n        var endLineNumber = p2.lineNumber, endColumn = p2.column;\n        return { startLineNumber: startLineNumber, startColumn: startColumn, endLineNumber: endLineNumber, endColumn: endColumn };\n    };\n    return Adapter;\n}());\nexport { Adapter };\n// --- diagnostics --- ---\nvar DiagnostcsAdapter = /** @class */ (function (_super) {\n    __extends(DiagnostcsAdapter, _super);\n    function DiagnostcsAdapter(_defaults, _selector, worker) {\n        var _this = _super.call(this, worker) || this;\n        _this._defaults = _defaults;\n        _this._selector = _selector;\n        _this._disposables = [];\n        _this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            if (model.getModeId() !== _selector) {\n                return;\n            }\n            var handle;\n            var changeSubscription = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri); }, 500);\n            });\n            _this._listener[model.uri.toString()] = {\n                dispose: function () {\n                    changeSubscription.dispose();\n                    clearTimeout(handle);\n                }\n            };\n            _this._doValidate(model.uri);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._selector, []);\n            var key = model.uri.toString();\n            if (_this._listener[key]) {\n                _this._listener[key].dispose();\n                delete _this._listener[key];\n            }\n        };\n        _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n        _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        _this._disposables.push({\n            dispose: function () {\n                for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                    var model = _a[_i];\n                    onModelRemoved(model);\n                }\n            }\n        });\n        _this._disposables.push(_this._defaults.onDidChange(function () {\n            // redo diagnostics when options change\n            for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                var model = _a[_i];\n                onModelRemoved(model);\n                onModelAdd(model);\n            }\n        }));\n        monaco.editor.getModels().forEach(onModelAdd);\n        return _this;\n    }\n    DiagnostcsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnostcsAdapter.prototype._doValidate = function (resource) {\n        var _this = this;\n        this._worker(resource).then(function (worker) {\n            if (!monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var promises = [];\n            var _a = _this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation;\n            if (!noSyntaxValidation) {\n                promises.push(worker.getSyntacticDiagnostics(resource.toString()));\n            }\n            if (!noSemanticValidation) {\n                promises.push(worker.getSemanticDiagnostics(resource.toString()));\n            }\n            return Promise.join(promises);\n        }).then(function (diagnostics) {\n            if (!diagnostics || !monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var markers = diagnostics\n                .reduce(function (p, c) { return c.concat(p); }, [])\n                .map(function (d) { return _this._convertDiagnostics(resource, d); });\n            monaco.editor.setModelMarkers(monaco.editor.getModel(resource), _this._selector, markers);\n        }).done(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    DiagnostcsAdapter.prototype._convertDiagnostics = function (resource, diag) {\n        var _a = this._offsetToPosition(resource, diag.start), startLineNumber = _a.lineNumber, startColumn = _a.column;\n        var _b = this._offsetToPosition(resource, diag.start + diag.length), endLineNumber = _b.lineNumber, endColumn = _b.column;\n        return {\n            severity: monaco.MarkerSeverity.Error,\n            startLineNumber: startLineNumber,\n            startColumn: startColumn,\n            endLineNumber: endLineNumber,\n            endColumn: endColumn,\n            message: ts.flattenDiagnosticMessageText(diag.messageText, '\\n')\n        };\n    };\n    return DiagnostcsAdapter;\n}(Adapter));\nexport { DiagnostcsAdapter };\nvar SuggestAdapter = /** @class */ (function (_super) {\n    __extends(SuggestAdapter, _super);\n    function SuggestAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['.'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        var offset = this._positionToOffset(resource, position);\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getCompletionsAtPosition(resource.toString(), offset);\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var suggestions = info.entries.map(function (entry) {\n                return {\n                    uri: resource,\n                    position: position,\n                    label: entry.name,\n                    sortText: entry.sortText,\n                    kind: SuggestAdapter.convertKind(entry.kind)\n                };\n            });\n            return suggestions;\n        }));\n    };\n    SuggestAdapter.prototype.resolveCompletionItem = function (item, token) {\n        var _this = this;\n        var myItem = item;\n        var resource = myItem.uri;\n        var position = myItem.position;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getCompletionEntryDetails(resource.toString(), _this._positionToOffset(resource, position), myItem.label);\n        }).then(function (details) {\n            if (!details) {\n                return myItem;\n            }\n            return {\n                uri: resource,\n                position: position,\n                label: details.name,\n                kind: SuggestAdapter.convertKind(details.kind),\n                detail: ts.displayPartsToString(details.displayParts),\n                documentation: ts.displayPartsToString(details.documentation)\n            };\n        }));\n    };\n    SuggestAdapter.convertKind = function (kind) {\n        switch (kind) {\n            case Kind.primitiveType:\n            case Kind.keyword:\n                return monaco.languages.CompletionItemKind.Keyword;\n            case Kind.variable:\n            case Kind.localVariable:\n                return monaco.languages.CompletionItemKind.Variable;\n            case Kind.memberVariable:\n            case Kind.memberGetAccessor:\n            case Kind.memberSetAccessor:\n                return monaco.languages.CompletionItemKind.Field;\n            case Kind.function:\n            case Kind.memberFunction:\n            case Kind.constructSignature:\n            case Kind.callSignature:\n            case Kind.indexSignature:\n                return monaco.languages.CompletionItemKind.Function;\n            case Kind.enum:\n                return monaco.languages.CompletionItemKind.Enum;\n            case Kind.module:\n                return monaco.languages.CompletionItemKind.Module;\n            case Kind.class:\n                return monaco.languages.CompletionItemKind.Class;\n            case Kind.interface:\n                return monaco.languages.CompletionItemKind.Interface;\n            case Kind.warning:\n                return monaco.languages.CompletionItemKind.File;\n        }\n        return monaco.languages.CompletionItemKind.Property;\n    };\n    return SuggestAdapter;\n}(Adapter));\nexport { SuggestAdapter };\nvar SignatureHelpAdapter = /** @class */ (function (_super) {\n    __extends(SignatureHelpAdapter, _super);\n    function SignatureHelpAdapter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.signatureHelpTriggerCharacters = ['(', ','];\n        return _this;\n    }\n    SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getSignatureHelpItems(resource.toString(), _this._positionToOffset(resource, position)); }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var ret = {\n                activeSignature: info.selectedItemIndex,\n                activeParameter: info.argumentIndex,\n                signatures: []\n            };\n            info.items.forEach(function (item) {\n                var signature = {\n                    label: '',\n                    documentation: null,\n                    parameters: []\n                };\n                signature.label += ts.displayPartsToString(item.prefixDisplayParts);\n                item.parameters.forEach(function (p, i, a) {\n                    var label = ts.displayPartsToString(p.displayParts);\n                    var parameter = {\n                        label: label,\n                        documentation: ts.displayPartsToString(p.documentation)\n                    };\n                    signature.label += label;\n                    signature.parameters.push(parameter);\n                    if (i < a.length - 1) {\n                        signature.label += ts.displayPartsToString(item.separatorDisplayParts);\n                    }\n                });\n                signature.label += ts.displayPartsToString(item.suffixDisplayParts);\n                ret.signatures.push(signature);\n            });\n            return ret;\n        }));\n    };\n    return SignatureHelpAdapter;\n}(Adapter));\nexport { SignatureHelpAdapter };\n// --- hover ------\nvar QuickInfoAdapter = /** @class */ (function (_super) {\n    __extends(QuickInfoAdapter, _super);\n    function QuickInfoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getQuickInfoAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var documentation = ts.displayPartsToString(info.documentation);\n            var tags = info.tags ? info.tags.map(function (tag) {\n                var label = \"*@\" + tag.name + \"*\";\n                if (!tag.text) {\n                    return label;\n                }\n                return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\n            })\n                .join('  \\n\\n') : '';\n            var contents = ts.displayPartsToString(info.displayParts);\n            return {\n                range: _this._textSpanToRange(resource, info.textSpan),\n                contents: [{\n                        value: contents\n                    }, {\n                        value: documentation + (tags ? '\\n\\n' + tags : '')\n                    }]\n            };\n        }));\n    };\n    return QuickInfoAdapter;\n}(Adapter));\nexport { QuickInfoAdapter };\n// --- occurrences ------\nvar OccurrencesAdapter = /** @class */ (function (_super) {\n    __extends(OccurrencesAdapter, _super);\n    function OccurrencesAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getOccurrencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: _this._textSpanToRange(resource, entry.textSpan),\n                    kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\n                };\n            });\n        }));\n    };\n    return OccurrencesAdapter;\n}(Adapter));\nexport { OccurrencesAdapter };\n// --- definition ------\nvar DefinitionAdapter = /** @class */ (function (_super) {\n    __extends(DefinitionAdapter, _super);\n    function DefinitionAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getDefinitionAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        }));\n    };\n    return DefinitionAdapter;\n}(Adapter));\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function (_super) {\n    __extends(ReferenceAdapter, _super);\n    function ReferenceAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getReferencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n                var entry = entries_2[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        }));\n    };\n    return ReferenceAdapter;\n}(Adapter));\nexport { ReferenceAdapter };\n// --- outline ------\nvar OutlineAdapter = /** @class */ (function (_super) {\n    __extends(OutlineAdapter, _super);\n    function OutlineAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getNavigationBarItems(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            var convert = function (bucket, item, containerLabel) {\n                var result = {\n                    name: item.text,\n                    kind: (outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable),\n                    location: {\n                        uri: resource,\n                        range: _this._textSpanToRange(resource, item.spans[0])\n                    },\n                    containerName: containerLabel\n                };\n                if (item.childItems && item.childItems.length > 0) {\n                    for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\n                        var child = _a[_i];\n                        convert(bucket, child, result.name);\n                    }\n                }\n                bucket.push(result);\n            };\n            var result = [];\n            items.forEach(function (item) { return convert(result, item); });\n            return result;\n        }));\n    };\n    return OutlineAdapter;\n}(Adapter));\nexport { OutlineAdapter };\nvar Kind = /** @class */ (function () {\n    function Kind() {\n    }\n    Kind.unknown = '';\n    Kind.keyword = 'keyword';\n    Kind.script = 'script';\n    Kind.module = 'module';\n    Kind.class = 'class';\n    Kind.interface = 'interface';\n    Kind.type = 'type';\n    Kind.enum = 'enum';\n    Kind.variable = 'var';\n    Kind.localVariable = 'local var';\n    Kind.function = 'function';\n    Kind.localFunction = 'local function';\n    Kind.memberFunction = 'method';\n    Kind.memberGetAccessor = 'getter';\n    Kind.memberSetAccessor = 'setter';\n    Kind.memberVariable = 'property';\n    Kind.constructorImplementation = 'constructor';\n    Kind.callSignature = 'call';\n    Kind.indexSignature = 'index';\n    Kind.constructSignature = 'construct';\n    Kind.parameter = 'parameter';\n    Kind.typeParameter = 'type parameter';\n    Kind.primitiveType = 'primitive type';\n    Kind.label = 'label';\n    Kind.alias = 'alias';\n    Kind.const = 'const';\n    Kind.let = 'let';\n    Kind.warning = 'warning';\n    return Kind;\n}());\nexport { Kind };\nvar outlineTypeTable = Object.create(null);\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\n// --- formatting ----\nvar FormatHelper = /** @class */ (function (_super) {\n    __extends(FormatHelper, _super);\n    function FormatHelper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatHelper._convertOptions = function (options) {\n        return {\n            ConvertTabsToSpaces: options.insertSpaces,\n            TabSize: options.tabSize,\n            IndentSize: options.tabSize,\n            IndentStyle: ts.IndentStyle.Smart,\n            NewLineCharacter: '\\n',\n            InsertSpaceAfterCommaDelimiter: true,\n            InsertSpaceAfterSemicolonInForStatements: true,\n            InsertSpaceBeforeAndAfterBinaryOperators: true,\n            InsertSpaceAfterKeywordsInControlFlowStatements: true,\n            InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\n            InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\n            PlaceOpenBraceOnNewLineForControlBlocks: false,\n            PlaceOpenBraceOnNewLineForFunctions: false\n        };\n    };\n    FormatHelper.prototype._convertTextChanges = function (uri, change) {\n        return {\n            text: change.newText,\n            range: this._textSpanToRange(uri, change.span)\n        };\n    };\n    return FormatHelper;\n}(Adapter));\nexport { FormatHelper };\nvar FormatAdapter = /** @class */ (function (_super) {\n    __extends(FormatAdapter, _super);\n    function FormatAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsForRange(resource.toString(), _this._positionToOffset(resource, { lineNumber: range.startLineNumber, column: range.startColumn }), _this._positionToOffset(resource, { lineNumber: range.endLineNumber, column: range.endColumn }), FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        }));\n    };\n    return FormatAdapter;\n}(FormatHelper));\nexport { FormatAdapter };\nvar FormatOnTypeAdapter = /** @class */ (function (_super) {\n    __extends(FormatOnTypeAdapter, _super);\n    function FormatOnTypeAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\n        get: function () {\n            return [';', '}', '\\n'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsAfterKeystroke(resource.toString(), _this._positionToOffset(resource, position), ch, FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        }));\n    };\n    return FormatOnTypeAdapter;\n}(FormatHelper));\nexport { FormatOnTypeAdapter };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    token.onCancellationRequested(function () { return promise.cancel(); });\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Language, createTokenizationSupport } from './tokenization.js';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nvar javaScriptWorker;\nvar typeScriptWorker;\nexport function setupTypeScript(defaults) {\n    typeScriptWorker = setupMode(defaults, 'typescript', Language.TypeScript);\n}\nexport function setupJavaScript(defaults) {\n    javaScriptWorker = setupMode(defaults, 'javascript', Language.EcmaScript5);\n}\nexport function getJavaScriptWorker() {\n    return new monaco.Promise(function (resolve, reject) {\n        if (!javaScriptWorker) {\n            return reject(\"JavaScript not registered!\");\n        }\n        resolve(javaScriptWorker);\n    });\n}\nexport function getTypeScriptWorker() {\n    return new monaco.Promise(function (resolve, reject) {\n        if (!typeScriptWorker) {\n            return reject(\"TypeScript not registered!\");\n        }\n        resolve(typeScriptWorker);\n    });\n}\nfunction setupMode(defaults, modeId, language) {\n    var client = new WorkerManager(modeId, defaults);\n    var worker = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\n    };\n    monaco.languages.registerCompletionItemProvider(modeId, new languageFeatures.SuggestAdapter(worker));\n    monaco.languages.registerSignatureHelpProvider(modeId, new languageFeatures.SignatureHelpAdapter(worker));\n    monaco.languages.registerHoverProvider(modeId, new languageFeatures.QuickInfoAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(modeId, new languageFeatures.OccurrencesAdapter(worker));\n    monaco.languages.registerDefinitionProvider(modeId, new languageFeatures.DefinitionAdapter(worker));\n    monaco.languages.registerReferenceProvider(modeId, new languageFeatures.ReferenceAdapter(worker));\n    monaco.languages.registerDocumentSymbolProvider(modeId, new languageFeatures.OutlineAdapter(worker));\n    monaco.languages.registerDocumentRangeFormattingEditProvider(modeId, new languageFeatures.FormatAdapter(worker));\n    monaco.languages.registerOnTypeFormattingEditProvider(modeId, new languageFeatures.FormatOnTypeAdapter(worker));\n    new languageFeatures.DiagnostcsAdapter(defaults, modeId, worker);\n    monaco.languages.setLanguageConfiguration(modeId, richEditConfiguration);\n    monaco.languages.setTokensProvider(modeId, createTokenizationSupport(language));\n    return worker;\n}\nvar richEditConfiguration = {\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n    comments: {\n        lineComment: '//',\n        blockComment: ['/*', '*/']\n    },\n    brackets: [\n        ['{', '}'],\n        ['[', ']'],\n        ['(', ')']\n    ],\n    onEnterRules: [\n        {\n            // e.g. /** | */\n            beforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\n            afterText: /^\\s*\\*\\/$/,\n            action: { indentAction: monaco.languages.IndentAction.IndentOutdent, appendText: ' * ' }\n        },\n        {\n            // e.g. /** ...|\n            beforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\n            action: { indentAction: monaco.languages.IndentAction.None, appendText: ' * ' }\n        },\n        {\n            // e.g.  * ...|\n            beforeText: /^(\\t|(\\ \\ ))*\\ \\*(\\ ([^\\*]|\\*(?!\\/))*)?$/,\n            action: { indentAction: monaco.languages.IndentAction.None, appendText: '* ' }\n        },\n        {\n            // e.g.  */|\n            beforeText: /^(\\t|(\\ \\ ))*\\ \\*\\/\\s*$/,\n            action: { indentAction: monaco.languages.IndentAction.None, removeText: 1 }\n        }\n    ],\n    autoClosingPairs: [\n        { open: '{', close: '}' },\n        { open: '[', close: ']' },\n        { open: '(', close: ')' },\n        { open: '\"', close: '\"', notIn: ['string'] },\n        { open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n        { open: '`', close: '`', notIn: ['string', 'comment'] },\n        { open: \"/**\", close: \" */\", notIn: [\"string\"] }\n    ],\n    folding: {\n        markers: {\n            start: new RegExp(\"^\\\\s*//\\\\s*#?region\\\\b\"),\n            end: new RegExp(\"^\\\\s*//\\\\s*#?endregion\\\\b\")\n        }\n    }\n};\n"],"names":["ts.createClassifier","ts.EndOfLineState","ts.TokenClass","Promise","this","ts.flattenDiagnosticMessageText","ts.displayPartsToString","ts.IndentStyle","languageFeatures.SuggestAdapter","languageFeatures.SignatureHelpAdapter","languageFeatures.QuickInfoAdapter","languageFeatures.OccurrencesAdapter","languageFeatures.DefinitionAdapter","languageFeatures.ReferenceAdapter","languageFeatures.OutlineAdapter","languageFeatures.FormatAdapter","languageFeatures.FormatOnTypeAdapter","languageFeatures.DiagnostcsAdapter"],"mappings":"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"}