{"version":3,"file":"json.worker.js","sources":["../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/objects.js","../../../node_modules/monaco-editor/esm/vs/language/json/fillers/vscode-nls.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-uri/index.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/parser/jsonParser.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/json.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/strings.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonCompletion.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonHover.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/colors.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonDocumentSymbols.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/configuration.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonSchemaService.js","../../../node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/jsonLanguageService.js","../../../node_modules/monaco-editor/esm/vs/language/json/jsonWorker.js","../../../node_modules/monaco-editor/esm/vs/language/json/json.worker.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport function equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if ((Array.isArray(one)) !== (Array.isArray(other))) {\n        return false;\n    }\n    var i, key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        var oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        var otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=objects.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nfunction format(message, args) {\n    var result;\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            return typeof args[index] !== 'undefined' ? args[index] : match;\n        });\n    }\n    return result;\n}\nfunction localize(key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexport function loadMessageBundle(file) {\n    return localize;\n}\nexport function config(opt) {\n    return loadMessageBundle;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nfunction _encode(ch) {\n    return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n}\n// see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\nfunction encodeURIComponent2(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, _encode);\n}\nfunction encodeNoop(str) {\n    return str.replace(/[#?]/, _encode);\n}\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component paths\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n *\n *\n */\nvar URI = (function () {\n    function URI() {\n        this._scheme = URI._empty;\n        this._authority = URI._empty;\n        this._path = URI._empty;\n        this._query = URI._empty;\n        this._fragment = URI._empty;\n        this._formatted = null;\n        this._fsPath = null;\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string';\n    };\n    Object.defineProperty(URI.prototype, \"scheme\", {\n        /**\n         * scheme is the 'http' part of 'http://www.msft.com/some/path?query#fragment'.\n         * The part before the first colon.\n         */\n        get: function () {\n            return this._scheme;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(URI.prototype, \"authority\", {\n        /**\n         * authority is the 'www.msft.com' part of 'http://www.msft.com/some/path?query#fragment'.\n         * The part between the first double slashes and the next slash.\n         */\n        get: function () {\n            return this._authority;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(URI.prototype, \"path\", {\n        /**\n         * path is the '/some/path' part of 'http://www.msft.com/some/path?query#fragment'.\n         */\n        get: function () {\n            return this._path;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(URI.prototype, \"query\", {\n        /**\n         * query is the 'query' part of 'http://www.msft.com/some/path?query#fragment'.\n         */\n        get: function () {\n            return this._query;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(URI.prototype, \"fragment\", {\n        /**\n         * fragment is the 'fragment' part of 'http://www.msft.com/some/path?query#fragment'.\n         */\n        get: function () {\n            return this._fragment;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths and normalize windows drive letters to lower-case. Also\n         * uses the platform specific path separator. Will *not* validate the path for\n         * invalid characters and semantics. Will *not* look at the scheme of this URI.\n         */\n        get: function () {\n            if (!this._fsPath) {\n                var value;\n                if (this._authority && this._path && this.scheme === 'file') {\n                    // unc path: file://shares/c$/far/boo\n                    value = \"//\" + this._authority + this._path;\n                }\n                else if (URI._driveLetterPath.test(this._path)) {\n                    // windows drive letter: file:///c:/far/boo\n                    value = this._path[1].toLowerCase() + this._path.substr(2);\n                }\n                else {\n                    // other path\n                    value = this._path;\n                }\n                if (isWindows) {\n                    value = value.replace(/\\//g, '\\\\');\n                }\n                this._fsPath = value;\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === void 0) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = '';\n        }\n        if (authority === void 0) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = '';\n        }\n        if (path === void 0) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = '';\n        }\n        if (query === void 0) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = '';\n        }\n        if (fragment === void 0) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = '';\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        var ret = new URI();\n        ret._scheme = scheme;\n        ret._authority = authority;\n        ret._path = path;\n        ret._query = query;\n        ret._fragment = fragment;\n        URI._validate(ret);\n        return ret;\n    };\n    // ---- parse & validate ------------------------\n    URI.parse = function (value) {\n        var ret = new URI();\n        var data = URI._parseComponents(value);\n        ret._scheme = data.scheme;\n        ret._authority = decodeURIComponent(data.authority);\n        ret._path = decodeURIComponent(data.path);\n        ret._query = decodeURIComponent(data.query);\n        ret._fragment = decodeURIComponent(data.fragment);\n        URI._validate(ret);\n        return ret;\n    };\n    URI.file = function (path) {\n        var ret = new URI();\n        ret._scheme = 'file';\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slaches are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, URI._slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === URI._slash && path[0] === path[1]) {\n            var idx = path.indexOf(URI._slash, 2);\n            if (idx === -1) {\n                ret._authority = path.substring(2);\n            }\n            else {\n                ret._authority = path.substring(2, idx);\n                ret._path = path.substring(idx);\n            }\n        }\n        else {\n            ret._path = path;\n        }\n        // Ensure that path starts with a slash\n        // or that it is at least a slash\n        if (ret._path[0] !== URI._slash) {\n            ret._path = URI._slash + ret._path;\n        }\n        URI._validate(ret);\n        return ret;\n    };\n    URI._parseComponents = function (value) {\n        var ret = {\n            scheme: URI._empty,\n            authority: URI._empty,\n            path: URI._empty,\n            query: URI._empty,\n            fragment: URI._empty,\n        };\n        var match = URI._regexp.exec(value);\n        if (match) {\n            ret.scheme = match[2] || ret.scheme;\n            ret.authority = match[4] || ret.authority;\n            ret.path = match[5] || ret.path;\n            ret.query = match[7] || ret.query;\n            ret.fragment = match[9] || ret.fragment;\n        }\n        return ret;\n    };\n    URI.from = function (components) {\n        return new URI().with(components);\n    };\n    URI._validate = function (ret) {\n        // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n        // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n        if (ret.scheme && !URI._schemePattern.test(ret.scheme)) {\n            throw new Error('[UriError]: Scheme contains illegal characters.');\n        }\n        // path, http://tools.ietf.org/html/rfc3986#section-3.3\n        // If a URI contains an authority component, then the path component\n        // must either be empty or begin with a slash (\"/\") character.  If a URI\n        // does not contain an authority component, then the path cannot begin\n        // with two slash characters (\"//\").\n        if (ret.path) {\n            if (ret.authority) {\n                if (!URI._singleSlashStart.test(ret.path)) {\n                    throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n                }\n            }\n            else {\n                if (URI._doubleSlashStart.test(ret.path)) {\n                    throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n                }\n            }\n        }\n    };\n    // ---- printing/externalize ---------------------------\n    /**\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = URI._asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return URI._asFormatted(this, true);\n        }\n    };\n    URI._asFormatted = function (uri, skipEncoding) {\n        var encoder = !skipEncoding\n            ? encodeURIComponent2\n            : encodeNoop;\n        var parts = [];\n        var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n        if (scheme) {\n            parts.push(scheme, ':');\n        }\n        if (authority || scheme === 'file') {\n            parts.push('//');\n        }\n        if (authority) {\n            authority = authority.toLowerCase();\n            var idx = authority.indexOf(':');\n            if (idx === -1) {\n                parts.push(encoder(authority));\n            }\n            else {\n                parts.push(encoder(authority.substr(0, idx)), authority.substr(idx));\n            }\n        }\n        if (path) {\n            // lower-case windows drive letters in /C:/fff or C:/fff\n            var m = URI._upperCaseDrive.exec(path);\n            if (m) {\n                if (m[1]) {\n                    path = '/' + m[2].toLowerCase() + path.substr(3); // \"/c:\".length === 3\n                }\n                else {\n                    path = m[2].toLowerCase() + path.substr(2); // // \"c:\".length === 2\n                }\n            }\n            // encode every segement but not slashes\n            // make sure that # and ? are always encoded\n            // when occurring in paths - otherwise the result\n            // cannot be parsed back again\n            var lastIdx = 0;\n            while (true) {\n                var idx = path.indexOf(URI._slash, lastIdx);\n                if (idx === -1) {\n                    parts.push(encoder(path.substring(lastIdx)));\n                    break;\n                }\n                parts.push(encoder(path.substring(lastIdx, idx)), URI._slash);\n                lastIdx = idx + 1;\n            }\n            ;\n        }\n        if (query) {\n            parts.push('?', encoder(query));\n        }\n        if (fragment) {\n            parts.push('#', encoder(fragment));\n        }\n        return parts.join(URI._empty);\n    };\n    URI.prototype.toJSON = function () {\n        var res = {\n            fsPath: this.fsPath,\n            external: this.toString(),\n            $mid: 1\n        };\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    URI.revive = function (data) {\n        var result = new URI();\n        result._scheme = data.scheme || URI._empty;\n        result._authority = data.authority || URI._empty;\n        result._path = data.path || URI._empty;\n        result._query = data.query || URI._empty;\n        result._fragment = data.fragment || URI._empty;\n        result._fsPath = data.fsPath;\n        result._formatted = data.external;\n        URI._validate(result);\n        return result;\n    };\n    return URI;\n}());\nexport default URI;\nURI._empty = '';\nURI._slash = '/';\nURI._regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\nURI._driveLetterPath = /^\\/[a-zA-z]:/;\nURI._upperCaseDrive = /^(\\/)?([A-Z]:)/;\nURI._schemePattern = /^\\w[\\w\\d+.-]*$/;\nURI._singleSlashStart = /^\\//;\nURI._doubleSlashStart = /^\\/\\//;\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as Json from '../../jsonc-parser/main.js';\nimport * as objects from '../utils/objects.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nimport Uri from '../../vscode-uri/index.js';\nimport { DiagnosticSeverity } from '../../vscode-languageserver-types/main.js';\nvar localize = nls.loadMessageBundle();\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"Undefined\"] = 0] = \"Undefined\";\n    ErrorCode[ErrorCode[\"EnumValueMismatch\"] = 1] = \"EnumValueMismatch\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfComment\"] = 257] = \"UnexpectedEndOfComment\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfString\"] = 258] = \"UnexpectedEndOfString\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfNumber\"] = 259] = \"UnexpectedEndOfNumber\";\n    ErrorCode[ErrorCode[\"InvalidUnicode\"] = 260] = \"InvalidUnicode\";\n    ErrorCode[ErrorCode[\"InvalidEscapeCharacter\"] = 261] = \"InvalidEscapeCharacter\";\n    ErrorCode[ErrorCode[\"InvalidCharacter\"] = 262] = \"InvalidCharacter\";\n    ErrorCode[ErrorCode[\"PropertyExpected\"] = 513] = \"PropertyExpected\";\n    ErrorCode[ErrorCode[\"CommaExpected\"] = 514] = \"CommaExpected\";\n    ErrorCode[ErrorCode[\"ColonExpected\"] = 515] = \"ColonExpected\";\n    ErrorCode[ErrorCode[\"ValueExpected\"] = 516] = \"ValueExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBacketExpected\"] = 517] = \"CommaOrCloseBacketExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBraceExpected\"] = 518] = \"CommaOrCloseBraceExpected\";\n    ErrorCode[ErrorCode[\"TrailingComma\"] = 519] = \"TrailingComma\";\n})(ErrorCode || (ErrorCode = {}));\nvar colorHexPattern = /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/;\nvar emailPattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nexport var ProblemSeverity;\n(function (ProblemSeverity) {\n    ProblemSeverity[\"Ignore\"] = \"ignore\";\n    ProblemSeverity[\"Error\"] = \"error\";\n    ProblemSeverity[\"Warning\"] = \"warning\";\n})(ProblemSeverity || (ProblemSeverity = {}));\nvar ASTNodeImpl = /** @class */ (function () {\n    function ASTNodeImpl(parent, offset, length) {\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    Object.defineProperty(ASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ASTNodeImpl.prototype.toString = function () {\n        return 'type: ' + this.type + ' (' + this.offset + '/' + this.length + ')' + (this.parent ? ' parent: {' + this.parent.toString() + '}' : '');\n    };\n    return ASTNodeImpl;\n}());\nexport { ASTNodeImpl };\nvar NullASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NullASTNodeImpl, _super);\n    function NullASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'null';\n        return _this;\n    }\n    return NullASTNodeImpl;\n}(ASTNodeImpl));\nexport { NullASTNodeImpl };\nvar BooleanASTNodeImpl = /** @class */ (function (_super) {\n    __extends(BooleanASTNodeImpl, _super);\n    function BooleanASTNodeImpl(parent, boolValue, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'boolean';\n        _this.value = boolValue;\n        return _this;\n    }\n    return BooleanASTNodeImpl;\n}(ASTNodeImpl));\nexport { BooleanASTNodeImpl };\nvar ArrayASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ArrayASTNodeImpl, _super);\n    function ArrayASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'array';\n        _this.items = [];\n        return _this;\n    }\n    Object.defineProperty(ArrayASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.items;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ArrayASTNodeImpl;\n}(ASTNodeImpl));\nexport { ArrayASTNodeImpl };\nvar NumberASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NumberASTNodeImpl, _super);\n    function NumberASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'number';\n        _this.isInteger = true;\n        _this.value = Number.NaN;\n        return _this;\n    }\n    return NumberASTNodeImpl;\n}(ASTNodeImpl));\nexport { NumberASTNodeImpl };\nvar StringASTNodeImpl = /** @class */ (function (_super) {\n    __extends(StringASTNodeImpl, _super);\n    function StringASTNodeImpl(parent, offset, length) {\n        var _this = _super.call(this, parent, offset, length) || this;\n        _this.type = 'string';\n        _this.value = '';\n        return _this;\n    }\n    return StringASTNodeImpl;\n}(ASTNodeImpl));\nexport { StringASTNodeImpl };\nvar PropertyASTNodeImpl = /** @class */ (function (_super) {\n    __extends(PropertyASTNodeImpl, _super);\n    function PropertyASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'property';\n        _this.colonOffset = -1;\n        return _this;\n    }\n    Object.defineProperty(PropertyASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PropertyASTNodeImpl;\n}(ASTNodeImpl));\nexport { PropertyASTNodeImpl };\nvar ObjectASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ObjectASTNodeImpl, _super);\n    function ObjectASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'object';\n        _this.properties = [];\n        return _this;\n    }\n    Object.defineProperty(ObjectASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ObjectASTNodeImpl;\n}(ASTNodeImpl));\nexport { ObjectASTNodeImpl };\nexport function asSchema(schema) {\n    if (typeof schema === 'boolean') {\n        return schema ? {} : { \"not\": {} };\n    }\n    return schema;\n}\nexport var EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch || (EnumMatch = {}));\nvar SchemaCollector = /** @class */ (function () {\n    function SchemaCollector(focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        if (exclude === void 0) { exclude = null; }\n        this.focusOffset = focusOffset;\n        this.exclude = exclude;\n        this.schemas = [];\n    }\n    SchemaCollector.prototype.add = function (schema) {\n        this.schemas.push(schema);\n    };\n    SchemaCollector.prototype.merge = function (other) {\n        (_a = this.schemas).push.apply(_a, other.schemas);\n        var _a;\n    };\n    SchemaCollector.prototype.include = function (node) {\n        return (this.focusOffset === -1 || contains(node, this.focusOffset)) && (node !== this.exclude);\n    };\n    SchemaCollector.prototype.newSub = function () {\n        return new SchemaCollector(-1, this.exclude);\n    };\n    return SchemaCollector;\n}());\nvar NoOpSchemaCollector = /** @class */ (function () {\n    function NoOpSchemaCollector() {\n    }\n    Object.defineProperty(NoOpSchemaCollector.prototype, \"schemas\", {\n        get: function () { return []; },\n        enumerable: true,\n        configurable: true\n    });\n    NoOpSchemaCollector.prototype.add = function (schema) { };\n    NoOpSchemaCollector.prototype.merge = function (other) { };\n    NoOpSchemaCollector.prototype.include = function (node) { return true; };\n    NoOpSchemaCollector.prototype.newSub = function () { return this; };\n    NoOpSchemaCollector.instance = new NoOpSchemaCollector();\n    return NoOpSchemaCollector;\n}());\nvar ValidationResult = /** @class */ (function () {\n    function ValidationResult() {\n        this.problems = [];\n        this.propertiesMatches = 0;\n        this.propertiesValueMatches = 0;\n        this.primaryValueMatches = 0;\n        this.enumValueMatch = false;\n        this.enumValues = null;\n    }\n    ValidationResult.prototype.hasProblems = function () {\n        return !!this.problems.length;\n    };\n    ValidationResult.prototype.mergeAll = function (validationResults) {\n        var _this = this;\n        validationResults.forEach(function (validationResult) {\n            _this.merge(validationResult);\n        });\n    };\n    ValidationResult.prototype.merge = function (validationResult) {\n        this.problems = this.problems.concat(validationResult.problems);\n    };\n    ValidationResult.prototype.mergeEnumValues = function (validationResult) {\n        if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {\n            this.enumValues = this.enumValues.concat(validationResult.enumValues);\n            for (var _i = 0, _a = this.problems; _i < _a.length; _i++) {\n                var error = _a[_i];\n                if (error.code === ErrorCode.EnumValueMismatch) {\n                    error.message = localize('enumWarning', 'Value is not accepted. Valid values: {0}.', this.enumValues.map(function (v) { return JSON.stringify(v); }).join(', '));\n                }\n            }\n        }\n    };\n    ValidationResult.prototype.mergePropertyMatch = function (propertyValidationResult) {\n        this.merge(propertyValidationResult);\n        this.propertiesMatches++;\n        if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {\n            this.propertiesValueMatches++;\n        }\n        if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {\n            this.primaryValueMatches++;\n        }\n    };\n    ValidationResult.prototype.compare = function (other) {\n        var hasProblems = this.hasProblems();\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    };\n    return ValidationResult;\n}());\nexport { ValidationResult };\nfunction toProblemSeverity(diagnosticsSeverity) {\n    switch (diagnosticsSeverity) {\n        case DiagnosticSeverity.Error: return ProblemSeverity.Error;\n        case DiagnosticSeverity.Warning: return ProblemSeverity.Warning;\n        case DiagnosticSeverity.Information: return ProblemSeverity.Warning;\n    }\n    return ProblemSeverity.Ignore;\n}\nexport function newJSONDocument(root, diagnostics) {\n    if (diagnostics === void 0) { diagnostics = []; }\n    return new JSONDocument(root, [], [], diagnostics);\n}\nexport function getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.items.map(getNodeValue);\n        case 'object':\n            var obj = Object.create(null);\n            for (var _i = 0, _a = node.properties; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                obj[prop.keyNode.value] = getNodeValue(prop.valueNode);\n            }\n            return obj;\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n    }\n    return null;\n}\nexport function getNodePath(node) {\n    if (!node.parent) {\n        return [];\n    }\n    var path = getNodePath(node.parent);\n    if (node.parent.type === 'property') {\n        var key = node.parent.keyNode.value;\n        path.push(key);\n    }\n    else if (node.parent.type === 'array') {\n        var index = node.parent.items.indexOf(node);\n        if (index !== -1) {\n            path.push(index);\n        }\n    }\n    return path;\n}\nexport function contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return offset >= node.offset && offset < (node.offset + node.length) || includeRightBound && offset === (node.offset + node.length);\n}\nvar JSONDocument = /** @class */ (function () {\n    function JSONDocument(root, syntaxErrors, comments, externalDiagnostic) {\n        if (syntaxErrors === void 0) { syntaxErrors = []; }\n        if (comments === void 0) { comments = []; }\n        if (externalDiagnostic === void 0) { externalDiagnostic = []; }\n        this.root = root;\n        this.syntaxErrors = syntaxErrors;\n        this.comments = comments;\n        this.externalDiagnostic = externalDiagnostic;\n    }\n    JSONDocument.prototype.getNodeFromOffset = function (offset) {\n        var findNode = function (node) {\n            if (offset >= node.offset && offset < (node.offset + node.length)) {\n                var children = node.children;\n                for (var i = 0; i < children.length && children[i].offset <= offset; i++) {\n                    var item = findNode(children[i]);\n                    if (item) {\n                        return item;\n                    }\n                }\n                return node;\n            }\n            return null;\n        };\n        return this.root && findNode(this.root);\n    };\n    JSONDocument.prototype.getNodeFromOffsetEndInclusive = function (offset) {\n        var findNode = function (node) {\n            if (offset >= node.offset && offset <= (node.offset + node.length)) {\n                var children = node.children;\n                for (var i = 0; i < children.length && children[i].offset <= offset; i++) {\n                    var item = findNode(children[i]);\n                    if (item) {\n                        return item;\n                    }\n                }\n                return node;\n            }\n            return null;\n        };\n        return this.root && findNode(this.root);\n    };\n    JSONDocument.prototype.visit = function (visitor) {\n        if (this.root) {\n            var doVisit_1 = function (node) {\n                var ctn = visitor(node);\n                var children = node.children;\n                for (var i = 0; i < children.length && ctn; i++) {\n                    ctn = doVisit_1(children[i]);\n                }\n                return ctn;\n            };\n            doVisit_1(this.root);\n        }\n    };\n    JSONDocument.prototype.validate = function (schema) {\n        if (this.root && schema) {\n            var validationResult = new ValidationResult();\n            validate(this.root, schema, validationResult, NoOpSchemaCollector.instance);\n            return validationResult.problems;\n        }\n        return null;\n    };\n    JSONDocument.prototype.getMatchingSchemas = function (schema, focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        if (exclude === void 0) { exclude = null; }\n        var matchingSchemas = new SchemaCollector(focusOffset, exclude);\n        if (this.root && schema) {\n            validate(this.root, schema, new ValidationResult(), matchingSchemas);\n        }\n        return matchingSchemas.schemas;\n    };\n    return JSONDocument;\n}());\nexport { JSONDocument };\nfunction validate(node, schema, validationResult, matchingSchemas) {\n    if (!node || !matchingSchemas.include(node)) {\n        return;\n    }\n    switch (node.type) {\n        case 'object':\n            _validateObjectNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'array':\n            _validateArrayNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'string':\n            _validateStringNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'number':\n            _validateNumberNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'property':\n            return validate(node.valueNode, schema, validationResult, matchingSchemas);\n    }\n    _validateNode();\n    matchingSchemas.add({ node: node, schema: schema });\n    function _validateNode() {\n        function matchesType(type) {\n            return node.type === type || (type === 'integer' && node.type === 'number' && node.isInteger);\n        }\n        if (Array.isArray(schema.type)) {\n            if (!schema.type.some(matchesType)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: schema.errorMessage || localize('typeArrayMismatchWarning', 'Incorrect type. Expected one of {0}.', schema.type.join(', '))\n                });\n            }\n        }\n        else if (schema.type) {\n            if (!matchesType(schema.type)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: schema.errorMessage || localize('typeMismatchWarning', 'Incorrect type. Expected \"{0}\".', schema.type)\n                });\n            }\n        }\n        if (Array.isArray(schema.allOf)) {\n            schema.allOf.forEach(function (subSchemaRef) {\n                validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);\n            });\n        }\n        var notSchema = asSchema(schema.not);\n        if (notSchema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, notSchema, subValidationResult, subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('notSchemaWarning', \"Matches a schema that is not allowed.\")\n                });\n            }\n            subMatchingSchemas.schemas.forEach(function (ms) {\n                ms.inverted = !ms.inverted;\n                matchingSchemas.add(ms);\n            });\n        }\n        var testAlternatives = function (alternatives, maxOneMatch) {\n            var matches = [];\n            // remember the best match that is used for error messages\n            var bestMatch = null;\n            alternatives.forEach(function (subSchemaRef) {\n                var subSchema = asSchema(subSchemaRef);\n                var subValidationResult = new ValidationResult();\n                var subMatchingSchemas = matchingSchemas.newSub();\n                validate(node, subSchema, subValidationResult, subMatchingSchemas);\n                if (!subValidationResult.hasProblems()) {\n                    matches.push(subSchema);\n                }\n                if (!bestMatch) {\n                    bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                }\n                else {\n                    if (!maxOneMatch && !subValidationResult.hasProblems() && !bestMatch.validationResult.hasProblems()) {\n                        // no errors, both are equally good matches\n                        bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                        bestMatch.validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n                        bestMatch.validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n                    }\n                    else {\n                        var compareResult = subValidationResult.compare(bestMatch.validationResult);\n                        if (compareResult > 0) {\n                            // our node is the best matching so far\n                            bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                        }\n                        else if (compareResult === 0) {\n                            // there's already a best matching but we are as good\n                            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                            bestMatch.validationResult.mergeEnumValues(subValidationResult);\n                        }\n                    }\n                }\n            });\n            if (matches.length > 1 && maxOneMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: 1 },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('oneOfWarning', \"Matches multiple schemas when only one must validate.\")\n                });\n            }\n            if (bestMatch !== null) {\n                validationResult.merge(bestMatch.validationResult);\n                validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;\n                validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;\n                matchingSchemas.merge(bestMatch.matchingSchemas);\n            }\n            return matches.length;\n        };\n        if (Array.isArray(schema.anyOf)) {\n            testAlternatives(schema.anyOf, false);\n        }\n        if (Array.isArray(schema.oneOf)) {\n            testAlternatives(schema.oneOf, true);\n        }\n        if (Array.isArray(schema.enum)) {\n            var val = getNodeValue(node);\n            var enumValueMatch = false;\n            for (var _i = 0, _a = schema.enum; _i < _a.length; _i++) {\n                var e = _a[_i];\n                if (objects.equals(val, e)) {\n                    enumValueMatch = true;\n                    break;\n                }\n            }\n            validationResult.enumValues = schema.enum;\n            validationResult.enumValueMatch = enumValueMatch;\n            if (!enumValueMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('enumWarning', 'Value is not accepted. Valid values: {0}.', schema.enum.map(function (v) { return JSON.stringify(v); }).join(', '))\n                });\n            }\n        }\n        if (schema.const) {\n            var val = getNodeValue(node);\n            if (!objects.equals(val, schema.const)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('constWarning', 'Value must be {0}.', JSON.stringify(schema.const))\n                });\n                validationResult.enumValueMatch = false;\n            }\n            else {\n                validationResult.enumValueMatch = true;\n            }\n            validationResult.enumValues = [schema.const];\n        }\n        if (schema.deprecationMessage && node.parent) {\n            validationResult.problems.push({\n                location: { offset: node.parent.offset, length: node.parent.length },\n                severity: ProblemSeverity.Warning,\n                message: schema.deprecationMessage\n            });\n        }\n    }\n    function _validateNumberNode(node, schema, validationResult, matchingSchemas) {\n        var val = node.value;\n        if (typeof schema.multipleOf === 'number') {\n            if (val % schema.multipleOf !== 0) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('multipleOfWarning', 'Value is not divisible by {0}.', schema.multipleOf)\n                });\n            }\n        }\n        function getExclusiveLimit(limit, exclusive) {\n            if (typeof exclusive === 'number') {\n                return exclusive;\n            }\n            if (typeof exclusive === 'boolean' && exclusive) {\n                return limit;\n            }\n            return void 0;\n        }\n        function getLimit(limit, exclusive) {\n            if (typeof exclusive !== 'boolean' || !exclusive) {\n                return limit;\n            }\n            return void 0;\n        }\n        var exclusiveMinimum = getExclusiveLimit(schema.minimum, schema.exclusiveMinimum);\n        if (typeof exclusiveMinimum === 'number' && val <= exclusiveMinimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('exclusiveMinimumWarning', 'Value is below the exclusive minimum of {0}.', exclusiveMinimum)\n            });\n        }\n        var exclusiveMaximum = getExclusiveLimit(schema.maximum, schema.exclusiveMaximum);\n        if (typeof exclusiveMaximum === 'number' && val >= exclusiveMaximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('exclusiveMaximumWarning', 'Value is above the exclusive maximum of {0}.', exclusiveMaximum)\n            });\n        }\n        var minimum = getLimit(schema.minimum, schema.exclusiveMinimum);\n        if (typeof minimum === 'number' && val < minimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('minimumWarning', 'Value is below the minimum of {0}.', minimum)\n            });\n        }\n        var maximum = getLimit(schema.maximum, schema.exclusiveMaximum);\n        if (typeof maximum === 'number' && val > maximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('maximumWarning', 'Value is above the maximum of {0}.', maximum)\n            });\n        }\n    }\n    function _validateStringNode(node, schema, validationResult, matchingSchemas) {\n        if (schema.minLength && node.value.length < schema.minLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('minLengthWarning', 'String is shorter than the minimum length of {0}.', schema.minLength)\n            });\n        }\n        if (schema.maxLength && node.value.length > schema.maxLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('maxLengthWarning', 'String is longer than the maximum length of {0}.', schema.maxLength)\n            });\n        }\n        if (schema.pattern) {\n            var regex = new RegExp(schema.pattern);\n            if (!regex.test(node.value)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: schema.patternErrorMessage || schema.errorMessage || localize('patternWarning', 'String does not match the pattern of \"{0}\".', schema.pattern)\n                });\n            }\n        }\n        if (schema.format) {\n            switch (schema.format) {\n                case 'uri':\n                case 'uri-reference':\n                    {\n                        var errorMessage = void 0;\n                        if (!node.value) {\n                            errorMessage = localize('uriEmpty', 'URI expected.');\n                        }\n                        else {\n                            try {\n                                var uri = Uri.parse(node.value);\n                                if (!uri.scheme && schema.format === 'uri') {\n                                    errorMessage = localize('uriSchemeMissing', 'URI with a scheme is expected.');\n                                }\n                            }\n                            catch (e) {\n                                errorMessage = e.message;\n                            }\n                        }\n                        if (errorMessage) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                severity: ProblemSeverity.Warning,\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('uriFormatWarning', 'String is not a URI: {0}', errorMessage)\n                            });\n                        }\n                    }\n                    break;\n                case 'email':\n                    {\n                        if (!node.value.match(emailPattern)) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                severity: ProblemSeverity.Warning,\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('emailFormatWarning', 'String is not an e-mail address.')\n                            });\n                        }\n                    }\n                    break;\n                case 'color-hex':\n                    {\n                        if (!node.value.match(colorHexPattern)) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                severity: ProblemSeverity.Warning,\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.')\n                            });\n                        }\n                    }\n                    break;\n                default:\n            }\n        }\n    }\n    function _validateArrayNode(node, schema, validationResult, matchingSchemas) {\n        if (Array.isArray(schema.items)) {\n            var subSchemas_1 = schema.items;\n            subSchemas_1.forEach(function (subSchemaRef, index) {\n                var subSchema = asSchema(subSchemaRef);\n                var itemValidationResult = new ValidationResult();\n                var item = node.items[index];\n                if (item) {\n                    validate(item, subSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n                else if (node.items.length >= subSchemas_1.length) {\n                    validationResult.propertiesValueMatches++;\n                }\n            });\n            if (node.items.length > subSchemas_1.length) {\n                if (typeof schema.additionalItems === 'object') {\n                    for (var i = subSchemas_1.length; i < node.items.length; i++) {\n                        var itemValidationResult = new ValidationResult();\n                        validate(node.items[i], schema.additionalItems, itemValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(itemValidationResult);\n                    }\n                }\n                else if (schema.additionalItems === false) {\n                    validationResult.problems.push({\n                        location: { offset: node.offset, length: node.length },\n                        severity: ProblemSeverity.Warning,\n                        message: localize('additionalItemsWarning', 'Array has too many items according to schema. Expected {0} or fewer.', subSchemas_1.length)\n                    });\n                }\n            }\n        }\n        else {\n            var itemSchema_1 = asSchema(schema.items);\n            if (itemSchema_1) {\n                node.items.forEach(function (item) {\n                    var itemValidationResult = new ValidationResult();\n                    validate(item, itemSchema_1, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                });\n            }\n        }\n        var containsSchema = asSchema(schema.contains);\n        if (containsSchema) {\n            var doesContain = node.items.some(function (item) {\n                var itemValidationResult = new ValidationResult();\n                validate(item, containsSchema, itemValidationResult, NoOpSchemaCollector.instance);\n                return !itemValidationResult.hasProblems();\n            });\n            if (!doesContain) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: schema.errorMessage || localize('requiredItemMissingWarning', 'Array does not contain required item.', schema.minItems)\n                });\n            }\n        }\n        if (schema.minItems && node.items.length < schema.minItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('minItemsWarning', 'Array has too few items. Expected {0} or more.', schema.minItems)\n            });\n        }\n        if (schema.maxItems && node.items.length > schema.maxItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: ProblemSeverity.Warning,\n                message: localize('maxItemsWarning', 'Array has too many items. Expected {0} or fewer.', schema.minItems)\n            });\n        }\n        if (schema.uniqueItems === true) {\n            var values_1 = getNodeValue(node);\n            var duplicates = values_1.some(function (value, index) {\n                return index !== values_1.lastIndexOf(value);\n            });\n            if (duplicates) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('uniqueItemsWarning', 'Array has duplicate items.')\n                });\n            }\n        }\n    }\n    function _validateObjectNode(node, schema, validationResult, matchingSchemas) {\n        var seenKeys = Object.create(null);\n        var unprocessedProperties = [];\n        node.properties.forEach(function (node) {\n            var key = node.keyNode.value;\n            seenKeys[key] = node.valueNode;\n            unprocessedProperties.push(key);\n        });\n        if (Array.isArray(schema.required)) {\n            schema.required.forEach(function (propertyName) {\n                if (!seenKeys[propertyName]) {\n                    var keyNode = node.parent && node.parent.type === 'property' && node.parent.keyNode;\n                    var location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node.offset, length: 1 };\n                    validationResult.problems.push({\n                        location: location,\n                        severity: ProblemSeverity.Warning,\n                        message: localize('MissingRequiredPropWarning', 'Missing property \"{0}\".', propertyName)\n                    });\n                }\n            });\n        }\n        var propertyProcessed = function (prop) {\n            var index = unprocessedProperties.indexOf(prop);\n            while (index >= 0) {\n                unprocessedProperties.splice(index, 1);\n                index = unprocessedProperties.indexOf(prop);\n            }\n        };\n        if (schema.properties) {\n            Object.keys(schema.properties).forEach(function (propertyName) {\n                propertyProcessed(propertyName);\n                var propertySchema = schema.properties[propertyName];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    if (typeof propertySchema === 'boolean') {\n                        if (!propertySchema) {\n                            var propertyNode = child.parent;\n                            validationResult.problems.push({\n                                location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                severity: ProblemSeverity.Warning,\n                                message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                            });\n                        }\n                        else {\n                            validationResult.propertiesMatches++;\n                            validationResult.propertiesValueMatches++;\n                        }\n                    }\n                    else {\n                        var propertyValidationResult = new ValidationResult();\n                        validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(propertyValidationResult);\n                    }\n                }\n            });\n        }\n        if (schema.patternProperties) {\n            Object.keys(schema.patternProperties).forEach(function (propertyPattern) {\n                var regex = new RegExp(propertyPattern);\n                unprocessedProperties.slice(0).forEach(function (propertyName) {\n                    if (regex.test(propertyName)) {\n                        propertyProcessed(propertyName);\n                        var child = seenKeys[propertyName];\n                        if (child) {\n                            var propertySchema = schema.patternProperties[propertyPattern];\n                            if (typeof propertySchema === 'boolean') {\n                                if (!propertySchema) {\n                                    var propertyNode = child.parent;\n                                    validationResult.problems.push({\n                                        location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                        severity: ProblemSeverity.Warning,\n                                        message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                                    });\n                                }\n                                else {\n                                    validationResult.propertiesMatches++;\n                                    validationResult.propertiesValueMatches++;\n                                }\n                            }\n                            else {\n                                var propertyValidationResult = new ValidationResult();\n                                validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                                validationResult.mergePropertyMatch(propertyValidationResult);\n                            }\n                        }\n                    }\n                });\n            });\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            unprocessedProperties.forEach(function (propertyName) {\n                var child = seenKeys[propertyName];\n                if (child) {\n                    var propertyValidationResult = new ValidationResult();\n                    validate(child, schema.additionalProperties, propertyValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(propertyValidationResult);\n                }\n            });\n        }\n        else if (schema.additionalProperties === false) {\n            if (unprocessedProperties.length > 0) {\n                unprocessedProperties.forEach(function (propertyName) {\n                    var child = seenKeys[propertyName];\n                    if (child) {\n                        var propertyNode = child.parent;\n                        validationResult.problems.push({\n                            location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                            severity: ProblemSeverity.Warning,\n                            message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                        });\n                    }\n                });\n            }\n        }\n        if (schema.maxProperties) {\n            if (node.properties.length > schema.maxProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('MaxPropWarning', 'Object has more properties than limit of {0}.', schema.maxProperties)\n                });\n            }\n        }\n        if (schema.minProperties) {\n            if (node.properties.length < schema.minProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: ProblemSeverity.Warning,\n                    message: localize('MinPropWarning', 'Object has fewer properties than the required number of {0}', schema.minProperties)\n                });\n            }\n        }\n        if (schema.dependencies) {\n            Object.keys(schema.dependencies).forEach(function (key) {\n                var prop = seenKeys[key];\n                if (prop) {\n                    var propertyDep = schema.dependencies[key];\n                    if (Array.isArray(propertyDep)) {\n                        propertyDep.forEach(function (requiredProp) {\n                            if (!seenKeys[requiredProp]) {\n                                validationResult.problems.push({\n                                    location: { offset: node.offset, length: node.length },\n                                    severity: ProblemSeverity.Warning,\n                                    message: localize('RequiredDependentPropWarning', 'Object is missing property {0} required by property {1}.', requiredProp, key)\n                                });\n                            }\n                            else {\n                                validationResult.propertiesValueMatches++;\n                            }\n                        });\n                    }\n                    else {\n                        var propertySchema = asSchema(propertyDep);\n                        if (propertySchema) {\n                            var propertyValidationResult = new ValidationResult();\n                            validate(node, propertySchema, propertyValidationResult, matchingSchemas);\n                            validationResult.mergePropertyMatch(propertyValidationResult);\n                        }\n                    }\n                }\n            });\n        }\n        var propertyNames = asSchema(schema.propertyNames);\n        if (propertyNames) {\n            node.properties.forEach(function (f) {\n                var key = f.keyNode;\n                if (key) {\n                    validate(key, propertyNames, validationResult, NoOpSchemaCollector.instance);\n                }\n            });\n        }\n    }\n}\nexport function parse(textDocument, config) {\n    var problems = [];\n    var text = textDocument.getText();\n    var scanner = Json.createScanner(text, false);\n    var comments = config && config.collectComments ? [] : void 0;\n    function _scanNext() {\n        while (true) {\n            var token_1 = scanner.scan();\n            _checkScanError();\n            switch (token_1) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (Array.isArray(comments)) {\n                        comments.push({ offset: scanner.getTokenOffset(), length: scanner.getTokenLength() });\n                    }\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token_1;\n            }\n        }\n    }\n    function _accept(token) {\n        if (scanner.getToken() === token) {\n            _scanNext();\n            return true;\n        }\n        return false;\n    }\n    function _errorAtRange(message, code, location) {\n        if (problems.length === 0 || problems[problems.length - 1].location.offset !== location.offset) {\n            problems.push({ message: message, location: location, code: code, severity: ProblemSeverity.Error });\n        }\n    }\n    function _error(message, code, node, skipUntilAfter, skipUntil) {\n        if (node === void 0) { node = null; }\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        var start = scanner.getTokenOffset();\n        var end = scanner.getTokenOffset() + scanner.getTokenLength();\n        if (start === end && start > 0) {\n            start--;\n            while (start > 0 && /\\s/.test(text.charAt(start))) {\n                start--;\n            }\n            end = start + 1;\n        }\n        _errorAtRange(message, code, { offset: start, length: end - start });\n        if (node) {\n            _finalize(node, false);\n        }\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token_2 = scanner.getToken();\n            while (token_2 !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token_2) !== -1) {\n                    _scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token_2) !== -1) {\n                    break;\n                }\n                token_2 = _scanNext();\n            }\n        }\n        return node;\n    }\n    function _checkScanError() {\n        switch (scanner.getTokenError()) {\n            case 4 /* InvalidUnicode */:\n                _error(localize('InvalidUnicode', 'Invalid unicode sequence in string.'), ErrorCode.InvalidUnicode);\n                return true;\n            case 5 /* InvalidEscapeCharacter */:\n                _error(localize('InvalidEscapeCharacter', 'Invalid escape character in string.'), ErrorCode.InvalidEscapeCharacter);\n                return true;\n            case 3 /* UnexpectedEndOfNumber */:\n                _error(localize('UnexpectedEndOfNumber', 'Unexpected end of number.'), ErrorCode.UnexpectedEndOfNumber);\n                return true;\n            case 1 /* UnexpectedEndOfComment */:\n                _error(localize('UnexpectedEndOfComment', 'Unexpected end of comment.'), ErrorCode.UnexpectedEndOfComment);\n                return true;\n            case 2 /* UnexpectedEndOfString */:\n                _error(localize('UnexpectedEndOfString', 'Unexpected end of string.'), ErrorCode.UnexpectedEndOfString);\n                return true;\n            case 6 /* InvalidCharacter */:\n                _error(localize('InvalidCharacter', 'Invalid characters in string. Control characters must be escaped.'), ErrorCode.InvalidCharacter);\n                return true;\n        }\n        return false;\n    }\n    function _finalize(node, scanNext) {\n        node.length = scanner.getTokenOffset() + scanner.getTokenLength() - node.offset;\n        if (scanNext) {\n            _scanNext();\n        }\n        return node;\n    }\n    function _parseArray(parent) {\n        if (scanner.getToken() !== 3 /* OpenBracketToken */) {\n            return null;\n        }\n        var node = new ArrayASTNodeImpl(parent, scanner.getTokenOffset());\n        _scanNext(); // consume OpenBracketToken\n        var count = 0;\n        var needsComma = false;\n        while (scanner.getToken() !== 4 /* CloseBracketToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 4 /* CloseBracketToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, { offset: commaOffset, length: 1 });\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var item = _parseValue(node, count++);\n            if (!item) {\n                _error(localize('PropertyExpected', 'Value expected'), ErrorCode.ValueExpected, null, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.items.push(item);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 4 /* CloseBracketToken */) {\n            return _error(localize('ExpectedCloseBracket', 'Expected comma or closing bracket'), ErrorCode.CommaOrCloseBacketExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    function _parseProperty(parent, keysSeen) {\n        var node = new PropertyASTNodeImpl(parent, scanner.getTokenOffset());\n        var key = _parseString(node);\n        if (!key) {\n            if (scanner.getToken() === 16 /* Unknown */) {\n                // give a more helpful error message\n                _error(localize('DoubleQuotesExpected', 'Property keys must be doublequoted'), ErrorCode.Undefined);\n                var keyNode = new StringASTNodeImpl(node, scanner.getTokenOffset(), scanner.getTokenLength());\n                keyNode.value = scanner.getTokenValue();\n                key = keyNode;\n                _scanNext(); // consume Unknown\n            }\n            else {\n                return null;\n            }\n        }\n        node.keyNode = key;\n        var seen = keysSeen[key.value];\n        if (seen) {\n            problems.push({ location: { offset: node.keyNode.offset, length: node.keyNode.length }, message: localize('DuplicateKeyWarning', \"Duplicate object key\"), code: ErrorCode.Undefined, severity: ProblemSeverity.Warning });\n            if (typeof seen === 'object') {\n                problems.push({ location: { offset: seen.keyNode.offset, length: seen.keyNode.length }, message: localize('DuplicateKeyWarning', \"Duplicate object key\"), code: ErrorCode.Undefined, severity: ProblemSeverity.Warning });\n            }\n            keysSeen[key.value] = true; // if the same key is duplicate again, avoid duplicate error reporting\n        }\n        else {\n            keysSeen[key.value] = node;\n        }\n        if (scanner.getToken() === 6 /* ColonToken */) {\n            node.colonOffset = scanner.getTokenOffset();\n            _scanNext(); // consume ColonToken\n        }\n        else {\n            _error(localize('ColonExpected', 'Colon expected'), ErrorCode.ColonExpected);\n            if (scanner.getToken() === 10 /* StringLiteral */ && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner.getTokenOffset()).line) {\n                node.length = key.length;\n                return node;\n            }\n        }\n        var value = _parseValue(node, key.value);\n        if (!value) {\n            return _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected, node, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        node.valueNode = value;\n        node.length = value.offset + value.length - node.offset;\n        return node;\n    }\n    function _parseObject(parent) {\n        if (scanner.getToken() !== 1 /* OpenBraceToken */) {\n            return null;\n        }\n        var node = new ObjectASTNodeImpl(parent, scanner.getTokenOffset());\n        var keysSeen = Object.create(null);\n        _scanNext(); // consume OpenBraceToken\n        var needsComma = false;\n        while (scanner.getToken() !== 2 /* CloseBraceToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 2 /* CloseBraceToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, { offset: commaOffset, length: 1 });\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var property = _parseProperty(node, keysSeen);\n            if (!property) {\n                _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected, null, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.properties.push(property);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 2 /* CloseBraceToken */) {\n            return _error(localize('ExpectedCloseBrace', 'Expected comma or closing brace'), ErrorCode.CommaOrCloseBraceExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    function _parseString(parent) {\n        if (scanner.getToken() !== 10 /* StringLiteral */) {\n            return null;\n        }\n        var node = new StringASTNodeImpl(parent, scanner.getTokenOffset());\n        node.value = scanner.getTokenValue();\n        return _finalize(node, true);\n    }\n    function _parseNumber(parent) {\n        if (scanner.getToken() !== 11 /* NumericLiteral */) {\n            return null;\n        }\n        var node = new NumberASTNodeImpl(parent, scanner.getTokenOffset());\n        if (scanner.getTokenError() === 0 /* None */) {\n            var tokenValue = scanner.getTokenValue();\n            try {\n                var numberValue = JSON.parse(tokenValue);\n                if (typeof numberValue !== 'number') {\n                    return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n                }\n                node.value = numberValue;\n            }\n            catch (e) {\n                return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n            }\n            node.isInteger = tokenValue.indexOf('.') === -1;\n        }\n        return _finalize(node, true);\n    }\n    function _parseLiteral(parent) {\n        var node;\n        switch (scanner.getToken()) {\n            case 7 /* NullKeyword */:\n                return _finalize(new NullASTNodeImpl(parent, scanner.getTokenOffset()), true);\n            case 8 /* TrueKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, true, scanner.getTokenOffset()), true);\n            case 9 /* FalseKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, false, scanner.getTokenOffset()), true);\n            default:\n                return null;\n        }\n    }\n    function _parseValue(parent, name) {\n        return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);\n    }\n    var _root = null;\n    var token = _scanNext();\n    if (token !== 17 /* EOF */) {\n        _root = _parseValue(null, null);\n        if (!_root) {\n            _error(localize('Invalid symbol', 'Expected a JSON object, array or literal.'), ErrorCode.Undefined);\n        }\n        else if (scanner.getToken() !== 17 /* EOF */) {\n            _error(localize('End of file expected', 'End of file expected.'), ErrorCode.Undefined);\n        }\n    }\n    return new JSONDocument(_root, problems, comments);\n}\n//# sourceMappingURL=jsonParser.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport function stringifyObject(obj, indent, stringifyLiteral) {\n    if (obj !== null && typeof obj === 'object') {\n        var newIndent = indent + '\\t';\n        if (Array.isArray(obj)) {\n            if (obj.length === 0) {\n                return '[]';\n            }\n            var result = '[\\n';\n            for (var i = 0; i < obj.length; i++) {\n                result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);\n                if (i < obj.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + ']';\n            return result;\n        }\n        else {\n            var keys = Object.keys(obj);\n            if (keys.length === 0) {\n                return '{}';\n            }\n            var result = '{\\n';\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                result += newIndent + JSON.stringify(key) + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral);\n                if (i < keys.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + '}';\n            return result;\n        }\n    }\n    return stringifyLiteral(obj);\n}\n//# sourceMappingURL=json.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport function startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nexport function convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexport function repeat(value, count) {\n    var s = '';\n    while (count > 0) {\n        if ((count & 1) === 1) {\n            s += value;\n        }\n        value += value;\n        count = count >>> 1;\n    }\n    return s;\n}\n//# sourceMappingURL=strings.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as Parser from '../parser/jsonParser.js';\nimport * as Json from '../../jsonc-parser/main.js';\nimport { stringifyObject } from '../utils/json.js';\nimport { endsWith } from '../utils/strings.js';\nimport { CompletionItem, CompletionItemKind, Range, TextEdit, InsertTextFormat } from '../../vscode-languageserver-types/main.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar JSONCompletion = /** @class */ (function () {\n    function JSONCompletion(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.templateVarIdCounter = 0;\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONCompletion.prototype.doResolve = function (item) {\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            if (this.contributions[i].resolveCompletion) {\n                var resolver = this.contributions[i].resolveCompletion(item);\n                if (resolver) {\n                    return resolver;\n                }\n            }\n        }\n        return this.promise.resolve(item);\n    };\n    JSONCompletion.prototype.doComplete = function (document, position, doc) {\n        var _this = this;\n        var result = {\n            items: [],\n            isIncomplete: false\n        };\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffsetEndInclusive(offset);\n        if (this.isInComment(document, node ? node.offset : 0, offset)) {\n            return Promise.resolve(result);\n        }\n        var currentWord = this.getCurrentWord(document, offset);\n        var overwriteRange = null;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            overwriteRange = Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n        }\n        else {\n            var overwriteStart = offset - currentWord.length;\n            if (overwriteStart > 0 && document.getText()[overwriteStart - 1] === '\"') {\n                overwriteStart--;\n            }\n            overwriteRange = Range.create(document.positionAt(overwriteStart), position);\n        }\n        var proposed = {};\n        var collector = {\n            add: function (suggestion) {\n                var existing = proposed[suggestion.label];\n                if (!existing) {\n                    proposed[suggestion.label] = suggestion;\n                    if (overwriteRange) {\n                        suggestion.textEdit = TextEdit.replace(overwriteRange, suggestion.insertText);\n                    }\n                    result.items.push(suggestion);\n                }\n                else if (!existing.documentation) {\n                    existing.documentation = suggestion.documentation;\n                }\n            },\n            setAsIncomplete: function () {\n                result.isIncomplete = true;\n            },\n            error: function (message) {\n                console.error(message);\n            },\n            log: function (message) {\n                console.log(message);\n            },\n            getNumberOfProposals: function () {\n                return result.items.length;\n            }\n        };\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var collectionPromises = [];\n            var addValue = true;\n            var currentKey = '';\n            var currentProperty = null;\n            if (node) {\n                if (node.type === 'string') {\n                    var parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.keyNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        currentKey = document.getText().substr(node.offset + 1, node.length - 2);\n                        if (parent) {\n                            node = parent.parent;\n                        }\n                    }\n                }\n            }\n            // proposals for properties\n            if (node && node.type === 'object') {\n                // don't suggest keys when the cursor is just before the opening curly brace\n                if (node.offset === offset) {\n                    return result;\n                }\n                // don't suggest properties that are already present\n                var properties = node.properties;\n                properties.forEach(function (p) {\n                    if (!currentProperty || currentProperty !== p) {\n                        proposed[p.keyNode.value] = CompletionItem.create('__');\n                    }\n                });\n                var separatorAfter_1 = '';\n                if (addValue) {\n                    separatorAfter_1 = _this.evaluateSeparatorAfter(document, document.offsetAt(overwriteRange.end));\n                }\n                if (schema) {\n                    // property proposals with schema\n                    _this.getPropertyCompletions(schema, doc, node, addValue, separatorAfter_1, collector);\n                }\n                else {\n                    // property proposals without schema\n                    _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);\n                }\n                var location_1 = Parser.getNodePath(node);\n                _this.contributions.forEach(function (contribution) {\n                    var collectPromise = contribution.collectPropertyCompletions(document.uri, location_1, currentWord, addValue, separatorAfter_1 === '', collector);\n                    if (collectPromise) {\n                        collectionPromises.push(collectPromise);\n                    }\n                });\n                if ((!schema && currentWord.length > 0 && document.getText().charAt(offset - currentWord.length - 1) !== '\"')) {\n                    collector.add({\n                        kind: CompletionItemKind.Property,\n                        label: _this.getLabelForValue(currentWord),\n                        insertText: _this.getInsertTextForProperty(currentWord, null, false, separatorAfter_1),\n                        insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n                    });\n                }\n            }\n            // proposals for values\n            var types = {};\n            if (schema) {\n                // value proposals with schema\n                _this.getValueCompletions(schema, doc, node, offset, document, collector, types);\n            }\n            else {\n                // value proposals without schema\n                _this.getSchemaLessValueCompletions(doc, node, offset, document, collector);\n            }\n            if (_this.contributions.length > 0) {\n                _this.getContributedValueCompletions(doc, node, offset, document, collector, collectionPromises);\n            }\n            return _this.promise.all(collectionPromises).then(function () {\n                if (collector.getNumberOfProposals() === 0) {\n                    var offsetForSeparator = offset;\n                    if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n                        offsetForSeparator = node.offset + node.length;\n                    }\n                    var separatorAfter = _this.evaluateSeparatorAfter(document, offsetForSeparator);\n                    _this.addFillerValueCompletions(types, separatorAfter, collector);\n                }\n                return result;\n            });\n        });\n    };\n    JSONCompletion.prototype.getPropertyCompletions = function (schema, doc, node, addValue, separatorAfter, collector) {\n        var _this = this;\n        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n        matchingSchemas.forEach(function (s) {\n            if (s.node === node && !s.inverted) {\n                var schemaProperties_1 = s.schema.properties;\n                if (schemaProperties_1) {\n                    Object.keys(schemaProperties_1).forEach(function (key) {\n                        var propertySchema = schemaProperties_1[key];\n                        if (typeof propertySchema === 'object' && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {\n                            var proposal = {\n                                kind: CompletionItemKind.Property,\n                                label: key,\n                                insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),\n                                insertTextFormat: InsertTextFormat.Snippet,\n                                filterText: _this.getFilterTextForValue(key),\n                                documentation: propertySchema.description || '',\n                            };\n                            if (endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                                proposal.command = {\n                                    title: 'Suggest',\n                                    command: 'editor.action.triggerSuggest'\n                                };\n                            }\n                            collector.add(proposal);\n                        }\n                    });\n                }\n            }\n        });\n    };\n    JSONCompletion.prototype.getSchemaLessPropertyCompletions = function (doc, node, currentKey, collector) {\n        var _this = this;\n        var collectCompletionsForSimilarObject = function (obj) {\n            obj.properties.forEach(function (p) {\n                var key = p.keyNode.value;\n                collector.add({\n                    kind: CompletionItemKind.Property,\n                    label: key,\n                    insertText: _this.getInsertTextForValue(key, ''),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: _this.getFilterTextForValue(key),\n                    documentation: ''\n                });\n            });\n        };\n        if (node.parent) {\n            if (node.parent.type === 'property') {\n                // if the object is a property value, check the tree for other objects that hang under a property of the same name\n                var parentKey_1 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === 'object') {\n                        collectCompletionsForSimilarObject(n.valueNode);\n                    }\n                    return true;\n                });\n            }\n            else if (node.parent.type === 'array') {\n                // if the object is in an array, use all other array elements as similar objects\n                node.parent.items.forEach(function (n) {\n                    if (n.type === 'object' && n !== node) {\n                        collectCompletionsForSimilarObject(n);\n                    }\n                });\n            }\n        }\n        else if (node.type === 'object') {\n            collector.add({\n                kind: CompletionItemKind.Property,\n                label: '$schema',\n                insertText: this.getInsertTextForProperty('$schema', null, true, ''),\n                insertTextFormat: InsertTextFormat.Snippet, documentation: '',\n                filterText: this.getFilterTextForValue(\"$schema\")\n            });\n        }\n    };\n    JSONCompletion.prototype.getSchemaLessValueCompletions = function (doc, node, offset, document, collector) {\n        var _this = this;\n        var offsetForSeparator = offset;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            node = node.parent;\n        }\n        if (!node) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: 'Empty object',\n                insertText: this.getInsertTextForValue({}, ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: 'Empty array',\n                insertText: this.getInsertTextForValue([], ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            return;\n        }\n        var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n        var collectSuggestionsForValues = function (value) {\n            if (!Parser.contains(value.parent, offset, true)) {\n                collector.add({\n                    kind: _this.getSuggestionKind(value.type),\n                    label: _this.getLabelTextForMatchingNode(value, document),\n                    insertText: _this.getInsertTextForMatchingNode(value, document, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n                });\n            }\n            if (value.type === 'boolean') {\n                _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);\n            }\n        };\n        if (node.type === 'property') {\n            if (offset > node.colonOffset) {\n                var valueNode = node.valueNode;\n                if (valueNode && (offset > (valueNode.offset + valueNode.length) || valueNode.type === 'object' || valueNode.type === 'array')) {\n                    return;\n                }\n                // suggest values at the same key\n                var parentKey_2 = node.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_2 && n.valueNode) {\n                        collectSuggestionsForValues(n.valueNode);\n                    }\n                    return true;\n                });\n                if (parentKey_2 === '$schema' && node.parent && !node.parent.parent) {\n                    this.addDollarSchemaCompletions(separatorAfter, collector);\n                }\n            }\n        }\n        if (node.type === 'array') {\n            if (node.parent && node.parent.type === 'property') {\n                // suggest items of an array at the same key\n                var parentKey_3 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    var p = n;\n                    if (n.type === 'property' && p.keyNode.value === parentKey_3 && p.valueNode && p.valueNode.type === 'array') {\n                        p.valueNode.items.forEach(collectSuggestionsForValues);\n                    }\n                    return true;\n                });\n            }\n            else {\n                // suggest items in the same array\n                node.items.forEach(collectSuggestionsForValues);\n            }\n        }\n    };\n    JSONCompletion.prototype.getValueCompletions = function (schema, doc, node, offset, document, collector, types) {\n        var _this = this;\n        var offsetForSeparator = offset;\n        var parentKey = null;\n        var valueNode = null;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            valueNode = node;\n            node = node.parent;\n        }\n        if (!node) {\n            this.addSchemaValueCompletions(schema.schema, '', collector, types);\n            return;\n        }\n        if ((node.type === 'property') && offset > node.colonOffset) {\n            var valueNode_1 = node.valueNode;\n            if (valueNode_1 && offset > (valueNode_1.offset + valueNode_1.length)) {\n                return; // we are past the value node\n            }\n            parentKey = node.keyNode.value;\n            node = node.parent;\n        }\n        if (node && (parentKey !== null || node.type === 'array')) {\n            var separatorAfter_2 = this.evaluateSeparatorAfter(document, offsetForSeparator);\n            var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset, valueNode);\n            matchingSchemas.forEach(function (s) {\n                if (s.node === node && !s.inverted && s.schema) {\n                    if (node.type === 'array' && s.schema.items) {\n                        if (Array.isArray(s.schema.items)) {\n                            var index = _this.findItemAtOffset(node, document, offset);\n                            if (index < s.schema.items.length) {\n                                _this.addSchemaValueCompletions(s.schema.items[index], separatorAfter_2, collector, types);\n                            }\n                        }\n                        else {\n                            _this.addSchemaValueCompletions(s.schema.items, separatorAfter_2, collector, types);\n                        }\n                    }\n                    if (s.schema.properties) {\n                        var propertySchema = s.schema.properties[parentKey];\n                        if (propertySchema) {\n                            _this.addSchemaValueCompletions(propertySchema, separatorAfter_2, collector, types);\n                        }\n                    }\n                }\n            });\n            if (parentKey === '$schema' && !node.parent) {\n                this.addDollarSchemaCompletions(separatorAfter_2, collector);\n            }\n            if (types['boolean']) {\n                this.addBooleanValueCompletion(true, separatorAfter_2, collector);\n                this.addBooleanValueCompletion(false, separatorAfter_2, collector);\n            }\n            if (types['null']) {\n                this.addNullValueCompletion(separatorAfter_2, collector);\n            }\n        }\n    };\n    JSONCompletion.prototype.getContributedValueCompletions = function (doc, node, offset, document, collector, collectionPromises) {\n        if (!node) {\n            this.contributions.forEach(function (contribution) {\n                var collectPromise = contribution.collectDefaultCompletions(document.uri, collector);\n                if (collectPromise) {\n                    collectionPromises.push(collectPromise);\n                }\n            });\n        }\n        else {\n            if (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null') {\n                node = node.parent;\n            }\n            if ((node.type === 'property') && offset > node.colonOffset) {\n                var parentKey_4 = node.keyNode.value;\n                var valueNode = node.valueNode;\n                if (!valueNode || offset <= (valueNode.offset + valueNode.length)) {\n                    var location_2 = Parser.getNodePath(node.parent);\n                    this.contributions.forEach(function (contribution) {\n                        var collectPromise = contribution.collectValueCompletions(document.uri, location_2, parentKey_4, collector);\n                        if (collectPromise) {\n                            collectionPromises.push(collectPromise);\n                        }\n                    });\n                }\n            }\n        }\n    };\n    JSONCompletion.prototype.addSchemaValueCompletions = function (schema, separatorAfter, collector, types) {\n        var _this = this;\n        if (typeof schema === 'object') {\n            this.addEnumValueCompletions(schema, separatorAfter, collector);\n            this.addDefaultValueCompletions(schema, separatorAfter, collector);\n            this.collectTypes(schema, types);\n            if (Array.isArray(schema.allOf)) {\n                schema.allOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.anyOf)) {\n                schema.anyOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.oneOf)) {\n                schema.oneOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n        }\n    };\n    JSONCompletion.prototype.addDefaultValueCompletions = function (schema, separatorAfter, collector, arrayDepth) {\n        var _this = this;\n        if (arrayDepth === void 0) { arrayDepth = 0; }\n        var hasProposals = false;\n        if (schema.default) {\n            var type = schema.type;\n            var value = schema.default;\n            for (var i = arrayDepth; i > 0; i--) {\n                value = [value];\n                type = 'array';\n            }\n            collector.add({\n                kind: this.getSuggestionKind(type),\n                label: this.getLabelForValue(value),\n                insertText: this.getInsertTextForValue(value, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('json.suggest.default', 'Default value'),\n            });\n            hasProposals = true;\n        }\n        if (Array.isArray(schema.defaultSnippets)) {\n            schema.defaultSnippets.forEach(function (s) {\n                var type = schema.type;\n                var value = s.body;\n                var label = s.label;\n                var insertText;\n                var filterText;\n                if (typeof value !== 'undefined') {\n                    var type_1 = schema.type;\n                    for (var i = arrayDepth; i > 0; i--) {\n                        value = [value];\n                        type_1 = 'array';\n                    }\n                    insertText = _this.getInsertTextForSnippetValue(value, separatorAfter);\n                    filterText = _this.getFilterTextForSnippetValue(value);\n                    label = label || _this.getLabelForSnippetValue(value);\n                }\n                else if (typeof s.bodyText === 'string') {\n                    var prefix = '', suffix = '', indent = '';\n                    for (var i = arrayDepth; i > 0; i--) {\n                        prefix = prefix + indent + '[\\n';\n                        suffix = suffix + '\\n' + indent + ']';\n                        indent += '\\t';\n                        type = 'array';\n                    }\n                    insertText = prefix + indent + s.bodyText.split('\\n').join('\\n' + indent) + suffix + separatorAfter;\n                    label = label || insertText;\n                    filterText = insertText.replace(/[\\n]/g, ''); // remove new lines\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: label,\n                    documentation: s.description,\n                    insertText: insertText,\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: filterText\n                });\n                hasProposals = true;\n            });\n        }\n        if (!hasProposals && typeof schema.items === 'object' && !Array.isArray(schema.items)) {\n            this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);\n        }\n    };\n    JSONCompletion.prototype.addEnumValueCompletions = function (schema, separatorAfter, collector) {\n        if (Array.isArray(schema.enum)) {\n            for (var i = 0, length = schema.enum.length; i < length; i++) {\n                var enm = schema.enum[i];\n                var documentation = schema.description;\n                if (schema.enumDescriptions && i < schema.enumDescriptions.length) {\n                    documentation = schema.enumDescriptions[i];\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(schema.type),\n                    label: this.getLabelForValue(enm),\n                    insertText: this.getInsertTextForValue(enm, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    documentation: documentation\n                });\n            }\n        }\n    };\n    JSONCompletion.prototype.collectTypes = function (schema, types) {\n        if (Array.isArray(schema.enum)) {\n            return;\n        }\n        var type = schema.type;\n        if (Array.isArray(type)) {\n            type.forEach(function (t) { return types[t] = true; });\n        }\n        else {\n            types[type] = true;\n        }\n    };\n    JSONCompletion.prototype.addFillerValueCompletions = function (types, separatorAfter, collector) {\n        if (types['object']) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: '{}',\n                insertText: this.getInsertTextForGuessedValue({}, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.object', 'New object'),\n                documentation: ''\n            });\n        }\n        if (types['array']) {\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: '[]',\n                insertText: this.getInsertTextForGuessedValue([], separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.array', 'New array'),\n                documentation: ''\n            });\n        }\n    };\n    JSONCompletion.prototype.addBooleanValueCompletion = function (value, separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('boolean'),\n            label: value ? 'true' : 'false',\n            insertText: this.getInsertTextForValue(value, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addNullValueCompletion = function (separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('null'),\n            label: 'null',\n            insertText: 'null' + separatorAfter,\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addDollarSchemaCompletions = function (separatorAfter, collector) {\n        var _this = this;\n        var schemaIds = this.schemaService.getRegisteredSchemaIds(function (schema) { return schema === 'http' || schema === 'https'; });\n        schemaIds.forEach(function (schemaId) { return collector.add({\n            kind: CompletionItemKind.Module,\n            label: _this.getLabelForValue(schemaId),\n            filterText: _this.getFilterTextForValue(schemaId),\n            insertText: _this.getInsertTextForValue(schemaId, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n        }); });\n    };\n    JSONCompletion.prototype.getLabelForValue = function (value) {\n        var label = JSON.stringify(value);\n        if (label.length > 57) {\n            return label.substr(0, 57).trim() + '...';\n        }\n        return label;\n    };\n    JSONCompletion.prototype.getFilterTextForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForSnippetValue = function (value) {\n        return JSON.stringify(value).replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getLabelForSnippetValue = function (value) {\n        var label = JSON.stringify(value);\n        label = label.replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n        if (label.length > 57) {\n            return label.substr(0, 57).trim() + '...';\n        }\n        return label;\n    };\n    JSONCompletion.prototype.getInsertTextForPlainText = function (text) {\n        return text.replace(/[\\\\\\$\\}]/g, '\\\\$&'); // escape $, \\ and } \n    };\n    JSONCompletion.prototype.getInsertTextForValue = function (value, separatorAfter) {\n        var text = JSON.stringify(value, null, '\\t');\n        if (text === '{}') {\n            return '{\\n\\t$1\\n}' + separatorAfter;\n        }\n        else if (text === '[]') {\n            return '[\\n\\t$1\\n]' + separatorAfter;\n        }\n        return this.getInsertTextForPlainText(text + separatorAfter);\n    };\n    JSONCompletion.prototype.getInsertTextForSnippetValue = function (value, separatorAfter) {\n        var replacer = function (value) {\n            if (typeof value === 'string') {\n                if (value[0] === '^') {\n                    return value.substr(1);\n                }\n            }\n            return JSON.stringify(value);\n        };\n        return stringifyObject(value, '', replacer) + separatorAfter;\n    };\n    JSONCompletion.prototype.getInsertTextForGuessedValue = function (value, separatorAfter) {\n        switch (typeof value) {\n            case 'object':\n                if (value === null) {\n                    return '${1:null}' + separatorAfter;\n                }\n                return this.getInsertTextForValue(value, separatorAfter);\n            case 'string':\n                var snippetValue = JSON.stringify(value);\n                snippetValue = snippetValue.substr(1, snippetValue.length - 2); // remove quotes\n                snippetValue = this.getInsertTextForPlainText(snippetValue); // escape \\ and }\n                return '\"${1:' + snippetValue + '}\"' + separatorAfter;\n            case 'number':\n            case 'boolean':\n                return '${1:' + JSON.stringify(value) + '}' + separatorAfter;\n        }\n        return this.getInsertTextForValue(value, separatorAfter);\n    };\n    JSONCompletion.prototype.getSuggestionKind = function (type) {\n        if (Array.isArray(type)) {\n            var array = type;\n            type = array.length > 0 ? array[0] : null;\n        }\n        if (!type) {\n            return CompletionItemKind.Value;\n        }\n        switch (type) {\n            case 'string': return CompletionItemKind.Value;\n            case 'object': return CompletionItemKind.Module;\n            case 'property': return CompletionItemKind.Property;\n            default: return CompletionItemKind.Value;\n        }\n    };\n    JSONCompletion.prototype.getLabelTextForMatchingNode = function (node, document) {\n        switch (node.type) {\n            case 'array':\n                return '[]';\n            case 'object':\n                return '{}';\n            default:\n                var content = document.getText().substr(node.offset, node.length);\n                return content;\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForMatchingNode = function (node, document, separatorAfter) {\n        switch (node.type) {\n            case 'array':\n                return this.getInsertTextForValue([], separatorAfter);\n            case 'object':\n                return this.getInsertTextForValue({}, separatorAfter);\n            default:\n                var content = document.getText().substr(node.offset, node.length) + separatorAfter;\n                return this.getInsertTextForPlainText(content);\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForProperty = function (key, propertySchema, addValue, separatorAfter) {\n        var propertyText = this.getInsertTextForValue(key, '');\n        if (!addValue) {\n            return propertyText;\n        }\n        var resultText = propertyText + ': ';\n        var value;\n        var nValueProposals = 0;\n        if (propertySchema) {\n            if (Array.isArray(propertySchema.defaultSnippets)) {\n                if (propertySchema.defaultSnippets.length === 1) {\n                    var body = propertySchema.defaultSnippets[0].body;\n                    if (typeof body !== 'undefined') {\n                        value = this.getInsertTextForSnippetValue(body, '');\n                    }\n                }\n                nValueProposals += propertySchema.defaultSnippets.length;\n            }\n            if (propertySchema.enum) {\n                if (!value && propertySchema.enum.length === 1) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.enum[0], '');\n                }\n                nValueProposals += propertySchema.enum.length;\n            }\n            if (typeof propertySchema.default !== 'undefined') {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.default, '');\n                }\n                nValueProposals++;\n            }\n            if (nValueProposals === 0) {\n                var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n                if (!type) {\n                    if (propertySchema.properties) {\n                        type = 'object';\n                    }\n                    else if (propertySchema.items) {\n                        type = 'array';\n                    }\n                }\n                switch (type) {\n                    case 'boolean':\n                        value = '$1';\n                        break;\n                    case 'string':\n                        value = '\"$1\"';\n                        break;\n                    case 'object':\n                        value = '{\\n\\t$1\\n}';\n                        break;\n                    case 'array':\n                        value = '[\\n\\t$1\\n]';\n                        break;\n                    case 'number':\n                    case 'integer':\n                        value = '${1:0}';\n                        break;\n                    case 'null':\n                        value = '${1:null}';\n                        break;\n                    default:\n                        return propertyText;\n                }\n            }\n        }\n        if (!value || nValueProposals > 1) {\n            value = '$1';\n        }\n        return resultText + value + separatorAfter;\n    };\n    JSONCompletion.prototype.getCurrentWord = function (document, offset) {\n        var i = offset - 1;\n        var text = document.getText();\n        while (i >= 0 && ' \\t\\n\\r\\v\":{[,]}'.indexOf(text.charAt(i)) === -1) {\n            i--;\n        }\n        return text.substring(i + 1, offset);\n    };\n    JSONCompletion.prototype.evaluateSeparatorAfter = function (document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        scanner.setPosition(offset);\n        var token = scanner.scan();\n        switch (token) {\n            case 5 /* CommaToken */:\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */:\n            case 17 /* EOF */:\n                return '';\n            default:\n                return ',';\n        }\n    };\n    JSONCompletion.prototype.findItemAtOffset = function (node, document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        var children = node.items;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (offset > child.offset + child.length) {\n                scanner.setPosition(child.offset + child.length);\n                var token = scanner.scan();\n                if (token === 5 /* CommaToken */ && offset >= scanner.getTokenOffset() + scanner.getTokenLength()) {\n                    return i + 1;\n                }\n                return i;\n            }\n            else if (offset >= child.offset) {\n                return i;\n            }\n        }\n        return 0;\n    };\n    JSONCompletion.prototype.isInComment = function (document, start, offset) {\n        var scanner = Json.createScanner(document.getText(), false);\n        scanner.setPosition(start);\n        var token = scanner.scan();\n        while (token !== 17 /* EOF */ && (scanner.getTokenOffset() + scanner.getTokenLength() < offset)) {\n            token = scanner.scan();\n        }\n        return (token === 12 /* LineCommentTrivia */ || token === 13 /* BlockCommentTrivia */) && scanner.getTokenOffset() <= offset;\n    };\n    return JSONCompletion;\n}());\nexport { JSONCompletion };\n//# sourceMappingURL=jsonCompletion.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as Parser from '../parser/jsonParser.js';\nimport { Range } from '../../vscode-languageserver-types/main.js';\nvar JSONHover = /** @class */ (function () {\n    function JSONHover(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONHover.prototype.doHover = function (document, position, doc) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset);\n        if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n            return this.promise.resolve(null);\n        }\n        var hoverRangeNode = node;\n        // use the property description when hovering over an object key\n        if (node.type === 'string') {\n            var parent = node.parent;\n            if (parent.type === 'property' && parent.keyNode === node) {\n                node = parent.valueNode;\n                if (!node) {\n                    return this.promise.resolve(null);\n                }\n            }\n        }\n        var hoverRange = Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n        var createHover = function (contents) {\n            var result = {\n                contents: contents,\n                range: hoverRange\n            };\n            return result;\n        };\n        var location = Parser.getNodePath(node);\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var contribution = this.contributions[i];\n            var promise = contribution.getInfoContribution(document.uri, location);\n            if (promise) {\n                return promise.then(function (htmlContent) { return createHover(htmlContent); });\n            }\n        }\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            if (schema) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n                var title_1 = null;\n                var markdownDescription_1 = null;\n                var markdownEnumValueDescription_1 = null, enumValue_1 = null;\n                matchingSchemas.every(function (s) {\n                    if (s.node === node && !s.inverted && s.schema) {\n                        title_1 = title_1 || s.schema.title;\n                        markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n                        if (s.schema.enum) {\n                            var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n                            if (s.schema.markdownEnumDescriptions) {\n                                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n                            }\n                            else if (s.schema.enumDescriptions) {\n                                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n                            }\n                            if (markdownEnumValueDescription_1) {\n                                enumValue_1 = s.schema.enum[idx];\n                                if (typeof enumValue_1 !== 'string') {\n                                    enumValue_1 = JSON.stringify(enumValue_1);\n                                }\n                            }\n                        }\n                    }\n                    return true;\n                });\n                var result = '';\n                if (title_1) {\n                    result = toMarkdown(title_1);\n                }\n                if (markdownDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += markdownDescription_1;\n                }\n                if (markdownEnumValueDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += \"`\" + toMarkdown(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n                }\n                return createHover([result]);\n            }\n            return null;\n        });\n    };\n    return JSONHover;\n}());\nexport { JSONHover };\nfunction toMarkdown(plain) {\n    if (plain) {\n        var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n        return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    return void 0;\n}\n//# sourceMappingURL=jsonHover.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { ProblemSeverity, ErrorCode } from '../parser/jsonParser.js';\nimport { DiagnosticSeverity } from '../../vscode-languageserver-types/main.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar JSONValidation = /** @class */ (function () {\n    function JSONValidation(jsonSchemaService, promiseConstructor) {\n        this.jsonSchemaService = jsonSchemaService;\n        this.promise = promiseConstructor;\n        this.validationEnabled = true;\n    }\n    JSONValidation.prototype.configure = function (raw) {\n        if (raw) {\n            this.validationEnabled = raw.validate;\n            this.commentSeverity = raw.allowComments ? ProblemSeverity.Ignore : ProblemSeverity.Error;\n        }\n    };\n    JSONValidation.prototype.doValidation = function (textDocument, jsonDocument, documentSettings) {\n        var _this = this;\n        if (!this.validationEnabled) {\n            return this.promise.resolve([]);\n        }\n        var diagnostics = [];\n        var added = {};\n        var addProblem = function (problem) {\n            if (problem.severity === ProblemSeverity.Ignore) {\n                return;\n            }\n            // remove duplicated messages\n            var signature = problem.location.offset + ' ' + problem.location.length + ' ' + problem.message;\n            if (!added[signature]) {\n                added[signature] = true;\n                var range = {\n                    start: textDocument.positionAt(problem.location.offset),\n                    end: textDocument.positionAt(problem.location.offset + problem.location.length)\n                };\n                var severity = problem.severity === ProblemSeverity.Error ? DiagnosticSeverity.Error : DiagnosticSeverity.Warning;\n                diagnostics.push({ severity: severity, range: range, message: problem.message });\n            }\n        };\n        return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function (schema) {\n            var trailingCommaSeverity = documentSettings ? documentSettings.trailingCommas : ProblemSeverity.Error;\n            var commentSeverity = documentSettings ? documentSettings.comments : _this.commentSeverity;\n            if (schema) {\n                if (schema.errors.length && jsonDocument.root) {\n                    var astRoot = jsonDocument.root;\n                    var property = astRoot.type === 'object' ? astRoot.properties[0] : null;\n                    if (property && property.keyNode.value === '$schema') {\n                        var node = property.valueNode || property;\n                        addProblem({ location: { offset: node.offset, length: node.length }, message: schema.errors[0], severity: ProblemSeverity.Warning });\n                    }\n                    else {\n                        addProblem({ location: { offset: astRoot.offset, length: 1 }, message: schema.errors[0], severity: ProblemSeverity.Warning });\n                    }\n                }\n                else {\n                    var semanticErrors = jsonDocument.validate(schema.schema);\n                    if (semanticErrors) {\n                        semanticErrors.forEach(addProblem);\n                    }\n                }\n                if (schemaAllowsComments(schema.schema)) {\n                    trailingCommaSeverity = commentSeverity = ProblemSeverity.Ignore;\n                }\n            }\n            jsonDocument.syntaxErrors.forEach(function (p) {\n                if (p.code === ErrorCode.TrailingComma) {\n                    p.severity = trailingCommaSeverity;\n                }\n                addProblem(p);\n            });\n            diagnostics.push.apply(diagnostics, jsonDocument.externalDiagnostic);\n            if (commentSeverity !== ProblemSeverity.Ignore) {\n                var message_1 = localize('InvalidCommentToken', 'Comments are not permitted in JSON.');\n                jsonDocument.comments.forEach(function (c) {\n                    addProblem({ location: c, severity: commentSeverity, message: message_1 });\n                });\n            }\n            return diagnostics;\n        });\n    };\n    return JSONValidation;\n}());\nexport { JSONValidation };\nfunction schemaAllowsComments(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (schemaRef.allowComments) {\n            return true;\n        }\n        if (schemaRef.allOf) {\n            return schemaRef.allOf.some(schemaAllowsComments);\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=jsonValidation.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Digit0 = 48;\nvar Digit9 = 57;\nvar A = 65;\nvar F = 70;\nvar a = 97;\nvar f = 102;\nexport function hexDigit(charCode) {\n    if (charCode < Digit0) {\n        return 0;\n    }\n    if (charCode <= Digit9) {\n        return charCode - Digit0;\n    }\n    if (charCode < a) {\n        charCode += (a - A);\n    }\n    if (charCode >= a && charCode <= f) {\n        return charCode - a + 10;\n    }\n    return 0;\n}\nexport function colorFromHex(text) {\n    if (text[0] !== '#') {\n        return null;\n    }\n    switch (text.length) {\n        case 4:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: 1\n            };\n        case 5:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(4)) * 0x11) / 255.0,\n            };\n        case 7:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: 1\n            };\n        case 9:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(7)) * 0x10 + hexDigit(text.charCodeAt(8))) / 255.0\n            };\n    }\n    return null;\n}\nexport function colorFrom256RGB(red, green, blue, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    return {\n        red: red / 255.0,\n        green: green / 255.0,\n        blue: blue / 255.0,\n        alpha: alpha\n    };\n}\n//# sourceMappingURL=colors.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as Parser from '../parser/jsonParser.js';\nimport * as Strings from '../utils/strings.js';\nimport { colorFromHex } from '../utils/colors.js';\nimport { SymbolKind, Range, Location, TextEdit } from '../../vscode-languageserver-types/main.js';\nvar JSONDocumentSymbols = /** @class */ (function () {\n    function JSONDocumentSymbols(schemaService) {\n        this.schemaService = schemaService;\n    }\n    JSONDocumentSymbols.prototype.findDocumentSymbols = function (document, doc) {\n        var _this = this;\n        var root = doc.root;\n        if (!root) {\n            return null;\n        }\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_1 = [];\n                root.items.forEach(function (item) {\n                    if (item.type === 'object') {\n                        for (var _i = 0, _a = item.properties; _i < _a.length; _i++) {\n                            var property = _a[_i];\n                            if (property.keyNode.value === 'key') {\n                                if (property.valueNode) {\n                                    var location = Location.create(document.uri, Range.create(document.positionAt(item.offset), document.positionAt(item.offset + item.length)));\n                                    result_1.push({ name: Parser.getNodeValue(property.valueNode), kind: SymbolKind.Function, location: location });\n                                }\n                                return;\n                            }\n                        }\n                    }\n                });\n                return result_1;\n            }\n        }\n        var collectOutlineEntries = function (result, node, containerName) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node) { return collectOutlineEntries(result, node, containerName); });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var location = Location.create(document.uri, Range.create(document.positionAt(property.offset), document.positionAt(property.offset + property.length)));\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        var childContainerName = containerName ? containerName + '.' + property.keyNode.value : property.keyNode.value;\n                        result.push({ name: property.keyNode.value, kind: _this.getSymbolKind(valueNode.type), location: location, containerName: containerName });\n                        collectOutlineEntries(result, valueNode, childContainerName);\n                    }\n                });\n            }\n            return result;\n        };\n        var result = collectOutlineEntries([], root, void 0);\n        return result;\n    };\n    JSONDocumentSymbols.prototype.getSymbolKind = function (nodeType) {\n        switch (nodeType) {\n            case 'object':\n                return SymbolKind.Module;\n            case 'string':\n                return SymbolKind.String;\n            case 'number':\n                return SymbolKind.Number;\n            case 'array':\n                return SymbolKind.Array;\n            case 'boolean':\n                return SymbolKind.Boolean;\n            default:// 'null'\n                return SymbolKind.Variable;\n        }\n    };\n    JSONDocumentSymbols.prototype.findDocumentColors = function (document, doc) {\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var result = [];\n            if (schema) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema);\n                var visitedNode = {};\n                for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                    var s = matchingSchemas_1[_i];\n                    if (!s.inverted && s.schema && (s.schema.format === 'color' || s.schema.format === 'color-hex') && s.node && s.node.type === 'string') {\n                        var nodeId = String(s.node.offset);\n                        if (!visitedNode[nodeId]) {\n                            var color = colorFromHex(Parser.getNodeValue(s.node));\n                            if (color) {\n                                var range = Range.create(document.positionAt(s.node.offset), document.positionAt(s.node.offset + s.node.length));\n                                result.push({ color: color, range: range });\n                            }\n                            visitedNode[nodeId] = true;\n                        }\n                    }\n                }\n            }\n            return result;\n        });\n    };\n    JSONDocumentSymbols.prototype.getColorPresentations = function (document, doc, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        function toTwoDigitHex(n) {\n            var r = n.toString(16);\n            return r.length !== 2 ? '0' + r : r;\n        }\n        var label;\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, JSON.stringify(label)) });\n        return result;\n    };\n    return JSONDocumentSymbols;\n}());\nexport { JSONDocumentSymbols };\n//# sourceMappingURL=jsonDocumentSymbols.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nexport var schemaContributions = {\n    schemaAssociations: {},\n    schemas: {\n        // bundle the schema-schema to include (localized) descriptions\n        'http://json-schema.org/draft-04/schema#': {\n            'title': localize('schema.json', 'Describes a JSON file using a schema. See json-schema.org for more info.'),\n            '$schema': 'http://json-schema.org/draft-04/schema#',\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': { '$ref': '#' }\n                },\n                'positiveInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'positiveIntegerDefault0': {\n                    'allOf': [{ '$ref': '#/definitions/positiveInteger' }, { 'default': 0 }]\n                },\n                'simpleTypes': {\n                    'type': 'string',\n                    'enum': ['array', 'boolean', 'integer', 'null', 'number', 'object', 'string']\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': { 'type': 'string' },\n                    'minItems': 1,\n                    'uniqueItems': true\n                }\n            },\n            'type': 'object',\n            'properties': {\n                'id': {\n                    'type': 'string',\n                    'format': 'uri',\n                    'description': localize('schema.json.id', 'A unique identifier for the schema.')\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri',\n                    'description': localize('schema.json.$schema', 'The schema to verify this document against ')\n                },\n                'title': {\n                    'type': 'string',\n                    'description': localize('schema.json.title', 'A descriptive title of the element')\n                },\n                'description': {\n                    'type': 'string',\n                    'description': localize('schema.json.description', 'A long description of the element. Used in hover menus and suggestions.')\n                },\n                'default': {\n                    'description': localize('schema.json.default', 'A default value. Used by suggestions.')\n                },\n                'multipleOf': {\n                    'type': 'number',\n                    'minimum': 0,\n                    'exclusiveMinimum': true,\n                    'description': localize('schema.json.multipleOf', 'A number that should cleanly divide the current value (i.e. have no remainder)')\n                },\n                'maximum': {\n                    'type': 'number',\n                    'description': localize('schema.json.maximum', 'The maximum numerical value, inclusive by default.')\n                },\n                'exclusiveMaximum': {\n                    'type': 'boolean',\n                    'default': false,\n                    'description': localize('schema.json.exclusiveMaximum', 'Makes the maximum property exclusive.')\n                },\n                'minimum': {\n                    'type': 'number',\n                    'description': localize('schema.json.minimum', 'The minimum numerical value, inclusive by default.')\n                },\n                'exclusiveMinimum': {\n                    'type': 'boolean',\n                    'default': false,\n                    'description': localize('schema.json.exclusiveMininum', 'Makes the minimum property exclusive.')\n                },\n                'maxLength': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveInteger' }\n                    ],\n                    'description': localize('schema.json.maxLength', 'The maximum length of a string.')\n                },\n                'minLength': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveIntegerDefault0' }\n                    ],\n                    'description': localize('schema.json.minLength', 'The minimum length of a string.')\n                },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex',\n                    'description': localize('schema.json.pattern', 'A regular expression to match the string against. It is not implicitly anchored.')\n                },\n                'additionalItems': {\n                    'anyOf': [\n                        { 'type': 'boolean' },\n                        { '$ref': '#' }\n                    ],\n                    'default': {},\n                    'description': localize('schema.json.additionalItems', 'For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.')\n                },\n                'items': {\n                    'anyOf': [\n                        { '$ref': '#' },\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'default': {},\n                    'description': localize('schema.json.items', 'For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.')\n                },\n                'maxItems': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveInteger' }\n                    ],\n                    'description': localize('schema.json.maxItems', 'The maximum number of items that can be inside an array. Inclusive.')\n                },\n                'minItems': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveIntegerDefault0' }\n                    ],\n                    'description': localize('schema.json.minItems', 'The minimum number of items that can be inside an array. Inclusive.')\n                },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false,\n                    'description': localize('schema.json.uniqueItems', 'If all of the items in the array must be unique. Defaults to false.')\n                },\n                'maxProperties': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveInteger' }\n                    ],\n                    'description': localize('schema.json.maxProperties', 'The maximum number of properties an object can have. Inclusive.')\n                },\n                'minProperties': {\n                    'allOf': [\n                        { '$ref': '#/definitions/positiveIntegerDefault0' },\n                    ],\n                    'description': localize('schema.json.minProperties', 'The minimum number of properties an object can have. Inclusive.')\n                },\n                'required': {\n                    'allOf': [\n                        { '$ref': '#/definitions/stringArray' }\n                    ],\n                    'description': localize('schema.json.required', 'An array of strings that lists the names of all properties required on this object.')\n                },\n                'additionalProperties': {\n                    'anyOf': [\n                        { 'type': 'boolean' },\n                        { '$ref': '#' }\n                    ],\n                    'default': {},\n                    'description': localize('schema.json.additionalProperties', 'Either a schema or a boolean. If a schema, then used to validate all properties not matched by \\'properties\\' or \\'patternProperties\\'. If false, then any properties not matched by either will cause this schema to fail.')\n                },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {},\n                    'description': localize('schema.json.definitions', 'Not used for validation. Place subschemas here that you wish to reference inline with $ref')\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {},\n                    'description': localize('schema.json.properties', 'A map of property names to schemas for each property.')\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {},\n                    'description': localize('schema.json.patternProperties', 'A map of regular expressions on property names to schemas for matching properties.')\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            { '$ref': '#' },\n                            { '$ref': '#/definitions/stringArray' }\n                        ]\n                    },\n                    'description': localize('schema.json.dependencies', 'A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.')\n                },\n                'enum': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'uniqueItems': true,\n                    'description': localize('schema.json.enum', 'The set of literal values that are valid')\n                },\n                'type': {\n                    'anyOf': [\n                        { '$ref': '#/definitions/simpleTypes' },\n                        {\n                            'type': 'array',\n                            'items': { '$ref': '#/definitions/simpleTypes' },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ],\n                    'description': localize('schema.json.type', 'Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.')\n                },\n                'format': {\n                    'anyOf': [\n                        {\n                            'type': 'string',\n                            'description': localize('schema.json.format', 'Describes the format expected for the value.'),\n                            'enum': ['date-time', 'uri', 'email', 'hostname', 'ipv4', 'ipv6', 'regex']\n                        }, {\n                            'type': 'string'\n                        }\n                    ]\n                },\n                'allOf': {\n                    'allOf': [\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'description': localize('schema.json.allOf', 'An array of schemas, all of which must match.')\n                },\n                'anyOf': {\n                    'allOf': [\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'description': localize('schema.json.anyOf', 'An array of schemas, where at least one must match.')\n                },\n                'oneOf': {\n                    'allOf': [\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'description': localize('schema.json.oneOf', 'An array of schemas, exactly one of which must match.')\n                },\n                'not': {\n                    'allOf': [\n                        { '$ref': '#' }\n                    ],\n                    'description': localize('schema.json.not', 'A schema which must not match.')\n                }\n            },\n            'dependencies': {\n                'exclusiveMaximum': ['maximum'],\n                'exclusiveMinimum': ['minimum']\n            },\n            'default': {}\n        }\n    }\n};\n//# sourceMappingURL=configuration.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as Json from '../../jsonc-parser/main.js';\nimport URI from '../../vscode-uri/index.js';\nimport * as Strings from '../utils/strings.js';\nimport * as Parser from '../parser/jsonParser.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar FilePatternAssociation = /** @class */ (function () {\n    function FilePatternAssociation(pattern) {\n        try {\n            this.patternRegExp = new RegExp(Strings.convertSimple2RegExpPattern(pattern) + '$');\n        }\n        catch (e) {\n            // invalid pattern\n            this.patternRegExp = null;\n        }\n        this.schemas = [];\n    }\n    FilePatternAssociation.prototype.addSchema = function (id) {\n        this.schemas.push(id);\n    };\n    FilePatternAssociation.prototype.matchesPattern = function (fileName) {\n        return this.patternRegExp && this.patternRegExp.test(fileName);\n    };\n    FilePatternAssociation.prototype.getSchemas = function () {\n        return this.schemas;\n    };\n    return FilePatternAssociation;\n}());\nvar SchemaHandle = /** @class */ (function () {\n    function SchemaHandle(service, url, unresolvedSchemaContent) {\n        this.service = service;\n        this.url = url;\n        if (unresolvedSchemaContent) {\n            this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));\n        }\n    }\n    SchemaHandle.prototype.getUnresolvedSchema = function () {\n        if (!this.unresolvedSchema) {\n            this.unresolvedSchema = this.service.loadSchema(this.url);\n        }\n        return this.unresolvedSchema;\n    };\n    SchemaHandle.prototype.getResolvedSchema = function () {\n        var _this = this;\n        if (!this.resolvedSchema) {\n            this.resolvedSchema = this.getUnresolvedSchema().then(function (unresolved) {\n                return _this.service.resolveSchemaContent(unresolved, _this.url);\n            });\n        }\n        return this.resolvedSchema;\n    };\n    SchemaHandle.prototype.clearSchema = function () {\n        this.resolvedSchema = null;\n        this.unresolvedSchema = null;\n    };\n    return SchemaHandle;\n}());\nvar UnresolvedSchema = /** @class */ (function () {\n    function UnresolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    return UnresolvedSchema;\n}());\nexport { UnresolvedSchema };\nvar ResolvedSchema = /** @class */ (function () {\n    function ResolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    ResolvedSchema.prototype.getSection = function (path) {\n        return Parser.asSchema(this.getSectionRecursive(path, this.schema));\n    };\n    ResolvedSchema.prototype.getSectionRecursive = function (path, schema) {\n        var _this = this;\n        if (!schema || typeof schema === 'boolean' || path.length === 0) {\n            return schema;\n        }\n        var next = path.shift();\n        if (schema.properties && typeof schema.properties[next]) {\n            return this.getSectionRecursive(path, schema.properties[next]);\n        }\n        else if (schema.patternProperties) {\n            Object.keys(schema.patternProperties).forEach(function (pattern) {\n                var regex = new RegExp(pattern);\n                if (regex.test(next)) {\n                    return _this.getSectionRecursive(path, schema.patternProperties[pattern]);\n                }\n            });\n        }\n        else if (typeof schema.additionalProperties === 'object') {\n            return this.getSectionRecursive(path, schema.additionalProperties);\n        }\n        else if (next.match('[0-9]+')) {\n            if (Array.isArray(schema.items)) {\n                var index = parseInt(next, 10);\n                if (!isNaN(index) && schema.items[index]) {\n                    return this.getSectionRecursive(path, schema.items[index]);\n                }\n            }\n            else if (schema.items) {\n                return this.getSectionRecursive(path, schema.items);\n            }\n        }\n        return null;\n    };\n    return ResolvedSchema;\n}());\nexport { ResolvedSchema };\nvar JSONSchemaService = /** @class */ (function () {\n    function JSONSchemaService(requestService, contextService, promiseConstructor) {\n        this.contextService = contextService;\n        this.requestService = requestService;\n        this.promiseConstructor = promiseConstructor || Promise;\n        this.callOnDispose = [];\n        this.contributionSchemas = {};\n        this.contributionAssociations = {};\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.filePatternAssociationById = {};\n        this.registeredSchemasIds = {};\n    }\n    JSONSchemaService.prototype.getRegisteredSchemaIds = function (filter) {\n        return Object.keys(this.registeredSchemasIds).filter(function (id) {\n            var scheme = URI.parse(id).scheme;\n            return scheme !== 'schemaservice' && (!filter || filter(scheme));\n        });\n    };\n    Object.defineProperty(JSONSchemaService.prototype, \"promise\", {\n        get: function () {\n            return this.promiseConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    JSONSchemaService.prototype.dispose = function () {\n        while (this.callOnDispose.length > 0) {\n            this.callOnDispose.pop()();\n        }\n    };\n    JSONSchemaService.prototype.onResourceChange = function (uri) {\n        uri = this.normalizeId(uri);\n        var schemaFile = this.schemasById[uri];\n        if (schemaFile) {\n            schemaFile.clearSchema();\n            return true;\n        }\n        return false;\n    };\n    JSONSchemaService.prototype.normalizeId = function (id) {\n        // remove trailing '#', normalize drive capitalization\n        return URI.parse(id).toString();\n    };\n    JSONSchemaService.prototype.setSchemaContributions = function (schemaContributions) {\n        var _this = this;\n        if (schemaContributions.schemas) {\n            var schemas = schemaContributions.schemas;\n            for (var id in schemas) {\n                var normalizedId = this.normalizeId(id);\n                this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);\n            }\n        }\n        if (schemaContributions.schemaAssociations) {\n            var schemaAssociations = schemaContributions.schemaAssociations;\n            for (var pattern in schemaAssociations) {\n                var associations = schemaAssociations[pattern];\n                this.contributionAssociations[pattern] = associations;\n                var fpa = this.getOrAddFilePatternAssociation(pattern);\n                associations.forEach(function (schemaId) {\n                    var id = _this.normalizeId(schemaId);\n                    fpa.addSchema(id);\n                });\n            }\n        }\n    };\n    JSONSchemaService.prototype.addSchemaHandle = function (id, unresolvedSchemaContent) {\n        var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);\n        this.schemasById[id] = schemaHandle;\n        return schemaHandle;\n    };\n    JSONSchemaService.prototype.getOrAddSchemaHandle = function (id, unresolvedSchemaContent) {\n        return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);\n    };\n    JSONSchemaService.prototype.getOrAddFilePatternAssociation = function (pattern) {\n        var fpa = this.filePatternAssociationById[pattern];\n        if (!fpa) {\n            fpa = new FilePatternAssociation(pattern);\n            this.filePatternAssociationById[pattern] = fpa;\n            this.filePatternAssociations.push(fpa);\n        }\n        return fpa;\n    };\n    JSONSchemaService.prototype.registerExternalSchema = function (uri, filePatterns, unresolvedSchemaContent) {\n        var _this = this;\n        if (filePatterns === void 0) { filePatterns = null; }\n        var id = this.normalizeId(uri);\n        this.registeredSchemasIds[id] = true;\n        if (filePatterns) {\n            filePatterns.forEach(function (pattern) {\n                _this.getOrAddFilePatternAssociation(pattern).addSchema(id);\n            });\n        }\n        return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);\n    };\n    JSONSchemaService.prototype.clearExternalSchemas = function () {\n        var _this = this;\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.filePatternAssociationById = {};\n        this.registeredSchemasIds = {};\n        for (var id in this.contributionSchemas) {\n            this.schemasById[id] = this.contributionSchemas[id];\n            this.registeredSchemasIds[id] = true;\n        }\n        for (var pattern in this.contributionAssociations) {\n            var fpa = this.getOrAddFilePatternAssociation(pattern);\n            this.contributionAssociations[pattern].forEach(function (schemaId) {\n                var id = _this.normalizeId(schemaId);\n                fpa.addSchema(id);\n            });\n        }\n    };\n    JSONSchemaService.prototype.getResolvedSchema = function (schemaId) {\n        var id = this.normalizeId(schemaId);\n        var schemaHandle = this.schemasById[id];\n        if (schemaHandle) {\n            return schemaHandle.getResolvedSchema();\n        }\n        return this.promise.resolve(null);\n    };\n    JSONSchemaService.prototype.loadSchema = function (url) {\n        if (!this.requestService) {\n            var errorMessage = localize('json.schema.norequestservice', 'Unable to load schema from \\'{0}\\'. No schema request service available', toDisplayString(url));\n            return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));\n        }\n        return this.requestService(url).then(function (content) {\n            if (!content) {\n                var errorMessage = localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': No content.', toDisplayString(url));\n                return new UnresolvedSchema({}, [errorMessage]);\n            }\n            var schemaContent = {};\n            var jsonErrors = [];\n            schemaContent = Json.parse(content, jsonErrors);\n            var errors = jsonErrors.length ? [localize('json.schema.invalidFormat', 'Unable to parse content from \\'{0}\\': Parse error at offset {1}.', toDisplayString(url), jsonErrors[0].offset)] : [];\n            return new UnresolvedSchema(schemaContent, errors);\n        }, function (error) {\n            var errorMessage = localize('json.schema.unabletoload', 'Unable to load schema from \\'{0}\\': {1}', toDisplayString(url), error.toString());\n            return new UnresolvedSchema({}, [errorMessage]);\n        });\n    };\n    JSONSchemaService.prototype.resolveSchemaContent = function (schemaToResolve, schemaURL) {\n        var _this = this;\n        var resolveErrors = schemaToResolve.errors.slice(0);\n        var schema = schemaToResolve.schema;\n        var contextService = this.contextService;\n        var findSection = function (schema, path) {\n            if (!path) {\n                return schema;\n            }\n            var current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some(function (part) {\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        var merge = function (target, sourceRoot, sourceURI, path) {\n            var section = findSection(sourceRoot, path);\n            if (section) {\n                for (var key in section) {\n                    if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize('json.schema.invalidref', '$ref \\'{0}\\' in \\'{1}\\' can not be resolved.', path, sourceURI));\n            }\n        };\n        var resolveExternalLink = function (node, uri, linkPath, parentSchemaURL) {\n            if (contextService && !/^\\w+:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = _this.normalizeId(uri);\n            return _this.getOrAddSchemaHandle(uri).getUnresolvedSchema().then(function (unresolvedSchema) {\n                if (unresolvedSchema.errors.length) {\n                    var loc = linkPath ? uri + '#' + linkPath : uri;\n                    resolveErrors.push(localize('json.schema.problemloadingref', 'Problems loading reference \\'{0}\\': {1}', loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, linkPath);\n                return resolveRefs(node, unresolvedSchema.schema, uri);\n            });\n        };\n        var resolveRefs = function (node, parentSchema, parentSchemaURL) {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            var toWalk = [node];\n            var seen = [];\n            var openPromises = [];\n            var collectEntries = function () {\n                var entries = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    entries[_i] = arguments[_i];\n                }\n                for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n                    var entry = entries_1[_a];\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            var collectMapEntries = function () {\n                var maps = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    maps[_i] = arguments[_i];\n                }\n                for (var _a = 0, maps_1 = maps; _a < maps_1.length; _a++) {\n                    var map = maps_1[_a];\n                    if (typeof map === 'object') {\n                        for (var key in map) {\n                            var entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var collectArrayEntries = function () {\n                var arrays = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    arrays[_i] = arguments[_i];\n                }\n                for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n                    var array = arrays_1[_a];\n                    if (Array.isArray(array)) {\n                        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n                            var entry = array_1[_b];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var handleRef = function (next) {\n                while (next.$ref) {\n                    var segments = next.$ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL));\n                        return;\n                    }\n                    else {\n                        merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again\n                    }\n                }\n                collectEntries(next.items, next.additionalProperties, next.not, next.contains, next.propertyNames);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);\n            };\n            while (toWalk.length) {\n                var next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return _this.promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL).then(function (_) { return new ResolvedSchema(schema, resolveErrors); });\n    };\n    JSONSchemaService.prototype.getSchemaForResource = function (resource, document) {\n        // first use $schema if present\n        if (document && document.root && document.root.type === 'object') {\n            var schemaProperties = document.root.properties.filter(function (p) { return (p.keyNode.value === '$schema') && p.valueNode && p.valueNode.type === 'string'; });\n            if (schemaProperties.length > 0) {\n                var schemeId = Parser.getNodeValue(schemaProperties[0].valueNode);\n                if (schemeId && Strings.startsWith(schemeId, '.') && this.contextService) {\n                    schemeId = this.contextService.resolveRelativePath(schemeId, resource);\n                }\n                if (schemeId) {\n                    var id = this.normalizeId(schemeId);\n                    return this.getOrAddSchemaHandle(id).getResolvedSchema();\n                }\n            }\n        }\n        var seen = Object.create(null);\n        var schemas = [];\n        for (var _i = 0, _a = this.filePatternAssociations; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.matchesPattern(resource)) {\n                for (var _b = 0, _c = entry.getSchemas(); _b < _c.length; _b++) {\n                    var schemaId = _c[_b];\n                    if (!seen[schemaId]) {\n                        schemas.push(schemaId);\n                        seen[schemaId] = true;\n                    }\n                }\n            }\n        }\n        if (schemas.length > 0) {\n            return this.createCombinedSchema(resource, schemas).getResolvedSchema();\n        }\n        return this.promise.resolve(null);\n    };\n    JSONSchemaService.prototype.createCombinedSchema = function (resource, schemaIds) {\n        if (schemaIds.length === 1) {\n            return this.getOrAddSchemaHandle(schemaIds[0]);\n        }\n        else {\n            var combinedSchemaId = 'schemaservice://combinedSchema/' + encodeURIComponent(resource);\n            var combinedSchema = {\n                allOf: schemaIds.map(function (schemaId) { return ({ $ref: schemaId }); })\n            };\n            return this.addSchemaHandle(combinedSchemaId, combinedSchema);\n        }\n    };\n    return JSONSchemaService;\n}());\nexport { JSONSchemaService };\nfunction toDisplayString(url) {\n    try {\n        var uri = URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n//# sourceMappingURL=jsonSchemaService.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { TextDocument, Position, CompletionItem, CompletionList, Range, SymbolInformation, Diagnostic, TextEdit, FormattingOptions, MarkedString } from '../vscode-languageserver-types/main.js';\nimport { JSONCompletion } from './services/jsonCompletion.js';\nimport { JSONHover } from './services/jsonHover.js';\nimport { JSONValidation } from './services/jsonValidation.js';\nimport { JSONDocumentSymbols } from './services/jsonDocumentSymbols.js';\nimport { parse as parseJSON, newJSONDocument } from './parser/jsonParser.js';\nimport { schemaContributions } from './services/configuration.js';\nimport { JSONSchemaService } from './services/jsonSchemaService.js';\nimport { format as formatJSON } from '../jsonc-parser/main.js';\nexport { TextDocument, Position, CompletionItem, CompletionList, Range, SymbolInformation, Diagnostic, TextEdit, FormattingOptions, MarkedString };\nexport function getLanguageService(params) {\n    var promise = params.promiseConstructor || Promise;\n    var jsonSchemaService = new JSONSchemaService(params.schemaRequestService, params.workspaceContext, promise);\n    jsonSchemaService.setSchemaContributions(schemaContributions);\n    var jsonCompletion = new JSONCompletion(jsonSchemaService, params.contributions, promise);\n    var jsonHover = new JSONHover(jsonSchemaService, params.contributions, promise);\n    var jsonDocumentSymbols = new JSONDocumentSymbols(jsonSchemaService);\n    var jsonValidation = new JSONValidation(jsonSchemaService, promise);\n    return {\n        configure: function (settings) {\n            jsonSchemaService.clearExternalSchemas();\n            if (settings.schemas) {\n                settings.schemas.forEach(function (settings) {\n                    jsonSchemaService.registerExternalSchema(settings.uri, settings.fileMatch, settings.schema);\n                });\n            }\n            jsonValidation.configure(settings);\n        },\n        resetSchema: function (uri) { return jsonSchemaService.onResourceChange(uri); },\n        doValidation: jsonValidation.doValidation.bind(jsonValidation),\n        parseJSONDocument: function (document) { return parseJSON(document, { collectComments: true }); },\n        newJSONDocument: function (root, diagnostics) { return newJSONDocument(root, diagnostics); },\n        doResolve: jsonCompletion.doResolve.bind(jsonCompletion),\n        doComplete: jsonCompletion.doComplete.bind(jsonCompletion),\n        findDocumentSymbols: jsonDocumentSymbols.findDocumentSymbols.bind(jsonDocumentSymbols),\n        findColorSymbols: function (d, s) { return jsonDocumentSymbols.findDocumentColors(d, s).then(function (s) { return s.map(function (s) { return s.range; }); }); },\n        findDocumentColors: jsonDocumentSymbols.findDocumentColors.bind(jsonDocumentSymbols),\n        getColorPresentations: jsonDocumentSymbols.getColorPresentations.bind(jsonDocumentSymbols),\n        doHover: jsonHover.doHover.bind(jsonHover),\n        format: function (d, r, o) {\n            var range = void 0;\n            if (r) {\n                var offset = d.offsetAt(r.start);\n                var length = d.offsetAt(r.end) - offset;\n                range = { offset: offset, length: length };\n            }\n            var options = { tabSize: o ? o.tabSize : 4, insertSpaces: o ? o.insertSpaces : true, eol: '\\n' };\n            return formatJSON(d.getText(), range, options).map(function (e) {\n                return TextEdit.replace(Range.create(d.positionAt(e.offset), d.positionAt(e.offset + e.length)), e.content);\n            });\n        }\n    };\n}\n//# sourceMappingURL=jsonLanguageService.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nimport * as jsonService from './_deps/vscode-json-languageservice/jsonLanguageService.js';\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\nvar PromiseAdapter = /** @class */ (function () {\n    function PromiseAdapter(executor) {\n        this.wrapped = new monaco.Promise(executor);\n    }\n    PromiseAdapter.prototype.then = function (onfulfilled, onrejected) {\n        var thenable = this.wrapped;\n        return thenable.then(onfulfilled, onrejected);\n    };\n    PromiseAdapter.prototype.getWrapped = function () {\n        return this.wrapped;\n    };\n    PromiseAdapter.prototype.cancel = function () {\n        this.wrapped.cancel();\n    };\n    PromiseAdapter.resolve = function (v) {\n        return monaco.Promise.as(v);\n    };\n    PromiseAdapter.reject = function (v) {\n        return monaco.Promise.wrapError(v);\n    };\n    PromiseAdapter.all = function (values) {\n        return monaco.Promise.join(values);\n    };\n    return PromiseAdapter;\n}());\nvar JSONWorker = /** @class */ (function () {\n    function JSONWorker(ctx, createData) {\n        this._ctx = ctx;\n        this._languageSettings = createData.languageSettings;\n        this._languageId = createData.languageId;\n        this._languageService = jsonService.getLanguageService({ promiseConstructor: PromiseAdapter });\n        this._languageService.configure(this._languageSettings);\n    }\n    JSONWorker.prototype.doValidation = function (uri) {\n        var document = this._getTextDocument(uri);\n        if (document) {\n            var jsonDocument = this._languageService.parseJSONDocument(document);\n            return this._languageService.doValidation(document, jsonDocument);\n        }\n        return Promise.as([]);\n    };\n    JSONWorker.prototype.doComplete = function (uri, position) {\n        var document = this._getTextDocument(uri);\n        var jsonDocument = this._languageService.parseJSONDocument(document);\n        return this._languageService.doComplete(document, position, jsonDocument);\n    };\n    JSONWorker.prototype.doResolve = function (item) {\n        return this._languageService.doResolve(item);\n    };\n    JSONWorker.prototype.doHover = function (uri, position) {\n        var document = this._getTextDocument(uri);\n        var jsonDocument = this._languageService.parseJSONDocument(document);\n        return this._languageService.doHover(document, position, jsonDocument);\n    };\n    JSONWorker.prototype.format = function (uri, range, options) {\n        var document = this._getTextDocument(uri);\n        var textEdits = this._languageService.format(document, range, options);\n        return Promise.as(textEdits);\n    };\n    JSONWorker.prototype.resetSchema = function (uri) {\n        return Promise.as(this._languageService.resetSchema(uri));\n    };\n    JSONWorker.prototype.findDocumentSymbols = function (uri) {\n        var document = this._getTextDocument(uri);\n        var jsonDocument = this._languageService.parseJSONDocument(document);\n        var symbols = this._languageService.findDocumentSymbols(document, jsonDocument);\n        return Promise.as(symbols);\n    };\n    JSONWorker.prototype.findDocumentColors = function (uri) {\n        var document = this._getTextDocument(uri);\n        var stylesheet = this._languageService.parseJSONDocument(document);\n        var colorSymbols = this._languageService.findDocumentColors(document, stylesheet);\n        return Promise.as(colorSymbols);\n    };\n    JSONWorker.prototype.getColorPresentations = function (uri, color, range) {\n        var document = this._getTextDocument(uri);\n        var stylesheet = this._languageService.parseJSONDocument(document);\n        var colorPresentations = this._languageService.getColorPresentations(document, stylesheet, color, range);\n        return Promise.as(colorPresentations);\n    };\n    JSONWorker.prototype._getTextDocument = function (uri) {\n        var models = this._ctx.getMirrorModels();\n        for (var _i = 0, models_1 = models; _i < models_1.length; _i++) {\n            var model = models_1[_i];\n            if (model.uri.toString() === uri) {\n                return ls.TextDocument.create(uri, this._languageId, model.version, model.getValue());\n            }\n        }\n        return null;\n    };\n    return JSONWorker;\n}());\nexport { JSONWorker };\nexport function create(ctx, createData) {\n    return new JSONWorker(ctx, createData);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as worker from '../../editor/editor.worker.js';\nimport { JSONWorker } from './jsonWorker.js';\nself.onmessage = function () {\n    // ignore the first message\n    worker.initialize(function (ctx, createData) {\n        return new JSONWorker(ctx, createData);\n    });\n};\n"],"names":["format","this","localize","nls.loadMessageBundle","getNodeValue","objects.equals","Uri","parse","config","Json.createScanner","Parser.getNodePath","Parser.contains","Parser.getNodeValue","Strings.endsWith","Strings.convertSimple2RegExpPattern","Parser.asSchema","Json.parse","Strings.startsWith","parseJSON","formatJSON","Promise","jsonService.getLanguageService","ls.TextDocument","worker.initialize"],"mappings":"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"}