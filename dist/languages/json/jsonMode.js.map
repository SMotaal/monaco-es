{"version":3,"file":"jsonMode.js","sources":["../../../node_modules/monaco-editor/esm/vs/language/json/workerManager.js","../../../node_modules/monaco-editor/esm/vs/language/json/languageFeatures.js","../../../node_modules/monaco-editor/esm/vs/language/json/tokenization.js","../../../node_modules/monaco-editor/esm/vs/language/json/jsonMode.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `JSONWorker` instance\n                moduleId: 'vs/language/json/jsonWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\n            onModelRemoved(model);\n            _this._resetSchema(model.uri);\n        }));\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n            _this._resetSchema(event.model.uri);\n        }));\n        this._disposables.push(defaults.onDidChange(function (_) {\n            monaco.editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        }));\n        this._disposables.push({\n            dispose: function () {\n                monaco.editor.getModels().forEach(onModelRemoved);\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        monaco.editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._resetSchema = function (resource) {\n        this._worker().then(function (worker) {\n            worker.resetSchema(resource.toString());\n        });\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource).then(function (worker) {\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n                var model = monaco.editor.getModel(resource);\n                if (model.getModeId() === languageId) {\n                    monaco.editor.setModelMarkers(model, languageId, markers);\n                }\n            });\n        }).then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case ls.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\n        case ls.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\n        case ls.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\n        case ls.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\n        default:\n            return monaco.MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case ls.CompletionItemKind.Text: return mItemKind.Text;\n        case ls.CompletionItemKind.Method: return mItemKind.Method;\n        case ls.CompletionItemKind.Function: return mItemKind.Function;\n        case ls.CompletionItemKind.Constructor: return mItemKind.Constructor;\n        case ls.CompletionItemKind.Field: return mItemKind.Field;\n        case ls.CompletionItemKind.Variable: return mItemKind.Variable;\n        case ls.CompletionItemKind.Class: return mItemKind.Class;\n        case ls.CompletionItemKind.Interface: return mItemKind.Interface;\n        case ls.CompletionItemKind.Module: return mItemKind.Module;\n        case ls.CompletionItemKind.Property: return mItemKind.Property;\n        case ls.CompletionItemKind.Unit: return mItemKind.Unit;\n        case ls.CompletionItemKind.Value: return mItemKind.Value;\n        case ls.CompletionItemKind.Enum: return mItemKind.Enum;\n        case ls.CompletionItemKind.Keyword: return mItemKind.Keyword;\n        case ls.CompletionItemKind.Snippet: return mItemKind.Snippet;\n        case ls.CompletionItemKind.Color: return mItemKind.Color;\n        case ls.CompletionItemKind.File: return mItemKind.File;\n        case ls.CompletionItemKind.Reference: return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction fromCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case mItemKind.Text: return ls.CompletionItemKind.Text;\n        case mItemKind.Method: return ls.CompletionItemKind.Method;\n        case mItemKind.Function: return ls.CompletionItemKind.Function;\n        case mItemKind.Constructor: return ls.CompletionItemKind.Constructor;\n        case mItemKind.Field: return ls.CompletionItemKind.Field;\n        case mItemKind.Variable: return ls.CompletionItemKind.Variable;\n        case mItemKind.Class: return ls.CompletionItemKind.Class;\n        case mItemKind.Interface: return ls.CompletionItemKind.Interface;\n        case mItemKind.Module: return ls.CompletionItemKind.Module;\n        case mItemKind.Property: return ls.CompletionItemKind.Property;\n        case mItemKind.Unit: return ls.CompletionItemKind.Unit;\n        case mItemKind.Value: return ls.CompletionItemKind.Value;\n        case mItemKind.Enum: return ls.CompletionItemKind.Enum;\n        case mItemKind.Keyword: return ls.CompletionItemKind.Keyword;\n        case mItemKind.Snippet: return ls.CompletionItemKind.Snippet;\n        case mItemKind.Color: return ls.CompletionItemKind.Color;\n        case mItemKind.File: return ls.CompletionItemKind.File;\n        case mItemKind.Reference: return ls.CompletionItemKind.Reference;\n    }\n    return ls.CompletionItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nfunction toCompletionItem(entry) {\n    return {\n        label: entry.label,\n        insertText: entry.insertText,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: entry.documentation,\n        detail: entry.detail,\n        kind: toCompletionItemKind(entry.kind),\n        textEdit: toTextEdit(entry.textEdit),\n        data: entry.data\n    };\n}\nfunction fromMarkdownString(entry) {\n    return {\n        kind: (typeof entry === 'string' ? ls.MarkupKind.PlainText : ls.MarkupKind.Markdown),\n        value: (typeof entry === 'string' ? entry : entry.value)\n    };\n}\nfunction fromCompletionItem(entry) {\n    var item = {\n        label: entry.label,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: fromMarkdownString(entry.documentation),\n        detail: entry.detail,\n        kind: fromCompletionItemKind(entry.kind),\n        data: entry.data\n    };\n    if (typeof entry.insertText === 'object' && typeof entry.insertText.value === 'string') {\n        item.insertText = entry.insertText.value;\n        item.insertTextFormat = ls.InsertTextFormat.Snippet;\n    }\n    else {\n        item.insertText = entry.insertText;\n    }\n    if (entry.range) {\n        item.textEdit = ls.TextEdit.replace(fromRange(entry.range), item.insertText);\n    }\n    return item;\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    kind: toCompletionItemKind(entry.kind),\n                };\n                if (entry.textEdit) {\n                    item.range = toRange(entry.textEdit.range);\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                    item.insertText = { value: item.insertText };\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                items: items\n            };\n        }));\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        }));\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = monaco.languages.SymbolKind;\n    switch (kind) {\n        case ls.SymbolKind.File: return mKind.Array;\n        case ls.SymbolKind.Module: return mKind.Module;\n        case ls.SymbolKind.Namespace: return mKind.Namespace;\n        case ls.SymbolKind.Package: return mKind.Package;\n        case ls.SymbolKind.Class: return mKind.Class;\n        case ls.SymbolKind.Method: return mKind.Method;\n        case ls.SymbolKind.Property: return mKind.Property;\n        case ls.SymbolKind.Field: return mKind.Field;\n        case ls.SymbolKind.Constructor: return mKind.Constructor;\n        case ls.SymbolKind.Enum: return mKind.Enum;\n        case ls.SymbolKind.Interface: return mKind.Interface;\n        case ls.SymbolKind.Function: return mKind.Function;\n        case ls.SymbolKind.Variable: return mKind.Variable;\n        case ls.SymbolKind.Constant: return mKind.Constant;\n        case ls.SymbolKind.String: return mKind.String;\n        case ls.SymbolKind.Number: return mKind.Number;\n        case ls.SymbolKind.Boolean: return mKind.Boolean;\n        case ls.SymbolKind.Array: return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                location: toLocation(item.location)\n            }); });\n        }));\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nfunction fromFormattingOptions(options) {\n    return {\n        tabSize: options.tabSize,\n        insertSpaces: options.insertSpaces\n    };\n}\nvar DocumentFormattingEditProvider = /** @class */ (function () {\n    function DocumentFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentFormattingEditProvider;\n}());\nexport { DocumentFormattingEditProvider };\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\n    function DocumentRangeFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentRangeFormattingEditProvider;\n}());\nexport { DocumentRangeFormattingEditProvider };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        }));\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label,\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        }));\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    if (promise.cancel) {\n        token.onCancellationRequested(function () { return promise.cancel(); });\n    }\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as json from './_deps/jsonc-parser/main.js';\nexport function createTokenizationSupport(supportComments) {\n    return {\n        getInitialState: function () { return new JSONState(null, null, false); },\n        tokenize: function (line, state, offsetDelta, stopAtOffset) { return tokenize(supportComments, line, state, offsetDelta, stopAtOffset); }\n    };\n}\nexport var TOKEN_DELIM_OBJECT = 'delimiter.bracket.json';\nexport var TOKEN_DELIM_ARRAY = 'delimiter.array.json';\nexport var TOKEN_DELIM_COLON = 'delimiter.colon.json';\nexport var TOKEN_DELIM_COMMA = 'delimiter.comma.json';\nexport var TOKEN_VALUE_BOOLEAN = 'keyword.json';\nexport var TOKEN_VALUE_NULL = 'keyword.json';\nexport var TOKEN_VALUE_STRING = 'string.value.json';\nexport var TOKEN_VALUE_NUMBER = 'number.json';\nexport var TOKEN_PROPERTY_NAME = 'string.key.json';\nexport var TOKEN_COMMENT_BLOCK = 'comment.block.json';\nexport var TOKEN_COMMENT_LINE = 'comment.line.json';\nvar JSONState = /** @class */ (function () {\n    function JSONState(state, scanError, lastWasColon) {\n        this._state = state;\n        this.scanError = scanError;\n        this.lastWasColon = lastWasColon;\n    }\n    JSONState.prototype.clone = function () {\n        return new JSONState(this._state, this.scanError, this.lastWasColon);\n    };\n    JSONState.prototype.equals = function (other) {\n        if (other === this) {\n            return true;\n        }\n        if (!other || !(other instanceof JSONState)) {\n            return false;\n        }\n        return this.scanError === other.scanError &&\n            this.lastWasColon === other.lastWasColon;\n    };\n    JSONState.prototype.getStateData = function () {\n        return this._state;\n    };\n    JSONState.prototype.setStateData = function (state) {\n        this._state = state;\n    };\n    return JSONState;\n}());\nfunction tokenize(comments, line, state, offsetDelta, stopAtOffset) {\n    if (offsetDelta === void 0) { offsetDelta = 0; }\n    // handle multiline strings and block comments\n    var numberOfInsertedCharacters = 0, adjustOffset = false;\n    switch (state.scanError) {\n        case 2 /* UnexpectedEndOfString */:\n            line = '\"' + line;\n            numberOfInsertedCharacters = 1;\n            break;\n        case 1 /* UnexpectedEndOfComment */:\n            line = '/*' + line;\n            numberOfInsertedCharacters = 2;\n            break;\n    }\n    var scanner = json.createScanner(line), kind, ret, lastWasColon = state.lastWasColon;\n    ret = {\n        tokens: [],\n        endState: state.clone()\n    };\n    while (true) {\n        var offset = offsetDelta + scanner.getPosition(), type = '';\n        kind = scanner.scan();\n        if (kind === 17 /* EOF */) {\n            break;\n        }\n        // Check that the scanner has advanced\n        if (offset === offsetDelta + scanner.getPosition()) {\n            throw new Error('Scanner did not advance, next 3 characters are: ' + line.substr(scanner.getPosition(), 3));\n        }\n        // In case we inserted /* or \" character, we need to\n        // adjust the offset of all tokens (except the first)\n        if (adjustOffset) {\n            offset -= numberOfInsertedCharacters;\n        }\n        adjustOffset = numberOfInsertedCharacters > 0;\n        // brackets and type\n        switch (kind) {\n            case 1 /* OpenBraceToken */:\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 2 /* CloseBraceToken */:\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 3 /* OpenBracketToken */:\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 4 /* CloseBracketToken */:\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 6 /* ColonToken */:\n                type = TOKEN_DELIM_COLON;\n                lastWasColon = true;\n                break;\n            case 5 /* CommaToken */:\n                type = TOKEN_DELIM_COMMA;\n                lastWasColon = false;\n                break;\n            case 8 /* TrueKeyword */:\n            case 9 /* FalseKeyword */:\n                type = TOKEN_VALUE_BOOLEAN;\n                lastWasColon = false;\n                break;\n            case 7 /* NullKeyword */:\n                type = TOKEN_VALUE_NULL;\n                lastWasColon = false;\n                break;\n            case 10 /* StringLiteral */:\n                type = lastWasColon ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\n                lastWasColon = false;\n                break;\n            case 11 /* NumericLiteral */:\n                type = TOKEN_VALUE_NUMBER;\n                lastWasColon = false;\n                break;\n        }\n        // comments, iff enabled\n        if (comments) {\n            switch (kind) {\n                case 12 /* LineCommentTrivia */:\n                    type = TOKEN_COMMENT_LINE;\n                    break;\n                case 13 /* BlockCommentTrivia */:\n                    type = TOKEN_COMMENT_BLOCK;\n                    break;\n            }\n        }\n        ret.endState = new JSONState(state.getStateData(), scanner.getTokenError(), lastWasColon);\n        ret.tokens.push({\n            startIndex: offset,\n            scopes: type\n        });\n    }\n    return ret;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { createTokenizationSupport } from './tokenization.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    var languageId = defaults.languageId;\n    disposables.push(monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n    disposables.push(monaco.languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n    disposables.push(monaco.languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n    disposables.push(monaco.languages.registerDocumentFormattingEditProvider(languageId, new languageFeatures.DocumentFormattingEditProvider(worker)));\n    disposables.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId, new languageFeatures.DocumentRangeFormattingEditProvider(worker)));\n    disposables.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n    disposables.push(monaco.languages.setTokensProvider(languageId, createTokenizationSupport(true)));\n    disposables.push(monaco.languages.setLanguageConfiguration(languageId, richEditConfiguration));\n    disposables.push(monaco.languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n}\nvar richEditConfiguration = {\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\n    comments: {\n        lineComment: '//',\n        blockComment: ['/*', '*/']\n    },\n    brackets: [\n        ['{', '}'],\n        ['[', ']']\n    ],\n    autoClosingPairs: [\n        { open: '{', close: '}', notIn: ['string'] },\n        { open: '[', close: ']', notIn: ['string'] },\n        { open: '\"', close: '\"', notIn: ['string'] }\n    ]\n};\n"],"names":["Promise","Range","ls.DiagnosticSeverity","ls.CompletionItemKind","ls.InsertTextFormat","ls.SymbolKind","json.createScanner","languageFeatures.CompletionAdapter","languageFeatures.HoverAdapter","languageFeatures.DocumentSymbolAdapter","languageFeatures.DocumentFormattingEditProvider","languageFeatures.DocumentRangeFormattingEditProvider","languageFeatures.DiagnosticsAdapter","languageFeatures.DocumentColorAdapter"],"mappings":"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"}