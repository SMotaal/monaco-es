{"version":3,"file":"monaco.js","sources":["../node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/moveCaretCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/transpose.js","../node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelens.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/color.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorDetector.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/blockCommentCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/lineCommentCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/comment.js","../node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","../node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","../node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dragAndDropCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","../node_modules/monaco-editor/esm/vs/base/common/history.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/replacePattern.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findDecorations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/replaceAllCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findState.js","../node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js","../node_modules/monaco-editor/esm/vs/base/common/idGenerator.js","../node_modules/monaco-editor/esm/vs/base/common/marked/marked.js","../node_modules/monaco-editor/esm/vs/base/browser/htmlContentRenderer.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findOptionsWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingRanges.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingDecorations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/hiddenRangeModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/indentRangeProvider.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/syntaxRangeProvider.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/format.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/formatCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/formatActions.js","../node_modules/monaco-editor/esm/vs/editor/contrib/goToDeclaration/goToDeclaration.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/octiconLabel/octiconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/editor/browser/widget/embeddedCodeEditorWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/referenceSearch/peekViewWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/referenceSearch/referencesModel.js","../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","../node_modules/monaco-editor/esm/vs/editor/contrib/referenceSearch/referencesWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/referenceSearch/referencesController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/goToDeclaration/goToDeclarationCommands.js","../node_modules/monaco-editor/esm/vs/editor/contrib/goToDeclaration/clickLinkGesture.js","../node_modules/monaco-editor/esm/vs/editor/contrib/goToDeclaration/goToDeclarationMouse.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoErrorWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoError.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/getHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverOperation.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverWidgets.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesContentHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesGlyphHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/markdown/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplace.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/sortLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/common/commands/trimTrailingWhitespaceCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/copyLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/deleteLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/indentation/indentUtils.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/moveLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/linesOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/links/getLinks.js","../node_modules/monaco-editor/esm/vs/editor/contrib/links/links.js","../node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/multicursor.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/provideSignatureHelp.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHintsWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.js","../node_modules/monaco-editor/esm/vs/editor/contrib/referenceSearch/referenceSearch.js","../node_modules/monaco-editor/esm/vs/editor/browser/services/bulkEdit.js","../node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.js","../node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/tokenTree.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/tokenSelectionSupport.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/smartSelect.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetParser.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetVariables.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggest.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetController2.js","../node_modules/monaco-editor/esm/vs/base/common/filters.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/completionModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestMemory.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js","../node_modules/monaco-editor/esm/vs/base/common/comparers.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenModel.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/common/quickOpen.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenViewer.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenWidget.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOpenEditorWidget.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.js","../node_modules/monaco-editor/esm/vs/editor/contrib/quickOpen/quickOpen.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast.js","../sources/modules/features.ts","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionTrigger.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeAction.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionCommands.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionContributions.js","../node_modules/monaco-editor/esm/vs/editor/editor.all.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './bracketMatching.css';\nimport * as nls from '../../../nls.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Position } from '../../common/core/position.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\nimport { TrackedRangeStickiness, OverviewRulerLane } from '../../common/model.js';\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hc: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\nvar JumpToBracketAction = /** @class */ (function (_super) {\n    __extends(JumpToBracketAction, _super);\n    function JumpToBracketAction() {\n        return _super.call(this, {\n            id: 'editor.action.jumpToBracket',\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\n            alias: 'Go to Bracket',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */\n            }\n        }) || this;\n    }\n    JumpToBracketAction.prototype.run = function (accessor, editor) {\n        var controller = BracketMatchingController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.jumpToBracket();\n    };\n    return JumpToBracketAction;\n}(EditorAction));\nvar SelectToBracketAction = /** @class */ (function (_super) {\n    __extends(SelectToBracketAction, _super);\n    function SelectToBracketAction() {\n        return _super.call(this, {\n            id: 'editor.action.selectToBracket',\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\n            alias: 'Select to Bracket',\n            precondition: null\n        }) || this;\n    }\n    SelectToBracketAction.prototype.run = function (accessor, editor) {\n        var controller = BracketMatchingController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.selectToBracket();\n    };\n    return SelectToBracketAction;\n}(EditorAction));\nvar BracketsData = /** @class */ (function () {\n    function BracketsData(position, brackets) {\n        this.position = position;\n        this.brackets = brackets;\n    }\n    return BracketsData;\n}());\nvar BracketMatchingController = /** @class */ (function (_super) {\n    __extends(BracketMatchingController, _super);\n    function BracketMatchingController(editor) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._lastBracketsData = [];\n        _this._lastVersionId = 0;\n        _this._decorations = [];\n        _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () { return _this._updateBrackets(); }, 50));\n        _this._matchBrackets = _this._editor.getConfiguration().contribInfo.matchBrackets;\n        _this._updateBracketsSoon.schedule();\n        _this._register(editor.onDidChangeCursorPosition(function (e) {\n            if (!_this._matchBrackets) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            _this._updateBracketsSoon.schedule();\n        }));\n        _this._register(editor.onDidChangeModel(function (e) { _this._decorations = []; _this._updateBracketsSoon.schedule(); }));\n        _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\n            _this._lastBracketsData = [];\n            _this._updateBracketsSoon.schedule();\n        }));\n        _this._register(editor.onDidChangeConfiguration(function (e) {\n            _this._matchBrackets = _this._editor.getConfiguration().contribInfo.matchBrackets;\n            if (!_this._matchBrackets && _this._decorations.length > 0) {\n                // Remove existing decorations if bracket matching is off\n                _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\n            }\n            _this._updateBracketsSoon.schedule();\n        }));\n        return _this;\n    }\n    BracketMatchingController.get = function (editor) {\n        return editor.getContribution(BracketMatchingController.ID);\n    };\n    BracketMatchingController.prototype.getId = function () {\n        return BracketMatchingController.ID;\n    };\n    BracketMatchingController.prototype.jumpToBracket = function () {\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        var newSelections = this._editor.getSelections().map(function (selection) {\n            var position = selection.getStartPosition();\n            // find matching brackets if position is on a bracket\n            var brackets = model.matchBracket(position);\n            var newCursorPosition = null;\n            if (brackets) {\n                if (brackets[0].containsPosition(position)) {\n                    newCursorPosition = brackets[1].getStartPosition();\n                }\n                else if (brackets[1].containsPosition(position)) {\n                    newCursorPosition = brackets[0].getStartPosition();\n                }\n            }\n            else {\n                // find the next bracket if the position isn't on a matching bracket\n                var nextBracket = model.findNextBracket(position);\n                if (nextBracket && nextBracket.range) {\n                    newCursorPosition = nextBracket.range.getStartPosition();\n                }\n            }\n            if (newCursorPosition) {\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n            }\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\n        });\n        this._editor.setSelections(newSelections);\n        this._editor.revealRange(newSelections[0]);\n    };\n    BracketMatchingController.prototype.selectToBracket = function () {\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        var newSelections = [];\n        this._editor.getSelections().forEach(function (selection) {\n            var position = selection.getStartPosition();\n            var brackets = model.matchBracket(position);\n            var openBracket = null;\n            var closeBracket = null;\n            if (!brackets) {\n                var nextBracket = model.findNextBracket(position);\n                if (nextBracket && nextBracket.range) {\n                    brackets = model.matchBracket(nextBracket.range.getStartPosition());\n                }\n            }\n            if (brackets) {\n                if (brackets[0].startLineNumber === brackets[1].startLineNumber) {\n                    openBracket = brackets[1].startColumn < brackets[0].startColumn ?\n                        brackets[1].getStartPosition() : brackets[0].getStartPosition();\n                    closeBracket = brackets[1].startColumn < brackets[0].startColumn ?\n                        brackets[0].getEndPosition() : brackets[1].getEndPosition();\n                }\n                else {\n                    openBracket = brackets[1].startLineNumber < brackets[0].startLineNumber ?\n                        brackets[1].getStartPosition() : brackets[0].getStartPosition();\n                    closeBracket = brackets[1].startLineNumber < brackets[0].startLineNumber ?\n                        brackets[0].getEndPosition() : brackets[1].getEndPosition();\n                }\n            }\n            if (openBracket && closeBracket) {\n                newSelections.push(new Selection(openBracket.lineNumber, openBracket.column, closeBracket.lineNumber, closeBracket.column));\n            }\n        });\n        if (newSelections.length > 0) {\n            this._editor.setSelections(newSelections);\n            this._editor.revealRange(newSelections[0]);\n        }\n    };\n    BracketMatchingController.prototype._updateBrackets = function () {\n        if (!this._matchBrackets) {\n            return;\n        }\n        this._recomputeBrackets();\n        var newDecorations = [], newDecorationsLen = 0;\n        for (var i = 0, len = this._lastBracketsData.length; i < len; i++) {\n            var brackets = this._lastBracketsData[i].brackets;\n            if (brackets) {\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: BracketMatchingController._DECORATION_OPTIONS };\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: BracketMatchingController._DECORATION_OPTIONS };\n            }\n        }\n        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\n    };\n    BracketMatchingController.prototype._recomputeBrackets = function () {\n        var model = this._editor.getModel();\n        if (!model) {\n            // no model => no brackets!\n            this._lastBracketsData = [];\n            this._lastVersionId = 0;\n            return;\n        }\n        var versionId = model.getVersionId();\n        var previousData = [];\n        if (this._lastVersionId === versionId) {\n            // use the previous data only if the model is at the same version id\n            previousData = this._lastBracketsData;\n        }\n        var selections = this._editor.getSelections();\n        var positions = [], positionsLen = 0;\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var selection = selections[i];\n            if (selection.isEmpty()) {\n                // will bracket match a cursor only if the selection is collapsed\n                positions[positionsLen++] = selection.getStartPosition();\n            }\n        }\n        // sort positions for `previousData` cache hits\n        if (positions.length > 1) {\n            positions.sort(Position.compare);\n        }\n        var newData = [], newDataLen = 0;\n        var previousIndex = 0, previousLen = previousData.length;\n        for (var i = 0, len = positions.length; i < len; i++) {\n            var position = positions[i];\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\n                previousIndex++;\n            }\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\n                newData[newDataLen++] = previousData[previousIndex];\n            }\n            else {\n                var brackets = model.matchBracket(position);\n                newData[newDataLen++] = new BracketsData(position, brackets);\n            }\n        }\n        this._lastBracketsData = newData;\n        this._lastVersionId = versionId;\n    };\n    BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\n    BracketMatchingController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'bracket-match',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\n            darkColor: themeColorFromId(overviewRulerBracketMatchForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    return BracketMatchingController;\n}(Disposable));\nexport { BracketMatchingController };\nregisterEditorContribution(BracketMatchingController);\nregisterEditorAction(SelectToBracketAction);\nregisterEditorAction(JumpToBracketAction);\nregisterThemingParticipant(function (theme, collector) {\n    var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\n    if (bracketMatchBackground) {\n        collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\n    }\n    var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\n    if (bracketMatchBorder) {\n        collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range } from '../../common/core/range.js';\nvar MoveCaretCommand = /** @class */ (function () {\n    function MoveCaretCommand(selection, isMovingLeft) {\n        this._selection = selection;\n        this._isMovingLeft = isMovingLeft;\n    }\n    MoveCaretCommand.prototype.getEditOperations = function (model, builder) {\n        var s = this._selection;\n        this._selectionId = builder.trackSelection(s);\n        if (s.startLineNumber !== s.endLineNumber) {\n            return;\n        }\n        if (this._isMovingLeft && s.startColumn === 0) {\n            return;\n        }\n        else if (!this._isMovingLeft && s.endColumn === model.getLineMaxColumn(s.startLineNumber)) {\n            return;\n        }\n        var lineNumber = s.selectionStartLineNumber;\n        var lineContent = model.getLineContent(lineNumber);\n        var left;\n        var middle;\n        var right;\n        if (this._isMovingLeft) {\n            left = lineContent.substring(0, s.startColumn - 2);\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\n            right = lineContent.substring(s.startColumn - 2, s.startColumn - 1) + lineContent.substring(s.endColumn - 1);\n        }\n        else {\n            left = lineContent.substring(0, s.startColumn - 1) + lineContent.substring(s.endColumn - 1, s.endColumn);\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\n            right = lineContent.substring(s.endColumn);\n        }\n        var newLineContent = left + middle + right;\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, model.getLineMaxColumn(lineNumber)), null);\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), newLineContent);\n        this._cutStartIndex = s.startColumn + (this._isMovingLeft ? -1 : 1);\n        this._cutEndIndex = this._cutStartIndex + s.endColumn - s.startColumn;\n        this._moved = true;\n    };\n    MoveCaretCommand.prototype.computeCursorState = function (model, helper) {\n        var result = helper.getTrackedSelection(this._selectionId);\n        if (this._moved) {\n            result = result.setStartPosition(result.startLineNumber, this._cutStartIndex);\n            result = result.setEndPosition(result.startLineNumber, this._cutEndIndex);\n        }\n        return result;\n    };\n    return MoveCaretCommand;\n}());\nexport { MoveCaretCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { MoveCaretCommand } from './moveCaretCommand.js';\nvar MoveCaretAction = /** @class */ (function (_super) {\n    __extends(MoveCaretAction, _super);\n    function MoveCaretAction(left, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this.left = left;\n        return _this;\n    }\n    MoveCaretAction.prototype.run = function (accessor, editor) {\n        var commands = [];\n        var selections = editor.getSelections();\n        for (var i = 0; i < selections.length; i++) {\n            commands.push(new MoveCaretCommand(selections[i], this.left));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return MoveCaretAction;\n}(EditorAction));\nvar MoveCaretLeftAction = /** @class */ (function (_super) {\n    __extends(MoveCaretLeftAction, _super);\n    function MoveCaretLeftAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.moveCarretLeftAction',\n            label: nls.localize('caret.moveLeft', \"Move Caret Left\"),\n            alias: 'Move Caret Left',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return MoveCaretLeftAction;\n}(MoveCaretAction));\nvar MoveCaretRightAction = /** @class */ (function (_super) {\n    __extends(MoveCaretRightAction, _super);\n    function MoveCaretRightAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.moveCarretRightAction',\n            label: nls.localize('caret.moveRight', \"Move Caret Right\"),\n            alias: 'Move Caret Right',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return MoveCaretRightAction;\n}(MoveCaretAction));\nregisterEditorAction(MoveCaretLeftAction);\nregisterEditorAction(MoveCaretRightAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { isLowSurrogate, isHighSurrogate } from '../../../base/common/strings.js';\nimport { Range } from '../../common/core/range.js';\nimport { Position } from '../../common/core/position.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\nvar TransposeLettersAction = /** @class */ (function (_super) {\n    __extends(TransposeLettersAction, _super);\n    function TransposeLettersAction() {\n        return _super.call(this, {\n            id: 'editor.action.transposeLetters',\n            label: nls.localize('transposeLetters.label', \"Transpose Letters\"),\n            alias: 'Transpose Letters',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: {\n                    primary: 256 /* WinCtrl */ | 50 /* KEY_T */\n                }\n            }\n        }) || this;\n    }\n    TransposeLettersAction.prototype.positionLeftOf = function (start, model) {\n        var column = start.column;\n        var lineNumber = start.lineNumber;\n        if (column > model.getLineMinColumn(lineNumber)) {\n            if (isLowSurrogate(model.getLineContent(lineNumber).charCodeAt(column - 2))) {\n                // character before column is a low surrogate\n                column = column - 2;\n            }\n            else {\n                column = column - 1;\n            }\n        }\n        else if (lineNumber > 1) {\n            lineNumber = lineNumber - 1;\n            column = model.getLineMaxColumn(lineNumber);\n        }\n        return new Position(lineNumber, column);\n    };\n    TransposeLettersAction.prototype.positionRightOf = function (start, model) {\n        var column = start.column;\n        var lineNumber = start.lineNumber;\n        if (column < model.getLineMaxColumn(lineNumber)) {\n            if (isHighSurrogate(model.getLineContent(lineNumber).charCodeAt(column - 1))) {\n                // character after column is a high surrogate\n                column = column + 2;\n            }\n            else {\n                column = column + 1;\n            }\n        }\n        else if (lineNumber < model.getLineCount()) {\n            lineNumber = lineNumber + 1;\n            column = 0;\n        }\n        return new Position(lineNumber, column);\n    };\n    TransposeLettersAction.prototype.run = function (accessor, editor) {\n        var model = editor.getModel();\n        var commands = [];\n        var selections = editor.getSelections();\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\n            var selection = selections_1[_i];\n            if (!selection.isEmpty()) {\n                continue;\n            }\n            var lineNumber = selection.startLineNumber;\n            var column = selection.startColumn;\n            var lastColumn = model.getLineMaxColumn(lineNumber);\n            if (lineNumber === 1 && (column === 1 || (column === 2 && lastColumn === 2))) {\n                // at beginning of file, nothing to do\n                continue;\n            }\n            // handle special case: when at end of line, transpose left two chars\n            // otherwise, transpose left and right chars\n            var endPosition = (column === lastColumn) ?\n                selection.getPosition() :\n                this.positionRightOf(selection.getPosition(), model);\n            var middlePosition = this.positionLeftOf(endPosition, model);\n            var beginPosition = this.positionLeftOf(middlePosition, model);\n            var leftChar = model.getValueInRange(Range.fromPositions(beginPosition, middlePosition));\n            var rightChar = model.getValueInRange(Range.fromPositions(middlePosition, endPosition));\n            var replaceRange = Range.fromPositions(beginPosition, endPosition);\n            commands.push(new ReplaceCommand(replaceRange, rightChar + leftChar));\n        }\n        if (commands.length > 0) {\n            editor.pushUndoStop();\n            editor.executeCommands(this.id, commands);\n            editor.pushUndoStop();\n        }\n    };\n    return TransposeLettersAction;\n}(EditorAction));\nregisterEditorAction(TransposeLettersAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './clipboard.css';\nimport * as nls from '../../../nls.js';\nimport * as browser from '../../../base/browser/browser.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { CopyOptions } from '../../browser/controller/textAreaInput.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nvar CLIPBOARD_CONTEXT_MENU_GROUP = '9_cutcopypaste';\nvar supportsCut = (platform.isNative || document.queryCommandSupported('cut'));\nvar supportsCopy = (platform.isNative || document.queryCommandSupported('copy'));\n// IE and Edge have trouble with setting html content in clipboard\nvar supportsCopyWithSyntaxHighlighting = (supportsCopy && !browser.isEdgeOrIE);\n// Chrome incorrectly returns true for document.queryCommandSupported('paste')\n// when the paste feature is available but the calling script has insufficient\n// privileges to actually perform the action\nvar supportsPaste = (platform.isNative || (!browser.isChrome && document.queryCommandSupported('paste')));\nvar ExecCommandAction = /** @class */ (function (_super) {\n    __extends(ExecCommandAction, _super);\n    function ExecCommandAction(browserCommand, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this.browserCommand = browserCommand;\n        return _this;\n    }\n    ExecCommandAction.prototype.runCommand = function (accessor, args) {\n        var focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n        // Only if editor text focus (i.e. not if editor has widget focus).\n        if (focusedEditor && focusedEditor.isFocused()) {\n            focusedEditor.trigger('keyboard', this.id, args);\n            return;\n        }\n        document.execCommand(this.browserCommand);\n    };\n    ExecCommandAction.prototype.run = function (accessor, editor) {\n        editor.focus();\n        document.execCommand(this.browserCommand);\n    };\n    return ExecCommandAction;\n}(EditorAction));\nvar ExecCommandCutAction = /** @class */ (function (_super) {\n    __extends(ExecCommandCutAction, _super);\n    function ExecCommandCutAction() {\n        var _this = this;\n        var kbOpts = {\n            kbExpr: EditorContextKeys.textInputFocus,\n            primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */,\n            win: { primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */, secondary: [1024 /* Shift */ | 20 /* Delete */] }\n        };\n        // Do not bind cut keybindings in the browser,\n        // since browsers do that for us and it avoids security prompts\n        if (!platform.isNative) {\n            kbOpts = null;\n        }\n        _this = _super.call(this, 'cut', {\n            id: 'editor.action.clipboardCutAction',\n            label: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\n            alias: 'Cut',\n            precondition: EditorContextKeys.writable,\n            kbOpts: kbOpts,\n            menuOpts: {\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\n                order: 1\n            }\n        }) || this;\n        return _this;\n    }\n    ExecCommandCutAction.prototype.run = function (accessor, editor) {\n        var emptySelectionClipboard = editor.getConfiguration().emptySelectionClipboard;\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\n            return;\n        }\n        _super.prototype.run.call(this, accessor, editor);\n    };\n    return ExecCommandCutAction;\n}(ExecCommandAction));\nvar ExecCommandCopyAction = /** @class */ (function (_super) {\n    __extends(ExecCommandCopyAction, _super);\n    function ExecCommandCopyAction() {\n        var _this = this;\n        var kbOpts = {\n            kbExpr: EditorContextKeys.textInputFocus,\n            primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */,\n            win: { primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */, secondary: [2048 /* CtrlCmd */ | 19 /* Insert */] }\n        };\n        // Do not bind copy keybindings in the browser,\n        // since browsers do that for us and it avoids security prompts\n        if (!platform.isNative) {\n            kbOpts = null;\n        }\n        _this = _super.call(this, 'copy', {\n            id: 'editor.action.clipboardCopyAction',\n            label: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\n            alias: 'Copy',\n            precondition: null,\n            kbOpts: kbOpts,\n            menuOpts: {\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\n                order: 2\n            }\n        }) || this;\n        return _this;\n    }\n    ExecCommandCopyAction.prototype.run = function (accessor, editor) {\n        var emptySelectionClipboard = editor.getConfiguration().emptySelectionClipboard;\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\n            return;\n        }\n        _super.prototype.run.call(this, accessor, editor);\n    };\n    return ExecCommandCopyAction;\n}(ExecCommandAction));\nvar ExecCommandPasteAction = /** @class */ (function (_super) {\n    __extends(ExecCommandPasteAction, _super);\n    function ExecCommandPasteAction() {\n        var _this = this;\n        var kbOpts = {\n            kbExpr: EditorContextKeys.textInputFocus,\n            primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */,\n            win: { primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */, secondary: [1024 /* Shift */ | 19 /* Insert */] }\n        };\n        // Do not bind paste keybindings in the browser,\n        // since browsers do that for us and it avoids security prompts\n        if (!platform.isNative) {\n            kbOpts = null;\n        }\n        _this = _super.call(this, 'paste', {\n            id: 'editor.action.clipboardPasteAction',\n            label: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\n            alias: 'Paste',\n            precondition: EditorContextKeys.writable,\n            kbOpts: kbOpts,\n            menuOpts: {\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\n                order: 3\n            }\n        }) || this;\n        return _this;\n    }\n    return ExecCommandPasteAction;\n}(ExecCommandAction));\nvar ExecCommandCopyWithSyntaxHighlightingAction = /** @class */ (function (_super) {\n    __extends(ExecCommandCopyWithSyntaxHighlightingAction, _super);\n    function ExecCommandCopyWithSyntaxHighlightingAction() {\n        return _super.call(this, 'copy', {\n            id: 'editor.action.clipboardCopyWithSyntaxHighlightingAction',\n            label: nls.localize('actions.clipboard.copyWithSyntaxHighlightingLabel', \"Copy With Syntax Highlighting\"),\n            alias: 'Copy With Syntax Highlighting',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: null\n            }\n        }) || this;\n    }\n    ExecCommandCopyWithSyntaxHighlightingAction.prototype.run = function (accessor, editor) {\n        var emptySelectionClipboard = editor.getConfiguration().emptySelectionClipboard;\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\n            return;\n        }\n        CopyOptions.forceCopyWithSyntaxHighlighting = true;\n        _super.prototype.run.call(this, accessor, editor);\n        CopyOptions.forceCopyWithSyntaxHighlighting = false;\n    };\n    return ExecCommandCopyWithSyntaxHighlightingAction;\n}(ExecCommandAction));\nif (supportsCut) {\n    registerEditorAction(ExecCommandCutAction);\n}\nif (supportsCopy) {\n    registerEditorAction(ExecCommandCopyAction);\n}\nif (supportsPaste) {\n    registerEditorAction(ExecCommandPasteAction);\n}\nif (supportsCopyWithSyntaxHighlighting) {\n    registerEditorAction(ExecCommandCopyWithSyntaxHighlightingAction);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { mergeSort } from '../../../base/common/arrays.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nexport function getCodeLensData(model) {\n    var symbols = [];\n    var provider = CodeLensProviderRegistry.ordered(model);\n    var promises = provider.map(function (provider) { return asWinJsPromise(function (token) { return provider.provideCodeLenses(model, token); }).then(function (result) {\n        if (Array.isArray(result)) {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var symbol = result_1[_i];\n                symbols.push({ symbol: symbol, provider: provider });\n            }\n        }\n    }, onUnexpectedExternalError); });\n    return TPromise.join(promises).then(function () {\n        return mergeSort(symbols, function (a, b) {\n            // sort by lineNumber, provider-rank, and column\n            if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\n                return -1;\n            }\n            else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\n                return 1;\n            }\n            else if (provider.indexOf(a.provider) < provider.indexOf(b.provider)) {\n                return -1;\n            }\n            else if (provider.indexOf(a.provider) > provider.indexOf(b.provider)) {\n                return 1;\n            }\n            else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\n                return -1;\n            }\n            else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n    });\n}\nregisterLanguageCommand('_executeCodeLensProvider', function (accessor, args) {\n    var resource = args.resource, itemResolveCount = args.itemResolveCount;\n    if (!(resource instanceof URI)) {\n        throw illegalArgument();\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument();\n    }\n    var result = [];\n    return getCodeLensData(model).then(function (value) {\n        var resolve = [];\n        for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n            var item = value_1[_i];\n            if (typeof itemResolveCount === 'undefined' || Boolean(item.symbol.command)) {\n                result.push(item.symbol);\n            }\n            else if (itemResolveCount-- > 0) {\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(function (symbol) { return result.push(symbol); }));\n            }\n        }\n        return Promise.all(resolve);\n    }).then(function () {\n        return result;\n    });\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './codelensWidget.css';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { format, escape } from '../../../base/common/strings.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { Range } from '../../common/core/range.js';\nimport * as editorBrowser from '../../browser/editorBrowser.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { editorCodeLensForeground } from '../../common/view/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\nvar CodeLensViewZone = /** @class */ (function () {\n    function CodeLensViewZone(afterLineNumber, onHeight) {\n        this.afterLineNumber = afterLineNumber;\n        this._onHeight = onHeight;\n        this.heightInLines = 1;\n        this.suppressMouseDown = true;\n        this.domNode = document.createElement('div');\n    }\n    CodeLensViewZone.prototype.onComputedHeight = function (height) {\n        if (this._lastHeight === undefined) {\n            this._lastHeight = height;\n        }\n        else if (this._lastHeight !== height) {\n            this._lastHeight = height;\n            this._onHeight();\n        }\n    };\n    return CodeLensViewZone;\n}());\nvar CodeLensContentWidget = /** @class */ (function () {\n    function CodeLensContentWidget(editor, symbolRange, commandService, notificationService) {\n        var _this = this;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = false;\n        this.suppressMouseDown = true;\n        this._disposables = [];\n        this._commands = Object.create(null);\n        this._id = 'codeLensWidget' + (++CodeLensContentWidget._idPool);\n        this._editor = editor;\n        this.setSymbolRange(symbolRange);\n        this._domNode = document.createElement('span');\n        this._domNode.innerHTML = '&nbsp;';\n        dom.addClass(this._domNode, 'codelens-decoration');\n        dom.addClass(this._domNode, 'invisible-cl');\n        this._updateHeight();\n        this._disposables.push(this._editor.onDidChangeConfiguration(function (e) { return e.fontInfo && _this._updateHeight(); }));\n        this._disposables.push(dom.addDisposableListener(this._domNode, 'click', function (e) {\n            var element = e.target;\n            if (element.tagName === 'A' && element.id) {\n                var command = _this._commands[element.id];\n                if (command) {\n                    editor.focus();\n                    commandService.executeCommand.apply(commandService, [command.id].concat(command.arguments)).done(undefined, function (err) {\n                        notificationService.error(err);\n                    });\n                }\n            }\n        }));\n        this.updateVisibility();\n    }\n    CodeLensContentWidget.prototype.dispose = function () {\n        dispose(this._disposables);\n    };\n    CodeLensContentWidget.prototype._updateHeight = function () {\n        var _a = this._editor.getConfiguration(), fontInfo = _a.fontInfo, lineHeight = _a.lineHeight;\n        this._domNode.style.height = Math.round(lineHeight * 1.1) + \"px\";\n        this._domNode.style.lineHeight = lineHeight + \"px\";\n        this._domNode.style.fontSize = Math.round(fontInfo.fontSize * .9) + \"px\";\n        this._domNode.innerHTML = '&nbsp;';\n    };\n    CodeLensContentWidget.prototype.updateVisibility = function () {\n        if (this.isVisible()) {\n            dom.removeClass(this._domNode, 'invisible-cl');\n            dom.addClass(this._domNode, 'fadein');\n        }\n    };\n    CodeLensContentWidget.prototype.withCommands = function (symbols) {\n        this._commands = Object.create(null);\n        if (!symbols || !symbols.length) {\n            this._domNode.innerHTML = 'no commands';\n            return;\n        }\n        var html = [];\n        for (var i = 0; i < symbols.length; i++) {\n            var command = symbols[i].command;\n            var title = escape(command.title);\n            var part = void 0;\n            if (command.id) {\n                part = format('<a id={0}>{1}</a>', i, title);\n                this._commands[i] = command;\n            }\n            else {\n                part = format('<span>{0}</span>', title);\n            }\n            html.push(part);\n        }\n        this._domNode.innerHTML = html.join('<span>&nbsp;|&nbsp;</span>');\n        this._editor.layoutContentWidget(this);\n    };\n    CodeLensContentWidget.prototype.getId = function () {\n        return this._id;\n    };\n    CodeLensContentWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    CodeLensContentWidget.prototype.setSymbolRange = function (range) {\n        var lineNumber = range.startLineNumber;\n        var column = this._editor.getModel().getLineFirstNonWhitespaceColumn(lineNumber);\n        this._widgetPosition = {\n            position: { lineNumber: lineNumber, column: column },\n            preference: [editorBrowser.ContentWidgetPositionPreference.ABOVE]\n        };\n    };\n    CodeLensContentWidget.prototype.getPosition = function () {\n        return this._widgetPosition;\n    };\n    CodeLensContentWidget.prototype.isVisible = function () {\n        return this._domNode.hasAttribute('monaco-visible-content-widget');\n    };\n    CodeLensContentWidget._idPool = 0;\n    return CodeLensContentWidget;\n}());\nvar CodeLensHelper = /** @class */ (function () {\n    function CodeLensHelper() {\n        this._removeDecorations = [];\n        this._addDecorations = [];\n        this._addDecorationsCallbacks = [];\n    }\n    CodeLensHelper.prototype.addDecoration = function (decoration, callback) {\n        this._addDecorations.push(decoration);\n        this._addDecorationsCallbacks.push(callback);\n    };\n    CodeLensHelper.prototype.removeDecoration = function (decorationId) {\n        this._removeDecorations.push(decorationId);\n    };\n    CodeLensHelper.prototype.commit = function (changeAccessor) {\n        var resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\n        for (var i = 0, len = resultingDecorations.length; i < len; i++) {\n            this._addDecorationsCallbacks[i](resultingDecorations[i]);\n        }\n    };\n    return CodeLensHelper;\n}());\nexport { CodeLensHelper };\nvar CodeLens = /** @class */ (function () {\n    function CodeLens(data, editor, helper, viewZoneChangeAccessor, commandService, notificationService, updateCallabck) {\n        var _this = this;\n        this._editor = editor;\n        this._data = data;\n        this._decorationIds = new Array(this._data.length);\n        var range;\n        this._data.forEach(function (codeLensData, i) {\n            helper.addDecoration({\n                range: codeLensData.symbol.range,\n                options: ModelDecorationOptions.EMPTY\n            }, function (id) { return _this._decorationIds[i] = id; });\n            // the range contains all lenses on this line\n            if (!range) {\n                range = Range.lift(codeLensData.symbol.range);\n            }\n            else {\n                range = Range.plusRange(range, codeLensData.symbol.range);\n            }\n        });\n        this._contentWidget = new CodeLensContentWidget(editor, range, commandService, notificationService);\n        this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, updateCallabck);\n        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\n        this._editor.addContentWidget(this._contentWidget);\n    }\n    CodeLens.prototype.dispose = function (helper, viewZoneChangeAccessor) {\n        while (this._decorationIds.length) {\n            helper.removeDecoration(this._decorationIds.pop());\n        }\n        if (viewZoneChangeAccessor) {\n            viewZoneChangeAccessor.removeZone(this._viewZoneId);\n        }\n        this._editor.removeContentWidget(this._contentWidget);\n        this._contentWidget.dispose();\n    };\n    CodeLens.prototype.isValid = function () {\n        var _this = this;\n        return this._decorationIds.some(function (id, i) {\n            var range = _this._editor.getModel().getDecorationRange(id);\n            var symbol = _this._data[i].symbol;\n            return range && Range.isEmpty(symbol.range) === range.isEmpty();\n        });\n    };\n    CodeLens.prototype.updateCodeLensSymbols = function (data, helper) {\n        var _this = this;\n        while (this._decorationIds.length) {\n            helper.removeDecoration(this._decorationIds.pop());\n        }\n        this._data = data;\n        this._decorationIds = new Array(this._data.length);\n        this._data.forEach(function (codeLensData, i) {\n            helper.addDecoration({\n                range: codeLensData.symbol.range,\n                options: ModelDecorationOptions.EMPTY\n            }, function (id) { return _this._decorationIds[i] = id; });\n        });\n    };\n    CodeLens.prototype.computeIfNecessary = function (model) {\n        this._contentWidget.updateVisibility(); // trigger the fade in\n        if (!this._contentWidget.isVisible()) {\n            return null;\n        }\n        // Read editor current state\n        for (var i = 0; i < this._decorationIds.length; i++) {\n            this._data[i].symbol.range = model.getDecorationRange(this._decorationIds[i]);\n        }\n        return this._data;\n    };\n    CodeLens.prototype.updateCommands = function (symbols) {\n        this._contentWidget.withCommands(symbols);\n    };\n    CodeLens.prototype.getLineNumber = function () {\n        var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n        if (range) {\n            return range.startLineNumber;\n        }\n        return -1;\n    };\n    CodeLens.prototype.update = function (viewZoneChangeAccessor) {\n        if (this.isValid()) {\n            var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n            this._viewZone.afterLineNumber = range.startLineNumber - 1;\n            viewZoneChangeAccessor.layoutZone(this._viewZoneId);\n            this._contentWidget.setSymbolRange(range);\n            this._editor.layoutContentWidget(this._contentWidget);\n        }\n    };\n    return CodeLens;\n}());\nexport { CodeLens };\nregisterThemingParticipant(function (theme, collector) {\n    var codeLensForeground = theme.getColor(editorCodeLensForeground);\n    if (codeLensForeground) {\n        collector.addRule(\".monaco-editor .codelens-decoration { color: \" + codeLensForeground + \"; }\");\n    }\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\n    if (activeLinkForeground) {\n        collector.addRule(\".monaco-editor .codelens-decoration > a:hover { color: \" + activeLinkForeground + \" !important; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler, asWinJsPromise } from '../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { getCodeLensData } from './codelens.js';\nimport { CodeLens, CodeLensHelper } from './codelensWidget.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { StableEditorScrollState } from '../../browser/core/editorState.js';\nvar CodeLensContribution = /** @class */ (function () {\n    function CodeLensContribution(_editor, _commandService, _notificationService) {\n        var _this = this;\n        this._editor = _editor;\n        this._commandService = _commandService;\n        this._notificationService = _notificationService;\n        this._isEnabled = this._editor.getConfiguration().contribInfo.codeLens;\n        this._globalToDispose = [];\n        this._localToDispose = [];\n        this._lenses = [];\n        this._currentFindCodeLensSymbolsPromise = null;\n        this._modelChangeCounter = 0;\n        this._globalToDispose.push(this._editor.onDidChangeModel(function () { return _this._onModelChange(); }));\n        this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function () { return _this._onModelChange(); }));\n        this._globalToDispose.push(this._editor.onDidChangeConfiguration(function (e) {\n            var prevIsEnabled = _this._isEnabled;\n            _this._isEnabled = _this._editor.getConfiguration().contribInfo.codeLens;\n            if (prevIsEnabled !== _this._isEnabled) {\n                _this._onModelChange();\n            }\n        }));\n        this._globalToDispose.push(CodeLensProviderRegistry.onDidChange(this._onModelChange, this));\n        this._onModelChange();\n    }\n    CodeLensContribution.prototype.dispose = function () {\n        this._localDispose();\n        this._globalToDispose = dispose(this._globalToDispose);\n    };\n    CodeLensContribution.prototype._localDispose = function () {\n        if (this._currentFindCodeLensSymbolsPromise) {\n            this._currentFindCodeLensSymbolsPromise.cancel();\n            this._currentFindCodeLensSymbolsPromise = null;\n            this._modelChangeCounter++;\n        }\n        if (this._currentFindOccPromise) {\n            this._currentFindOccPromise.cancel();\n            this._currentFindOccPromise = null;\n        }\n        this._localToDispose = dispose(this._localToDispose);\n    };\n    CodeLensContribution.prototype.getId = function () {\n        return CodeLensContribution.ID;\n    };\n    CodeLensContribution.prototype._onModelChange = function () {\n        var _this = this;\n        this._localDispose();\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        if (!this._isEnabled) {\n            return;\n        }\n        if (!CodeLensProviderRegistry.has(model)) {\n            return;\n        }\n        for (var _i = 0, _a = CodeLensProviderRegistry.all(model); _i < _a.length; _i++) {\n            var provider = _a[_i];\n            if (typeof provider.onDidChange === 'function') {\n                var registration = provider.onDidChange(function () { return scheduler.schedule(); });\n                this._localToDispose.push(registration);\n            }\n        }\n        this._detectVisibleLenses = new RunOnceScheduler(function () {\n            _this._onViewportChanged();\n        }, 500);\n        var scheduler = new RunOnceScheduler(function () {\n            var counterValue = ++_this._modelChangeCounter;\n            if (_this._currentFindCodeLensSymbolsPromise) {\n                _this._currentFindCodeLensSymbolsPromise.cancel();\n            }\n            _this._currentFindCodeLensSymbolsPromise = getCodeLensData(model);\n            _this._currentFindCodeLensSymbolsPromise.then(function (result) {\n                if (counterValue === _this._modelChangeCounter) { // only the last one wins\n                    _this._renderCodeLensSymbols(result);\n                    _this._detectVisibleLenses.schedule();\n                }\n            }, onUnexpectedError);\n        }, 250);\n        this._localToDispose.push(scheduler);\n        this._localToDispose.push(this._detectVisibleLenses);\n        this._localToDispose.push(this._editor.onDidChangeModelContent(function (e) {\n            _this._editor.changeDecorations(function (changeAccessor) {\n                _this._editor.changeViewZones(function (viewAccessor) {\n                    var toDispose = [];\n                    var lastLensLineNumber = -1;\n                    _this._lenses.forEach(function (lens) {\n                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\n                            // invalid -> lens collapsed, attach range doesn't exist anymore\n                            // line_number -> lenses should never be on the same line\n                            toDispose.push(lens);\n                        }\n                        else {\n                            lens.update(viewAccessor);\n                            lastLensLineNumber = lens.getLineNumber();\n                        }\n                    });\n                    var helper = new CodeLensHelper();\n                    toDispose.forEach(function (l) {\n                        l.dispose(helper, viewAccessor);\n                        _this._lenses.splice(_this._lenses.indexOf(l), 1);\n                    });\n                    helper.commit(changeAccessor);\n                });\n            });\n            // Compute new `visible` code lenses\n            _this._detectVisibleLenses.schedule();\n            // Ask for all references again\n            scheduler.schedule();\n        }));\n        this._localToDispose.push(this._editor.onDidScrollChange(function (e) {\n            if (e.scrollTopChanged && _this._lenses.length > 0) {\n                _this._detectVisibleLenses.schedule();\n            }\n        }));\n        this._localToDispose.push(this._editor.onDidLayoutChange(function (e) {\n            _this._detectVisibleLenses.schedule();\n        }));\n        this._localToDispose.push({\n            dispose: function () {\n                if (_this._editor.getModel()) {\n                    var scrollState = StableEditorScrollState.capture(_this._editor);\n                    _this._editor.changeDecorations(function (changeAccessor) {\n                        _this._editor.changeViewZones(function (accessor) {\n                            _this._disposeAllLenses(changeAccessor, accessor);\n                        });\n                    });\n                    scrollState.restore(_this._editor);\n                }\n                else {\n                    // No accessors available\n                    _this._disposeAllLenses(null, null);\n                }\n            }\n        });\n        scheduler.schedule();\n    };\n    CodeLensContribution.prototype._disposeAllLenses = function (decChangeAccessor, viewZoneChangeAccessor) {\n        var helper = new CodeLensHelper();\n        this._lenses.forEach(function (lens) { return lens.dispose(helper, viewZoneChangeAccessor); });\n        if (decChangeAccessor) {\n            helper.commit(decChangeAccessor);\n        }\n        this._lenses = [];\n    };\n    CodeLensContribution.prototype._renderCodeLensSymbols = function (symbols) {\n        var _this = this;\n        if (!this._editor.getModel()) {\n            return;\n        }\n        var maxLineNumber = this._editor.getModel().getLineCount();\n        var groups = [];\n        var lastGroup;\n        for (var _i = 0, symbols_1 = symbols; _i < symbols_1.length; _i++) {\n            var symbol = symbols_1[_i];\n            var line = symbol.symbol.range.startLineNumber;\n            if (line < 1 || line > maxLineNumber) {\n                // invalid code lens\n                continue;\n            }\n            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\n                // on same line as previous\n                lastGroup.push(symbol);\n            }\n            else {\n                // on later line as previous\n                lastGroup = [symbol];\n                groups.push(lastGroup);\n            }\n        }\n        var scrollState = StableEditorScrollState.capture(this._editor);\n        this._editor.changeDecorations(function (changeAccessor) {\n            _this._editor.changeViewZones(function (accessor) {\n                var codeLensIndex = 0, groupsIndex = 0, helper = new CodeLensHelper();\n                while (groupsIndex < groups.length && codeLensIndex < _this._lenses.length) {\n                    var symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\n                    var codeLensLineNumber = _this._lenses[codeLensIndex].getLineNumber();\n                    if (codeLensLineNumber < symbolsLineNumber) {\n                        _this._lenses[codeLensIndex].dispose(helper, accessor);\n                        _this._lenses.splice(codeLensIndex, 1);\n                    }\n                    else if (codeLensLineNumber === symbolsLineNumber) {\n                        _this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\n                        groupsIndex++;\n                        codeLensIndex++;\n                    }\n                    else {\n                        _this._lenses.splice(codeLensIndex, 0, new CodeLens(groups[groupsIndex], _this._editor, helper, accessor, _this._commandService, _this._notificationService, function () { return _this._detectVisibleLenses.schedule(); }));\n                        codeLensIndex++;\n                        groupsIndex++;\n                    }\n                }\n                // Delete extra code lenses\n                while (codeLensIndex < _this._lenses.length) {\n                    _this._lenses[codeLensIndex].dispose(helper, accessor);\n                    _this._lenses.splice(codeLensIndex, 1);\n                }\n                // Create extra symbols\n                while (groupsIndex < groups.length) {\n                    _this._lenses.push(new CodeLens(groups[groupsIndex], _this._editor, helper, accessor, _this._commandService, _this._notificationService, function () { return _this._detectVisibleLenses.schedule(); }));\n                    groupsIndex++;\n                }\n                helper.commit(changeAccessor);\n            });\n        });\n        scrollState.restore(this._editor);\n    };\n    CodeLensContribution.prototype._onViewportChanged = function () {\n        var _this = this;\n        if (this._currentFindOccPromise) {\n            this._currentFindOccPromise.cancel();\n            this._currentFindOccPromise = null;\n        }\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        var toResolve = [];\n        var lenses = [];\n        this._lenses.forEach(function (lens) {\n            var request = lens.computeIfNecessary(model);\n            if (request) {\n                toResolve.push(request);\n                lenses.push(lens);\n            }\n        });\n        if (toResolve.length === 0) {\n            return;\n        }\n        var promises = toResolve.map(function (request, i) {\n            var resolvedSymbols = new Array(request.length);\n            var promises = request.map(function (request, i) {\n                if (typeof request.provider.resolveCodeLens === 'function') {\n                    return asWinJsPromise(function (token) {\n                        return request.provider.resolveCodeLens(model, request.symbol, token);\n                    }).then(function (symbol) {\n                        resolvedSymbols[i] = symbol;\n                    });\n                }\n                resolvedSymbols[i] = request.symbol;\n                return TPromise.as(void 0);\n            });\n            return TPromise.join(promises).then(function () {\n                lenses[i].updateCommands(resolvedSymbols);\n            });\n        });\n        this._currentFindOccPromise = TPromise.join(promises).then(function () {\n            _this._currentFindOccPromise = null;\n        });\n    };\n    CodeLensContribution.ID = 'css.editor.codeLens';\n    CodeLensContribution = __decorate([\n        __param(1, ICommandService),\n        __param(2, INotificationService)\n    ], CodeLensContribution);\n    return CodeLensContribution;\n}());\nexport { CodeLensContribution };\nregisterEditorContribution(CodeLensContribution);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { ColorProviderRegistry } from '../../common/modes.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { Range } from '../../common/core/range.js';\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { IModelService } from '../../common/services/modelService.js';\nexport function getColors(model) {\n    var colors = [];\n    var providers = ColorProviderRegistry.ordered(model).reverse();\n    var promises = providers.map(function (provider) { return asWinJsPromise(function (token) { return provider.provideDocumentColors(model, token); }).then(function (result) {\n        if (Array.isArray(result)) {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var colorInfo = result_1[_i];\n                colors.push({ colorInfo: colorInfo, provider: provider });\n            }\n        }\n    }); });\n    return TPromise.join(promises).then(function () { return colors; });\n}\nexport function getColorPresentations(model, colorInfo, provider) {\n    return asWinJsPromise(function (token) { return provider.provideColorPresentations(model, colorInfo, token); });\n}\nregisterLanguageCommand('_executeDocumentColorProvider', function (accessor, args) {\n    var resource = args.resource;\n    if (!(resource instanceof URI)) {\n        throw illegalArgument();\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument();\n    }\n    var rawCIs = [];\n    var providers = ColorProviderRegistry.ordered(model).reverse();\n    var promises = providers.map(function (provider) { return asWinJsPromise(function (token) { return provider.provideDocumentColors(model, token); }).then(function (result) {\n        if (Array.isArray(result)) {\n            for (var _i = 0, result_2 = result; _i < result_2.length; _i++) {\n                var ci = result_2[_i];\n                rawCIs.push({ range: ci.range, color: [ci.color.red, ci.color.green, ci.color.blue, ci.color.alpha] });\n            }\n        }\n    }); });\n    return TPromise.join(promises).then(function () { return rawCIs; });\n});\nregisterLanguageCommand('_executeColorPresentationProvider', function (accessor, args) {\n    var resource = args.resource, color = args.color, range = args.range;\n    if (!(resource instanceof URI) || !Array.isArray(color) || color.length !== 4 || !Range.isIRange(range)) {\n        throw illegalArgument();\n    }\n    var red = color[0], green = color[1], blue = color[2], alpha = color[3];\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument();\n    }\n    var colorInfo = {\n        range: range,\n        color: { red: red, green: green, blue: blue, alpha: alpha }\n    };\n    var presentations = [];\n    var providers = ColorProviderRegistry.ordered(model).reverse();\n    var promises = providers.map(function (provider) { return asWinJsPromise(function (token) { return provider.provideColorPresentations(model, colorInfo, token); }).then(function (result) {\n        if (Array.isArray(result)) {\n            presentations.push.apply(presentations, result);\n        }\n    }); });\n    return TPromise.join(promises).then(function () { return presentations; });\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RGBA } from '../../../base/common/color.js';\nimport { hash } from '../../../base/common/hash.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { Range } from '../../common/core/range.js';\nimport { ColorProviderRegistry } from '../../common/modes.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { getColors } from './color.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nvar MAX_DECORATORS = 500;\nvar ColorDetector = /** @class */ (function () {\n    function ColorDetector(_editor, _codeEditorService, _configurationService) {\n        var _this = this;\n        this._editor = _editor;\n        this._codeEditorService = _codeEditorService;\n        this._configurationService = _configurationService;\n        this._globalToDispose = [];\n        this._localToDispose = [];\n        this._decorationsIds = [];\n        this._colorDatas = new Map();\n        this._colorDecoratorIds = [];\n        this._decorationsTypes = {};\n        this._globalToDispose.push(_editor.onDidChangeModel(function (e) {\n            _this._isEnabled = _this.isEnabled();\n            _this.onModelChanged();\n        }));\n        this._globalToDispose.push(_editor.onDidChangeModelLanguage(function (e) { return _this.onModelChanged(); }));\n        this._globalToDispose.push(ColorProviderRegistry.onDidChange(function (e) { return _this.onModelChanged(); }));\n        this._globalToDispose.push(_editor.onDidChangeConfiguration(function (e) {\n            var prevIsEnabled = _this._isEnabled;\n            _this._isEnabled = _this.isEnabled();\n            if (prevIsEnabled !== _this._isEnabled) {\n                if (_this._isEnabled) {\n                    _this.onModelChanged();\n                }\n                else {\n                    _this.removeAllDecorations();\n                }\n            }\n        }));\n        this._timeoutPromise = null;\n        this._computePromise = null;\n        this._isEnabled = this.isEnabled();\n        this.onModelChanged();\n    }\n    ColorDetector.prototype.isEnabled = function () {\n        var model = this._editor.getModel();\n        if (!model) {\n            return false;\n        }\n        var languageId = model.getLanguageIdentifier();\n        // handle deprecated settings. [languageId].colorDecorators.enable\n        var deprecatedConfig = this._configurationService.getValue(languageId.language);\n        if (deprecatedConfig) {\n            var colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n                return colorDecorators['enable'];\n            }\n        }\n        return this._editor.getConfiguration().contribInfo.colorDecorators;\n    };\n    ColorDetector.prototype.getId = function () {\n        return ColorDetector.ID;\n    };\n    ColorDetector.get = function (editor) {\n        return editor.getContribution(this.ID);\n    };\n    ColorDetector.prototype.dispose = function () {\n        this.stop();\n        this.removeAllDecorations();\n        this._globalToDispose = dispose(this._globalToDispose);\n    };\n    ColorDetector.prototype.onModelChanged = function () {\n        var _this = this;\n        this.stop();\n        if (!this._isEnabled) {\n            return;\n        }\n        var model = this._editor.getModel();\n        // if (!model) {\n        // \treturn;\n        // }\n        if (!ColorProviderRegistry.has(model)) {\n            return;\n        }\n        this._localToDispose.push(this._editor.onDidChangeModelContent(function (e) {\n            if (!_this._timeoutPromise) {\n                _this._timeoutPromise = TPromise.timeout(ColorDetector.RECOMPUTE_TIME);\n                _this._timeoutPromise.then(function () {\n                    _this._timeoutPromise = null;\n                    _this.beginCompute();\n                });\n            }\n        }));\n        this.beginCompute();\n    };\n    ColorDetector.prototype.beginCompute = function () {\n        var _this = this;\n        this._computePromise = getColors(this._editor.getModel()).then(function (colorInfos) {\n            _this.updateDecorations(colorInfos);\n            _this.updateColorDecorators(colorInfos);\n            _this._computePromise = null;\n        });\n    };\n    ColorDetector.prototype.stop = function () {\n        if (this._timeoutPromise) {\n            this._timeoutPromise.cancel();\n            this._timeoutPromise = null;\n        }\n        if (this._computePromise) {\n            this._computePromise.cancel();\n            this._computePromise = null;\n        }\n        this._localToDispose = dispose(this._localToDispose);\n    };\n    ColorDetector.prototype.updateDecorations = function (colorDatas) {\n        var _this = this;\n        var decorations = colorDatas.map(function (c) { return ({\n            range: {\n                startLineNumber: c.colorInfo.range.startLineNumber,\n                startColumn: c.colorInfo.range.startColumn,\n                endLineNumber: c.colorInfo.range.endLineNumber,\n                endColumn: c.colorInfo.range.endColumn\n            },\n            options: ModelDecorationOptions.EMPTY\n        }); });\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, decorations);\n        this._colorDatas = new Map();\n        this._decorationsIds.forEach(function (id, i) { return _this._colorDatas.set(id, colorDatas[i]); });\n    };\n    ColorDetector.prototype.updateColorDecorators = function (colorData) {\n        var decorations = [];\n        var newDecorationsTypes = {};\n        for (var i = 0; i < colorData.length && decorations.length < MAX_DECORATORS; i++) {\n            var _a = colorData[i].colorInfo.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\n            var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n            var subKey = hash(rgba).toString(16);\n            var color = \"rgba(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \", \" + rgba.a + \")\";\n            var key = 'colorBox-' + subKey;\n            if (!this._decorationsTypes[key] && !newDecorationsTypes[key]) {\n                this._codeEditorService.registerDecorationType(key, {\n                    before: {\n                        contentText: ' ',\n                        border: 'solid 0.1em #000',\n                        margin: '0.1em 0.2em 0 0.2em',\n                        width: '0.8em',\n                        height: '0.8em',\n                        backgroundColor: color\n                    },\n                    dark: {\n                        before: {\n                            border: 'solid 0.1em #eee'\n                        }\n                    }\n                });\n            }\n            newDecorationsTypes[key] = true;\n            decorations.push({\n                range: {\n                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,\n                    startColumn: colorData[i].colorInfo.range.startColumn,\n                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,\n                    endColumn: colorData[i].colorInfo.range.endColumn\n                },\n                options: this._codeEditorService.resolveDecorationOptions(key, true)\n            });\n        }\n        for (var subType in this._decorationsTypes) {\n            if (!newDecorationsTypes[subType]) {\n                this._codeEditorService.removeDecorationType(subType);\n            }\n        }\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, decorations);\n    };\n    ColorDetector.prototype.removeAllDecorations = function () {\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, []);\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, []);\n        for (var subType in this._decorationsTypes) {\n            this._codeEditorService.removeDecorationType(subType);\n        }\n    };\n    ColorDetector.prototype.getColorData = function (position) {\n        var _this = this;\n        var decorations = this._editor.getModel()\n            .getDecorationsInRange(Range.fromPositions(position, position))\n            .filter(function (d) { return _this._colorDatas.has(d.id); });\n        if (decorations.length === 0) {\n            return null;\n        }\n        return this._colorDatas.get(decorations[0].id);\n    };\n    ColorDetector.ID = 'editor.contrib.colorDetector';\n    ColorDetector.RECOMPUTE_TIME = 1000; // ms\n    ColorDetector = __decorate([\n        __param(1, ICodeEditorService),\n        __param(2, IConfigurationService)\n    ], ColorDetector);\n    return ColorDetector;\n}());\nexport { ColorDetector };\nregisterEditorContribution(ColorDetector);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nvar BlockCommentCommand = /** @class */ (function () {\n    function BlockCommentCommand(selection) {\n        this._selection = selection;\n        this._usedEndToken = null;\n    }\n    BlockCommentCommand._haystackHasNeedleAtOffset = function (haystack, needle, offset) {\n        if (offset < 0) {\n            return false;\n        }\n        var needleLength = needle.length;\n        var haystackLength = haystack.length;\n        if (offset + needleLength > haystackLength) {\n            return false;\n        }\n        for (var i = 0; i < needleLength; i++) {\n            var codeA = haystack.charCodeAt(offset + i);\n            var codeB = needle.charCodeAt(i);\n            if (codeA === codeB) {\n                continue;\n            }\n            if (codeA >= 65 /* A */ && codeA <= 90 /* Z */ && codeA + 32 === codeB) {\n                // codeA is upper-case variant of codeB\n                continue;\n            }\n            if (codeB >= 65 /* A */ && codeB <= 90 /* Z */ && codeB + 32 === codeA) {\n                // codeB is upper-case variant of codeA\n                continue;\n            }\n            return false;\n        }\n        return true;\n    };\n    BlockCommentCommand.prototype._createOperationsForBlockComment = function (selection, config, model, builder) {\n        var startLineNumber = selection.startLineNumber;\n        var startColumn = selection.startColumn;\n        var endLineNumber = selection.endLineNumber;\n        var endColumn = selection.endColumn;\n        var startLineText = model.getLineContent(startLineNumber);\n        var endLineText = model.getLineContent(endLineNumber);\n        var startToken = config.blockCommentStartToken;\n        var endToken = config.blockCommentEndToken;\n        var startTokenIndex = startLineText.lastIndexOf(startToken, startColumn - 1 + startToken.length);\n        var endTokenIndex = endLineText.indexOf(endToken, endColumn - 1 - endToken.length);\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            if (startLineNumber === endLineNumber) {\n                var lineBetweenTokens = startLineText.substring(startTokenIndex + startToken.length, endTokenIndex);\n                if (lineBetweenTokens.indexOf(endToken) >= 0) {\n                    // force to add a block comment\n                    startTokenIndex = -1;\n                    endTokenIndex = -1;\n                }\n            }\n            else {\n                var startLineAfterStartToken = startLineText.substring(startTokenIndex + startToken.length);\n                var endLineBeforeEndToken = endLineText.substring(0, endTokenIndex);\n                if (startLineAfterStartToken.indexOf(endToken) >= 0 || endLineBeforeEndToken.indexOf(endToken) >= 0) {\n                    // force to add a block comment\n                    startTokenIndex = -1;\n                    endTokenIndex = -1;\n                }\n            }\n        }\n        var ops;\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            // Consider spaces as part of the comment tokens\n            if (startTokenIndex + startToken.length < startLineText.length) {\n                if (startLineText.charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\n                    // Pretend the start token contains a trailing space\n                    startToken = startToken + ' ';\n                }\n            }\n            if (endTokenIndex > 0) {\n                if (endLineText.charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\n                    // Pretend the end token contains a leading space\n                    endToken = ' ' + endToken;\n                    endTokenIndex -= 1;\n                }\n            }\n            ops = BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\n        }\n        else {\n            ops = BlockCommentCommand._createAddBlockCommentOperations(selection, startToken, endToken);\n            this._usedEndToken = ops.length === 1 ? endToken : null;\n        }\n        for (var i = 0; i < ops.length; i++) {\n            builder.addTrackedEditOperation(ops[i].range, ops[i].text);\n        }\n    };\n    BlockCommentCommand._createRemoveBlockCommentOperations = function (r, startToken, endToken) {\n        var res = [];\n        if (!Range.isEmpty(r)) {\n            // Remove block comment start\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.startLineNumber, r.startColumn)));\n            // Remove block comment end\n            res.push(EditOperation.delete(new Range(r.endLineNumber, r.endColumn, r.endLineNumber, r.endColumn + endToken.length)));\n        }\n        else {\n            // Remove both continuously\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.endLineNumber, r.endColumn + endToken.length)));\n        }\n        return res;\n    };\n    BlockCommentCommand._createAddBlockCommentOperations = function (r, startToken, endToken) {\n        var res = [];\n        if (!Range.isEmpty(r)) {\n            // Insert block comment start\n            res.push(EditOperation.insert(new Position(r.startLineNumber, r.startColumn), startToken + ' '));\n            // Insert block comment end\n            res.push(EditOperation.insert(new Position(r.endLineNumber, r.endColumn), ' ' + endToken));\n        }\n        else {\n            // Insert both continuously\n            res.push(EditOperation.replace(new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn), startToken + '  ' + endToken));\n        }\n        return res;\n    };\n    BlockCommentCommand.prototype.getEditOperations = function (model, builder) {\n        var startLineNumber = this._selection.startLineNumber;\n        var startColumn = this._selection.startColumn;\n        model.tokenizeIfCheap(startLineNumber);\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, startColumn);\n        var config = LanguageConfigurationRegistry.getComments(languageId);\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\n            // Mode does not support block comments\n            return;\n        }\n        this._createOperationsForBlockComment(this._selection, config, model, builder);\n    };\n    BlockCommentCommand.prototype.computeCursorState = function (model, helper) {\n        var inverseEditOperations = helper.getInverseEditOperations();\n        if (inverseEditOperations.length === 2) {\n            var startTokenEditOperation = inverseEditOperations[0];\n            var endTokenEditOperation = inverseEditOperations[1];\n            return new Selection(startTokenEditOperation.range.endLineNumber, startTokenEditOperation.range.endColumn, endTokenEditOperation.range.startLineNumber, endTokenEditOperation.range.startColumn);\n        }\n        else {\n            var srcRange = inverseEditOperations[0].range;\n            var deltaColumn = this._usedEndToken ? -this._usedEndToken.length - 1 : 0; // minus 1 space before endToken\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn + deltaColumn, srcRange.endLineNumber, srcRange.endColumn + deltaColumn);\n        }\n    };\n    return BlockCommentCommand;\n}());\nexport { BlockCommentCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from '../../../base/common/strings.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { BlockCommentCommand } from './blockCommentCommand.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nvar LineCommentCommand = /** @class */ (function () {\n    function LineCommentCommand(selection, tabSize, type) {\n        this._selection = selection;\n        this._tabSize = tabSize;\n        this._type = type;\n        this._deltaColumn = 0;\n    }\n    /**\n     * Do an initial pass over the lines and gather info about the line comment string.\n     * Returns null if any of the lines doesn't support a line comment string.\n     */\n    LineCommentCommand._gatherPreflightCommentStrings = function (model, startLineNumber, endLineNumber) {\n        model.tokenizeIfCheap(startLineNumber);\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, 1);\n        var config = LanguageConfigurationRegistry.getComments(languageId);\n        var commentStr = (config ? config.lineCommentToken : null);\n        if (!commentStr) {\n            // Mode does not support line comments\n            return null;\n        }\n        var lines = [];\n        for (var i = 0, lineCount = endLineNumber - startLineNumber + 1; i < lineCount; i++) {\n            lines[i] = {\n                ignore: false,\n                commentStr: commentStr,\n                commentStrOffset: 0,\n                commentStrLength: commentStr.length\n            };\n        }\n        return lines;\n    };\n    /**\n     * Analyze lines and decide which lines are relevant and what the toggle should do.\n     * Also, build up several offsets and lengths useful in the generation of editor operations.\n     */\n    LineCommentCommand._analyzeLines = function (type, model, lines, startLineNumber) {\n        var lineData, lineContentStartOffset, commentStrEndOffset, i, lineCount, lineNumber, shouldRemoveComments, lineContent, onlyWhitespaceLines = true;\n        if (type === 0 /* Toggle */) {\n            shouldRemoveComments = true;\n        }\n        else if (type === 1 /* ForceAdd */) {\n            shouldRemoveComments = false;\n        }\n        else {\n            shouldRemoveComments = true;\n        }\n        for (i = 0, lineCount = lines.length; i < lineCount; i++) {\n            lineData = lines[i];\n            lineNumber = startLineNumber + i;\n            lineContent = model.getLineContent(lineNumber);\n            lineContentStartOffset = strings.firstNonWhitespaceIndex(lineContent);\n            if (lineContentStartOffset === -1) {\n                // Empty or whitespace only line\n                if (type === 0 /* Toggle */) {\n                    lineData.ignore = true;\n                }\n                else if (type === 1 /* ForceAdd */) {\n                    lineData.ignore = true;\n                }\n                else {\n                    lineData.ignore = true;\n                }\n                lineData.commentStrOffset = lineContent.length;\n                continue;\n            }\n            onlyWhitespaceLines = false;\n            lineData.ignore = false;\n            lineData.commentStrOffset = lineContentStartOffset;\n            if (shouldRemoveComments && !BlockCommentCommand._haystackHasNeedleAtOffset(lineContent, lineData.commentStr, lineContentStartOffset)) {\n                if (type === 0 /* Toggle */) {\n                    // Every line so far has been a line comment, but this one is not\n                    shouldRemoveComments = false;\n                }\n                else if (type === 1 /* ForceAdd */) {\n                    // Will not happen\n                }\n                else {\n                    lineData.ignore = true;\n                }\n            }\n            if (shouldRemoveComments) {\n                commentStrEndOffset = lineContentStartOffset + lineData.commentStrLength;\n                if (commentStrEndOffset < lineContent.length && lineContent.charCodeAt(commentStrEndOffset) === 32 /* Space */) {\n                    lineData.commentStrLength += 1;\n                }\n            }\n        }\n        if (type === 0 /* Toggle */ && onlyWhitespaceLines) {\n            // For only whitespace lines, we insert comments\n            shouldRemoveComments = false;\n            // Also, no longer ignore them\n            for (i = 0, lineCount = lines.length; i < lineCount; i++) {\n                lines[i].ignore = false;\n            }\n        }\n        return {\n            supported: true,\n            shouldRemoveComments: shouldRemoveComments,\n            lines: lines\n        };\n    };\n    /**\n     * Analyze all lines and decide exactly what to do => not supported | insert line comments | remove line comments\n     */\n    LineCommentCommand._gatherPreflightData = function (type, model, startLineNumber, endLineNumber) {\n        var lines = LineCommentCommand._gatherPreflightCommentStrings(model, startLineNumber, endLineNumber);\n        if (lines === null) {\n            return {\n                supported: false,\n                shouldRemoveComments: false,\n                lines: null\n            };\n        }\n        return LineCommentCommand._analyzeLines(type, model, lines, startLineNumber);\n    };\n    /**\n     * Given a successful analysis, execute either insert line comments, either remove line comments\n     */\n    LineCommentCommand.prototype._executeLineComments = function (model, builder, data, s) {\n        var ops;\n        if (data.shouldRemoveComments) {\n            ops = LineCommentCommand._createRemoveLineCommentsOperations(data.lines, s.startLineNumber);\n        }\n        else {\n            LineCommentCommand._normalizeInsertionPoint(model, data.lines, s.startLineNumber, this._tabSize);\n            ops = LineCommentCommand._createAddLineCommentsOperations(data.lines, s.startLineNumber);\n        }\n        var cursorPosition = new Position(s.positionLineNumber, s.positionColumn);\n        for (var i = 0, len = ops.length; i < len; i++) {\n            builder.addEditOperation(ops[i].range, ops[i].text);\n            if (ops[i].range.isEmpty() && ops[i].range.getStartPosition().equals(cursorPosition)) {\n                var lineContent = model.getLineContent(cursorPosition.lineNumber);\n                if (lineContent.length + 1 === cursorPosition.column) {\n                    this._deltaColumn = ops[i].text.length;\n                }\n            }\n        }\n        this._selectionId = builder.trackSelection(s);\n    };\n    LineCommentCommand.prototype._attemptRemoveBlockComment = function (model, s, startToken, endToken) {\n        var startLineNumber = s.startLineNumber;\n        var endLineNumber = s.endLineNumber;\n        var startTokenAllowedBeforeColumn = endToken.length + Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.startColumn);\n        var startTokenIndex = model.getLineContent(startLineNumber).lastIndexOf(startToken, startTokenAllowedBeforeColumn - 1);\n        var endTokenIndex = model.getLineContent(endLineNumber).indexOf(endToken, s.endColumn - 1 - startToken.length);\n        if (startTokenIndex !== -1 && endTokenIndex === -1) {\n            endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\n            endLineNumber = startLineNumber;\n        }\n        if (startTokenIndex === -1 && endTokenIndex !== -1) {\n            startTokenIndex = model.getLineContent(endLineNumber).lastIndexOf(startToken, endTokenIndex);\n            startLineNumber = endLineNumber;\n        }\n        if (s.isEmpty() && (startTokenIndex === -1 || endTokenIndex === -1)) {\n            startTokenIndex = model.getLineContent(startLineNumber).indexOf(startToken);\n            if (startTokenIndex !== -1) {\n                endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\n            }\n        }\n        // We have to adjust to possible inner white space.\n        // For Space after startToken, add Space to startToken - range math will work out.\n        if (startTokenIndex !== -1 && model.getLineContent(startLineNumber).charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\n            startToken += ' ';\n        }\n        // For Space before endToken, add Space before endToken and shift index one left.\n        if (endTokenIndex !== -1 && model.getLineContent(endLineNumber).charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\n            endToken = ' ' + endToken;\n            endTokenIndex -= 1;\n        }\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            return BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\n        }\n        return null;\n    };\n    /**\n     * Given an unsuccessful analysis, delegate to the block comment command\n     */\n    LineCommentCommand.prototype._executeBlockComment = function (model, builder, s) {\n        model.tokenizeIfCheap(s.startLineNumber);\n        var languageId = model.getLanguageIdAtPosition(s.startLineNumber, 1);\n        var config = LanguageConfigurationRegistry.getComments(languageId);\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\n            // Mode does not support block comments\n            return;\n        }\n        var startToken = config.blockCommentStartToken;\n        var endToken = config.blockCommentEndToken;\n        var ops = this._attemptRemoveBlockComment(model, s, startToken, endToken);\n        if (!ops) {\n            if (s.isEmpty()) {\n                var lineContent = model.getLineContent(s.startLineNumber);\n                var firstNonWhitespaceIndex = strings.firstNonWhitespaceIndex(lineContent);\n                if (firstNonWhitespaceIndex === -1) {\n                    // Line is empty or contains only whitespace\n                    firstNonWhitespaceIndex = lineContent.length;\n                }\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, firstNonWhitespaceIndex + 1, s.startLineNumber, lineContent.length + 1), startToken, endToken);\n            }\n            else {\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), startToken, endToken);\n            }\n            if (ops.length === 1) {\n                // Leave cursor after token and Space\n                this._deltaColumn = startToken.length + 1;\n            }\n        }\n        this._selectionId = builder.trackSelection(s);\n        for (var i = 0; i < ops.length; i++) {\n            builder.addEditOperation(ops[i].range, ops[i].text);\n        }\n    };\n    LineCommentCommand.prototype.getEditOperations = function (model, builder) {\n        var s = this._selection;\n        this._moveEndPositionDown = false;\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\n            this._moveEndPositionDown = true;\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\n        }\n        var data = LineCommentCommand._gatherPreflightData(this._type, model, s.startLineNumber, s.endLineNumber);\n        if (data.supported) {\n            return this._executeLineComments(model, builder, data, s);\n        }\n        return this._executeBlockComment(model, builder, s);\n    };\n    LineCommentCommand.prototype.computeCursorState = function (model, helper) {\n        var result = helper.getTrackedSelection(this._selectionId);\n        if (this._moveEndPositionDown) {\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\n        }\n        return new Selection(result.selectionStartLineNumber, result.selectionStartColumn + this._deltaColumn, result.positionLineNumber, result.positionColumn + this._deltaColumn);\n    };\n    /**\n     * Generate edit operations in the remove line comment case\n     */\n    LineCommentCommand._createRemoveLineCommentsOperations = function (lines, startLineNumber) {\n        var i, len, lineData, res = [];\n        for (i = 0, len = lines.length; i < len; i++) {\n            lineData = lines[i];\n            if (lineData.ignore) {\n                continue;\n            }\n            res.push(EditOperation.delete(new Range(startLineNumber + i, lineData.commentStrOffset + 1, startLineNumber + i, lineData.commentStrOffset + lineData.commentStrLength + 1)));\n        }\n        return res;\n    };\n    /**\n     * Generate edit operations in the add line comment case\n     */\n    LineCommentCommand._createAddLineCommentsOperations = function (lines, startLineNumber) {\n        var i, len, lineData, res = [];\n        for (i = 0, len = lines.length; i < len; i++) {\n            lineData = lines[i];\n            if (lineData.ignore) {\n                continue;\n            }\n            res.push(EditOperation.insert(new Position(startLineNumber + i, lineData.commentStrOffset + 1), lineData.commentStr + ' '));\n        }\n        return res;\n    };\n    // TODO@Alex -> duplicated in characterHardWrappingLineMapper\n    LineCommentCommand.nextVisibleColumn = function (currentVisibleColumn, tabSize, isTab, columnSize) {\n        if (isTab) {\n            return currentVisibleColumn + (tabSize - (currentVisibleColumn % tabSize));\n        }\n        return currentVisibleColumn + columnSize;\n    };\n    /**\n     * Adjust insertion points to have them vertically aligned in the add line comment case\n     */\n    LineCommentCommand._normalizeInsertionPoint = function (model, lines, startLineNumber, tabSize) {\n        var minVisibleColumn = Number.MAX_VALUE, i, len, lineContent, j, lenJ, currentVisibleColumn;\n        for (i = 0, len = lines.length; i < len; i++) {\n            if (lines[i].ignore) {\n                continue;\n            }\n            lineContent = model.getLineContent(startLineNumber + i);\n            currentVisibleColumn = 0;\n            for (j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */, 1);\n            }\n            if (currentVisibleColumn < minVisibleColumn) {\n                minVisibleColumn = currentVisibleColumn;\n            }\n        }\n        minVisibleColumn = Math.floor(minVisibleColumn / tabSize) * tabSize;\n        for (i = 0, len = lines.length; i < len; i++) {\n            if (lines[i].ignore) {\n                continue;\n            }\n            lineContent = model.getLineContent(startLineNumber + i);\n            currentVisibleColumn = 0;\n            for (j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */, 1);\n            }\n            if (currentVisibleColumn > minVisibleColumn) {\n                lines[i].commentStrOffset = j - 1;\n            }\n            else {\n                lines[i].commentStrOffset = j;\n            }\n        }\n    };\n    return LineCommentCommand;\n}());\nexport { LineCommentCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { BlockCommentCommand } from './blockCommentCommand.js';\nimport { LineCommentCommand } from './lineCommentCommand.js';\nvar CommentLineAction = /** @class */ (function (_super) {\n    __extends(CommentLineAction, _super);\n    function CommentLineAction(type, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._type = type;\n        return _this;\n    }\n    CommentLineAction.prototype.run = function (accessor, editor) {\n        var model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        var commands = [];\n        var selections = editor.getSelections();\n        var opts = model.getOptions();\n        for (var i = 0; i < selections.length; i++) {\n            commands.push(new LineCommentCommand(selections[i], opts.tabSize, this._type));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return CommentLineAction;\n}(EditorAction));\nvar ToggleCommentLineAction = /** @class */ (function (_super) {\n    __extends(ToggleCommentLineAction, _super);\n    function ToggleCommentLineAction() {\n        return _super.call(this, 0 /* Toggle */, {\n            id: 'editor.action.commentLine',\n            label: nls.localize('comment.line', \"Toggle Line Comment\"),\n            alias: 'Toggle Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 85 /* US_SLASH */\n            }\n        }) || this;\n    }\n    return ToggleCommentLineAction;\n}(CommentLineAction));\nvar AddLineCommentAction = /** @class */ (function (_super) {\n    __extends(AddLineCommentAction, _super);\n    function AddLineCommentAction() {\n        return _super.call(this, 1 /* ForceAdd */, {\n            id: 'editor.action.addCommentLine',\n            label: nls.localize('comment.line.add', \"Add Line Comment\"),\n            alias: 'Add Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 33 /* KEY_C */)\n            }\n        }) || this;\n    }\n    return AddLineCommentAction;\n}(CommentLineAction));\nvar RemoveLineCommentAction = /** @class */ (function (_super) {\n    __extends(RemoveLineCommentAction, _super);\n    function RemoveLineCommentAction() {\n        return _super.call(this, 2 /* ForceRemove */, {\n            id: 'editor.action.removeCommentLine',\n            label: nls.localize('comment.line.remove', \"Remove Line Comment\"),\n            alias: 'Remove Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 51 /* KEY_U */)\n            }\n        }) || this;\n    }\n    return RemoveLineCommentAction;\n}(CommentLineAction));\nvar BlockCommentAction = /** @class */ (function (_super) {\n    __extends(BlockCommentAction, _super);\n    function BlockCommentAction() {\n        return _super.call(this, {\n            id: 'editor.action.blockComment',\n            label: nls.localize('comment.block', \"Toggle Block Comment\"),\n            alias: 'Toggle Block Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 31 /* KEY_A */,\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 31 /* KEY_A */ }\n            }\n        }) || this;\n    }\n    BlockCommentAction.prototype.run = function (accessor, editor) {\n        var commands = [];\n        var selections = editor.getSelections();\n        for (var i = 0; i < selections.length; i++) {\n            commands.push(new BlockCommentCommand(selections[i]));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return BlockCommentAction;\n}(EditorAction));\nregisterEditorAction(ToggleCommentLineAction);\nregisterEditorAction(AddLineCommentAction);\nregisterEditorAction(RemoveLineCommentAction);\nregisterEditorAction(BlockCommentAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { ActionItem, Separator } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IMenuService, MenuId } from '../../../platform/actions/common/actions.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction } from '../../browser/editorExtensions.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nvar ContextMenuController = /** @class */ (function () {\n    function ContextMenuController(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService) {\n        var _this = this;\n        this._contextMenuService = _contextMenuService;\n        this._contextViewService = _contextViewService;\n        this._contextKeyService = _contextKeyService;\n        this._keybindingService = _keybindingService;\n        this._menuService = _menuService;\n        this._toDispose = [];\n        this._contextMenuIsBeingShownCount = 0;\n        this._editor = editor;\n        this._toDispose.push(this._editor.onContextMenu(function (e) { return _this._onContextMenu(e); }));\n        this._toDispose.push(this._editor.onDidScrollChange(function (e) {\n            if (_this._contextMenuIsBeingShownCount > 0) {\n                _this._contextViewService.hideContextView();\n            }\n        }));\n        this._toDispose.push(this._editor.onKeyDown(function (e) {\n            if (e.keyCode === 58 /* ContextMenu */) {\n                // Chrome is funny like that\n                e.preventDefault();\n                e.stopPropagation();\n                _this.showContextMenu();\n            }\n        }));\n    }\n    ContextMenuController.get = function (editor) {\n        return editor.getContribution(ContextMenuController.ID);\n    };\n    ContextMenuController.prototype._onContextMenu = function (e) {\n        if (!this._editor.getConfiguration().contribInfo.contextmenu) {\n            this._editor.focus();\n            // Ensure the cursor is at the position of the mouse click\n            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\n                this._editor.setPosition(e.target.position);\n            }\n            return; // Context menu is turned off through configuration\n        }\n        if (e.target.type === MouseTargetType.OVERLAY_WIDGET) {\n            return; // allow native menu on widgets to support right click on input field for example in find\n        }\n        e.event.preventDefault();\n        if (e.target.type !== MouseTargetType.CONTENT_TEXT && e.target.type !== MouseTargetType.CONTENT_EMPTY && e.target.type !== MouseTargetType.TEXTAREA) {\n            return; // only support mouse click into text or native context menu key for now\n        }\n        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\n        this._editor.focus();\n        // Ensure the cursor is at the position of the mouse click\n        if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\n            this._editor.setPosition(e.target.position);\n        }\n        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\n        var forcedPosition;\n        if (e.target.type !== MouseTargetType.TEXTAREA) {\n            forcedPosition = { x: e.event.posx, y: e.event.posy + 1 };\n        }\n        // Show the context menu\n        this.showContextMenu(forcedPosition);\n    };\n    ContextMenuController.prototype.showContextMenu = function (forcedPosition) {\n        if (!this._editor.getConfiguration().contribInfo.contextmenu) {\n            return; // Context menu is turned off through configuration\n        }\n        if (!this._contextMenuService) {\n            this._editor.focus();\n            return; // We need the context menu service to function\n        }\n        // Find actions available for menu\n        var menuActions = this._getMenuActions();\n        // Show menu if we have actions to show\n        if (menuActions.length > 0) {\n            this._doShowContextMenu(menuActions, forcedPosition);\n        }\n    };\n    ContextMenuController.prototype._getMenuActions = function () {\n        var result = [];\n        var contextMenu = this._menuService.createMenu(MenuId.EditorContext, this._contextKeyService);\n        var groups = contextMenu.getActions({ arg: this._editor.getModel().uri });\n        contextMenu.dispose();\n        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n            var group = groups_1[_i];\n            var actions = group[1];\n            result.push.apply(result, actions);\n            result.push(new Separator());\n        }\n        result.pop(); // remove last separator\n        return result;\n    };\n    ContextMenuController.prototype._doShowContextMenu = function (actions, forcedPosition) {\n        var _this = this;\n        if (forcedPosition === void 0) { forcedPosition = null; }\n        // Disable hover\n        var oldHoverSetting = this._editor.getConfiguration().contribInfo.hover;\n        this._editor.updateOptions({\n            hover: false\n        });\n        var menuPosition = forcedPosition;\n        if (!menuPosition) {\n            // Ensure selection is visible\n            this._editor.revealPosition(this._editor.getPosition(), 1 /* Immediate */);\n            this._editor.render();\n            var cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\n            // Translate to absolute editor position\n            var editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\n            var posx = editorCoords.left + cursorCoords.left;\n            var posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\n            menuPosition = { x: posx, y: posy };\n        }\n        // Show menu\n        this._contextMenuIsBeingShownCount++;\n        this._contextMenuService.showContextMenu({\n            getAnchor: function () { return menuPosition; },\n            getActions: function () {\n                return TPromise.as(actions);\n            },\n            getActionItem: function (action) {\n                var keybinding = _this._keybindingFor(action);\n                if (keybinding) {\n                    return new ActionItem(action, action, { label: true, keybinding: keybinding.getLabel(), isMenu: true });\n                }\n                var customActionItem = action;\n                if (typeof customActionItem.getActionItem === 'function') {\n                    return customActionItem.getActionItem();\n                }\n                return new ActionItem(action, action, { icon: true, label: true, isMenu: true });\n            },\n            getKeyBinding: function (action) {\n                return _this._keybindingFor(action);\n            },\n            onHide: function (wasCancelled) {\n                _this._contextMenuIsBeingShownCount--;\n                _this._editor.focus();\n                _this._editor.updateOptions({\n                    hover: oldHoverSetting\n                });\n            }\n        });\n    };\n    ContextMenuController.prototype._keybindingFor = function (action) {\n        return this._keybindingService.lookupKeybinding(action.id);\n    };\n    ContextMenuController.prototype.getId = function () {\n        return ContextMenuController.ID;\n    };\n    ContextMenuController.prototype.dispose = function () {\n        if (this._contextMenuIsBeingShownCount > 0) {\n            this._contextViewService.hideContextView();\n        }\n        this._toDispose = dispose(this._toDispose);\n    };\n    ContextMenuController.ID = 'editor.contrib.contextmenu';\n    ContextMenuController = __decorate([\n        __param(1, IContextMenuService),\n        __param(2, IContextViewService),\n        __param(3, IContextKeyService),\n        __param(4, IKeybindingService),\n        __param(5, IMenuService)\n    ], ContextMenuController);\n    return ContextMenuController;\n}());\nexport { ContextMenuController };\nvar ShowContextMenu = /** @class */ (function (_super) {\n    __extends(ShowContextMenu, _super);\n    function ShowContextMenu() {\n        return _super.call(this, {\n            id: 'editor.action.showContextMenu',\n            label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\n            alias: 'Show Editor Context Menu',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 1024 /* Shift */ | 68 /* F10 */\n            }\n        }) || this;\n    }\n    ShowContextMenu.prototype.run = function (accessor, editor) {\n        var contribution = ContextMenuController.get(editor);\n        contribution.showContextMenu();\n    };\n    return ShowContextMenu;\n}(EditorAction));\nregisterEditorContribution(ContextMenuController);\nregisterEditorAction(ShowContextMenu);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { registerEditorCommand, EditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nvar CursorState = /** @class */ (function () {\n    function CursorState(selections) {\n        this.selections = selections;\n    }\n    CursorState.prototype.equals = function (other) {\n        var thisLen = this.selections.length;\n        var otherLen = other.selections.length;\n        if (thisLen !== otherLen) {\n            return false;\n        }\n        for (var i = 0; i < thisLen; i++) {\n            if (!this.selections[i].equalsSelection(other.selections[i])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CursorState;\n}());\nvar CursorUndoController = /** @class */ (function (_super) {\n    __extends(CursorUndoController, _super);\n    function CursorUndoController(editor) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._isCursorUndo = false;\n        _this._undoStack = [];\n        _this._prevState = _this._readState();\n        _this._register(editor.onDidChangeModel(function (e) {\n            _this._undoStack = [];\n            _this._prevState = null;\n        }));\n        _this._register(editor.onDidChangeModelContent(function (e) {\n            _this._undoStack = [];\n            _this._prevState = null;\n        }));\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\n            if (!_this._isCursorUndo && _this._prevState) {\n                _this._undoStack.push(_this._prevState);\n                if (_this._undoStack.length > 50) {\n                    // keep the cursor undo stack bounded\n                    _this._undoStack.shift();\n                }\n            }\n            _this._prevState = _this._readState();\n        }));\n        return _this;\n    }\n    CursorUndoController.get = function (editor) {\n        return editor.getContribution(CursorUndoController.ID);\n    };\n    CursorUndoController.prototype._readState = function () {\n        if (!this._editor.getModel()) {\n            // no model => no state\n            return null;\n        }\n        return new CursorState(this._editor.getSelections());\n    };\n    CursorUndoController.prototype.getId = function () {\n        return CursorUndoController.ID;\n    };\n    CursorUndoController.prototype.cursorUndo = function () {\n        var currState = new CursorState(this._editor.getSelections());\n        while (this._undoStack.length > 0) {\n            var prevState = this._undoStack.pop();\n            if (!prevState.equals(currState)) {\n                this._isCursorUndo = true;\n                this._editor.setSelections(prevState.selections);\n                this._editor.revealRangeInCenterIfOutsideViewport(prevState.selections[0], 0 /* Smooth */);\n                this._isCursorUndo = false;\n                return;\n            }\n        }\n    };\n    CursorUndoController.ID = 'editor.contrib.cursorUndoController';\n    return CursorUndoController;\n}(Disposable));\nexport { CursorUndoController };\nvar CursorUndo = /** @class */ (function (_super) {\n    __extends(CursorUndo, _super);\n    function CursorUndo() {\n        return _super.call(this, {\n            id: 'cursorUndo',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 51 /* KEY_U */\n            }\n        }) || this;\n    }\n    CursorUndo.prototype.runEditorCommand = function (accessor, editor, args) {\n        CursorUndoController.get(editor).cursorUndo();\n    };\n    return CursorUndo;\n}(EditorCommand));\nexport { CursorUndo };\nregisterEditorContribution(CursorUndoController);\nregisterEditorCommand(new CursorUndo());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Selection } from '../../common/core/selection.js';\nimport { Range } from '../../common/core/range.js';\nvar DragAndDropCommand = /** @class */ (function () {\n    function DragAndDropCommand(selection, targetPosition, copy) {\n        this.selection = selection;\n        this.targetPosition = targetPosition;\n        this.copy = copy;\n    }\n    DragAndDropCommand.prototype.getEditOperations = function (model, builder) {\n        var text = model.getValueInRange(this.selection);\n        if (!this.copy) {\n            builder.addEditOperation(this.selection, null);\n        }\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\n        )) {\n            this.targetSelection = this.selection;\n            return;\n        }\n        if (this.copy) {\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\n            // Drag the selection downwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\n            // Drag the selection upwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        // The target position is at the same line as the selection's end position.\n        if (this.selection.endColumn <= this.targetPosition.column) {\n            // The target position is after the selection's end position\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column :\n                this.selection.endColumn);\n        }\n        else {\n            // The target position is before the selection's end postion. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\n        }\n    };\n    DragAndDropCommand.prototype.computeCursorState = function (model, helper) {\n        return this.targetSelection;\n    };\n    return DragAndDropCommand;\n}());\nexport { DragAndDropCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './dnd.css';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../base/common/platform.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nvar DragAndDropController = /** @class */ (function () {\n    function DragAndDropController(editor) {\n        var _this = this;\n        this._editor = editor;\n        this._toUnhook = [];\n        this._toUnhook.push(this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\n        this._toUnhook.push(this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\n        this._toUnhook.push(this._editor.onMouseDrag(function (e) { return _this._onEditorMouseDrag(e); }));\n        this._toUnhook.push(this._editor.onMouseDrop(function (e) { return _this._onEditorMouseDrop(e); }));\n        this._toUnhook.push(this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(e); }));\n        this._toUnhook.push(this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(e); }));\n        this._dndDecorationIds = [];\n        this._mouseDown = false;\n        this._modiferPressed = false;\n        this._dragSelection = null;\n    }\n    DragAndDropController.get = function (editor) {\n        return editor.getContribution(DragAndDropController.ID);\n    };\n    DragAndDropController.prototype.onEditorKeyDown = function (e) {\n        if (!this._editor.getConfiguration().dragAndDrop) {\n            return;\n        }\n        if (e[DragAndDropController.TRIGGER_MODIFIER]) {\n            this._modiferPressed = true;\n        }\n        if (this._mouseDown && e[DragAndDropController.TRIGGER_MODIFIER]) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n    };\n    DragAndDropController.prototype.onEditorKeyUp = function (e) {\n        if (!this._editor.getConfiguration().dragAndDrop) {\n            return;\n        }\n        if (e[DragAndDropController.TRIGGER_MODIFIER]) {\n            this._modiferPressed = false;\n        }\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n    };\n    DragAndDropController.prototype._onEditorMouseDown = function (mouseEvent) {\n        this._mouseDown = true;\n    };\n    DragAndDropController.prototype._onEditorMouseUp = function (mouseEvent) {\n        this._mouseDown = false;\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n    };\n    DragAndDropController.prototype._onEditorMouseDrag = function (mouseEvent) {\n        var target = mouseEvent.target;\n        if (this._dragSelection === null) {\n            var possibleSelections = this._editor.getSelections().filter(function (selection) { return selection.containsPosition(target.position); });\n            if (possibleSelections.length === 1) {\n                this._dragSelection = possibleSelections[0];\n            }\n            else {\n                return;\n            }\n        }\n        if (mouseEvent.event[DragAndDropController.TRIGGER_MODIFIER]) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n        else {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n        if (this._dragSelection.containsPosition(target.position)) {\n            this._removeDecoration();\n        }\n        else {\n            this.showAt(target.position);\n        }\n    };\n    DragAndDropController.prototype._onEditorMouseDrop = function (mouseEvent) {\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\n            var newCursorPosition_1 = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\n            if (this._dragSelection === null) {\n                if (mouseEvent.event.shiftKey) {\n                    var primarySelection = this._editor.getSelection();\n                    var startLineNumber = primarySelection.startLineNumber, startColumn = primarySelection.startColumn;\n                    this._editor.setSelections([new Selection(startLineNumber, startColumn, newCursorPosition_1.lineNumber, newCursorPosition_1.column)]);\n                }\n                else {\n                    var newSelections = this._editor.getSelections().map(function (selection) {\n                        if (selection.containsPosition(newCursorPosition_1)) {\n                            return new Selection(newCursorPosition_1.lineNumber, newCursorPosition_1.column, newCursorPosition_1.lineNumber, newCursorPosition_1.column);\n                        }\n                        else {\n                            return selection;\n                        }\n                    });\n                    this._editor.setSelections(newSelections);\n                }\n            }\n            else if (!this._dragSelection.containsPosition(newCursorPosition_1) ||\n                ((mouseEvent.event[DragAndDropController.TRIGGER_MODIFIER] ||\n                    this._modiferPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition_1) || this._dragSelection.getStartPosition().equals(newCursorPosition_1)) // we allow users to paste content beside the selection\n                )) {\n                this._editor.pushUndoStop();\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition_1, mouseEvent.event[DragAndDropController.TRIGGER_MODIFIER] || this._modiferPressed));\n                this._editor.pushUndoStop();\n            }\n        }\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    };\n    DragAndDropController.prototype.showAt = function (position) {\n        var newDecorations = [{\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                options: DragAndDropController._DECORATION_OPTIONS\n            }];\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, newDecorations);\n        this._editor.revealPosition(position, 1 /* Immediate */);\n    };\n    DragAndDropController.prototype._removeDecoration = function () {\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, []);\n    };\n    DragAndDropController.prototype._hitContent = function (target) {\n        return target.type === MouseTargetType.CONTENT_TEXT ||\n            target.type === MouseTargetType.CONTENT_EMPTY;\n    };\n    DragAndDropController.prototype._hitMargin = function (target) {\n        return target.type === MouseTargetType.GUTTER_GLYPH_MARGIN ||\n            target.type === MouseTargetType.GUTTER_LINE_NUMBERS ||\n            target.type === MouseTargetType.GUTTER_LINE_DECORATIONS;\n    };\n    DragAndDropController.prototype.getId = function () {\n        return DragAndDropController.ID;\n    };\n    DragAndDropController.prototype.dispose = function () {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modiferPressed = false;\n        this._toUnhook = dispose(this._toUnhook);\n    };\n    DragAndDropController.ID = 'editor.contrib.dragAndDrop';\n    DragAndDropController.TRIGGER_MODIFIER = isMacintosh ? 'altKey' : 'ctrlKey';\n    DragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* Alt */ : 5 /* Ctrl */;\n    DragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n        className: 'dnd-target'\n    });\n    return DragAndDropController;\n}());\nexport { DragAndDropController };\nregisterEditorContribution(DragAndDropController);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ArrayNavigator } from './iterator.js';\nvar HistoryNavigator = /** @class */ (function () {\n    function HistoryNavigator(history, limit) {\n        if (history === void 0) { history = []; }\n        if (limit === void 0) { limit = 10; }\n        this._initialize(history);\n        this._limit = limit;\n        this._onChange();\n    }\n    HistoryNavigator.prototype.getHistory = function () {\n        return this._elements;\n    };\n    HistoryNavigator.prototype.add = function (t) {\n        this._history.delete(t);\n        this._history.add(t);\n        this._onChange();\n    };\n    HistoryNavigator.prototype.addIfNotPresent = function (t) {\n        if (!this._history.has(t)) {\n            this.add(t);\n        }\n    };\n    HistoryNavigator.prototype.next = function () {\n        if (this._navigator.next()) {\n            return this._navigator.current();\n        }\n        this.last();\n        return null;\n    };\n    HistoryNavigator.prototype.previous = function () {\n        if (this._navigator.previous()) {\n            return this._navigator.current();\n        }\n        this.first();\n        return null;\n    };\n    HistoryNavigator.prototype.current = function () {\n        return this._navigator.current();\n    };\n    HistoryNavigator.prototype.parent = function () {\n        return null;\n    };\n    HistoryNavigator.prototype.first = function () {\n        return this._navigator.first();\n    };\n    HistoryNavigator.prototype.last = function () {\n        return this._navigator.last();\n    };\n    HistoryNavigator.prototype.clear = function () {\n        this._initialize([]);\n        this._onChange();\n    };\n    HistoryNavigator.prototype._onChange = function () {\n        this._reduceToLimit();\n        this._navigator = new ArrayNavigator(this._elements);\n        this._navigator.last();\n    };\n    HistoryNavigator.prototype._reduceToLimit = function () {\n        var data = this._elements;\n        if (data.length > this._limit) {\n            this._initialize(data.slice(data.length - this._limit));\n        }\n    };\n    HistoryNavigator.prototype._initialize = function (history) {\n        this._history = new Set();\n        for (var _i = 0, history_1 = history; _i < history_1.length; _i++) {\n            var entry = history_1[_i];\n            this._history.add(entry);\n        }\n    };\n    Object.defineProperty(HistoryNavigator.prototype, \"_elements\", {\n        get: function () {\n            var elements = [];\n            this._history.forEach(function (e) { return elements.push(e); });\n            return elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return HistoryNavigator;\n}());\nexport { HistoryNavigator };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar ReplacePattern = /** @class */ (function () {\n    function ReplacePattern(pieces) {\n        if (!pieces || pieces.length === 0) {\n            this._staticValue = '';\n            this._pieces = null;\n        }\n        else if (pieces.length === 1 && pieces[0].staticValue !== null) {\n            this._staticValue = pieces[0].staticValue;\n            this._pieces = null;\n        }\n        else {\n            this._staticValue = null;\n            this._pieces = pieces;\n        }\n    }\n    ReplacePattern.fromStaticValue = function (value) {\n        return new ReplacePattern([ReplacePiece.staticValue(value)]);\n    };\n    Object.defineProperty(ReplacePattern.prototype, \"hasReplacementPatterns\", {\n        get: function () {\n            return this._staticValue === null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ReplacePattern.prototype.buildReplaceString = function (matches) {\n        if (this._staticValue !== null) {\n            return this._staticValue;\n        }\n        var result = '';\n        for (var i = 0, len = this._pieces.length; i < len; i++) {\n            var piece = this._pieces[i];\n            if (piece.staticValue !== null) {\n                // static value ReplacePiece\n                result += piece.staticValue;\n                continue;\n            }\n            // match index ReplacePiece\n            result += ReplacePattern._substitute(piece.matchIndex, matches);\n        }\n        return result;\n    };\n    ReplacePattern._substitute = function (matchIndex, matches) {\n        if (matchIndex === 0) {\n            return matches[0];\n        }\n        var remainder = '';\n        while (matchIndex > 0) {\n            if (matchIndex < matches.length) {\n                // A match can be undefined\n                var match = (matches[matchIndex] || '');\n                return match + remainder;\n            }\n            remainder = String(matchIndex % 10) + remainder;\n            matchIndex = Math.floor(matchIndex / 10);\n        }\n        return '$' + remainder;\n    };\n    return ReplacePattern;\n}());\nexport { ReplacePattern };\n/**\n * A replace piece can either be a static string or an index to a specific match.\n */\nvar ReplacePiece = /** @class */ (function () {\n    function ReplacePiece(staticValue, matchIndex) {\n        this.staticValue = staticValue;\n        this.matchIndex = matchIndex;\n    }\n    ReplacePiece.staticValue = function (value) {\n        return new ReplacePiece(value, -1);\n    };\n    ReplacePiece.matchIndex = function (index) {\n        return new ReplacePiece(null, index);\n    };\n    return ReplacePiece;\n}());\nexport { ReplacePiece };\nvar ReplacePieceBuilder = /** @class */ (function () {\n    function ReplacePieceBuilder(source) {\n        this._source = source;\n        this._lastCharIndex = 0;\n        this._result = [];\n        this._resultLen = 0;\n        this._currentStaticPiece = '';\n    }\n    ReplacePieceBuilder.prototype.emitUnchanged = function (toCharIndex) {\n        this._emitStatic(this._source.substring(this._lastCharIndex, toCharIndex));\n        this._lastCharIndex = toCharIndex;\n    };\n    ReplacePieceBuilder.prototype.emitStatic = function (value, toCharIndex) {\n        this._emitStatic(value);\n        this._lastCharIndex = toCharIndex;\n    };\n    ReplacePieceBuilder.prototype._emitStatic = function (value) {\n        if (value.length === 0) {\n            return;\n        }\n        this._currentStaticPiece += value;\n    };\n    ReplacePieceBuilder.prototype.emitMatchIndex = function (index, toCharIndex) {\n        if (this._currentStaticPiece.length !== 0) {\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\n            this._currentStaticPiece = '';\n        }\n        this._result[this._resultLen++] = ReplacePiece.matchIndex(index);\n        this._lastCharIndex = toCharIndex;\n    };\n    ReplacePieceBuilder.prototype.finalize = function () {\n        this.emitUnchanged(this._source.length);\n        if (this._currentStaticPiece.length !== 0) {\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\n            this._currentStaticPiece = '';\n        }\n        return new ReplacePattern(this._result);\n    };\n    return ReplacePieceBuilder;\n}());\n/**\n * \\n\t\t\t=> inserts a LF\n * \\t\t\t\t=> inserts a TAB\n * \\\\\t\t\t=> inserts a \"\\\".\n * $$\t\t\t=> inserts a \"$\".\n * $& and $0\t=> inserts the matched substring.\n * $n\t\t\t=> Where n is a non-negative integer lesser than 100, inserts the nth parenthesized submatch string\n * everything else stays untouched\n *\n * Also see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\n */\nexport function parseReplaceString(replaceString) {\n    if (!replaceString || replaceString.length === 0) {\n        return new ReplacePattern(null);\n    }\n    var result = new ReplacePieceBuilder(replaceString);\n    for (var i = 0, len = replaceString.length; i < len; i++) {\n        var chCode = replaceString.charCodeAt(i);\n        if (chCode === 92 /* Backslash */) {\n            // move to next char\n            i++;\n            if (i >= len) {\n                // string ends with a \\\n                break;\n            }\n            var nextChCode = replaceString.charCodeAt(i);\n            // let replaceWithCharacter: string = null;\n            switch (nextChCode) {\n                case 92 /* Backslash */:\n                    // \\\\ => inserts a \"\\\"\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\\\', i + 1);\n                    break;\n                case 110 /* n */:\n                    // \\n => inserts a LF\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\n', i + 1);\n                    break;\n                case 116 /* t */:\n                    // \\t => inserts a TAB\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\t', i + 1);\n                    break;\n            }\n            continue;\n        }\n        if (chCode === 36 /* DollarSign */) {\n            // move to next char\n            i++;\n            if (i >= len) {\n                // string ends with a $\n                break;\n            }\n            var nextChCode = replaceString.charCodeAt(i);\n            if (nextChCode === 36 /* DollarSign */) {\n                // $$ => inserts a \"$\"\n                result.emitUnchanged(i - 1);\n                result.emitStatic('$', i + 1);\n                continue;\n            }\n            if (nextChCode === 48 /* Digit0 */ || nextChCode === 38 /* Ampersand */) {\n                // $& and $0 => inserts the matched substring.\n                result.emitUnchanged(i - 1);\n                result.emitMatchIndex(0, i + 1);\n                continue;\n            }\n            if (49 /* Digit1 */ <= nextChCode && nextChCode <= 57 /* Digit9 */) {\n                // $n\n                var matchIndex = nextChCode - 48 /* Digit0 */;\n                // peek next char to probe for $nn\n                if (i + 1 < len) {\n                    var nextNextChCode = replaceString.charCodeAt(i + 1);\n                    if (48 /* Digit0 */ <= nextNextChCode && nextNextChCode <= 57 /* Digit9 */) {\n                        // $nn\n                        // move to next char\n                        i++;\n                        matchIndex = matchIndex * 10 + (nextNextChCode - 48 /* Digit0 */);\n                        result.emitUnchanged(i - 2);\n                        result.emitMatchIndex(matchIndex, i + 1);\n                        continue;\n                    }\n                }\n                result.emitUnchanged(i - 1);\n                result.emitMatchIndex(matchIndex, i + 1);\n                continue;\n            }\n        }\n    }\n    return result.finalize();\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range } from '../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { overviewRulerFindMatchForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { TrackedRangeStickiness, OverviewRulerLane } from '../../common/model.js';\nvar FindDecorations = /** @class */ (function () {\n    function FindDecorations(editor) {\n        this._editor = editor;\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationId = null;\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n        this._startPosition = this._editor.getPosition();\n    }\n    FindDecorations.prototype.dispose = function () {\n        this._editor.deltaDecorations(this._allDecorations(), []);\n        this._editor = null;\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationId = null;\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n        this._startPosition = null;\n    };\n    FindDecorations.prototype.reset = function () {\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationId = null;\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n    };\n    FindDecorations.prototype.getCount = function () {\n        return this._decorations.length;\n    };\n    FindDecorations.prototype.getFindScope = function () {\n        if (this._findScopeDecorationId) {\n            return this._editor.getModel().getDecorationRange(this._findScopeDecorationId);\n        }\n        return null;\n    };\n    FindDecorations.prototype.getStartPosition = function () {\n        return this._startPosition;\n    };\n    FindDecorations.prototype.setStartPosition = function (newStartPosition) {\n        this._startPosition = newStartPosition;\n        this.setCurrentFindMatch(null);\n    };\n    FindDecorations.prototype._getDecorationIndex = function (decorationId) {\n        var index = this._decorations.indexOf(decorationId);\n        if (index >= 0) {\n            return index + 1;\n        }\n        return 1;\n    };\n    FindDecorations.prototype.getCurrentMatchesPosition = function (desiredRange) {\n        var candidates = this._editor.getModel().getDecorationsInRange(desiredRange);\n        for (var i = 0, len = candidates.length; i < len; i++) {\n            var candidate = candidates[i];\n            var candidateOpts = candidate.options;\n            if (candidateOpts === FindDecorations._FIND_MATCH_DECORATION || candidateOpts === FindDecorations._CURRENT_FIND_MATCH_DECORATION) {\n                return this._getDecorationIndex(candidate.id);\n            }\n        }\n        return 1;\n    };\n    FindDecorations.prototype.setCurrentFindMatch = function (nextMatch) {\n        var _this = this;\n        var newCurrentDecorationId = null;\n        var matchPosition = 0;\n        if (nextMatch) {\n            for (var i = 0, len = this._decorations.length; i < len; i++) {\n                var range = this._editor.getModel().getDecorationRange(this._decorations[i]);\n                if (nextMatch.equalsRange(range)) {\n                    newCurrentDecorationId = this._decorations[i];\n                    matchPosition = (i + 1);\n                    break;\n                }\n            }\n        }\n        if (this._highlightedDecorationId !== null || newCurrentDecorationId !== null) {\n            this._editor.changeDecorations(function (changeAccessor) {\n                if (_this._highlightedDecorationId !== null) {\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._FIND_MATCH_DECORATION);\n                    _this._highlightedDecorationId = null;\n                }\n                if (newCurrentDecorationId !== null) {\n                    _this._highlightedDecorationId = newCurrentDecorationId;\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._CURRENT_FIND_MATCH_DECORATION);\n                }\n                if (_this._rangeHighlightDecorationId !== null) {\n                    changeAccessor.removeDecoration(_this._rangeHighlightDecorationId);\n                    _this._rangeHighlightDecorationId = null;\n                }\n                if (newCurrentDecorationId !== null) {\n                    var rng = _this._editor.getModel().getDecorationRange(newCurrentDecorationId);\n                    if (rng.startLineNumber !== rng.endLineNumber && rng.endColumn === 1) {\n                        var lineBeforeEnd = rng.endLineNumber - 1;\n                        var lineBeforeEndMaxColumn = _this._editor.getModel().getLineMaxColumn(lineBeforeEnd);\n                        rng = new Range(rng.startLineNumber, rng.startColumn, lineBeforeEnd, lineBeforeEndMaxColumn);\n                    }\n                    _this._rangeHighlightDecorationId = changeAccessor.addDecoration(rng, FindDecorations._RANGE_HIGHLIGHT_DECORATION);\n                }\n            });\n        }\n        return matchPosition;\n    };\n    FindDecorations.prototype.set = function (findMatches, findScope) {\n        var _this = this;\n        this._editor.changeDecorations(function (accessor) {\n            var findMatchesOptions = FindDecorations._FIND_MATCH_DECORATION;\n            var newOverviewRulerApproximateDecorations = [];\n            if (findMatches.length > 1000) {\n                // we go into a mode where the overview ruler gets \"approximate\" decorations\n                // the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes\n                findMatchesOptions = FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;\n                // approximate a distance in lines where matches should be merged\n                var lineCount = _this._editor.getModel().getLineCount();\n                var height = _this._editor.getLayoutInfo().height;\n                var approxPixelsPerLine = height / lineCount;\n                var mergeLinesDelta = Math.max(2, Math.ceil(3 / approxPixelsPerLine));\n                // merge decorations as much as possible\n                var prevStartLineNumber = findMatches[0].range.startLineNumber;\n                var prevEndLineNumber = findMatches[0].range.endLineNumber;\n                for (var i = 1, len = findMatches.length; i < len; i++) {\n                    var range = findMatches[i].range;\n                    if (prevEndLineNumber + mergeLinesDelta >= range.startLineNumber) {\n                        if (range.endLineNumber > prevEndLineNumber) {\n                            prevEndLineNumber = range.endLineNumber;\n                        }\n                    }\n                    else {\n                        newOverviewRulerApproximateDecorations.push({\n                            range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\n                            options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\n                        });\n                        prevStartLineNumber = range.startLineNumber;\n                        prevEndLineNumber = range.endLineNumber;\n                    }\n                }\n                newOverviewRulerApproximateDecorations.push({\n                    range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\n                    options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\n                });\n            }\n            // Find matches\n            var newFindMatchesDecorations = new Array(findMatches.length);\n            for (var i = 0, len = findMatches.length; i < len; i++) {\n                newFindMatchesDecorations[i] = {\n                    range: findMatches[i].range,\n                    options: findMatchesOptions\n                };\n            }\n            _this._decorations = accessor.deltaDecorations(_this._decorations, newFindMatchesDecorations);\n            // Overview ruler approximate decorations\n            _this._overviewRulerApproximateDecorations = accessor.deltaDecorations(_this._overviewRulerApproximateDecorations, newOverviewRulerApproximateDecorations);\n            // Range highlight\n            if (_this._rangeHighlightDecorationId) {\n                accessor.removeDecoration(_this._rangeHighlightDecorationId);\n                _this._rangeHighlightDecorationId = null;\n            }\n            // Find scope\n            if (_this._findScopeDecorationId) {\n                accessor.removeDecoration(_this._findScopeDecorationId);\n                _this._findScopeDecorationId = null;\n            }\n            if (findScope) {\n                _this._findScopeDecorationId = accessor.addDecoration(findScope, FindDecorations._FIND_SCOPE_DECORATION);\n            }\n        });\n    };\n    FindDecorations.prototype.matchBeforePosition = function (position) {\n        if (this._decorations.length === 0) {\n            return null;\n        }\n        for (var i = this._decorations.length - 1; i >= 0; i--) {\n            var decorationId = this._decorations[i];\n            var r = this._editor.getModel().getDecorationRange(decorationId);\n            if (!r || r.endLineNumber > position.lineNumber) {\n                continue;\n            }\n            if (r.endLineNumber < position.lineNumber) {\n                return r;\n            }\n            if (r.endColumn > position.column) {\n                continue;\n            }\n            return r;\n        }\n        return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length - 1]);\n    };\n    FindDecorations.prototype.matchAfterPosition = function (position) {\n        if (this._decorations.length === 0) {\n            return null;\n        }\n        for (var i = 0, len = this._decorations.length; i < len; i++) {\n            var decorationId = this._decorations[i];\n            var r = this._editor.getModel().getDecorationRange(decorationId);\n            if (!r || r.startLineNumber < position.lineNumber) {\n                continue;\n            }\n            if (r.startLineNumber > position.lineNumber) {\n                return r;\n            }\n            if (r.startColumn < position.column) {\n                continue;\n            }\n            return r;\n        }\n        return this._editor.getModel().getDecorationRange(this._decorations[0]);\n    };\n    FindDecorations.prototype._allDecorations = function () {\n        var result = [];\n        result = result.concat(this._decorations);\n        result = result.concat(this._overviewRulerApproximateDecorations);\n        if (this._findScopeDecorationId) {\n            result.push(this._findScopeDecorationId);\n        }\n        if (this._rangeHighlightDecorationId) {\n            result.push(this._rangeHighlightDecorationId);\n        }\n        return result;\n    };\n    FindDecorations._CURRENT_FIND_MATCH_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        zIndex: 13,\n        className: 'currentFindMatch',\n        showIfCollapsed: true,\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerFindMatchForeground),\n            darkColor: themeColorFromId(overviewRulerFindMatchForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    FindDecorations._FIND_MATCH_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'findMatch',\n        showIfCollapsed: true,\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerFindMatchForeground),\n            darkColor: themeColorFromId(overviewRulerFindMatchForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'findMatch',\n        showIfCollapsed: true\n    });\n    FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerFindMatchForeground),\n            darkColor: themeColorFromId(overviewRulerFindMatchForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    FindDecorations._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'rangeHighlight',\n        isWholeLine: true\n    });\n    FindDecorations._FIND_SCOPE_DECORATION = ModelDecorationOptions.register({\n        className: 'findScope',\n        isWholeLine: true\n    });\n    return FindDecorations;\n}());\nexport { FindDecorations };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range } from '../../common/core/range.js';\nvar ReplaceAllCommand = /** @class */ (function () {\n    function ReplaceAllCommand(editorSelection, ranges, replaceStrings) {\n        this._editorSelection = editorSelection;\n        this._ranges = ranges;\n        this._replaceStrings = replaceStrings;\n    }\n    ReplaceAllCommand.prototype.getEditOperations = function (model, builder) {\n        if (this._ranges.length > 0) {\n            // Collect all edit operations\n            var ops = [];\n            for (var i_1 = 0; i_1 < this._ranges.length; i_1++) {\n                ops.push({\n                    range: this._ranges[i_1],\n                    text: this._replaceStrings[i_1]\n                });\n            }\n            // Sort them in ascending order by range starts\n            ops.sort(function (o1, o2) {\n                return Range.compareRangesUsingStarts(o1.range, o2.range);\n            });\n            // Merge operations that touch each other\n            var resultOps = [];\n            var previousOp = ops[0];\n            for (var i_2 = 1; i_2 < ops.length; i_2++) {\n                if (previousOp.range.endLineNumber === ops[i_2].range.startLineNumber && previousOp.range.endColumn === ops[i_2].range.startColumn) {\n                    // These operations are one after another and can be merged\n                    previousOp.range = previousOp.range.plusRange(ops[i_2].range);\n                    previousOp.text = previousOp.text + ops[i_2].text;\n                }\n                else {\n                    resultOps.push(previousOp);\n                    previousOp = ops[i_2];\n                }\n            }\n            resultOps.push(previousOp);\n            for (var i = 0; i < resultOps.length; i++) {\n                builder.addEditOperation(resultOps[i].range, resultOps[i].text);\n            }\n        }\n        this._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);\n    };\n    ReplaceAllCommand.prototype.computeCursorState = function (model, helper) {\n        return helper.getTrackedSelection(this._trackedEditorSelectionId);\n    };\n    return ReplaceAllCommand;\n}());\nexport { ReplaceAllCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { RunOnceScheduler, TimeoutTimer } from '../../../base/common/async.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { ReplacePattern, parseReplaceString } from './replacePattern.js';\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection } from '../../common/commands/replaceCommand.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { FindDecorations } from './findDecorations.js';\nimport { ReplaceAllCommand } from './replaceAllCommand.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { SearchParams } from '../../common/model/textModelSearch.js';\nimport { CursorChangeReason } from '../../common/controller/cursorEvents.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { EndOfLinePreference } from '../../common/model.js';\nexport var CONTEXT_FIND_WIDGET_VISIBLE = new RawContextKey('findWidgetVisible', false);\nexport var CONTEXT_FIND_WIDGET_NOT_VISIBLE = CONTEXT_FIND_WIDGET_VISIBLE.toNegated();\n// Keep ContextKey use of 'Focussed' to not break when clauses\nexport var CONTEXT_FIND_INPUT_FOCUSED = new RawContextKey('findInputFocussed', false);\nexport var CONTEXT_REPLACE_INPUT_FOCUSED = new RawContextKey('replaceInputFocussed', false);\nexport var ToggleCaseSensitiveKeybinding = {\n    primary: 512 /* Alt */ | 33 /* KEY_C */,\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 33 /* KEY_C */ }\n};\nexport var ToggleWholeWordKeybinding = {\n    primary: 512 /* Alt */ | 53 /* KEY_W */,\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 53 /* KEY_W */ }\n};\nexport var ToggleRegexKeybinding = {\n    primary: 512 /* Alt */ | 48 /* KEY_R */,\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 48 /* KEY_R */ }\n};\nexport var ToggleSearchScopeKeybinding = {\n    primary: 512 /* Alt */ | 42 /* KEY_L */,\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 42 /* KEY_L */ }\n};\nexport var ShowPreviousFindTermKeybinding = {\n    primary: 512 /* Alt */ | 16 /* UpArrow */\n};\nexport var ShowNextFindTermKeybinding = {\n    primary: 512 /* Alt */ | 18 /* DownArrow */\n};\nexport var FIND_IDS = {\n    StartFindAction: 'actions.find',\n    StartFindWithSelection: 'actions.findWithSelection',\n    NextMatchFindAction: 'editor.action.nextMatchFindAction',\n    PreviousMatchFindAction: 'editor.action.previousMatchFindAction',\n    NextSelectionMatchFindAction: 'editor.action.nextSelectionMatchFindAction',\n    PreviousSelectionMatchFindAction: 'editor.action.previousSelectionMatchFindAction',\n    StartFindReplaceAction: 'editor.action.startFindReplaceAction',\n    CloseFindWidgetCommand: 'closeFindWidget',\n    ToggleCaseSensitiveCommand: 'toggleFindCaseSensitive',\n    ToggleWholeWordCommand: 'toggleFindWholeWord',\n    ToggleRegexCommand: 'toggleFindRegex',\n    ToggleSearchScopeCommand: 'toggleFindInSelection',\n    ReplaceOneAction: 'editor.action.replaceOne',\n    ReplaceAllAction: 'editor.action.replaceAll',\n    SelectAllMatchesAction: 'editor.action.selectAllMatches',\n    ShowPreviousFindTermAction: 'find.history.showPrevious',\n    ShowNextFindTermAction: 'find.history.showNext'\n};\nexport var MATCHES_LIMIT = 19999;\nvar RESEARCH_DELAY = 240;\nvar FindModelBoundToEditorModel = /** @class */ (function () {\n    function FindModelBoundToEditorModel(editor, state) {\n        var _this = this;\n        this._editor = editor;\n        this._state = state;\n        this._toDispose = [];\n        this._isDisposed = false;\n        this._startSearchingTimer = new TimeoutTimer();\n        this._decorations = new FindDecorations(editor);\n        this._toDispose.push(this._decorations);\n        this._updateDecorationsScheduler = new RunOnceScheduler(function () { return _this.research(false); }, 100);\n        this._toDispose.push(this._updateDecorationsScheduler);\n        this._toDispose.push(this._editor.onDidChangeCursorPosition(function (e) {\n            if (e.reason === CursorChangeReason.Explicit\n                || e.reason === CursorChangeReason.Undo\n                || e.reason === CursorChangeReason.Redo) {\n                _this._decorations.setStartPosition(_this._editor.getPosition());\n            }\n        }));\n        this._ignoreModelContentChanged = false;\n        this._toDispose.push(this._editor.onDidChangeModelContent(function (e) {\n            if (_this._ignoreModelContentChanged) {\n                return;\n            }\n            if (e.isFlush) {\n                // a model.setValue() was called\n                _this._decorations.reset();\n            }\n            _this._decorations.setStartPosition(_this._editor.getPosition());\n            _this._updateDecorationsScheduler.schedule();\n        }));\n        this._toDispose.push(this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\n        this.research(false, this._state.searchScope);\n    }\n    FindModelBoundToEditorModel.prototype.dispose = function () {\n        this._isDisposed = true;\n        dispose(this._startSearchingTimer);\n        this._toDispose = dispose(this._toDispose);\n    };\n    FindModelBoundToEditorModel.prototype._onStateChanged = function (e) {\n        var _this = this;\n        if (this._isDisposed) {\n            // The find model is disposed during a find state changed event\n            return;\n        }\n        if (!this._editor.getModel()) {\n            // The find model will be disposed momentarily\n            return;\n        }\n        if (e.searchString || e.isReplaceRevealed || e.isRegex || e.wholeWord || e.matchCase || e.searchScope) {\n            var model = this._editor.getModel();\n            if (model.isTooLargeForSyncing()) {\n                this._startSearchingTimer.cancel();\n                this._startSearchingTimer.setIfNotSet(function () {\n                    if (e.searchScope) {\n                        _this.research(e.moveCursor, _this._state.searchScope);\n                    }\n                    else {\n                        _this.research(e.moveCursor);\n                    }\n                }, RESEARCH_DELAY);\n            }\n            else {\n                if (e.searchScope) {\n                    this.research(e.moveCursor, this._state.searchScope);\n                }\n                else {\n                    this.research(e.moveCursor);\n                }\n            }\n        }\n    };\n    FindModelBoundToEditorModel._getSearchRange = function (model, findScope) {\n        var searchRange = model.getFullModelRange();\n        // If we have set now or before a find scope, use it for computing the search range\n        if (findScope) {\n            searchRange = searchRange.intersectRanges(findScope);\n        }\n        return searchRange;\n    };\n    FindModelBoundToEditorModel.prototype.research = function (moveCursor, newFindScope) {\n        var findScope = null;\n        if (typeof newFindScope !== 'undefined') {\n            findScope = newFindScope;\n        }\n        else {\n            findScope = this._decorations.getFindScope();\n        }\n        if (findScope !== null) {\n            if (findScope.startLineNumber !== findScope.endLineNumber) {\n                // multiline find scope => expand to line starts / ends\n                findScope = new Range(findScope.startLineNumber, 1, findScope.endLineNumber, this._editor.getModel().getLineMaxColumn(findScope.endLineNumber));\n            }\n        }\n        var findMatches = this._findMatches(findScope, false, MATCHES_LIMIT);\n        this._decorations.set(findMatches, findScope);\n        this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()), this._decorations.getCount(), undefined);\n        if (moveCursor) {\n            this._moveToNextMatch(this._decorations.getStartPosition());\n        }\n    };\n    FindModelBoundToEditorModel.prototype._hasMatches = function () {\n        return (this._state.matchesCount > 0);\n    };\n    FindModelBoundToEditorModel.prototype._cannotFind = function () {\n        if (!this._hasMatches()) {\n            var findScope = this._decorations.getFindScope();\n            if (findScope) {\n                // Reveal the selection so user is reminded that 'selection find' is on.\n                this._editor.revealRangeInCenterIfOutsideViewport(findScope, 0 /* Smooth */);\n            }\n            return true;\n        }\n        return false;\n    };\n    FindModelBoundToEditorModel.prototype._setCurrentFindMatch = function (match) {\n        var matchesPosition = this._decorations.setCurrentFindMatch(match);\n        this._state.changeMatchInfo(matchesPosition, this._decorations.getCount(), match);\n        this._editor.setSelection(match);\n        this._editor.revealRangeInCenterIfOutsideViewport(match, 0 /* Smooth */);\n    };\n    FindModelBoundToEditorModel.prototype._prevSearchPosition = function (before) {\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\n            || this._state.searchString.indexOf('$') >= 0);\n        var lineNumber = before.lineNumber, column = before.column;\n        var model = this._editor.getModel();\n        if (isUsingLineStops || column === 1) {\n            if (lineNumber === 1) {\n                lineNumber = model.getLineCount();\n            }\n            else {\n                lineNumber--;\n            }\n            column = model.getLineMaxColumn(lineNumber);\n        }\n        else {\n            column--;\n        }\n        return new Position(lineNumber, column);\n    };\n    FindModelBoundToEditorModel.prototype._moveToPrevMatch = function (before, isRecursed) {\n        if (isRecursed === void 0) { isRecursed = false; }\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\n            var prevMatchRange = this._decorations.matchBeforePosition(before);\n            if (prevMatchRange && prevMatchRange.isEmpty() && prevMatchRange.getStartPosition().equals(before)) {\n                before = this._prevSearchPosition(before);\n                prevMatchRange = this._decorations.matchBeforePosition(before);\n            }\n            if (prevMatchRange) {\n                this._setCurrentFindMatch(prevMatchRange);\n            }\n            return;\n        }\n        if (this._cannotFind()) {\n            return;\n        }\n        var findScope = this._decorations.getFindScope();\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\n        // ...(----)...|...\n        if (searchRange.getEndPosition().isBefore(before)) {\n            before = searchRange.getEndPosition();\n        }\n        // ...|...(----)...\n        if (before.isBefore(searchRange.getStartPosition())) {\n            before = searchRange.getEndPosition();\n        }\n        var lineNumber = before.lineNumber, column = before.column;\n        var model = this._editor.getModel();\n        var position = new Position(lineNumber, column);\n        var prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false);\n        if (prevMatch && prevMatch.range.isEmpty() && prevMatch.range.getStartPosition().equals(position)) {\n            // Looks like we're stuck at this position, unacceptable!\n            position = this._prevSearchPosition(position);\n            prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false);\n        }\n        if (!prevMatch) {\n            // there is precisely one match and selection is on top of it\n            return null;\n        }\n        if (!isRecursed && !searchRange.containsRange(prevMatch.range)) {\n            return this._moveToPrevMatch(prevMatch.range.getStartPosition(), true);\n        }\n        this._setCurrentFindMatch(prevMatch.range);\n    };\n    FindModelBoundToEditorModel.prototype.moveToPrevMatch = function () {\n        this._moveToPrevMatch(this._editor.getSelection().getStartPosition());\n    };\n    FindModelBoundToEditorModel.prototype._nextSearchPosition = function (after) {\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\n            || this._state.searchString.indexOf('$') >= 0);\n        var lineNumber = after.lineNumber, column = after.column;\n        var model = this._editor.getModel();\n        if (isUsingLineStops || column === model.getLineMaxColumn(lineNumber)) {\n            if (lineNumber === model.getLineCount()) {\n                lineNumber = 1;\n            }\n            else {\n                lineNumber++;\n            }\n            column = 1;\n        }\n        else {\n            column++;\n        }\n        return new Position(lineNumber, column);\n    };\n    FindModelBoundToEditorModel.prototype._moveToNextMatch = function (after) {\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\n            var nextMatchRange = this._decorations.matchAfterPosition(after);\n            if (nextMatchRange && nextMatchRange.isEmpty() && nextMatchRange.getStartPosition().equals(after)) {\n                // Looks like we're stuck at this position, unacceptable!\n                after = this._nextSearchPosition(after);\n                nextMatchRange = this._decorations.matchAfterPosition(after);\n            }\n            if (nextMatchRange) {\n                this._setCurrentFindMatch(nextMatchRange);\n            }\n            return;\n        }\n        var nextMatch = this._getNextMatch(after, false, true);\n        if (nextMatch) {\n            this._setCurrentFindMatch(nextMatch.range);\n        }\n    };\n    FindModelBoundToEditorModel.prototype._getNextMatch = function (after, captureMatches, forceMove, isRecursed) {\n        if (isRecursed === void 0) { isRecursed = false; }\n        if (this._cannotFind()) {\n            return null;\n        }\n        var findScope = this._decorations.getFindScope();\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\n        // ...(----)...|...\n        if (searchRange.getEndPosition().isBefore(after)) {\n            after = searchRange.getStartPosition();\n        }\n        // ...|...(----)...\n        if (after.isBefore(searchRange.getStartPosition())) {\n            after = searchRange.getStartPosition();\n        }\n        var lineNumber = after.lineNumber, column = after.column;\n        var model = this._editor.getModel();\n        var position = new Position(lineNumber, column);\n        var nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null, captureMatches);\n        if (forceMove && nextMatch && nextMatch.range.isEmpty() && nextMatch.range.getStartPosition().equals(position)) {\n            // Looks like we're stuck at this position, unacceptable!\n            position = this._nextSearchPosition(position);\n            nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null, captureMatches);\n        }\n        if (!nextMatch) {\n            // there is precisely one match and selection is on top of it\n            return null;\n        }\n        if (!isRecursed && !searchRange.containsRange(nextMatch.range)) {\n            return this._getNextMatch(nextMatch.range.getEndPosition(), captureMatches, forceMove, true);\n        }\n        return nextMatch;\n    };\n    FindModelBoundToEditorModel.prototype.moveToNextMatch = function () {\n        this._moveToNextMatch(this._editor.getSelection().getEndPosition());\n    };\n    FindModelBoundToEditorModel.prototype._getReplacePattern = function () {\n        if (this._state.isRegex) {\n            return parseReplaceString(this._state.replaceString);\n        }\n        return ReplacePattern.fromStaticValue(this._state.replaceString);\n    };\n    FindModelBoundToEditorModel.prototype.replace = function () {\n        if (!this._hasMatches()) {\n            return;\n        }\n        var replacePattern = this._getReplacePattern();\n        var selection = this._editor.getSelection();\n        var nextMatch = this._getNextMatch(selection.getStartPosition(), replacePattern.hasReplacementPatterns, false);\n        if (nextMatch) {\n            if (selection.equalsRange(nextMatch.range)) {\n                // selection sits on a find match => replace it!\n                var replaceString = replacePattern.buildReplaceString(nextMatch.matches);\n                var command = new ReplaceCommand(selection, replaceString);\n                this._executeEditorCommand('replace', command);\n                this._decorations.setStartPosition(new Position(selection.startLineNumber, selection.startColumn + replaceString.length));\n                this.research(true);\n            }\n            else {\n                this._decorations.setStartPosition(this._editor.getPosition());\n                this._setCurrentFindMatch(nextMatch.range);\n            }\n        }\n    };\n    FindModelBoundToEditorModel.prototype._findMatches = function (findScope, captureMatches, limitResultCount) {\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\n        return this._editor.getModel().findMatches(this._state.searchString, searchRange, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null, captureMatches, limitResultCount);\n    };\n    FindModelBoundToEditorModel.prototype.replaceAll = function () {\n        if (!this._hasMatches()) {\n            return;\n        }\n        var findScope = this._decorations.getFindScope();\n        if (findScope === null && this._state.matchesCount >= MATCHES_LIMIT) {\n            // Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches\n            this._largeReplaceAll();\n        }\n        else {\n            this._regularReplaceAll(findScope);\n        }\n        this.research(false);\n    };\n    FindModelBoundToEditorModel.prototype._largeReplaceAll = function () {\n        var searchParams = new SearchParams(this._state.searchString, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getConfiguration().wordSeparators : null);\n        var searchData = searchParams.parseSearchRequest();\n        if (!searchData) {\n            return;\n        }\n        var searchRegex = searchData.regex;\n        if (!searchRegex.multiline) {\n            var mod = 'm';\n            if (searchRegex.ignoreCase) {\n                mod += 'i';\n            }\n            if (searchRegex.global) {\n                mod += 'g';\n            }\n            searchRegex = new RegExp(searchRegex.source, mod);\n        }\n        var model = this._editor.getModel();\n        var modelText = model.getValue(EndOfLinePreference.LF);\n        var fullModelRange = model.getFullModelRange();\n        var replacePattern = this._getReplacePattern();\n        var resultText;\n        if (replacePattern.hasReplacementPatterns) {\n            resultText = modelText.replace(searchRegex, function () {\n                return replacePattern.buildReplaceString(arguments);\n            });\n        }\n        else {\n            resultText = modelText.replace(searchRegex, replacePattern.buildReplaceString(null));\n        }\n        var command = new ReplaceCommandThatPreservesSelection(fullModelRange, resultText, this._editor.getSelection());\n        this._executeEditorCommand('replaceAll', command);\n    };\n    FindModelBoundToEditorModel.prototype._regularReplaceAll = function (findScope) {\n        var replacePattern = this._getReplacePattern();\n        // Get all the ranges (even more than the highlighted ones)\n        var matches = this._findMatches(findScope, replacePattern.hasReplacementPatterns, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\n        var replaceStrings = [];\n        for (var i = 0, len = matches.length; i < len; i++) {\n            replaceStrings[i] = replacePattern.buildReplaceString(matches[i].matches);\n        }\n        var command = new ReplaceAllCommand(this._editor.getSelection(), matches.map(function (m) { return m.range; }), replaceStrings);\n        this._executeEditorCommand('replaceAll', command);\n    };\n    FindModelBoundToEditorModel.prototype.selectAllMatches = function () {\n        if (!this._hasMatches()) {\n            return;\n        }\n        var findScope = this._decorations.getFindScope();\n        // Get all the ranges (even more than the highlighted ones)\n        var matches = this._findMatches(findScope, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\n        var selections = matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); });\n        // If one of the ranges is the editor selection, then maintain it as primary\n        var editorSelection = this._editor.getSelection();\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var sel = selections[i];\n            if (sel.equalsRange(editorSelection)) {\n                selections = [editorSelection].concat(selections.slice(0, i)).concat(selections.slice(i + 1));\n                break;\n            }\n        }\n        this._editor.setSelections(selections);\n    };\n    FindModelBoundToEditorModel.prototype._executeEditorCommand = function (source, command) {\n        try {\n            this._ignoreModelContentChanged = true;\n            this._editor.pushUndoStop();\n            this._editor.executeCommand(source, command);\n            this._editor.pushUndoStop();\n        }\n        finally {\n            this._ignoreModelContentChanged = false;\n        }\n    };\n    return FindModelBoundToEditorModel;\n}());\nexport { FindModelBoundToEditorModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Range } from '../../common/core/range.js';\nfunction effectiveOptionValue(override, value) {\n    if (override === 1 /* True */) {\n        return true;\n    }\n    if (override === 2 /* False */) {\n        return false;\n    }\n    return value;\n}\nvar FindReplaceState = /** @class */ (function () {\n    function FindReplaceState() {\n        this._searchString = '';\n        this._replaceString = '';\n        this._isRevealed = false;\n        this._isReplaceRevealed = false;\n        this._isRegex = false;\n        this._isRegexOverride = 0 /* NotSet */;\n        this._wholeWord = false;\n        this._wholeWordOverride = 0 /* NotSet */;\n        this._matchCase = false;\n        this._matchCaseOverride = 0 /* NotSet */;\n        this._searchScope = null;\n        this._matchesPosition = 0;\n        this._matchesCount = 0;\n        this._currentMatch = null;\n        this._onFindReplaceStateChange = new Emitter();\n    }\n    Object.defineProperty(FindReplaceState.prototype, \"searchString\", {\n        get: function () { return this._searchString; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"replaceString\", {\n        get: function () { return this._replaceString; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"isRevealed\", {\n        get: function () { return this._isRevealed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"isReplaceRevealed\", {\n        get: function () { return this._isReplaceRevealed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"isRegex\", {\n        get: function () { return effectiveOptionValue(this._isRegexOverride, this._isRegex); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"wholeWord\", {\n        get: function () { return effectiveOptionValue(this._wholeWordOverride, this._wholeWord); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"matchCase\", {\n        get: function () { return effectiveOptionValue(this._matchCaseOverride, this._matchCase); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"actualIsRegex\", {\n        get: function () { return this._isRegex; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"actualWholeWord\", {\n        get: function () { return this._wholeWord; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"actualMatchCase\", {\n        get: function () { return this._matchCase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"searchScope\", {\n        get: function () { return this._searchScope; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"matchesPosition\", {\n        get: function () { return this._matchesPosition; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"matchesCount\", {\n        get: function () { return this._matchesCount; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"currentMatch\", {\n        get: function () { return this._currentMatch; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FindReplaceState.prototype, \"onFindReplaceStateChange\", {\n        get: function () { return this._onFindReplaceStateChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    FindReplaceState.prototype.dispose = function () {\n    };\n    FindReplaceState.prototype.changeMatchInfo = function (matchesPosition, matchesCount, currentMatch) {\n        var changeEvent = {\n            moveCursor: false,\n            updateHistory: false,\n            searchString: false,\n            replaceString: false,\n            isRevealed: false,\n            isReplaceRevealed: false,\n            isRegex: false,\n            wholeWord: false,\n            matchCase: false,\n            searchScope: false,\n            matchesPosition: false,\n            matchesCount: false,\n            currentMatch: false\n        };\n        var somethingChanged = false;\n        if (matchesCount === 0) {\n            matchesPosition = 0;\n        }\n        if (matchesPosition > matchesCount) {\n            matchesPosition = matchesCount;\n        }\n        if (this._matchesPosition !== matchesPosition) {\n            this._matchesPosition = matchesPosition;\n            changeEvent.matchesPosition = true;\n            somethingChanged = true;\n        }\n        if (this._matchesCount !== matchesCount) {\n            this._matchesCount = matchesCount;\n            changeEvent.matchesCount = true;\n            somethingChanged = true;\n        }\n        if (typeof currentMatch !== 'undefined') {\n            if (!Range.equalsRange(this._currentMatch, currentMatch)) {\n                this._currentMatch = currentMatch;\n                changeEvent.currentMatch = true;\n                somethingChanged = true;\n            }\n        }\n        if (somethingChanged) {\n            this._onFindReplaceStateChange.fire(changeEvent);\n        }\n    };\n    FindReplaceState.prototype.change = function (newState, moveCursor, updateHistory) {\n        if (updateHistory === void 0) { updateHistory = true; }\n        var changeEvent = {\n            moveCursor: moveCursor,\n            updateHistory: updateHistory,\n            searchString: false,\n            replaceString: false,\n            isRevealed: false,\n            isReplaceRevealed: false,\n            isRegex: false,\n            wholeWord: false,\n            matchCase: false,\n            searchScope: false,\n            matchesPosition: false,\n            matchesCount: false,\n            currentMatch: false\n        };\n        var somethingChanged = false;\n        var oldEffectiveIsRegex = this.isRegex;\n        var oldEffectiveWholeWords = this.wholeWord;\n        var oldEffectiveMatchCase = this.matchCase;\n        if (typeof newState.searchString !== 'undefined') {\n            if (this._searchString !== newState.searchString) {\n                this._searchString = newState.searchString;\n                changeEvent.searchString = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.replaceString !== 'undefined') {\n            if (this._replaceString !== newState.replaceString) {\n                this._replaceString = newState.replaceString;\n                changeEvent.replaceString = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isRevealed !== 'undefined') {\n            if (this._isRevealed !== newState.isRevealed) {\n                this._isRevealed = newState.isRevealed;\n                changeEvent.isRevealed = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isReplaceRevealed !== 'undefined') {\n            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\n                this._isReplaceRevealed = newState.isReplaceRevealed;\n                changeEvent.isReplaceRevealed = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isRegex !== 'undefined') {\n            this._isRegex = newState.isRegex;\n        }\n        if (typeof newState.wholeWord !== 'undefined') {\n            this._wholeWord = newState.wholeWord;\n        }\n        if (typeof newState.matchCase !== 'undefined') {\n            this._matchCase = newState.matchCase;\n        }\n        if (typeof newState.searchScope !== 'undefined') {\n            if (!Range.equalsRange(this._searchScope, newState.searchScope)) {\n                this._searchScope = newState.searchScope;\n                changeEvent.searchScope = true;\n                somethingChanged = true;\n            }\n        }\n        // Overrides get set when they explicitly come in and get reset anytime something else changes\n        this._isRegexOverride = (typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* NotSet */);\n        this._wholeWordOverride = (typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* NotSet */);\n        this._matchCaseOverride = (typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* NotSet */);\n        if (oldEffectiveIsRegex !== this.isRegex) {\n            somethingChanged = true;\n            changeEvent.isRegex = true;\n        }\n        if (oldEffectiveWholeWords !== this.wholeWord) {\n            somethingChanged = true;\n            changeEvent.wholeWord = true;\n        }\n        if (oldEffectiveMatchCase !== this.matchCase) {\n            somethingChanged = true;\n            changeEvent.matchCase = true;\n        }\n        if (somethingChanged) {\n            this._onFindReplaceStateChange.fire(changeEvent);\n        }\n    };\n    return FindReplaceState;\n}());\nexport { FindReplaceState };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var IClipboardService = createDecorator('clipboardService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar IdGenerator = /** @class */ (function () {\n    function IdGenerator(prefix) {\n        this._prefix = prefix;\n        this._lastId = 0;\n    }\n    IdGenerator.prototype.nextId = function () {\n        return this._prefix + (++this._lastId);\n    };\n    return IdGenerator;\n}());\nexport { IdGenerator };\nexport var defaultGenerator = new IdGenerator('id#');\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\nvar __marked_exports;\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n?(?!hr|heading|lheading| {0,3}>|tag)[^\\n]+)+)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"|[^\"]|\"[^\"\\n]*\")*\"|'\\n?(?:[^'\\n]+\\n?)*'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = edit(block.html)\n  .replace('comment', /<!--[\\s\\S]*?-->/)\n  .replace('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  .replace('closing', /<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"\\/>\\s]*)*?\\/?>/)\n  .replace(/tag/g, block._tag)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', '<' + block._tag)\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      space,\n      i,\n      tag,\n      l,\n      isordered;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : ''\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase();\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?[a-zA-Z0-9\\-]+(?:\"[^\"]*\"|'[^']*'|\\s[^<'\">\\/\\s]*)*?\\/?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^_([^\\s_](?:[^_]|__)+?[^\\s_])_\\b|^\\*((?:\\*\\*|[^*])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex()\n\ninline._inside = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = edit(inline.link)\n  .replace('inside', inline._inside)\n  .replace('href', inline._href)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('inside', inline._inside)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href),\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n}\n\nTextRenderer.prototype.br = function() {\n  return '';\n}\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = base.replace(/[^/]*$/, '');\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer(),\n  xhtml: false,\n  baseUrl: null\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\n__marked_exports = marked;\n\n}).call(this);\n\n// ESM-comment-begin\n// define([], function() {\n//   return {\n//     marked: __marked_exports\n//   };\n// });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport var marked = __marked_exports;\nexport var Parser = __marked_exports.Parser;\nexport var parser = __marked_exports.parser;\nexport var Renderer = __marked_exports.Renderer;\nexport var TextRenderer = __marked_exports.TextRenderer;\nexport var Lexer = __marked_exports.Lexer;\nexport var lexer = __marked_exports.lexer;\nexport var InlineLexer = __marked_exports.InlineLexer;\nexport var inlineLexer = __marked_exports.inlineLexer;\nexport var parse = __marked_exports.parse;\n// ESM-uncomment-end\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as DOM from './dom.js';\nimport { defaultGenerator } from '../common/idGenerator.js';\nimport { escape } from '../common/strings.js';\nimport { removeMarkdownEscapes } from '../common/htmlContent.js';\nimport { marked } from '../common/marked/marked.js';\nfunction createElement(options) {\n    var tagName = options.inline ? 'span' : 'div';\n    var element = document.createElement(tagName);\n    if (options.className) {\n        element.className = options.className;\n    }\n    return element;\n}\nexport function renderText(text, options) {\n    if (options === void 0) { options = {}; }\n    var element = createElement(options);\n    element.textContent = text;\n    return element;\n}\nexport function renderFormattedText(formattedText, options) {\n    if (options === void 0) { options = {}; }\n    var element = createElement(options);\n    _renderFormattedText(element, parseFormattedText(formattedText), options.actionHandler);\n    return element;\n}\n/**\n * Create html nodes for the given content element.\n */\nexport function renderMarkdown(markdown, options) {\n    if (options === void 0) { options = {}; }\n    var element = createElement(options);\n    // signal to code-block render that the\n    // element has been created\n    var signalInnerHTML;\n    var withInnerHTML = new Promise(function (c) { return signalInnerHTML = c; });\n    var renderer = new marked.Renderer();\n    renderer.image = function (href, title, text) {\n        var dimensions = [];\n        if (href) {\n            var splitted = href.split('|').map(function (s) { return s.trim(); });\n            href = splitted[0];\n            var parameters = splitted[1];\n            if (parameters) {\n                var heightFromParams = /height=(\\d+)/.exec(parameters);\n                var widthFromParams = /width=(\\d+)/.exec(parameters);\n                var height = (heightFromParams && heightFromParams[1]);\n                var width = (widthFromParams && widthFromParams[1]);\n                var widthIsFinite = isFinite(parseInt(width));\n                var heightIsFinite = isFinite(parseInt(height));\n                if (widthIsFinite) {\n                    dimensions.push(\"width=\\\"\" + width + \"\\\"\");\n                }\n                if (heightIsFinite) {\n                    dimensions.push(\"height=\\\"\" + height + \"\\\"\");\n                }\n            }\n        }\n        var attributes = [];\n        if (href) {\n            attributes.push(\"src=\\\"\" + href + \"\\\"\");\n        }\n        if (text) {\n            attributes.push(\"alt=\\\"\" + text + \"\\\"\");\n        }\n        if (title) {\n            attributes.push(\"title=\\\"\" + title + \"\\\"\");\n        }\n        if (dimensions.length) {\n            attributes = attributes.concat(dimensions);\n        }\n        return '<img ' + attributes.join(' ') + '>';\n    };\n    renderer.link = function (href, title, text) {\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\n        if (href === text) { // raw link case\n            text = removeMarkdownEscapes(text);\n        }\n        title = removeMarkdownEscapes(title);\n        href = removeMarkdownEscapes(href);\n        if (!href\n            || href.match(/^data:|javascript:/i)\n            || (href.match(/^command:/i) && !markdown.isTrusted)) {\n            // drop the link\n            return text;\n        }\n        else {\n            return \"<a href=\\\"#\\\" data-href=\\\"\" + href + \"\\\" title=\\\"\" + (title || href) + \"\\\">\" + text + \"</a>\";\n        }\n    };\n    renderer.paragraph = function (text) {\n        return \"<p>\" + text + \"</p>\";\n    };\n    if (options.codeBlockRenderer) {\n        renderer.code = function (code, lang) {\n            var value = options.codeBlockRenderer(lang, code);\n            // when code-block rendering is async we return sync\n            // but update the node with the real result later.\n            var id = defaultGenerator.nextId();\n            var promise = Promise.all([value, withInnerHTML]).then(function (values) {\n                var strValue = values[0];\n                var span = element.querySelector(\"div[data-code=\\\"\" + id + \"\\\"]\");\n                if (span) {\n                    span.innerHTML = strValue;\n                }\n            }).catch(function (err) {\n                // ignore\n            });\n            if (options.codeBlockRenderCallback) {\n                promise.then(options.codeBlockRenderCallback);\n            }\n            return \"<div class=\\\"code\\\" data-code=\\\"\" + id + \"\\\">\" + escape(code) + \"</div>\";\n        };\n    }\n    if (options.actionHandler) {\n        options.actionHandler.disposeables.push(DOM.addStandardDisposableListener(element, 'click', function (event) {\n            var target = event.target;\n            if (target.tagName !== 'A') {\n                target = target.parentElement;\n                if (!target || target.tagName !== 'A') {\n                    return;\n                }\n            }\n            var href = target.dataset['href'];\n            if (href) {\n                options.actionHandler.callback(href, event);\n            }\n        }));\n    }\n    var markedOptions = {\n        sanitize: true,\n        renderer: renderer\n    };\n    element.innerHTML = marked(markdown.value, markedOptions);\n    signalInnerHTML();\n    return element;\n}\n// --- formatted string parsing\nvar StringStream = /** @class */ (function () {\n    function StringStream(source) {\n        this.source = source;\n        this.index = 0;\n    }\n    StringStream.prototype.eos = function () {\n        return this.index >= this.source.length;\n    };\n    StringStream.prototype.next = function () {\n        var next = this.peek();\n        this.advance();\n        return next;\n    };\n    StringStream.prototype.peek = function () {\n        return this.source[this.index];\n    };\n    StringStream.prototype.advance = function () {\n        this.index++;\n    };\n    return StringStream;\n}());\nfunction _renderFormattedText(element, treeNode, actionHandler) {\n    var child;\n    if (treeNode.type === 2 /* Text */) {\n        child = document.createTextNode(treeNode.content);\n    }\n    else if (treeNode.type === 3 /* Bold */) {\n        child = document.createElement('b');\n    }\n    else if (treeNode.type === 4 /* Italics */) {\n        child = document.createElement('i');\n    }\n    else if (treeNode.type === 5 /* Action */ && actionHandler) {\n        var a = document.createElement('a');\n        a.href = '#';\n        actionHandler.disposeables.push(DOM.addStandardDisposableListener(a, 'click', function (event) {\n            actionHandler.callback(String(treeNode.index), event);\n        }));\n        child = a;\n    }\n    else if (treeNode.type === 7 /* NewLine */) {\n        child = document.createElement('br');\n    }\n    else if (treeNode.type === 1 /* Root */) {\n        child = element;\n    }\n    if (element !== child) {\n        element.appendChild(child);\n    }\n    if (Array.isArray(treeNode.children)) {\n        treeNode.children.forEach(function (nodeChild) {\n            _renderFormattedText(child, nodeChild, actionHandler);\n        });\n    }\n}\nfunction parseFormattedText(content) {\n    var root = {\n        type: 1 /* Root */,\n        children: []\n    };\n    var actionItemIndex = 0;\n    var current = root;\n    var stack = [];\n    var stream = new StringStream(content);\n    while (!stream.eos()) {\n        var next = stream.next();\n        var isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek()) !== 0 /* Invalid */);\n        if (isEscapedFormatType) {\n            next = stream.next(); // unread the backslash if it escapes a format tag type\n        }\n        if (!isEscapedFormatType && isFormatTag(next) && next === stream.peek()) {\n            stream.advance();\n            if (current.type === 2 /* Text */) {\n                current = stack.pop();\n            }\n            var type = formatTagType(next);\n            if (current.type === type || (current.type === 5 /* Action */ && type === 6 /* ActionClose */)) {\n                current = stack.pop();\n            }\n            else {\n                var newCurrent = {\n                    type: type,\n                    children: []\n                };\n                if (type === 5 /* Action */) {\n                    newCurrent.index = actionItemIndex;\n                    actionItemIndex++;\n                }\n                current.children.push(newCurrent);\n                stack.push(current);\n                current = newCurrent;\n            }\n        }\n        else if (next === '\\n') {\n            if (current.type === 2 /* Text */) {\n                current = stack.pop();\n            }\n            current.children.push({\n                type: 7 /* NewLine */\n            });\n        }\n        else {\n            if (current.type !== 2 /* Text */) {\n                var textCurrent = {\n                    type: 2 /* Text */,\n                    content: next\n                };\n                current.children.push(textCurrent);\n                stack.push(current);\n                current = textCurrent;\n            }\n            else {\n                current.content += next;\n            }\n        }\n    }\n    if (current.type === 2 /* Text */) {\n        current = stack.pop();\n    }\n    if (stack.length) {\n        // incorrectly formatted string literal\n    }\n    return root;\n}\nfunction isFormatTag(char) {\n    return formatTagType(char) !== 0 /* Invalid */;\n}\nfunction formatTagType(char) {\n    switch (char) {\n        case '*':\n            return 3 /* Bold */;\n        case '_':\n            return 4 /* Italics */;\n        case '[':\n            return 5 /* Action */;\n        case ']':\n            return 6 /* ActionClose */;\n        default:\n            return 0 /* Invalid */;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nimport * as Bal from '../../browser.js';\nimport * as dom from '../../dom.js';\nimport { renderFormattedText, renderText } from '../../htmlContentRenderer.js';\nimport * as aria from '../aria/aria.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { AnchorAlignment } from '../contextview/contextview.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nvar $ = dom.$;\nexport var MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"INFO\"] = 1] = \"INFO\";\n    MessageType[MessageType[\"WARNING\"] = 2] = \"WARNING\";\n    MessageType[MessageType[\"ERROR\"] = 3] = \"ERROR\";\n})(MessageType || (MessageType = {}));\nvar defaultOpts = {\n    inputBackground: Color.fromHex('#3C3C3C'),\n    inputForeground: Color.fromHex('#CCCCCC'),\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nvar InputBox = /** @class */ (function (_super) {\n    __extends(InputBox, _super);\n    function InputBox(container, contextViewProvider, options) {\n        var _this = _super.call(this) || this;\n        _this.state = 'idle';\n        _this._onDidChange = _this._register(new Emitter());\n        _this.onDidChange = _this._onDidChange.event;\n        _this._onDidHeightChange = _this._register(new Emitter());\n        _this.onDidHeightChange = _this._onDidHeightChange.event;\n        _this.contextViewProvider = contextViewProvider;\n        _this.options = options || Object.create(null);\n        mixin(_this.options, defaultOpts, false);\n        _this.message = null;\n        _this.cachedHeight = null;\n        _this.placeholder = _this.options.placeholder || '';\n        _this.ariaLabel = _this.options.ariaLabel || '';\n        _this.inputBackground = _this.options.inputBackground;\n        _this.inputForeground = _this.options.inputForeground;\n        _this.inputBorder = _this.options.inputBorder;\n        _this.inputValidationInfoBorder = _this.options.inputValidationInfoBorder;\n        _this.inputValidationInfoBackground = _this.options.inputValidationInfoBackground;\n        _this.inputValidationWarningBorder = _this.options.inputValidationWarningBorder;\n        _this.inputValidationWarningBackground = _this.options.inputValidationWarningBackground;\n        _this.inputValidationErrorBorder = _this.options.inputValidationErrorBorder;\n        _this.inputValidationErrorBackground = _this.options.inputValidationErrorBackground;\n        if (_this.options.validationOptions) {\n            _this.validation = _this.options.validationOptions.validation;\n        }\n        _this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        var tagName = _this.options.flexibleHeight ? 'textarea' : 'input';\n        var wrapper = dom.append(_this.element, $('.wrapper'));\n        _this.input = dom.append(wrapper, $(tagName + '.input'));\n        _this.input.setAttribute('autocorrect', 'off');\n        _this.input.setAttribute('autocapitalize', 'off');\n        _this.input.setAttribute('spellcheck', 'false');\n        _this.onfocus(_this.input, function () { return dom.addClass(_this.element, 'synthetic-focus'); });\n        _this.onblur(_this.input, function () { return dom.removeClass(_this.element, 'synthetic-focus'); });\n        if (_this.options.flexibleHeight) {\n            _this.mirror = dom.append(wrapper, $('div.mirror'));\n        }\n        else {\n            _this.input.type = _this.options.type || 'text';\n            _this.input.setAttribute('wrap', 'off');\n        }\n        if (_this.ariaLabel) {\n            _this.input.setAttribute('aria-label', _this.ariaLabel);\n        }\n        if (_this.placeholder) {\n            _this.setPlaceHolder(_this.placeholder);\n        }\n        _this.oninput(_this.input, function () { return _this.onValueChange(); });\n        _this.onblur(_this.input, function () { return _this.onBlur(); });\n        _this.onfocus(_this.input, function () { return _this.onFocus(); });\n        // Add placeholder shim for IE because IE decides to hide the placeholder on focus (we dont want that!)\n        if (_this.placeholder && Bal.isIE) {\n            _this.onclick(_this.input, function (e) {\n                dom.EventHelper.stop(e, true);\n                _this.input.focus();\n            });\n        }\n        setTimeout(function () {\n            if (!_this.input) {\n                return;\n            }\n            _this.updateMirror();\n        }, 0);\n        // Support actions\n        if (_this.options.actions) {\n            _this.actionbar = _this._register(new ActionBar(_this.element));\n            _this.actionbar.push(_this.options.actions, { icon: true, label: false });\n        }\n        _this.applyStyles();\n        return _this;\n    }\n    InputBox.prototype.onBlur = function () {\n        this._hideMessage();\n    };\n    InputBox.prototype.onFocus = function () {\n        this._showMessage();\n    };\n    InputBox.prototype.setPlaceHolder = function (placeHolder) {\n        if (this.input) {\n            this.input.setAttribute('placeholder', placeHolder);\n            this.input.title = placeHolder;\n        }\n    };\n    InputBox.prototype.setAriaLabel = function (label) {\n        this.ariaLabel = label;\n        if (this.input) {\n            if (label) {\n                this.input.setAttribute('aria-label', this.ariaLabel);\n            }\n            else {\n                this.input.removeAttribute('aria-label');\n            }\n        }\n    };\n    Object.defineProperty(InputBox.prototype, \"inputElement\", {\n        get: function () {\n            return this.input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputBox.prototype, \"value\", {\n        get: function () {\n            return this.input.value;\n        },\n        set: function (newValue) {\n            if (this.input.value !== newValue) {\n                this.input.value = newValue;\n                this.onValueChange();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputBox.prototype, \"height\", {\n        get: function () {\n            return this.cachedHeight === null ? dom.getTotalHeight(this.element) : this.cachedHeight;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputBox.prototype.focus = function () {\n        this.input.focus();\n    };\n    InputBox.prototype.blur = function () {\n        this.input.blur();\n    };\n    InputBox.prototype.hasFocus = function () {\n        return document.activeElement === this.input;\n    };\n    InputBox.prototype.select = function (range) {\n        if (range === void 0) { range = null; }\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n        }\n    };\n    InputBox.prototype.enable = function () {\n        this.input.removeAttribute('disabled');\n    };\n    InputBox.prototype.disable = function () {\n        this.input.disabled = true;\n        this._hideMessage();\n    };\n    InputBox.prototype.setEnabled = function (enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    };\n    Object.defineProperty(InputBox.prototype, \"width\", {\n        get: function () {\n            return dom.getTotalWidth(this.input);\n        },\n        set: function (width) {\n            this.input.style.width = width + 'px';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InputBox.prototype.showMessage = function (message, force) {\n        this.message = message;\n        dom.removeClass(this.element, 'idle');\n        dom.removeClass(this.element, 'info');\n        dom.removeClass(this.element, 'warning');\n        dom.removeClass(this.element, 'error');\n        dom.addClass(this.element, this.classForType(message.type));\n        var styles = this.stylesForType(this.message.type);\n        this.element.style.border = styles.border ? \"1px solid \" + styles.border : null;\n        // ARIA Support\n        var alertText;\n        if (message.type === MessageType.ERROR) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", message.content);\n        }\n        else if (message.type === MessageType.WARNING) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", message.content);\n        }\n        aria.alert(alertText);\n        if (this.hasFocus() || force) {\n            this._showMessage();\n        }\n    };\n    InputBox.prototype.hideMessage = function () {\n        this.message = null;\n        dom.removeClass(this.element, 'info');\n        dom.removeClass(this.element, 'warning');\n        dom.removeClass(this.element, 'error');\n        dom.addClass(this.element, 'idle');\n        this._hideMessage();\n        this.applyStyles();\n    };\n    InputBox.prototype.isInputValid = function () {\n        return !!this.validation && !this.validation(this.value);\n    };\n    InputBox.prototype.validate = function () {\n        var errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return !errorMsg;\n    };\n    InputBox.prototype.stylesForType = function (type) {\n        switch (type) {\n            case MessageType.INFO: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground };\n            case MessageType.WARNING: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground };\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground };\n        }\n    };\n    InputBox.prototype.classForType = function (type) {\n        switch (type) {\n            case MessageType.INFO: return 'info';\n            case MessageType.WARNING: return 'warning';\n            default: return 'error';\n        }\n    };\n    InputBox.prototype._showMessage = function () {\n        var _this = this;\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        var div;\n        var layout = function () { return div.style.width = dom.getTotalWidth(_this.element) + 'px'; };\n        this.state = 'open';\n        this.contextViewProvider.showContextView({\n            getAnchor: function () { return _this.element; },\n            anchorAlignment: AnchorAlignment.RIGHT,\n            render: function (container) {\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                var renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                var spanElement = (_this.message.formatContent\n                    ? renderFormattedText(_this.message.content, renderOptions)\n                    : renderText(_this.message.content, renderOptions));\n                dom.addClass(spanElement, _this.classForType(_this.message.type));\n                var styles = _this.stylesForType(_this.message.type);\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : null;\n                spanElement.style.border = styles.border ? \"1px solid \" + styles.border : null;\n                dom.append(div, spanElement);\n                return null;\n            },\n            layout: layout\n        });\n    };\n    InputBox.prototype._hideMessage = function () {\n        if (!this.contextViewProvider || this.state !== 'open') {\n            return;\n        }\n        this.state = 'idle';\n        this.contextViewProvider.hideContextView();\n    };\n    InputBox.prototype.onValueChange = function () {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        if (this.state === 'open') {\n            this.contextViewProvider.layout();\n        }\n    };\n    InputBox.prototype.updateMirror = function () {\n        if (!this.mirror) {\n            return;\n        }\n        var value = this.value || this.placeholder;\n        var lastCharCode = value.charCodeAt(value.length - 1);\n        var suffix = lastCharCode === 10 ? ' ' : '';\n        this.mirror.textContent = value + suffix;\n        this.layout();\n    };\n    InputBox.prototype.style = function (styles) {\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    };\n    InputBox.prototype.applyStyles = function () {\n        if (this.element) {\n            var background = this.inputBackground ? this.inputBackground.toString() : null;\n            var foreground = this.inputForeground ? this.inputForeground.toString() : null;\n            var border = this.inputBorder ? this.inputBorder.toString() : null;\n            this.element.style.backgroundColor = background;\n            this.element.style.color = foreground;\n            this.input.style.backgroundColor = background;\n            this.input.style.color = foreground;\n            this.element.style.borderWidth = border ? '1px' : null;\n            this.element.style.borderStyle = border ? 'solid' : null;\n            this.element.style.borderColor = border;\n        }\n    };\n    InputBox.prototype.layout = function () {\n        if (!this.mirror) {\n            return;\n        }\n        var previousHeight = this.cachedHeight;\n        this.cachedHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedHeight) {\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedHeight);\n        }\n    };\n    InputBox.prototype.dispose = function () {\n        this._hideMessage();\n        this.element = null;\n        this.input = null;\n        this.contextViewProvider = null;\n        this.message = null;\n        this.placeholder = null;\n        this.ariaLabel = null;\n        this.validation = null;\n        this.state = null;\n        this.actionbar = null;\n        _super.prototype.dispose.call(this);\n    };\n    return InputBox;\n}(Widget));\nexport { InputBox };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './checkbox.css';\nimport * as DOM from '../../dom.js';\nimport * as objects from '../../../common/objects.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nvar defaultOpts = {\n    inputActiveOptionBorder: Color.fromHex('#007ACC')\n};\nvar Checkbox = /** @class */ (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox(opts) {\n        var _this = _super.call(this) || this;\n        _this._opts = objects.deepClone(opts);\n        objects.mixin(_this._opts, defaultOpts, false);\n        _this._checked = _this._opts.isChecked;\n        _this.domNode = document.createElement('div');\n        _this.domNode.title = _this._opts.title;\n        _this.domNode.className = 'monaco-custom-checkbox ' + _this._opts.actionClassName + ' ' + (_this._checked ? 'checked' : 'unchecked');\n        _this.domNode.tabIndex = 0;\n        _this.domNode.setAttribute('role', 'checkbox');\n        _this.domNode.setAttribute('aria-checked', String(_this._checked));\n        _this.domNode.setAttribute('aria-label', _this._opts.title);\n        _this.applyStyles();\n        _this.onclick(_this.domNode, function (ev) {\n            _this.checked = !_this._checked;\n            _this._opts.onChange(false);\n            ev.preventDefault();\n        });\n        _this.onkeydown(_this.domNode, function (keyboardEvent) {\n            if (keyboardEvent.keyCode === 10 /* Space */ || keyboardEvent.keyCode === 3 /* Enter */) {\n                _this.checked = !_this._checked;\n                _this._opts.onChange(true);\n                keyboardEvent.preventDefault();\n                return;\n            }\n            if (_this._opts.onKeyDown) {\n                _this._opts.onKeyDown(keyboardEvent);\n            }\n        });\n        return _this;\n    }\n    Object.defineProperty(Checkbox.prototype, \"enabled\", {\n        get: function () {\n            return this.domNode.getAttribute('aria-disabled') !== 'true';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Checkbox.prototype.focus = function () {\n        this.domNode.focus();\n    };\n    Object.defineProperty(Checkbox.prototype, \"checked\", {\n        get: function () {\n            return this._checked;\n        },\n        set: function (newIsChecked) {\n            this._checked = newIsChecked;\n            this.domNode.setAttribute('aria-checked', String(this._checked));\n            if (this._checked) {\n                this.domNode.classList.add('checked');\n            }\n            else {\n                this.domNode.classList.remove('checked');\n            }\n            this.applyStyles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Checkbox.prototype.width = function () {\n        return 2 /*marginleft*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\n    };\n    Checkbox.prototype.style = function (styles) {\n        if (styles.inputActiveOptionBorder) {\n            this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        }\n        this.applyStyles();\n    };\n    Checkbox.prototype.applyStyles = function () {\n        if (this.domNode) {\n            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : 'transparent';\n        }\n    };\n    Checkbox.prototype.enable = function () {\n        this.domNode.tabIndex = 0;\n        this.domNode.setAttribute('aria-disabled', String(false));\n    };\n    Checkbox.prototype.disable = function () {\n        DOM.removeTabIndexAndUpdateFocus(this.domNode);\n        this.domNode.setAttribute('aria-disabled', String(true));\n    };\n    return Checkbox;\n}(Widget));\nexport { Checkbox };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './findInputCheckboxes.css';\nimport * as nls from '../../../../nls.js';\nimport { Checkbox } from '../checkbox/checkbox.js';\nvar NLS_CASE_SENSITIVE_CHECKBOX_LABEL = nls.localize('caseDescription', \"Match Case\");\nvar NLS_WHOLE_WORD_CHECKBOX_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nvar NLS_REGEX_CHECKBOX_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nvar CaseSensitiveCheckbox = /** @class */ (function (_super) {\n    __extends(CaseSensitiveCheckbox, _super);\n    function CaseSensitiveCheckbox(opts) {\n        return _super.call(this, {\n            actionClassName: 'monaco-case-sensitive',\n            title: NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            onChange: opts.onChange,\n            onKeyDown: opts.onKeyDown,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder\n        }) || this;\n    }\n    return CaseSensitiveCheckbox;\n}(Checkbox));\nexport { CaseSensitiveCheckbox };\nvar WholeWordsCheckbox = /** @class */ (function (_super) {\n    __extends(WholeWordsCheckbox, _super);\n    function WholeWordsCheckbox(opts) {\n        return _super.call(this, {\n            actionClassName: 'monaco-whole-word',\n            title: NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            onChange: opts.onChange,\n            onKeyDown: opts.onKeyDown,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder\n        }) || this;\n    }\n    return WholeWordsCheckbox;\n}(Checkbox));\nexport { WholeWordsCheckbox };\nvar RegexCheckbox = /** @class */ (function (_super) {\n    __extends(RegexCheckbox, _super);\n    function RegexCheckbox(opts) {\n        return _super.call(this, {\n            actionClassName: 'monaco-regex',\n            title: NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            onChange: opts.onChange,\n            onKeyDown: opts.onKeyDown,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder\n        }) || this;\n    }\n    return RegexCheckbox;\n}(Checkbox));\nexport { RegexCheckbox };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../dom.js';\nimport { InputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport { CaseSensitiveCheckbox, WholeWordsCheckbox, RegexCheckbox } from './findInputCheckboxes.js';\nvar NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nvar FindInput = /** @class */ (function (_super) {\n    __extends(FindInput, _super);\n    function FindInput(parent, contextViewProvider, options) {\n        var _this = _super.call(this) || this;\n        _this._onDidOptionChange = _this._register(new Emitter());\n        _this.onDidOptionChange = _this._onDidOptionChange.event;\n        _this._onKeyDown = _this._register(new Emitter());\n        _this.onKeyDown = _this._onKeyDown.event;\n        _this._onMouseDown = _this._register(new Emitter());\n        _this.onMouseDown = _this._onMouseDown.event;\n        _this._onInput = _this._register(new Emitter());\n        _this.onInput = _this._onInput.event;\n        _this._onKeyUp = _this._register(new Emitter());\n        _this.onKeyUp = _this._onKeyUp.event;\n        _this._onCaseSensitiveKeyDown = _this._register(new Emitter());\n        _this.onCaseSensitiveKeyDown = _this._onCaseSensitiveKeyDown.event;\n        _this._lastHighlightFindOptions = 0;\n        _this.contextViewProvider = contextViewProvider;\n        _this.width = options.width || 100;\n        _this.placeholder = options.placeholder || '';\n        _this.validation = options.validation;\n        _this.label = options.label || NLS_DEFAULT_LABEL;\n        _this.inputActiveOptionBorder = options.inputActiveOptionBorder;\n        _this.inputBackground = options.inputBackground;\n        _this.inputForeground = options.inputForeground;\n        _this.inputBorder = options.inputBorder;\n        _this.inputValidationInfoBorder = options.inputValidationInfoBorder;\n        _this.inputValidationInfoBackground = options.inputValidationInfoBackground;\n        _this.inputValidationWarningBorder = options.inputValidationWarningBorder;\n        _this.inputValidationWarningBackground = options.inputValidationWarningBackground;\n        _this.inputValidationErrorBorder = options.inputValidationErrorBorder;\n        _this.inputValidationErrorBackground = options.inputValidationErrorBackground;\n        _this.regex = null;\n        _this.wholeWords = null;\n        _this.caseSensitive = null;\n        _this.domNode = null;\n        _this.inputBox = null;\n        _this.buildDomNode(options.appendCaseSensitiveLabel || '', options.appendWholeWordsLabel || '', options.appendRegexLabel || '');\n        if (Boolean(parent)) {\n            parent.appendChild(_this.domNode);\n        }\n        _this.onkeydown(_this.inputBox.inputElement, function (e) { return _this._onKeyDown.fire(e); });\n        _this.onkeyup(_this.inputBox.inputElement, function (e) { return _this._onKeyUp.fire(e); });\n        _this.oninput(_this.inputBox.inputElement, function (e) { return _this._onInput.fire(); });\n        _this.onmousedown(_this.inputBox.inputElement, function (e) { return _this._onMouseDown.fire(e); });\n        return _this;\n    }\n    FindInput.prototype.enable = function () {\n        dom.removeClass(this.domNode, 'disabled');\n        this.inputBox.enable();\n        this.regex.enable();\n        this.wholeWords.enable();\n        this.caseSensitive.enable();\n    };\n    FindInput.prototype.disable = function () {\n        dom.addClass(this.domNode, 'disabled');\n        this.inputBox.disable();\n        this.regex.disable();\n        this.wholeWords.disable();\n        this.caseSensitive.disable();\n    };\n    FindInput.prototype.setEnabled = function (enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    };\n    FindInput.prototype.clear = function () {\n        this.clearValidation();\n        this.setValue('');\n        this.focus();\n    };\n    FindInput.prototype.setWidth = function (newWidth) {\n        this.width = newWidth;\n        this.domNode.style.width = this.width + 'px';\n        this.contextViewProvider.layout();\n        this.setInputWidth();\n    };\n    FindInput.prototype.getValue = function () {\n        return this.inputBox.value;\n    };\n    FindInput.prototype.setValue = function (value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    };\n    FindInput.prototype.style = function (styles) {\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    };\n    FindInput.prototype.applyStyles = function () {\n        if (this.domNode) {\n            var checkBoxStyles = {\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\n            };\n            this.regex.style(checkBoxStyles);\n            this.wholeWords.style(checkBoxStyles);\n            this.caseSensitive.style(checkBoxStyles);\n            var inputBoxStyles = {\n                inputBackground: this.inputBackground,\n                inputForeground: this.inputForeground,\n                inputBorder: this.inputBorder,\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\n                inputValidationErrorBorder: this.inputValidationErrorBorder\n            };\n            this.inputBox.style(inputBoxStyles);\n        }\n    };\n    FindInput.prototype.select = function () {\n        this.inputBox.select();\n    };\n    FindInput.prototype.focus = function () {\n        this.inputBox.focus();\n    };\n    FindInput.prototype.getCaseSensitive = function () {\n        return this.caseSensitive.checked;\n    };\n    FindInput.prototype.setCaseSensitive = function (value) {\n        this.caseSensitive.checked = value;\n        this.setInputWidth();\n    };\n    FindInput.prototype.getWholeWords = function () {\n        return this.wholeWords.checked;\n    };\n    FindInput.prototype.setWholeWords = function (value) {\n        this.wholeWords.checked = value;\n        this.setInputWidth();\n    };\n    FindInput.prototype.getRegex = function () {\n        return this.regex.checked;\n    };\n    FindInput.prototype.setRegex = function (value) {\n        this.regex.checked = value;\n        this.setInputWidth();\n        this.validate();\n    };\n    FindInput.prototype.focusOnCaseSensitive = function () {\n        this.caseSensitive.focus();\n    };\n    FindInput.prototype.highlightFindOptions = function () {\n        dom.removeClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        dom.addClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\n    };\n    FindInput.prototype.setInputWidth = function () {\n        var w = this.width - this.caseSensitive.width() - this.wholeWords.width() - this.regex.width();\n        this.inputBox.width = w;\n    };\n    FindInput.prototype.buildDomNode = function (appendCaseSensitiveLabel, appendWholeWordsLabel, appendRegexLabel) {\n        var _this = this;\n        this.domNode = document.createElement('div');\n        this.domNode.style.width = this.width + 'px';\n        dom.addClass(this.domNode, 'monaco-findInput');\n        this.inputBox = this._register(new InputBox(this.domNode, this.contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation || null\n            },\n            inputBackground: this.inputBackground,\n            inputForeground: this.inputForeground,\n            inputBorder: this.inputBorder,\n            inputValidationInfoBackground: this.inputValidationInfoBackground,\n            inputValidationInfoBorder: this.inputValidationInfoBorder,\n            inputValidationWarningBackground: this.inputValidationWarningBackground,\n            inputValidationWarningBorder: this.inputValidationWarningBorder,\n            inputValidationErrorBackground: this.inputValidationErrorBackground,\n            inputValidationErrorBorder: this.inputValidationErrorBorder\n        }));\n        this.regex = this._register(new RegexCheckbox({\n            appendTitle: appendRegexLabel,\n            isChecked: false,\n            onChange: function (viaKeyboard) {\n                _this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard) {\n                    _this.inputBox.focus();\n                }\n                _this.setInputWidth();\n                _this.validate();\n            },\n            inputActiveOptionBorder: this.inputActiveOptionBorder\n        }));\n        this.wholeWords = this._register(new WholeWordsCheckbox({\n            appendTitle: appendWholeWordsLabel,\n            isChecked: false,\n            onChange: function (viaKeyboard) {\n                _this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard) {\n                    _this.inputBox.focus();\n                }\n                _this.setInputWidth();\n                _this.validate();\n            },\n            inputActiveOptionBorder: this.inputActiveOptionBorder\n        }));\n        this.caseSensitive = this._register(new CaseSensitiveCheckbox({\n            appendTitle: appendCaseSensitiveLabel,\n            isChecked: false,\n            onChange: function (viaKeyboard) {\n                _this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard) {\n                    _this.inputBox.focus();\n                }\n                _this.setInputWidth();\n                _this.validate();\n            },\n            onKeyDown: function (e) {\n                _this._onCaseSensitiveKeyDown.fire(e);\n            },\n            inputActiveOptionBorder: this.inputActiveOptionBorder\n        }));\n        // Arrow-Key support to navigate between options\n        var indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n        this.onkeydown(this.domNode, function (event) {\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\n                var index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    var newIndex = void 0;\n                    if (event.equals(17 /* RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* Escape */)) {\n                        indexes[index].blur();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        this.setInputWidth();\n        var controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.appendChild(this.caseSensitive.domNode);\n        controls.appendChild(this.wholeWords.domNode);\n        controls.appendChild(this.regex.domNode);\n        this.domNode.appendChild(controls);\n    };\n    FindInput.prototype.validate = function () {\n        this.inputBox.validate();\n    };\n    FindInput.prototype.showMessage = function (message) {\n        this.inputBox.showMessage(message);\n    };\n    FindInput.prototype.clearMessage = function () {\n        this.inputBox.hideMessage();\n    };\n    FindInput.prototype.clearValidation = function () {\n        this.inputBox.hideMessage();\n    };\n    FindInput.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n    };\n    FindInput.OPTION_CHANGE = 'optionChange';\n    return FindInput;\n}(Widget));\nexport { FindInput };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './findWidget.css';\nimport * as nls from '../../../nls.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport * as platform from '../../../base/common/platform.js';\nimport * as strings from '../../../base/common/strings.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { InputBox } from '../../../base/browser/ui/inputbox/inputBox.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { Sash, Orientation } from '../../../base/browser/ui/sash/sash.js';\nimport { OverlayWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { FIND_IDS, MATCHES_LIMIT, CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_REPLACE_INPUT_FOCUSED } from './findModel.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { editorFindRangeHighlight, editorFindMatch, editorFindMatchHighlight, contrastBorder, inputBackground, editorWidgetBackground, inputActiveOptionBorder, widgetShadow, inputForeground, inputBorder, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationErrorBackground, inputValidationErrorBorder, errorForeground, editorWidgetBorder, editorFindMatchBorder, editorFindMatchHighlightBorder, editorFindRangeHighlightBorder } from '../../../platform/theme/common/colorRegistry.js';\nvar NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nvar NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nvar NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\nvar NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\nvar NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in selection\");\nvar NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nvar NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\nvar NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\nvar NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\nvar NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\nvar NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace mode\");\nvar NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first {0} results are highlighted, but all find operations work on the entire text.\", MATCHES_LIMIT);\nvar NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\nvar NLS_NO_RESULTS = nls.localize('label.noResults', \"No Results\");\nvar FIND_WIDGET_INITIAL_WIDTH = 411;\nvar PART_WIDTH = 275;\nvar FIND_INPUT_AREA_WIDTH = PART_WIDTH - 54;\nvar REPLACE_INPUT_AREA_WIDTH = FIND_INPUT_AREA_WIDTH;\nvar MAX_MATCHES_COUNT_WIDTH = 69;\nvar FIND_ALL_CONTROLS_WIDTH = 17 /** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2 /** sash */;\nvar FIND_INPUT_AREA_HEIGHT = 34; // The height of Find Widget when Replace Input is not visible.\nvar FIND_REPLACE_AREA_HEIGHT = 64; // The height of Find Widget when Replace Input is  visible.\nvar FindWidgetViewZone = /** @class */ (function () {\n    function FindWidgetViewZone(afterLineNumber) {\n        this.afterLineNumber = afterLineNumber;\n        this.heightInPx = FIND_INPUT_AREA_HEIGHT;\n        this.suppressMouseDown = false;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'dock-find-viewzone';\n    }\n    return FindWidgetViewZone;\n}());\nexport { FindWidgetViewZone };\nvar FindWidget = /** @class */ (function (_super) {\n    __extends(FindWidget, _super);\n    function FindWidget(codeEditor, controller, state, contextViewProvider, keybindingService, contextKeyService, themeService) {\n        var _this = _super.call(this) || this;\n        _this._codeEditor = codeEditor;\n        _this._controller = controller;\n        _this._state = state;\n        _this._contextViewProvider = contextViewProvider;\n        _this._keybindingService = keybindingService;\n        _this._isVisible = false;\n        _this._isReplaceVisible = false;\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\n        _this._buildDomNode();\n        _this._updateButtons();\n        _this._tryUpdateWidgetWidth();\n        _this._register(_this._codeEditor.onDidChangeConfiguration(function (e) {\n            if (e.readOnly) {\n                if (_this._codeEditor.getConfiguration().readOnly) {\n                    // Hide replace part if editor becomes read only\n                    _this._state.change({ isReplaceRevealed: false }, false);\n                }\n                _this._updateButtons();\n            }\n            if (e.layoutInfo) {\n                _this._tryUpdateWidgetWidth();\n            }\n        }));\n        _this._register(_this._codeEditor.onDidChangeCursorSelection(function () {\n            if (_this._isVisible) {\n                _this._updateToggleSelectionFindButton();\n            }\n        }));\n        _this._register(_this._codeEditor.onDidFocusEditor(function () {\n            if (_this._isVisible) {\n                var globalBufferTerm = _this._controller.getGlobalBufferTerm();\n                if (globalBufferTerm && globalBufferTerm !== _this._state.searchString) {\n                    _this._state.change({ searchString: globalBufferTerm }, true);\n                    _this._findInput.select();\n                }\n            }\n        }));\n        _this._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\n        _this._findFocusTracker = _this._register(dom.trackFocus(_this._findInput.inputBox.inputElement));\n        _this._register(_this._findFocusTracker.onDidFocus(function () {\n            _this._findInputFocused.set(true);\n            _this._updateSearchScope();\n        }));\n        _this._register(_this._findFocusTracker.onDidBlur(function () {\n            _this._findInputFocused.set(false);\n        }));\n        _this._replaceInputFocused = CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);\n        _this._replaceFocusTracker = _this._register(dom.trackFocus(_this._replaceInputBox.inputElement));\n        _this._register(_this._replaceFocusTracker.onDidFocus(function () {\n            _this._replaceInputFocused.set(true);\n            _this._updateSearchScope();\n        }));\n        _this._register(_this._replaceFocusTracker.onDidBlur(function () {\n            _this._replaceInputFocused.set(false);\n        }));\n        _this._codeEditor.addOverlayWidget(_this);\n        _this._viewZone = new FindWidgetViewZone(0); // Put it before the first line then users can scroll beyond the first line.\n        _this._applyTheme(themeService.getTheme());\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\n        _this._register(_this._codeEditor.onDidChangeModel(function (e) {\n            if (!_this._isVisible) {\n                return;\n            }\n            if (_this._viewZoneId === undefined) {\n                return;\n            }\n            _this._codeEditor.changeViewZones(function (accessor) {\n                accessor.removeZone(_this._viewZoneId);\n                _this._viewZoneId = undefined;\n            });\n        }));\n        _this._register(_this._codeEditor.onDidScrollChange(function (e) {\n            if (e.scrollTopChanged) {\n                _this._layoutViewZone();\n                return;\n            }\n            // for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.\n            setTimeout(function () {\n                _this._layoutViewZone();\n            }, 0);\n        }));\n        return _this;\n    }\n    // ----- IOverlayWidget API\n    FindWidget.prototype.getId = function () {\n        return FindWidget.ID;\n    };\n    FindWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    FindWidget.prototype.getPosition = function () {\n        if (this._isVisible) {\n            return {\n                preference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER\n            };\n        }\n        return null;\n    };\n    // ----- React to state changes\n    FindWidget.prototype._onStateChanged = function (e) {\n        if (e.searchString) {\n            this._findInput.setValue(this._state.searchString);\n            this._updateButtons();\n        }\n        if (e.replaceString) {\n            this._replaceInputBox.value = this._state.replaceString;\n        }\n        if (e.isRevealed) {\n            if (this._state.isRevealed) {\n                this._reveal(true);\n            }\n            else {\n                this._hide(true);\n            }\n        }\n        if (e.isReplaceRevealed) {\n            if (this._state.isReplaceRevealed) {\n                if (!this._codeEditor.getConfiguration().readOnly && !this._isReplaceVisible) {\n                    this._isReplaceVisible = true;\n                    this._replaceInputBox.width = this._findInput.inputBox.width;\n                    this._updateButtons();\n                }\n            }\n            else {\n                if (this._isReplaceVisible) {\n                    this._isReplaceVisible = false;\n                    this._updateButtons();\n                }\n            }\n        }\n        if (e.isRegex) {\n            this._findInput.setRegex(this._state.isRegex);\n        }\n        if (e.wholeWord) {\n            this._findInput.setWholeWords(this._state.wholeWord);\n        }\n        if (e.matchCase) {\n            this._findInput.setCaseSensitive(this._state.matchCase);\n        }\n        if (e.searchScope) {\n            if (this._state.searchScope) {\n                this._toggleSelectionFind.checked = true;\n            }\n            else {\n                this._toggleSelectionFind.checked = false;\n            }\n            this._updateToggleSelectionFindButton();\n        }\n        if (e.searchString || e.matchesCount || e.matchesPosition) {\n            var showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\n            dom.toggleClass(this._domNode, 'no-results', showRedOutline);\n            this._updateMatchesCount();\n        }\n        if (e.searchString || e.currentMatch) {\n            this._layoutViewZone();\n        }\n    };\n    FindWidget.prototype._updateMatchesCount = function () {\n        this._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\n        if (this._state.matchesCount >= MATCHES_LIMIT) {\n            this._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\n        }\n        else {\n            this._matchesCount.title = '';\n        }\n        // remove previous content\n        if (this._matchesCount.firstChild) {\n            this._matchesCount.removeChild(this._matchesCount.firstChild);\n        }\n        var label;\n        if (this._state.matchesCount > 0) {\n            var matchesCount = String(this._state.matchesCount);\n            if (this._state.matchesCount >= MATCHES_LIMIT) {\n                matchesCount += '+';\n            }\n            var matchesPosition = String(this._state.matchesPosition);\n            if (matchesPosition === '0') {\n                matchesPosition = '?';\n            }\n            label = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n        }\n        else {\n            label = NLS_NO_RESULTS;\n        }\n        this._matchesCount.appendChild(document.createTextNode(label));\n        MAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\n    };\n    // ----- actions\n    /**\n     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\n     * If 'selection find' is OFF we enable the button only if there is a selection.\n     */\n    FindWidget.prototype._updateToggleSelectionFindButton = function () {\n        var selection = this._codeEditor.getSelection();\n        var isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\n        var isChecked = this._toggleSelectionFind.checked;\n        this._toggleSelectionFind.setEnabled(this._isVisible && (isChecked || isSelection));\n    };\n    FindWidget.prototype._updateButtons = function () {\n        this._findInput.setEnabled(this._isVisible);\n        this._replaceInputBox.setEnabled(this._isVisible && this._isReplaceVisible);\n        this._updateToggleSelectionFindButton();\n        this._closeBtn.setEnabled(this._isVisible);\n        var findInputIsNonEmpty = (this._state.searchString.length > 0);\n        this._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty);\n        this._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty);\n        this._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n        this._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n        dom.toggleClass(this._domNode, 'replaceToggled', this._isReplaceVisible);\n        this._toggleReplaceBtn.toggleClass('collapse', !this._isReplaceVisible);\n        this._toggleReplaceBtn.toggleClass('expand', this._isReplaceVisible);\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n        var canReplace = !this._codeEditor.getConfiguration().readOnly;\n        this._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\n    };\n    FindWidget.prototype._reveal = function (animate) {\n        var _this = this;\n        if (!this._isVisible) {\n            this._isVisible = true;\n            var selection = this._codeEditor.getSelection();\n            var isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\n            if (isSelection && this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection) {\n                this._toggleSelectionFind.checked = true;\n            }\n            else {\n                this._toggleSelectionFind.checked = false;\n            }\n            this._tryUpdateWidgetWidth();\n            this._updateButtons();\n            setTimeout(function () {\n                dom.addClass(_this._domNode, 'visible');\n                _this._domNode.setAttribute('aria-hidden', 'false');\n            }, 0);\n            this._codeEditor.layoutOverlayWidget(this);\n            var adjustEditorScrollTop = true;\n            if (this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection && selection) {\n                var editorCoords = dom.getDomNodePagePosition(this._codeEditor.getDomNode());\n                var startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());\n                var startLeft = editorCoords.left + startCoords.left;\n                var startTop = startCoords.top;\n                if (startTop < this._viewZone.heightInPx) {\n                    if (selection.endLineNumber > selection.startLineNumber) {\n                        adjustEditorScrollTop = false;\n                    }\n                    var leftOfFindWidget = dom.getTopLeftOffset(this._domNode).left;\n                    if (startLeft > leftOfFindWidget) {\n                        adjustEditorScrollTop = false;\n                    }\n                    var endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());\n                    var endLeft = editorCoords.left + endCoords.left;\n                    if (endLeft > leftOfFindWidget) {\n                        adjustEditorScrollTop = false;\n                    }\n                }\n            }\n            this._showViewZone(adjustEditorScrollTop);\n        }\n    };\n    FindWidget.prototype._hide = function (focusTheEditor) {\n        var _this = this;\n        if (this._isVisible) {\n            this._isVisible = false;\n            this._updateButtons();\n            dom.removeClass(this._domNode, 'visible');\n            this._domNode.setAttribute('aria-hidden', 'true');\n            if (focusTheEditor) {\n                this._codeEditor.focus();\n            }\n            this._codeEditor.layoutOverlayWidget(this);\n            this._codeEditor.changeViewZones(function (accessor) {\n                if (_this._viewZoneId !== undefined) {\n                    accessor.removeZone(_this._viewZoneId);\n                    _this._viewZoneId = undefined;\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() - _this._viewZone.heightInPx);\n                }\n            });\n        }\n    };\n    FindWidget.prototype._layoutViewZone = function () {\n        var _this = this;\n        if (!this._isVisible) {\n            return;\n        }\n        if (this._viewZoneId !== undefined) {\n            return;\n        }\n        this._codeEditor.changeViewZones(function (accessor) {\n            if (_this._state.isReplaceRevealed) {\n                _this._viewZone.heightInPx = FIND_REPLACE_AREA_HEIGHT;\n            }\n            else {\n                _this._viewZone.heightInPx = FIND_INPUT_AREA_HEIGHT;\n            }\n            _this._viewZoneId = accessor.addZone(_this._viewZone);\n            // scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.\n            _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + _this._viewZone.heightInPx);\n        });\n    };\n    FindWidget.prototype._showViewZone = function (adjustScroll) {\n        var _this = this;\n        if (adjustScroll === void 0) { adjustScroll = true; }\n        if (!this._isVisible) {\n            return;\n        }\n        this._codeEditor.changeViewZones(function (accessor) {\n            var scrollAdjustment = FIND_INPUT_AREA_HEIGHT;\n            if (_this._viewZoneId !== undefined) {\n                if (_this._state.isReplaceRevealed) {\n                    _this._viewZone.heightInPx = FIND_REPLACE_AREA_HEIGHT;\n                    scrollAdjustment = FIND_REPLACE_AREA_HEIGHT - FIND_INPUT_AREA_HEIGHT;\n                }\n                else {\n                    _this._viewZone.heightInPx = FIND_INPUT_AREA_HEIGHT;\n                    scrollAdjustment = FIND_INPUT_AREA_HEIGHT - FIND_REPLACE_AREA_HEIGHT;\n                }\n                accessor.removeZone(_this._viewZoneId);\n            }\n            else {\n                _this._viewZone.heightInPx = FIND_INPUT_AREA_HEIGHT;\n            }\n            _this._viewZoneId = accessor.addZone(_this._viewZone);\n            if (adjustScroll) {\n                _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + scrollAdjustment);\n            }\n        });\n    };\n    FindWidget.prototype._applyTheme = function (theme) {\n        var inputStyles = {\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\n            inputBackground: theme.getColor(inputBackground),\n            inputForeground: theme.getColor(inputForeground),\n            inputBorder: theme.getColor(inputBorder),\n            inputValidationInfoBackground: theme.getColor(inputValidationInfoBackground),\n            inputValidationInfoBorder: theme.getColor(inputValidationInfoBorder),\n            inputValidationWarningBackground: theme.getColor(inputValidationWarningBackground),\n            inputValidationWarningBorder: theme.getColor(inputValidationWarningBorder),\n            inputValidationErrorBackground: theme.getColor(inputValidationErrorBackground),\n            inputValidationErrorBorder: theme.getColor(inputValidationErrorBorder)\n        };\n        this._findInput.style(inputStyles);\n        this._replaceInputBox.style(inputStyles);\n    };\n    FindWidget.prototype._tryUpdateWidgetWidth = function () {\n        if (!this._isVisible) {\n            return;\n        }\n        var editorWidth = this._codeEditor.getConfiguration().layoutInfo.width;\n        var minimapWidth = this._codeEditor.getConfiguration().layoutInfo.minimapWidth;\n        var collapsedFindWidget = false;\n        var reducedFindWidget = false;\n        var narrowFindWidget = false;\n        if (this._resized) {\n            var widgetWidth = dom.getTotalWidth(this._domNode);\n            if (widgetWidth > FIND_WIDGET_INITIAL_WIDTH) {\n                // as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.\n                this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\n                this._replaceInputBox.inputElement.style.width = dom.getTotalWidth(this._findInput.inputBox.inputElement) + \"px\";\n                return;\n            }\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) {\n            reducedFindWidget = true;\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth) {\n            narrowFindWidget = true;\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) {\n            collapsedFindWidget = true;\n        }\n        dom.toggleClass(this._domNode, 'collapsed-find-widget', collapsedFindWidget);\n        dom.toggleClass(this._domNode, 'narrow-find-widget', narrowFindWidget);\n        dom.toggleClass(this._domNode, 'reduced-find-widget', reducedFindWidget);\n        if (!narrowFindWidget && !collapsedFindWidget) {\n            // the minimal left offset of findwidget is 15px.\n            this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\n        }\n        if (this._resized) {\n            var findInputWidth = dom.getTotalWidth(this._findInput.inputBox.inputElement);\n            if (findInputWidth > 0) {\n                this._replaceInputBox.inputElement.style.width = findInputWidth + \"px\";\n            }\n        }\n    };\n    // ----- Public\n    FindWidget.prototype.focusFindInput = function () {\n        this._findInput.select();\n        // Edge browser requires focus() in addition to select()\n        this._findInput.focus();\n    };\n    FindWidget.prototype.focusReplaceInput = function () {\n        this._replaceInputBox.select();\n        // Edge browser requires focus() in addition to select()\n        this._replaceInputBox.focus();\n    };\n    FindWidget.prototype.highlightFindOptions = function () {\n        this._findInput.highlightFindOptions();\n    };\n    FindWidget.prototype._updateSearchScope = function () {\n        if (this._toggleSelectionFind.checked) {\n            var selection = this._codeEditor.getSelection();\n            if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                selection = selection.setEndPosition(selection.endLineNumber - 1, 1);\n            }\n            var currentMatch = this._state.currentMatch;\n            if (selection.startLineNumber !== selection.endLineNumber) {\n                if (!Range.equalsRange(selection, currentMatch)) {\n                    // Reseed find scope\n                    this._state.change({ searchScope: selection }, true);\n                }\n            }\n        }\n    };\n    FindWidget.prototype._onFindInputMouseDown = function (e) {\n        // on linux, middle key does pasting.\n        if (e.middleButton) {\n            e.stopPropagation();\n        }\n    };\n    FindWidget.prototype._onFindInputKeyDown = function (e) {\n        if (e.equals(3 /* Enter */)) {\n            this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().done(null, onUnexpectedError);\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(1024 /* Shift */ | 3 /* Enter */)) {\n            this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().done(null, onUnexpectedError);\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2 /* Tab */)) {\n            if (this._isReplaceVisible) {\n                this._replaceInputBox.focus();\n            }\n            else {\n                this._findInput.focusOnCaseSensitive();\n            }\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\n            this._codeEditor.focus();\n            e.preventDefault();\n            return;\n        }\n    };\n    FindWidget.prototype._onReplaceInputKeyDown = function (e) {\n        if (e.equals(3 /* Enter */)) {\n            this._controller.replace();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2048 /* CtrlCmd */ | 3 /* Enter */)) {\n            this._controller.replaceAll();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2 /* Tab */)) {\n            this._findInput.focusOnCaseSensitive();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\n            this._findInput.focus();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\n            this._codeEditor.focus();\n            e.preventDefault();\n            return;\n        }\n    };\n    // ----- sash\n    FindWidget.prototype.getHorizontalSashTop = function (sash) {\n        return 0;\n    };\n    FindWidget.prototype.getHorizontalSashLeft = function (sash) {\n        return 0;\n    };\n    FindWidget.prototype.getHorizontalSashWidth = function (sash) {\n        return 500;\n    };\n    // ----- initialization\n    FindWidget.prototype._keybindingLabelFor = function (actionId) {\n        var kb = this._keybindingService.lookupKeybinding(actionId);\n        if (!kb) {\n            return '';\n        }\n        return \" (\" + kb.getLabel() + \")\";\n    };\n    FindWidget.prototype._buildFindPart = function () {\n        var _this = this;\n        // Find input\n        this._findInput = this._register(new FindInput(null, this._contextViewProvider, {\n            width: FIND_INPUT_AREA_WIDTH,\n            label: NLS_FIND_INPUT_LABEL,\n            placeholder: NLS_FIND_INPUT_PLACEHOLDER,\n            appendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n            appendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n            appendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n            validation: function (value) {\n                if (value.length === 0) {\n                    return null;\n                }\n                if (!_this._findInput.getRegex()) {\n                    return null;\n                }\n                try {\n                    /* tslint:disable:no-unused-expression */\n                    new RegExp(value);\n                    /* tslint:enable:no-unused-expression */\n                    return null;\n                }\n                catch (e) {\n                    return { content: e.message };\n                }\n            }\n        }));\n        this._findInput.setRegex(!!this._state.isRegex);\n        this._findInput.setCaseSensitive(!!this._state.matchCase);\n        this._findInput.setWholeWords(!!this._state.wholeWord);\n        this._register(this._findInput.onKeyDown(function (e) { return _this._onFindInputKeyDown(e); }));\n        this._register(this._findInput.onInput(function () {\n            _this._state.change({ searchString: _this._findInput.getValue() }, true);\n        }));\n        this._register(this._findInput.onDidOptionChange(function () {\n            _this._state.change({\n                isRegex: _this._findInput.getRegex(),\n                wholeWord: _this._findInput.getWholeWords(),\n                matchCase: _this._findInput.getCaseSensitive()\n            }, true);\n        }));\n        this._register(this._findInput.onCaseSensitiveKeyDown(function (e) {\n            if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\n                if (_this._isReplaceVisible) {\n                    _this._replaceInputBox.focus();\n                    e.preventDefault();\n                }\n            }\n        }));\n        if (platform.isLinux) {\n            this._register(this._findInput.onMouseDown(function (e) { return _this._onFindInputMouseDown(e); }));\n        }\n        this._matchesCount = document.createElement('div');\n        this._matchesCount.className = 'matchesCount';\n        this._updateMatchesCount();\n        // Previous button\n        this._prevBtn = this._register(new SimpleButton({\n            label: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\n            className: 'previous',\n            onTrigger: function () {\n                _this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().done(null, onUnexpectedError);\n            }\n        }));\n        // Next button\n        this._nextBtn = this._register(new SimpleButton({\n            label: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\n            className: 'next',\n            onTrigger: function () {\n                _this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().done(null, onUnexpectedError);\n            }\n        }));\n        var findPart = document.createElement('div');\n        findPart.className = 'find-part';\n        findPart.appendChild(this._findInput.domNode);\n        findPart.appendChild(this._matchesCount);\n        findPart.appendChild(this._prevBtn.domNode);\n        findPart.appendChild(this._nextBtn.domNode);\n        // Toggle selection button\n        this._toggleSelectionFind = this._register(new SimpleCheckbox({\n            parent: findPart,\n            title: NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),\n            onChange: function () {\n                if (_this._toggleSelectionFind.checked) {\n                    var selection = _this._codeEditor.getSelection();\n                    if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                        selection = selection.setEndPosition(selection.endLineNumber - 1, 1);\n                    }\n                    if (!selection.isEmpty()) {\n                        _this._state.change({ searchScope: selection }, true);\n                    }\n                }\n                else {\n                    _this._state.change({ searchScope: null }, true);\n                }\n            }\n        }));\n        // Close button\n        this._closeBtn = this._register(new SimpleButton({\n            label: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\n            className: 'close-fw',\n            onTrigger: function () {\n                _this._state.change({ isRevealed: false, searchScope: null }, false);\n            },\n            onKeyDown: function (e) {\n                if (e.equals(2 /* Tab */)) {\n                    if (_this._isReplaceVisible) {\n                        if (_this._replaceBtn.isEnabled()) {\n                            _this._replaceBtn.focus();\n                        }\n                        else {\n                            _this._codeEditor.focus();\n                        }\n                        e.preventDefault();\n                    }\n                }\n            }\n        }));\n        findPart.appendChild(this._closeBtn.domNode);\n        return findPart;\n    };\n    FindWidget.prototype._buildReplacePart = function () {\n        var _this = this;\n        // Replace input\n        var replaceInput = document.createElement('div');\n        replaceInput.className = 'replace-input';\n        replaceInput.style.width = REPLACE_INPUT_AREA_WIDTH + 'px';\n        this._replaceInputBox = this._register(new InputBox(replaceInput, null, {\n            ariaLabel: NLS_REPLACE_INPUT_LABEL,\n            placeholder: NLS_REPLACE_INPUT_PLACEHOLDER\n        }));\n        this._register(dom.addStandardDisposableListener(this._replaceInputBox.inputElement, 'keydown', function (e) { return _this._onReplaceInputKeyDown(e); }));\n        this._register(dom.addStandardDisposableListener(this._replaceInputBox.inputElement, 'input', function (e) {\n            _this._state.change({ replaceString: _this._replaceInputBox.value }, false);\n        }));\n        // Replace one button\n        this._replaceBtn = this._register(new SimpleButton({\n            label: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\n            className: 'replace',\n            onTrigger: function () {\n                _this._controller.replace();\n            },\n            onKeyDown: function (e) {\n                if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\n                    _this._closeBtn.focus();\n                    e.preventDefault();\n                }\n            }\n        }));\n        // Replace all button\n        this._replaceAllBtn = this._register(new SimpleButton({\n            label: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\n            className: 'replace-all',\n            onTrigger: function () {\n                _this._controller.replaceAll();\n            }\n        }));\n        var replacePart = document.createElement('div');\n        replacePart.className = 'replace-part';\n        replacePart.appendChild(replaceInput);\n        replacePart.appendChild(this._replaceBtn.domNode);\n        replacePart.appendChild(this._replaceAllBtn.domNode);\n        return replacePart;\n    };\n    FindWidget.prototype._buildDomNode = function () {\n        var _this = this;\n        // Find part\n        var findPart = this._buildFindPart();\n        // Replace part\n        var replacePart = this._buildReplacePart();\n        // Toggle replace button\n        this._toggleReplaceBtn = this._register(new SimpleButton({\n            label: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\n            className: 'toggle left',\n            onTrigger: function () {\n                _this._state.change({ isReplaceRevealed: !_this._isReplaceVisible }, false);\n                if (_this._isReplaceVisible) {\n                    _this._replaceInputBox.width = _this._findInput.inputBox.width;\n                }\n                _this._showViewZone();\n            }\n        }));\n        this._toggleReplaceBtn.toggleClass('expand', this._isReplaceVisible);\n        this._toggleReplaceBtn.toggleClass('collapse', !this._isReplaceVisible);\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n        // Widget\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'editor-widget find-widget';\n        this._domNode.setAttribute('aria-hidden', 'true');\n        // We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.\n        this._domNode.style.width = FIND_WIDGET_INITIAL_WIDTH + \"px\";\n        this._domNode.appendChild(this._toggleReplaceBtn.domNode);\n        this._domNode.appendChild(findPart);\n        this._domNode.appendChild(replacePart);\n        this._buildSash();\n    };\n    FindWidget.prototype._buildSash = function () {\n        var _this = this;\n        this._resizeSash = new Sash(this._domNode, this, { orientation: Orientation.VERTICAL });\n        this._resized = false;\n        var originalWidth = FIND_WIDGET_INITIAL_WIDTH;\n        this._register(this._resizeSash.onDidStart(function (e) {\n            originalWidth = dom.getTotalWidth(_this._domNode);\n        }));\n        this._register(this._resizeSash.onDidChange(function (evt) {\n            _this._resized = true;\n            var width = originalWidth + evt.startX - evt.currentX;\n            if (width < FIND_WIDGET_INITIAL_WIDTH) {\n                // narrow down the find widget should be handled by CSS.\n                return;\n            }\n            var inputBoxWidth = width - FIND_ALL_CONTROLS_WIDTH;\n            var maxWidth = parseFloat(dom.getComputedStyle(_this._domNode).maxWidth) || 0;\n            if (width > maxWidth) {\n                return;\n            }\n            _this._domNode.style.width = width + \"px\";\n            if (_this._isReplaceVisible) {\n                _this._replaceInputBox.width = inputBoxWidth;\n            }\n        }));\n    };\n    FindWidget.ID = 'editor.contrib.findWidget';\n    return FindWidget;\n}(Widget));\nexport { FindWidget };\nvar SimpleCheckbox = /** @class */ (function (_super) {\n    __extends(SimpleCheckbox, _super);\n    function SimpleCheckbox(opts) {\n        var _this = _super.call(this) || this;\n        _this._opts = opts;\n        _this._domNode = document.createElement('div');\n        _this._domNode.className = 'monaco-checkbox';\n        _this._domNode.title = _this._opts.title;\n        _this._domNode.tabIndex = 0;\n        _this._checkbox = document.createElement('input');\n        _this._checkbox.type = 'checkbox';\n        _this._checkbox.className = 'checkbox';\n        _this._checkbox.id = 'checkbox-' + SimpleCheckbox._COUNTER++;\n        _this._checkbox.tabIndex = -1;\n        _this._label = document.createElement('label');\n        _this._label.className = 'label';\n        // Connect the label and the checkbox. Checkbox will get checked when the label receives a click.\n        _this._label.htmlFor = _this._checkbox.id;\n        _this._label.tabIndex = -1;\n        _this._domNode.appendChild(_this._checkbox);\n        _this._domNode.appendChild(_this._label);\n        _this._opts.parent.appendChild(_this._domNode);\n        _this.onchange(_this._checkbox, function (e) {\n            _this._opts.onChange();\n        });\n        return _this;\n    }\n    Object.defineProperty(SimpleCheckbox.prototype, \"domNode\", {\n        get: function () {\n            return this._domNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SimpleCheckbox.prototype, \"checked\", {\n        get: function () {\n            return this._checkbox.checked;\n        },\n        set: function (newValue) {\n            this._checkbox.checked = newValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SimpleCheckbox.prototype.focus = function () {\n        this._checkbox.focus();\n    };\n    SimpleCheckbox.prototype.enable = function () {\n        this._checkbox.removeAttribute('disabled');\n    };\n    SimpleCheckbox.prototype.disable = function () {\n        this._checkbox.disabled = true;\n    };\n    SimpleCheckbox.prototype.setEnabled = function (enabled) {\n        if (enabled) {\n            this.enable();\n            this.domNode.tabIndex = 0;\n        }\n        else {\n            this.disable();\n            this.domNode.tabIndex = -1;\n        }\n    };\n    SimpleCheckbox._COUNTER = 0;\n    return SimpleCheckbox;\n}(Widget));\nvar SimpleButton = /** @class */ (function (_super) {\n    __extends(SimpleButton, _super);\n    function SimpleButton(opts) {\n        var _this = _super.call(this) || this;\n        _this._opts = opts;\n        _this._domNode = document.createElement('div');\n        _this._domNode.title = _this._opts.label;\n        _this._domNode.tabIndex = 0;\n        _this._domNode.className = 'button ' + _this._opts.className;\n        _this._domNode.setAttribute('role', 'button');\n        _this._domNode.setAttribute('aria-label', _this._opts.label);\n        _this.onclick(_this._domNode, function (e) {\n            _this._opts.onTrigger();\n            e.preventDefault();\n        });\n        _this.onkeydown(_this._domNode, function (e) {\n            if (e.equals(10 /* Space */) || e.equals(3 /* Enter */)) {\n                _this._opts.onTrigger();\n                e.preventDefault();\n                return;\n            }\n            if (_this._opts.onKeyDown) {\n                _this._opts.onKeyDown(e);\n            }\n        });\n        return _this;\n    }\n    Object.defineProperty(SimpleButton.prototype, \"domNode\", {\n        get: function () {\n            return this._domNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SimpleButton.prototype.isEnabled = function () {\n        return (this._domNode.tabIndex >= 0);\n    };\n    SimpleButton.prototype.focus = function () {\n        this._domNode.focus();\n    };\n    SimpleButton.prototype.setEnabled = function (enabled) {\n        dom.toggleClass(this._domNode, 'disabled', !enabled);\n        this._domNode.setAttribute('aria-disabled', String(!enabled));\n        this._domNode.tabIndex = enabled ? 0 : -1;\n    };\n    SimpleButton.prototype.setExpanded = function (expanded) {\n        this._domNode.setAttribute('aria-expanded', String(!!expanded));\n    };\n    SimpleButton.prototype.toggleClass = function (className, shouldHaveIt) {\n        dom.toggleClass(this._domNode, className, shouldHaveIt);\n    };\n    return SimpleButton;\n}(Widget));\nexport { SimpleButton };\n// theming\nregisterThemingParticipant(function (theme, collector) {\n    var addBackgroundColorRule = function (selector, color) {\n        if (color) {\n            collector.addRule(\".monaco-editor \" + selector + \" { background-color: \" + color + \"; }\");\n        }\n    };\n    addBackgroundColorRule('.findMatch', theme.getColor(editorFindMatchHighlight));\n    addBackgroundColorRule('.currentFindMatch', theme.getColor(editorFindMatch));\n    addBackgroundColorRule('.findScope', theme.getColor(editorFindRangeHighlight));\n    var widgetBackground = theme.getColor(editorWidgetBackground);\n    addBackgroundColorRule('.find-widget', widgetBackground);\n    var widgetShadowColor = theme.getColor(widgetShadow);\n    if (widgetShadowColor) {\n        collector.addRule(\".monaco-editor .find-widget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\n    }\n    var findMatchHighlightBorder = theme.getColor(editorFindMatchHighlightBorder);\n    if (findMatchHighlightBorder) {\n        collector.addRule(\".monaco-editor .findMatch { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + findMatchHighlightBorder + \"; box-sizing: border-box; }\");\n    }\n    var findMatchBorder = theme.getColor(editorFindMatchBorder);\n    if (findMatchBorder) {\n        collector.addRule(\".monaco-editor .currentFindMatch { border: 2px solid \" + findMatchBorder + \"; padding: 1px; box-sizing: border-box; }\");\n    }\n    var findRangeHighlightBorder = theme.getColor(editorFindRangeHighlightBorder);\n    if (findRangeHighlightBorder) {\n        collector.addRule(\".monaco-editor .findScope { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + findRangeHighlightBorder + \"; }\");\n    }\n    var hcBorder = theme.getColor(contrastBorder);\n    if (hcBorder) {\n        collector.addRule(\".monaco-editor .find-widget { border: 2px solid \" + hcBorder + \"; }\");\n    }\n    var error = theme.getColor(errorForeground);\n    if (error) {\n        collector.addRule(\".monaco-editor .find-widget.no-results .matchesCount { color: \" + error + \"; }\");\n    }\n    var border = theme.getColor(editorWidgetBorder);\n    if (border) {\n        collector.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \" + border + \"; width: 3px !important; margin-left: -4px;}\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as dom from '../../../base/browser/dom.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { OverlayWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { FIND_IDS } from './findModel.js';\nimport { CaseSensitiveCheckbox, WholeWordsCheckbox, RegexCheckbox } from '../../../base/browser/ui/findinput/findInputCheckboxes.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { inputActiveOptionBorder, editorWidgetBackground, contrastBorder, widgetShadow } from '../../../platform/theme/common/colorRegistry.js';\nvar FindOptionsWidget = /** @class */ (function (_super) {\n    __extends(FindOptionsWidget, _super);\n    function FindOptionsWidget(editor, state, keybindingService, themeService) {\n        var _this = _super.call(this) || this;\n        _this._hideSoon = _this._register(new RunOnceScheduler(function () { return _this._hide(); }, 2000));\n        _this._isVisible = false;\n        _this._editor = editor;\n        _this._state = state;\n        _this._keybindingService = keybindingService;\n        _this._domNode = document.createElement('div');\n        _this._domNode.className = 'findOptionsWidget';\n        _this._domNode.style.display = 'none';\n        _this._domNode.style.top = '10px';\n        _this._domNode.setAttribute('role', 'presentation');\n        _this._domNode.setAttribute('aria-hidden', 'true');\n        var inputActiveOptionBorderColor = themeService.getTheme().getColor(inputActiveOptionBorder);\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n            isChecked: _this._state.matchCase,\n            onChange: function (viaKeyboard) {\n                _this._state.change({\n                    matchCase: _this.caseSensitive.checked\n                }, false);\n            },\n            inputActiveOptionBorder: inputActiveOptionBorderColor\n        }));\n        _this._domNode.appendChild(_this.caseSensitive.domNode);\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n            isChecked: _this._state.wholeWord,\n            onChange: function (viaKeyboard) {\n                _this._state.change({\n                    wholeWord: _this.wholeWords.checked\n                }, false);\n            },\n            inputActiveOptionBorder: inputActiveOptionBorderColor\n        }));\n        _this._domNode.appendChild(_this.wholeWords.domNode);\n        _this.regex = _this._register(new RegexCheckbox({\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n            isChecked: _this._state.isRegex,\n            onChange: function (viaKeyboard) {\n                _this._state.change({\n                    isRegex: _this.regex.checked\n                }, false);\n            },\n            inputActiveOptionBorder: inputActiveOptionBorderColor\n        }));\n        _this._domNode.appendChild(_this.regex.domNode);\n        _this._editor.addOverlayWidget(_this);\n        _this._register(_this._state.onFindReplaceStateChange(function (e) {\n            var somethingChanged = false;\n            if (e.isRegex) {\n                _this.regex.checked = _this._state.isRegex;\n                somethingChanged = true;\n            }\n            if (e.wholeWord) {\n                _this.wholeWords.checked = _this._state.wholeWord;\n                somethingChanged = true;\n            }\n            if (e.matchCase) {\n                _this.caseSensitive.checked = _this._state.matchCase;\n                somethingChanged = true;\n            }\n            if (!_this._state.isRevealed && somethingChanged) {\n                _this._revealTemporarily();\n            }\n        }));\n        _this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode, function (e) { return _this._onMouseOut(); }));\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseover', function (e) { return _this._onMouseOver(); }));\n        _this._applyTheme(themeService.getTheme());\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\n        return _this;\n    }\n    FindOptionsWidget.prototype._keybindingLabelFor = function (actionId) {\n        var kb = this._keybindingService.lookupKeybinding(actionId);\n        if (!kb) {\n            return '';\n        }\n        return \" (\" + kb.getLabel() + \")\";\n    };\n    FindOptionsWidget.prototype.dispose = function () {\n        this._editor.removeOverlayWidget(this);\n        _super.prototype.dispose.call(this);\n    };\n    // ----- IOverlayWidget API\n    FindOptionsWidget.prototype.getId = function () {\n        return FindOptionsWidget.ID;\n    };\n    FindOptionsWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    FindOptionsWidget.prototype.getPosition = function () {\n        return {\n            preference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER\n        };\n    };\n    FindOptionsWidget.prototype.highlightFindOptions = function () {\n        this._revealTemporarily();\n    };\n    FindOptionsWidget.prototype._revealTemporarily = function () {\n        this._show();\n        this._hideSoon.schedule();\n    };\n    FindOptionsWidget.prototype._onMouseOut = function () {\n        this._hideSoon.schedule();\n    };\n    FindOptionsWidget.prototype._onMouseOver = function () {\n        this._hideSoon.cancel();\n    };\n    FindOptionsWidget.prototype._show = function () {\n        if (this._isVisible) {\n            return;\n        }\n        this._isVisible = true;\n        this._domNode.style.display = 'block';\n    };\n    FindOptionsWidget.prototype._hide = function () {\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this._domNode.style.display = 'none';\n    };\n    FindOptionsWidget.prototype._applyTheme = function (theme) {\n        var inputStyles = { inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder) };\n        this.caseSensitive.style(inputStyles);\n        this.wholeWords.style(inputStyles);\n        this.regex.style(inputStyles);\n    };\n    FindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\n    return FindOptionsWidget;\n}(Widget));\nexport { FindOptionsWidget };\nregisterThemingParticipant(function (theme, collector) {\n    var widgetBackground = theme.getColor(editorWidgetBackground);\n    if (widgetBackground) {\n        collector.addRule(\".monaco-editor .findOptionsWidget { background-color: \" + widgetBackground + \"; }\");\n    }\n    var widgetShadowColor = theme.getColor(widgetShadow);\n    if (widgetShadowColor) {\n        collector.addRule(\".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\n    }\n    var hcBorder = theme.getColor(contrastBorder);\n    if (hcBorder) {\n        collector.addRule(\".monaco-editor .findOptionsWidget { border: 2px solid \" + hcBorder + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { HistoryNavigator } from '../../../base/common/history.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { registerEditorContribution, registerEditorAction, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, ToggleRegexKeybinding, ToggleWholeWordKeybinding, ToggleSearchScopeKeybinding, ShowPreviousFindTermKeybinding, ShowNextFindTermKeybinding, CONTEXT_FIND_WIDGET_VISIBLE, CONTEXT_FIND_INPUT_FOCUSED } from './findModel.js';\nimport { FindReplaceState } from './findState.js';\nimport { Delayer } from '../../../base/common/async.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { IStorageService, StorageScope } from '../../../platform/storage/common/storage.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { IContextViewService } from '../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { FindWidget } from './findWidget.js';\nimport { FindOptionsWidget } from './findOptionsWidget.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nexport function getSelectionSearchString(editor) {\n    var selection = editor.getSelection();\n    // if selection spans multiple lines, default search string to empty\n    if (selection.startLineNumber === selection.endLineNumber) {\n        if (selection.isEmpty()) {\n            var wordAtPosition = editor.getModel().getWordAtPosition(selection.getStartPosition());\n            if (wordAtPosition) {\n                return wordAtPosition.word;\n            }\n        }\n        else {\n            return editor.getModel().getValueInRange(selection);\n        }\n    }\n    return null;\n}\nvar CommonFindController = /** @class */ (function (_super) {\n    __extends(CommonFindController, _super);\n    function CommonFindController(editor, contextKeyService, storageService, clipboardService) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\n        _this._storageService = storageService;\n        _this._clipboardService = clipboardService;\n        _this._updateHistoryDelayer = new Delayer(500);\n        _this._currentHistoryNavigator = new HistoryNavigator();\n        _this._state = _this._register(new FindReplaceState());\n        _this.loadQueryState();\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\n        _this._model = null;\n        _this._register(_this._editor.onDidChangeModel(function () {\n            var shouldRestartFind = (_this._editor.getModel() && _this._state.isRevealed);\n            _this.disposeModel();\n            _this._state.change({\n                searchScope: null,\n                matchCase: _this._storageService.getBoolean('editor.matchCase', StorageScope.WORKSPACE, false),\n                wholeWord: _this._storageService.getBoolean('editor.wholeWord', StorageScope.WORKSPACE, false),\n                isRegex: _this._storageService.getBoolean('editor.isRegex', StorageScope.WORKSPACE, false)\n            }, false);\n            if (shouldRestartFind) {\n                _this._start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: false && _this._editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,\n                    seedSearchStringFromGlobalClipboard: false,\n                    shouldFocus: 0 /* NoFocusChange */,\n                    shouldAnimate: false,\n                });\n            }\n        }));\n        return _this;\n    }\n    CommonFindController.get = function (editor) {\n        return editor.getContribution(CommonFindController.ID);\n    };\n    CommonFindController.prototype.dispose = function () {\n        this.disposeModel();\n        _super.prototype.dispose.call(this);\n    };\n    CommonFindController.prototype.disposeModel = function () {\n        if (this._model) {\n            this._model.dispose();\n            this._model = null;\n        }\n    };\n    CommonFindController.prototype.getId = function () {\n        return CommonFindController.ID;\n    };\n    CommonFindController.prototype._onStateChanged = function (e) {\n        this.saveQueryState(e);\n        if (e.updateHistory && e.searchString) {\n            this._delayedUpdateHistory();\n        }\n        if (e.isRevealed) {\n            if (this._state.isRevealed) {\n                this._findWidgetVisible.set(true);\n            }\n            else {\n                this._findWidgetVisible.reset();\n                this.disposeModel();\n            }\n        }\n        if (e.searchString) {\n            this.setGlobalBufferTerm(this._state.searchString);\n        }\n    };\n    CommonFindController.prototype.saveQueryState = function (e) {\n        if (e.isRegex) {\n            this._storageService.store('editor.isRegex', this._state.actualIsRegex, StorageScope.WORKSPACE);\n        }\n        if (e.wholeWord) {\n            this._storageService.store('editor.wholeWord', this._state.actualWholeWord, StorageScope.WORKSPACE);\n        }\n        if (e.matchCase) {\n            this._storageService.store('editor.matchCase', this._state.actualMatchCase, StorageScope.WORKSPACE);\n        }\n    };\n    CommonFindController.prototype.loadQueryState = function () {\n        this._state.change({\n            matchCase: this._storageService.getBoolean('editor.matchCase', StorageScope.WORKSPACE, this._state.matchCase),\n            wholeWord: this._storageService.getBoolean('editor.wholeWord', StorageScope.WORKSPACE, this._state.wholeWord),\n            isRegex: this._storageService.getBoolean('editor.isRegex', StorageScope.WORKSPACE, this._state.isRegex)\n        }, false);\n    };\n    CommonFindController.prototype._delayedUpdateHistory = function () {\n        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this));\n    };\n    CommonFindController.prototype._updateHistory = function () {\n        if (this._state.searchString) {\n            this._currentHistoryNavigator.add(this._state.searchString);\n        }\n    };\n    CommonFindController.prototype.getState = function () {\n        return this._state;\n    };\n    CommonFindController.prototype.getHistory = function () {\n        return this._currentHistoryNavigator;\n    };\n    CommonFindController.prototype.closeFindWidget = function () {\n        this._state.change({\n            isRevealed: false,\n            searchScope: null\n        }, false);\n        this._editor.focus();\n    };\n    CommonFindController.prototype.toggleCaseSensitive = function () {\n        this._state.change({ matchCase: !this._state.matchCase }, false);\n    };\n    CommonFindController.prototype.toggleWholeWords = function () {\n        this._state.change({ wholeWord: !this._state.wholeWord }, false);\n    };\n    CommonFindController.prototype.toggleRegex = function () {\n        this._state.change({ isRegex: !this._state.isRegex }, false);\n    };\n    CommonFindController.prototype.toggleSearchScope = function () {\n        if (this._state.searchScope) {\n            this._state.change({ searchScope: null }, true);\n        }\n        else {\n            var selection = this._editor.getSelection();\n            if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                selection = selection.setEndPosition(selection.endLineNumber - 1, 1);\n            }\n            if (!selection.isEmpty()) {\n                this._state.change({ searchScope: selection }, true);\n            }\n        }\n    };\n    CommonFindController.prototype.setSearchString = function (searchString) {\n        if (this._state.isRegex) {\n            searchString = strings.escapeRegExpCharacters(searchString);\n        }\n        this._state.change({ searchString: searchString }, false);\n    };\n    CommonFindController.prototype.highlightFindOptions = function () {\n        // overwritten in subclass\n    };\n    CommonFindController.prototype._start = function (opts) {\n        this.disposeModel();\n        if (!this._editor.getModel()) {\n            // cannot do anything with an editor that doesn't have a model...\n            return;\n        }\n        var stateChanges = {\n            isRevealed: true\n        };\n        if (opts.seedSearchStringFromSelection) {\n            var selectionSearchString = getSelectionSearchString(this._editor);\n            if (selectionSearchString) {\n                if (this._state.isRegex) {\n                    stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\n                }\n                else {\n                    stateChanges.searchString = selectionSearchString;\n                }\n            }\n        }\n        if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\n            var selectionSearchString = this.getGlobalBufferTerm();\n            if (selectionSearchString) {\n                stateChanges.searchString = selectionSearchString;\n            }\n        }\n        // Overwrite isReplaceRevealed\n        if (opts.forceRevealReplace) {\n            stateChanges.isReplaceRevealed = true;\n        }\n        else if (!this._findWidgetVisible.get()) {\n            stateChanges.isReplaceRevealed = false;\n        }\n        this._state.change(stateChanges, false);\n        if (!this._model) {\n            this._model = new FindModelBoundToEditorModel(this._editor, this._state);\n        }\n    };\n    CommonFindController.prototype.start = function (opts) {\n        this._start(opts);\n    };\n    CommonFindController.prototype.moveToNextMatch = function () {\n        if (this._model) {\n            this._model.moveToNextMatch();\n            return true;\n        }\n        return false;\n    };\n    CommonFindController.prototype.moveToPrevMatch = function () {\n        if (this._model) {\n            this._model.moveToPrevMatch();\n            return true;\n        }\n        return false;\n    };\n    CommonFindController.prototype.replace = function () {\n        if (this._model) {\n            this._model.replace();\n            return true;\n        }\n        return false;\n    };\n    CommonFindController.prototype.replaceAll = function () {\n        if (this._model) {\n            this._model.replaceAll();\n            return true;\n        }\n        return false;\n    };\n    CommonFindController.prototype.selectAllMatches = function () {\n        if (this._model) {\n            this._model.selectAllMatches();\n            this._editor.focus();\n            return true;\n        }\n        return false;\n    };\n    CommonFindController.prototype.showPreviousFindTerm = function () {\n        var previousTerm = this._currentHistoryNavigator.previous();\n        if (previousTerm) {\n            this._state.change({ searchString: previousTerm }, false, false);\n        }\n        return true;\n    };\n    CommonFindController.prototype.showNextFindTerm = function () {\n        var nextTerm = this._currentHistoryNavigator.next();\n        if (nextTerm) {\n            this._state.change({ searchString: nextTerm }, false, false);\n        }\n        return true;\n    };\n    CommonFindController.prototype.getGlobalBufferTerm = function () {\n        if (this._editor.getConfiguration().contribInfo.find.globalFindClipboard\n            && this._clipboardService\n            && !this._editor.getModel().isTooLargeForSyncing()) {\n            return this._clipboardService.readFindText();\n        }\n        return '';\n    };\n    CommonFindController.prototype.setGlobalBufferTerm = function (text) {\n        if (this._editor.getConfiguration().contribInfo.find.globalFindClipboard\n            && this._clipboardService\n            && !this._editor.getModel().isTooLargeForSyncing()) {\n            this._clipboardService.writeFindText(text);\n        }\n    };\n    CommonFindController.ID = 'editor.contrib.findController';\n    CommonFindController = __decorate([\n        __param(1, IContextKeyService),\n        __param(2, IStorageService),\n        __param(3, IClipboardService)\n    ], CommonFindController);\n    return CommonFindController;\n}(Disposable));\nexport { CommonFindController };\nvar FindController = /** @class */ (function (_super) {\n    __extends(FindController, _super);\n    function FindController(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, storageService, clipboardService) {\n        var _this = _super.call(this, editor, _contextKeyService, storageService, clipboardService) || this;\n        _this._contextViewService = _contextViewService;\n        _this._contextKeyService = _contextKeyService;\n        _this._keybindingService = _keybindingService;\n        _this._themeService = _themeService;\n        return _this;\n    }\n    FindController.prototype._start = function (opts) {\n        if (!this._widget) {\n            this._createFindWidget();\n        }\n        _super.prototype._start.call(this, opts);\n        if (opts.shouldFocus === 2 /* FocusReplaceInput */) {\n            this._widget.focusReplaceInput();\n        }\n        else if (opts.shouldFocus === 1 /* FocusFindInput */) {\n            this._widget.focusFindInput();\n        }\n    };\n    FindController.prototype.highlightFindOptions = function () {\n        if (!this._widget) {\n            this._createFindWidget();\n        }\n        if (this._state.isRevealed) {\n            this._widget.highlightFindOptions();\n        }\n        else {\n            this._findOptionsWidget.highlightFindOptions();\n        }\n    };\n    FindController.prototype._createFindWidget = function () {\n        this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService));\n        this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\n    };\n    FindController = __decorate([\n        __param(1, IContextViewService),\n        __param(2, IContextKeyService),\n        __param(3, IKeybindingService),\n        __param(4, IThemeService),\n        __param(5, IStorageService),\n        __param(6, optional(IClipboardService))\n    ], FindController);\n    return FindController;\n}(CommonFindController));\nexport { FindController };\nvar StartFindAction = /** @class */ (function (_super) {\n    __extends(StartFindAction, _super);\n    function StartFindAction() {\n        return _super.call(this, {\n            id: FIND_IDS.StartFindAction,\n            label: nls.localize('startFindAction', \"Find\"),\n            alias: 'Find',\n            precondition: null,\n            kbOpts: {\n                kbExpr: null,\n                primary: 2048 /* CtrlCmd */ | 36 /* KEY_F */\n            }\n        }) || this;\n    }\n    StartFindAction.prototype.run = function (accessor, editor) {\n        var controller = CommonFindController.get(editor);\n        if (controller) {\n            controller.start({\n                forceRevealReplace: false,\n                seedSearchStringFromSelection: editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,\n                seedSearchStringFromGlobalClipboard: editor.getConfiguration().contribInfo.find.globalFindClipboard,\n                shouldFocus: 1 /* FocusFindInput */,\n                shouldAnimate: true\n            });\n        }\n    };\n    return StartFindAction;\n}(EditorAction));\nexport { StartFindAction };\nvar StartFindWithSelectionAction = /** @class */ (function (_super) {\n    __extends(StartFindWithSelectionAction, _super);\n    function StartFindWithSelectionAction() {\n        return _super.call(this, {\n            id: FIND_IDS.StartFindWithSelection,\n            label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\n            alias: 'Find With Selection',\n            precondition: null,\n            kbOpts: {\n                kbExpr: null,\n                primary: null,\n                mac: {\n                    primary: 2048 /* CtrlCmd */ | 35 /* KEY_E */,\n                }\n            }\n        }) || this;\n    }\n    StartFindWithSelectionAction.prototype.run = function (accessor, editor) {\n        var controller = CommonFindController.get(editor);\n        if (controller) {\n            controller.start({\n                forceRevealReplace: false,\n                seedSearchStringFromSelection: true,\n                seedSearchStringFromGlobalClipboard: false,\n                shouldFocus: 1 /* FocusFindInput */,\n                shouldAnimate: true\n            });\n            controller.setGlobalBufferTerm(controller.getState().searchString);\n        }\n    };\n    return StartFindWithSelectionAction;\n}(EditorAction));\nexport { StartFindWithSelectionAction };\nvar MatchFindAction = /** @class */ (function (_super) {\n    __extends(MatchFindAction, _super);\n    function MatchFindAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MatchFindAction.prototype.run = function (accessor, editor) {\n        var controller = CommonFindController.get(editor);\n        if (controller && !this._run(controller)) {\n            controller.start({\n                forceRevealReplace: false,\n                seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,\n                seedSearchStringFromGlobalClipboard: true,\n                shouldFocus: 0 /* NoFocusChange */,\n                shouldAnimate: true\n            });\n            this._run(controller);\n        }\n    };\n    return MatchFindAction;\n}(EditorAction));\nexport { MatchFindAction };\nvar NextMatchFindAction = /** @class */ (function (_super) {\n    __extends(NextMatchFindAction, _super);\n    function NextMatchFindAction() {\n        return _super.call(this, {\n            id: FIND_IDS.NextMatchFindAction,\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\n            alias: 'Find Next',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 61 /* F3 */,\n                mac: { primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */, secondary: [61 /* F3 */] }\n            }\n        }) || this;\n    }\n    NextMatchFindAction.prototype._run = function (controller) {\n        return controller.moveToNextMatch();\n    };\n    return NextMatchFindAction;\n}(MatchFindAction));\nexport { NextMatchFindAction };\nvar PreviousMatchFindAction = /** @class */ (function (_super) {\n    __extends(PreviousMatchFindAction, _super);\n    function PreviousMatchFindAction() {\n        return _super.call(this, {\n            id: FIND_IDS.PreviousMatchFindAction,\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n            alias: 'Find Previous',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* Shift */ | 61 /* F3 */,\n                mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 37 /* KEY_G */, secondary: [1024 /* Shift */ | 61 /* F3 */] }\n            }\n        }) || this;\n    }\n    PreviousMatchFindAction.prototype._run = function (controller) {\n        return controller.moveToPrevMatch();\n    };\n    return PreviousMatchFindAction;\n}(MatchFindAction));\nexport { PreviousMatchFindAction };\nvar SelectionMatchFindAction = /** @class */ (function (_super) {\n    __extends(SelectionMatchFindAction, _super);\n    function SelectionMatchFindAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectionMatchFindAction.prototype.run = function (accessor, editor) {\n        var controller = CommonFindController.get(editor);\n        if (!controller) {\n            return;\n        }\n        var selectionSearchString = getSelectionSearchString(editor);\n        if (selectionSearchString) {\n            controller.setSearchString(selectionSearchString);\n        }\n        if (!this._run(controller)) {\n            controller.start({\n                forceRevealReplace: false,\n                seedSearchStringFromSelection: editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,\n                seedSearchStringFromGlobalClipboard: false,\n                shouldFocus: 0 /* NoFocusChange */,\n                shouldAnimate: true\n            });\n            this._run(controller);\n        }\n    };\n    return SelectionMatchFindAction;\n}(EditorAction));\nexport { SelectionMatchFindAction };\nvar NextSelectionMatchFindAction = /** @class */ (function (_super) {\n    __extends(NextSelectionMatchFindAction, _super);\n    function NextSelectionMatchFindAction() {\n        return _super.call(this, {\n            id: FIND_IDS.NextSelectionMatchFindAction,\n            label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\n            alias: 'Find Next Selection',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 61 /* F3 */\n            }\n        }) || this;\n    }\n    NextSelectionMatchFindAction.prototype._run = function (controller) {\n        return controller.moveToNextMatch();\n    };\n    return NextSelectionMatchFindAction;\n}(SelectionMatchFindAction));\nexport { NextSelectionMatchFindAction };\nvar PreviousSelectionMatchFindAction = /** @class */ (function (_super) {\n    __extends(PreviousSelectionMatchFindAction, _super);\n    function PreviousSelectionMatchFindAction() {\n        return _super.call(this, {\n            id: FIND_IDS.PreviousSelectionMatchFindAction,\n            label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\n            alias: 'Find Previous Selection',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 61 /* F3 */\n            }\n        }) || this;\n    }\n    PreviousSelectionMatchFindAction.prototype._run = function (controller) {\n        return controller.moveToPrevMatch();\n    };\n    return PreviousSelectionMatchFindAction;\n}(SelectionMatchFindAction));\nexport { PreviousSelectionMatchFindAction };\nvar StartFindReplaceAction = /** @class */ (function (_super) {\n    __extends(StartFindReplaceAction, _super);\n    function StartFindReplaceAction() {\n        return _super.call(this, {\n            id: FIND_IDS.StartFindReplaceAction,\n            label: nls.localize('startReplace', \"Replace\"),\n            alias: 'Replace',\n            precondition: null,\n            kbOpts: {\n                kbExpr: null,\n                primary: 2048 /* CtrlCmd */ | 38 /* KEY_H */,\n                mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 36 /* KEY_F */ }\n            }\n        }) || this;\n    }\n    StartFindReplaceAction.prototype.run = function (accessor, editor) {\n        if (editor.getConfiguration().readOnly) {\n            return;\n        }\n        var controller = CommonFindController.get(editor);\n        var currentSelection = editor.getSelection();\n        // we only seed search string from selection when the current selection is single line and not empty.\n        var seedSearchStringFromSelection = !currentSelection.isEmpty() &&\n            currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection;\n        var oldSearchString = controller.getState().searchString;\n        // if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input\n        // is still empty, so we should focus the Find Input instead of Replace Input.\n        var shouldFocus = (!!oldSearchString || seedSearchStringFromSelection) ?\n            2 /* FocusReplaceInput */ : 1 /* FocusFindInput */;\n        if (controller) {\n            controller.start({\n                forceRevealReplace: true,\n                seedSearchStringFromSelection: seedSearchStringFromSelection,\n                seedSearchStringFromGlobalClipboard: editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,\n                shouldFocus: shouldFocus,\n                shouldAnimate: true\n            });\n        }\n    };\n    return StartFindReplaceAction;\n}(EditorAction));\nexport { StartFindReplaceAction };\nvar ShowNextFindTermAction = /** @class */ (function (_super) {\n    __extends(ShowNextFindTermAction, _super);\n    function ShowNextFindTermAction() {\n        return _super.call(this, {\n            id: FIND_IDS.ShowNextFindTermAction,\n            label: nls.localize('showNextFindTermAction', \"Show Next Find Term\"),\n            alias: 'Show Next Find Term',\n            precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n            kbOpts: {\n                weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n                kbExpr: ContextKeyExpr.and(CONTEXT_FIND_INPUT_FOCUSED, EditorContextKeys.focus),\n                primary: ShowNextFindTermKeybinding.primary,\n                mac: ShowNextFindTermKeybinding.mac,\n                win: ShowNextFindTermKeybinding.win,\n                linux: ShowNextFindTermKeybinding.linux\n            }\n        }) || this;\n    }\n    ShowNextFindTermAction.prototype._run = function (controller) {\n        return controller.showNextFindTerm();\n    };\n    return ShowNextFindTermAction;\n}(MatchFindAction));\nexport { ShowNextFindTermAction };\nvar ShowPreviousFindTermAction = /** @class */ (function (_super) {\n    __extends(ShowPreviousFindTermAction, _super);\n    function ShowPreviousFindTermAction() {\n        return _super.call(this, {\n            id: FIND_IDS.ShowPreviousFindTermAction,\n            label: nls.localize('showPreviousFindTermAction', \"Show Previous Find Term\"),\n            alias: 'Find Show Previous Find Term',\n            precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n            kbOpts: {\n                weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n                kbExpr: ContextKeyExpr.and(CONTEXT_FIND_INPUT_FOCUSED, EditorContextKeys.focus),\n                primary: ShowPreviousFindTermKeybinding.primary,\n                mac: ShowPreviousFindTermKeybinding.mac,\n                win: ShowPreviousFindTermKeybinding.win,\n                linux: ShowPreviousFindTermKeybinding.linux\n            }\n        }) || this;\n    }\n    ShowPreviousFindTermAction.prototype._run = function (controller) {\n        return controller.showPreviousFindTerm();\n    };\n    return ShowPreviousFindTermAction;\n}(MatchFindAction));\nexport { ShowPreviousFindTermAction };\nregisterEditorContribution(FindController);\nregisterEditorAction(StartFindAction);\nregisterEditorAction(StartFindWithSelectionAction);\nregisterEditorAction(NextMatchFindAction);\nregisterEditorAction(PreviousMatchFindAction);\nregisterEditorAction(NextSelectionMatchFindAction);\nregisterEditorAction(PreviousSelectionMatchFindAction);\nregisterEditorAction(StartFindReplaceAction);\nregisterEditorAction(ShowNextFindTermAction);\nregisterEditorAction(ShowPreviousFindTermAction);\nvar FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.CloseFindWidgetCommand,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: function (x) { return x.closeFindWidget(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleCaseSensitiveCommand,\n    precondition: null,\n    handler: function (x) { return x.toggleCaseSensitive(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleCaseSensitiveKeybinding.primary,\n        mac: ToggleCaseSensitiveKeybinding.mac,\n        win: ToggleCaseSensitiveKeybinding.win,\n        linux: ToggleCaseSensitiveKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleWholeWordCommand,\n    precondition: null,\n    handler: function (x) { return x.toggleWholeWords(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleWholeWordKeybinding.primary,\n        mac: ToggleWholeWordKeybinding.mac,\n        win: ToggleWholeWordKeybinding.win,\n        linux: ToggleWholeWordKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleRegexCommand,\n    precondition: null,\n    handler: function (x) { return x.toggleRegex(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleRegexKeybinding.primary,\n        mac: ToggleRegexKeybinding.mac,\n        win: ToggleRegexKeybinding.win,\n        linux: ToggleRegexKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleSearchScopeCommand,\n    precondition: null,\n    handler: function (x) { return x.toggleSearchScope(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleSearchScopeKeybinding.primary,\n        mac: ToggleSearchScopeKeybinding.mac,\n        win: ToggleSearchScopeKeybinding.win,\n        linux: ToggleSearchScopeKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceOneAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: function (x) { return x.replace(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 22 /* KEY_1 */\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceAllAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: function (x) { return x.replaceAll(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 3 /* Enter */\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.SelectAllMatchesAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: function (x) { return x.selectAllMatches(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(5),\n        kbExpr: EditorContextKeys.focus,\n        primary: 512 /* Alt */ | 3 /* Enter */\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var MAX_FOLDING_REGIONS = 0xFFFF;\nexport var MAX_LINE_NUMBER = 0xFFFFFF;\nvar MASK_INDENT = 0xFF000000;\nvar FoldingRegions = /** @class */ (function () {\n    function FoldingRegions(startIndexes, endIndexes, types) {\n        if (startIndexes.length !== endIndexes.length || startIndexes.length > MAX_FOLDING_REGIONS) {\n            throw new Error('invalid startIndexes or endIndexes size');\n        }\n        this._startIndexes = startIndexes;\n        this._endIndexes = endIndexes;\n        this._collapseStates = new Uint32Array(Math.ceil(startIndexes.length / 32));\n        this._types = types;\n    }\n    FoldingRegions.prototype.ensureParentIndices = function () {\n        var _this = this;\n        if (!this._parentsComputed) {\n            this._parentsComputed = true;\n            var parentIndexes_1 = [];\n            var isInsideLast = function (startLineNumber, endLineNumber) {\n                var index = parentIndexes_1[parentIndexes_1.length - 1];\n                return _this.getStartLineNumber(index) <= startLineNumber && _this.getEndLineNumber(index) >= endLineNumber;\n            };\n            for (var i = 0, len = this._startIndexes.length; i < len; i++) {\n                var startLineNumber = this._startIndexes[i];\n                var endLineNumber = this._endIndexes[i];\n                if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\n                    throw new Error('startLineNumber or endLineNumber must not exceed ' + MAX_LINE_NUMBER);\n                }\n                while (parentIndexes_1.length > 0 && !isInsideLast(startLineNumber, endLineNumber)) {\n                    parentIndexes_1.pop();\n                }\n                var parentIndex = parentIndexes_1.length > 0 ? parentIndexes_1[parentIndexes_1.length - 1] : -1;\n                parentIndexes_1.push(i);\n                this._startIndexes[i] = startLineNumber + ((parentIndex & 0xFF) << 24);\n                this._endIndexes[i] = endLineNumber + ((parentIndex & 0xFF00) << 16);\n            }\n        }\n    };\n    Object.defineProperty(FoldingRegions.prototype, \"length\", {\n        get: function () {\n            return this._startIndexes.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FoldingRegions.prototype.getStartLineNumber = function (index) {\n        return this._startIndexes[index] & MAX_LINE_NUMBER;\n    };\n    FoldingRegions.prototype.getEndLineNumber = function (index) {\n        return this._endIndexes[index] & MAX_LINE_NUMBER;\n    };\n    FoldingRegions.prototype.getType = function (index) {\n        return this._types ? this._types[index] : void 0;\n    };\n    FoldingRegions.prototype.hasTypes = function () {\n        return !!this._types;\n    };\n    FoldingRegions.prototype.isCollapsed = function (index) {\n        var arrayIndex = (index / 32) | 0;\n        var bit = index % 32;\n        return (this._collapseStates[arrayIndex] & (1 << bit)) !== 0;\n    };\n    FoldingRegions.prototype.setCollapsed = function (index, newState) {\n        var arrayIndex = (index / 32) | 0;\n        var bit = index % 32;\n        var value = this._collapseStates[arrayIndex];\n        if (newState) {\n            this._collapseStates[arrayIndex] = value | (1 << bit);\n        }\n        else {\n            this._collapseStates[arrayIndex] = value & ~(1 << bit);\n        }\n    };\n    FoldingRegions.prototype.toRegion = function (index) {\n        return new FoldingRegion(this, index);\n    };\n    FoldingRegions.prototype.getParentIndex = function (index) {\n        this.ensureParentIndices();\n        var parent = ((this._startIndexes[index] & MASK_INDENT) >>> 24) + ((this._endIndexes[index] & MASK_INDENT) >>> 16);\n        if (parent === MAX_FOLDING_REGIONS) {\n            return -1;\n        }\n        return parent;\n    };\n    FoldingRegions.prototype.contains = function (index, line) {\n        return this.getStartLineNumber(index) <= line && this.getEndLineNumber(index) >= line;\n    };\n    FoldingRegions.prototype.findIndex = function (line) {\n        var low = 0, high = this._startIndexes.length;\n        if (high === 0) {\n            return -1; // no children\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (line < this.getStartLineNumber(mid)) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        return low - 1;\n    };\n    FoldingRegions.prototype.findRange = function (line) {\n        var index = this.findIndex(line);\n        if (index >= 0) {\n            var endLineNumber = this.getEndLineNumber(index);\n            if (endLineNumber >= line) {\n                return index;\n            }\n            index = this.getParentIndex(index);\n            while (index !== -1) {\n                if (this.contains(index, line)) {\n                    return index;\n                }\n                index = this.getParentIndex(index);\n            }\n        }\n        return -1;\n    };\n    FoldingRegions.prototype.toString = function () {\n        var res = [];\n        for (var i = 0; i < this.length; i++) {\n            res[i] = \"[\" + (this.isCollapsed(i) ? '+' : '-') + \"] \" + this.getStartLineNumber(i) + \"/\" + this.getEndLineNumber(i);\n        }\n        return res.join(', ');\n    };\n    return FoldingRegions;\n}());\nexport { FoldingRegions };\nvar FoldingRegion = /** @class */ (function () {\n    function FoldingRegion(ranges, index) {\n        this.ranges = ranges;\n        this.index = index;\n    }\n    Object.defineProperty(FoldingRegion.prototype, \"startLineNumber\", {\n        get: function () {\n            return this.ranges.getStartLineNumber(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingRegion.prototype, \"endLineNumber\", {\n        get: function () {\n            return this.ranges.getEndLineNumber(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingRegion.prototype, \"regionIndex\", {\n        get: function () {\n            return this.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingRegion.prototype, \"parentIndex\", {\n        get: function () {\n            return this.ranges.getParentIndex(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingRegion.prototype, \"isCollapsed\", {\n        get: function () {\n            return this.ranges.isCollapsed(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FoldingRegion.prototype.containedBy = function (range) {\n        return range.startLineNumber <= this.startLineNumber && range.endLineNumber >= this.endLineNumber;\n    };\n    FoldingRegion.prototype.containsLine = function (lineNumber) {\n        return this.startLineNumber <= lineNumber && lineNumber <= this.endLineNumber;\n    };\n    FoldingRegion.prototype.hidesLine = function (lineNumber) {\n        return this.startLineNumber < lineNumber && lineNumber <= this.endLineNumber;\n    };\n    return FoldingRegion;\n}());\nexport { FoldingRegion };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { FoldingRegions } from './foldingRanges.js';\nvar FoldingModel = /** @class */ (function () {\n    function FoldingModel(textModel, decorationProvider) {\n        this._updateEventEmitter = new Emitter();\n        this._textModel = textModel;\n        this._decorationProvider = decorationProvider;\n        this._regions = new FoldingRegions(new Uint32Array(0), new Uint32Array(0));\n        this._editorDecorationIds = [];\n        this._isInitialized = false;\n    }\n    Object.defineProperty(FoldingModel.prototype, \"regions\", {\n        get: function () { return this._regions; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingModel.prototype, \"onDidChange\", {\n        get: function () { return this._updateEventEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingModel.prototype, \"textModel\", {\n        get: function () { return this._textModel; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FoldingModel.prototype, \"isInitialized\", {\n        get: function () { return this._isInitialized; },\n        enumerable: true,\n        configurable: true\n    });\n    FoldingModel.prototype.toggleCollapseState = function (regions) {\n        var _this = this;\n        if (!regions.length) {\n            return;\n        }\n        var processed = {};\n        this._decorationProvider.changeDecorations(function (accessor) {\n            for (var _i = 0, regions_1 = regions; _i < regions_1.length; _i++) {\n                var region = regions_1[_i];\n                var index = region.regionIndex;\n                var editorDecorationId = _this._editorDecorationIds[index];\n                if (editorDecorationId && !processed[editorDecorationId]) {\n                    processed[editorDecorationId] = true;\n                    var newCollapseState = !_this._regions.isCollapsed(index);\n                    _this._regions.setCollapsed(index, newCollapseState);\n                    accessor.changeDecorationOptions(editorDecorationId, _this._decorationProvider.getDecorationOption(newCollapseState));\n                }\n            }\n        });\n        this._updateEventEmitter.fire({ model: this, collapseStateChanged: regions });\n    };\n    FoldingModel.prototype.update = function (newRegions, blockedLineNumers) {\n        var _this = this;\n        if (blockedLineNumers === void 0) { blockedLineNumers = []; }\n        var newEditorDecorations = [];\n        var isBlocked = function (startLineNumber, endLineNumber) {\n            for (var _i = 0, blockedLineNumers_1 = blockedLineNumers; _i < blockedLineNumers_1.length; _i++) {\n                var blockedLineNumber = blockedLineNumers_1[_i];\n                if (startLineNumber < blockedLineNumber && blockedLineNumber <= endLineNumber) { // first line is visible\n                    return true;\n                }\n            }\n            return false;\n        };\n        var initRange = function (index, isCollapsed) {\n            var startLineNumber = newRegions.getStartLineNumber(index);\n            if (isCollapsed && isBlocked(startLineNumber, newRegions.getEndLineNumber(index))) {\n                isCollapsed = false;\n            }\n            newRegions.setCollapsed(index, isCollapsed);\n            var maxColumn = _this._textModel.getLineMaxColumn(startLineNumber);\n            var decorationRange = {\n                startLineNumber: startLineNumber,\n                startColumn: maxColumn,\n                endLineNumber: startLineNumber,\n                endColumn: maxColumn\n            };\n            newEditorDecorations.push({ range: decorationRange, options: _this._decorationProvider.getDecorationOption(isCollapsed) });\n        };\n        var i = 0;\n        var nextCollapsed = function () {\n            while (i < _this._regions.length) {\n                var isCollapsed = _this._regions.isCollapsed(i);\n                i++;\n                if (isCollapsed) {\n                    return i - 1;\n                }\n            }\n            return -1;\n        };\n        var k = 0;\n        var collapsedIndex = nextCollapsed();\n        while (collapsedIndex !== -1 && k < newRegions.length) {\n            // get the latest range\n            var decRange = this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);\n            if (decRange) {\n                var collapsedStartLineNumber = decRange.startLineNumber;\n                if (this._textModel.getLineMaxColumn(collapsedStartLineNumber) === decRange.startColumn) { // test that the decoration is still at the end otherwise it got deleted\n                    while (k < newRegions.length) {\n                        var startLineNumber = newRegions.getStartLineNumber(k);\n                        if (collapsedStartLineNumber >= startLineNumber) {\n                            initRange(k, collapsedStartLineNumber === startLineNumber);\n                            k++;\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n            collapsedIndex = nextCollapsed();\n        }\n        while (k < newRegions.length) {\n            initRange(k, false);\n            k++;\n        }\n        this._editorDecorationIds = this._decorationProvider.deltaDecorations(this._editorDecorationIds, newEditorDecorations);\n        this._regions = newRegions;\n        this._isInitialized = true;\n        this._updateEventEmitter.fire({ model: this });\n    };\n    /**\n     * Collapse state memento, for persistence only\n     */\n    FoldingModel.prototype.getMemento = function () {\n        var collapsedRanges = [];\n        for (var i = 0; i < this._regions.length; i++) {\n            if (this._regions.isCollapsed(i)) {\n                var range = this._textModel.getDecorationRange(this._editorDecorationIds[i]);\n                if (range) {\n                    var startLineNumber = range.startLineNumber;\n                    var endLineNumber = range.endLineNumber + this._regions.getEndLineNumber(i) - this._regions.getStartLineNumber(i);\n                    collapsedRanges.push({ startLineNumber: startLineNumber, endLineNumber: endLineNumber });\n                }\n            }\n        }\n        if (collapsedRanges.length > 0) {\n            return collapsedRanges;\n        }\n        return null;\n    };\n    /**\n     * Apply persisted state, for persistence only\n     */\n    FoldingModel.prototype.applyMemento = function (state) {\n        if (!Array.isArray(state)) {\n            return;\n        }\n        var toToogle = [];\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\n            var range = state_1[_i];\n            var region = this.getRegionAtLine(range.startLineNumber);\n            if (region && !region.isCollapsed) {\n                toToogle.push(region);\n            }\n        }\n        this.toggleCollapseState(toToogle);\n    };\n    FoldingModel.prototype.dispose = function () {\n        this._decorationProvider.deltaDecorations(this._editorDecorationIds, []);\n    };\n    FoldingModel.prototype.getAllRegionsAtLine = function (lineNumber, filter) {\n        var result = [];\n        if (this._regions) {\n            var index = this._regions.findRange(lineNumber);\n            var level = 1;\n            while (index >= 0) {\n                var current = this._regions.toRegion(index);\n                if (!filter || filter(current, level)) {\n                    result.push(current);\n                }\n                level++;\n                index = current.parentIndex;\n            }\n        }\n        return result;\n    };\n    FoldingModel.prototype.getRegionAtLine = function (lineNumber) {\n        if (this._regions) {\n            var index = this._regions.findRange(lineNumber);\n            if (index >= 0) {\n                return this._regions.toRegion(index);\n            }\n        }\n        return null;\n    };\n    FoldingModel.prototype.getRegionsInside = function (region, filter) {\n        var result = [];\n        var trackLevel = filter && filter.length === 2;\n        var levelStack = trackLevel ? [] : null;\n        var index = region ? region.regionIndex + 1 : 0;\n        var endLineNumber = region ? region.endLineNumber : Number.MAX_VALUE;\n        for (var i = index, len = this._regions.length; i < len; i++) {\n            var current = this._regions.toRegion(i);\n            if (this._regions.getStartLineNumber(i) < endLineNumber) {\n                if (trackLevel) {\n                    while (levelStack.length > 0 && !current.containedBy(levelStack[levelStack.length - 1])) {\n                        levelStack.pop();\n                    }\n                    levelStack.push(current);\n                    if (filter(current, levelStack.length)) {\n                        result.push(current);\n                    }\n                }\n                else if (!filter || filter(current)) {\n                    result.push(current);\n                }\n            }\n            else {\n                break;\n            }\n        }\n        return result;\n    };\n    return FoldingModel;\n}());\nexport { FoldingModel };\n/**\n * Collapse or expand the regions at the given locations including all children.\n * @param doCollapse Wheter to collase or expand\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\n */\nexport function setCollapseStateLevelsDown(foldingModel, doCollapse, levels, lineNumbers) {\n    if (levels === void 0) { levels = Number.MAX_VALUE; }\n    var toToggle = [];\n    if (lineNumbers && lineNumbers.length > 0) {\n        for (var _i = 0, lineNumbers_1 = lineNumbers; _i < lineNumbers_1.length; _i++) {\n            var lineNumber = lineNumbers_1[_i];\n            var region = foldingModel.getRegionAtLine(lineNumber);\n            if (region) {\n                if (region.isCollapsed !== doCollapse) {\n                    toToggle.push(region);\n                }\n                if (levels > 1) {\n                    var regionsInside = foldingModel.getRegionsInside(region, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\n                    toToggle.push.apply(toToggle, regionsInside);\n                }\n            }\n        }\n    }\n    else {\n        var regionsInside = foldingModel.getRegionsInside(null, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\n        toToggle.push.apply(toToggle, regionsInside);\n    }\n    foldingModel.toggleCollapseState(toToggle);\n}\n/**\n * Collapse or expand the regions at the given locations including all parents.\n * @param doCollapse Wheter to collase or expand\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\n */\nexport function setCollapseStateLevelsUp(foldingModel, doCollapse, levels, lineNumbers) {\n    var toToggle = [];\n    for (var _i = 0, lineNumbers_2 = lineNumbers; _i < lineNumbers_2.length; _i++) {\n        var lineNumber = lineNumbers_2[_i];\n        var regions = foldingModel.getAllRegionsAtLine(lineNumber, function (region, level) { return region.isCollapsed !== doCollapse && level <= levels; });\n        toToggle.push.apply(toToggle, regions);\n    }\n    foldingModel.toggleCollapseState(toToggle);\n}\n/**\n * Folds or unfolds all regions that have a given level, except if they contain one of the blocked lines.\n * @param foldLevel level. Level == 1 is the top level\n * @param doCollapse Wheter to collase or expand\n* @param blockedLineNumbers\n*/\nexport function setCollapseStateAtLevel(foldingModel, foldLevel, doCollapse, blockedLineNumbers) {\n    var filter = function (region, level) { return level === foldLevel && region.isCollapsed !== doCollapse && !blockedLineNumbers.some(function (line) { return region.containsLine(line); }); };\n    var toToggle = foldingModel.getRegionsInside(null, filter);\n    foldingModel.toggleCollapseState(toToggle);\n}\n/**\n * Folds all regions for which the lines start with a given regex\n * @param foldingModel the folding model\n */\nexport function setCollapseStateForMatchingLines(foldingModel, regExp, doCollapse) {\n    var editorModel = foldingModel.textModel;\n    var regions = foldingModel.regions;\n    var toToggle = [];\n    for (var i = regions.length - 1; i >= 0; i--) {\n        if (doCollapse !== regions.isCollapsed(i)) {\n            var startLineNumber = regions.getStartLineNumber(i);\n            if (regExp.test(editorModel.getLineContent(startLineNumber))) {\n                toToggle.push(regions.toRegion(i));\n            }\n        }\n    }\n    foldingModel.toggleCollapseState(toToggle);\n}\n/**\n * Folds all regions of the given type\n * @param foldingModel the folding model\n */\nexport function setCollapseStateForType(foldingModel, type, doCollapse) {\n    var regions = foldingModel.regions;\n    var toToggle = [];\n    for (var i = regions.length - 1; i >= 0; i--) {\n        if (doCollapse !== regions.isCollapsed(i) && type === regions.getType(i)) {\n            toToggle.push(regions.toRegion(i));\n        }\n    }\n    foldingModel.toggleCollapseState(toToggle);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { TrackedRangeStickiness } from '../../common/model.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nvar FoldingDecorationProvider = /** @class */ (function () {\n    function FoldingDecorationProvider(editor) {\n        this.editor = editor;\n        this.autoHideFoldingControls = true;\n    }\n    FoldingDecorationProvider.prototype.getDecorationOption = function (isCollapsed) {\n        if (isCollapsed) {\n            return FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION;\n        }\n        else if (this.autoHideFoldingControls) {\n            return FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\n        }\n        else {\n            return FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\n        }\n    };\n    FoldingDecorationProvider.prototype.deltaDecorations = function (oldDecorations, newDecorations) {\n        return this.editor.deltaDecorations(oldDecorations, newDecorations);\n    };\n    FoldingDecorationProvider.prototype.changeDecorations = function (callback) {\n        return this.editor.changeDecorations(callback);\n    };\n    FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        afterContentClassName: 'inline-folded',\n        linesDecorationsClassName: 'folding collapsed'\n    });\n    FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        linesDecorationsClassName: 'folding'\n    });\n    FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        linesDecorationsClassName: 'folding alwaysShowFoldIcons'\n    });\n    return FoldingDecorationProvider;\n}());\nexport { FoldingDecorationProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Range } from '../../common/core/range.js';\nimport { findFirstInSorted } from '../../../base/common/arrays.js';\nvar HiddenRangeModel = /** @class */ (function () {\n    function HiddenRangeModel(model) {\n        var _this = this;\n        this._updateEventEmitter = new Emitter();\n        this._foldingModel = model;\n        this._foldingModelListener = model.onDidChange(function (_) { return _this.updateHiddenRanges(); });\n        this._hiddenRanges = [];\n        if (model.regions.length) {\n            this.updateHiddenRanges();\n        }\n    }\n    Object.defineProperty(HiddenRangeModel.prototype, \"onDidChange\", {\n        get: function () { return this._updateEventEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HiddenRangeModel.prototype, \"hiddenRanges\", {\n        get: function () { return this._hiddenRanges; },\n        enumerable: true,\n        configurable: true\n    });\n    HiddenRangeModel.prototype.updateHiddenRanges = function () {\n        var updateHiddenAreas = false;\n        var newHiddenAreas = [];\n        var i = 0; // index into hidden\n        var k = 0;\n        var lastCollapsedStart = Number.MAX_VALUE;\n        var lastCollapsedEnd = -1;\n        var ranges = this._foldingModel.regions;\n        for (; i < ranges.length; i++) {\n            if (!ranges.isCollapsed(i)) {\n                continue;\n            }\n            var startLineNumber = ranges.getStartLineNumber(i) + 1; // the first line is not hidden\n            var endLineNumber = ranges.getEndLineNumber(i);\n            if (lastCollapsedStart <= startLineNumber && endLineNumber <= lastCollapsedEnd) {\n                // ignore ranges contained in collapsed regions\n                continue;\n            }\n            if (!updateHiddenAreas && k < this._hiddenRanges.length && this._hiddenRanges[k].startLineNumber === startLineNumber && this._hiddenRanges[k].endLineNumber === endLineNumber) {\n                // reuse the old ranges\n                newHiddenAreas.push(this._hiddenRanges[k]);\n                k++;\n            }\n            else {\n                updateHiddenAreas = true;\n                newHiddenAreas.push(new Range(startLineNumber, 1, endLineNumber, 1));\n            }\n            lastCollapsedStart = startLineNumber;\n            lastCollapsedEnd = endLineNumber;\n        }\n        if (updateHiddenAreas || k < this._hiddenRanges.length) {\n            this.applyHiddenRanges(newHiddenAreas);\n        }\n    };\n    HiddenRangeModel.prototype.applyMemento = function (state) {\n        if (!Array.isArray(state) || state.length === 0) {\n            return false;\n        }\n        var hiddenRanges = [];\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\n            var r = state_1[_i];\n            if (!r.startLineNumber || !r.endLineNumber) {\n                return false;\n            }\n            hiddenRanges.push(new Range(r.startLineNumber + 1, 1, r.endLineNumber, 1));\n        }\n        this.applyHiddenRanges(hiddenRanges);\n        return true;\n    };\n    /**\n     * Collapse state memento, for persistence only, only used if folding model is not yet initialized\n     */\n    HiddenRangeModel.prototype.getMemento = function () {\n        return this._hiddenRanges.map(function (r) { return ({ startLineNumber: r.startLineNumber - 1, endLineNumber: r.endLineNumber }); });\n    };\n    HiddenRangeModel.prototype.applyHiddenRanges = function (newHiddenAreas) {\n        this._hiddenRanges = newHiddenAreas;\n        this._updateEventEmitter.fire(newHiddenAreas);\n    };\n    HiddenRangeModel.prototype.hasRanges = function () {\n        return this._hiddenRanges.length > 0;\n    };\n    HiddenRangeModel.prototype.isHidden = function (line) {\n        return findRange(this._hiddenRanges, line) !== null;\n    };\n    HiddenRangeModel.prototype.adjustSelections = function (selections) {\n        var _this = this;\n        var hasChanges = false;\n        var editorModel = this._foldingModel.textModel;\n        var lastRange = null;\n        var adjustLine = function (line) {\n            if (!lastRange || !isInside(line, lastRange)) {\n                lastRange = findRange(_this._hiddenRanges, line);\n            }\n            if (lastRange) {\n                return lastRange.startLineNumber - 1;\n            }\n            return null;\n        };\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var selection = selections[i];\n            var adjustedStartLine = adjustLine(selection.startLineNumber);\n            if (adjustedStartLine) {\n                selection = selection.setStartPosition(adjustedStartLine, editorModel.getLineMaxColumn(adjustedStartLine));\n                hasChanges = true;\n            }\n            var adjustedEndLine = adjustLine(selection.endLineNumber);\n            if (adjustedEndLine) {\n                selection = selection.setEndPosition(adjustedEndLine, editorModel.getLineMaxColumn(adjustedEndLine));\n                hasChanges = true;\n            }\n            selections[i] = selection;\n        }\n        return hasChanges;\n    };\n    HiddenRangeModel.prototype.dispose = function () {\n        if (this.hiddenRanges.length > 0) {\n            this._hiddenRanges = [];\n            this._updateEventEmitter.fire(this._hiddenRanges);\n        }\n        if (this._foldingModelListener) {\n            this._foldingModelListener.dispose();\n            this._foldingModelListener = null;\n        }\n    };\n    return HiddenRangeModel;\n}());\nexport { HiddenRangeModel };\nfunction isInside(line, range) {\n    return line >= range.startLineNumber && line <= range.endLineNumber;\n}\nfunction findRange(ranges, line) {\n    var i = findFirstInSorted(ranges, function (r) { return line < r.startLineNumber; }) - 1;\n    if (i >= 0 && ranges[i].endLineNumber >= line) {\n        return ranges[i];\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { FoldingRegions, MAX_LINE_NUMBER } from './foldingRanges.js';\nimport { TextModel } from '../../common/model/textModel.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nvar MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT = 5000;\nvar IndentRangeProvider = /** @class */ (function () {\n    function IndentRangeProvider() {\n    }\n    IndentRangeProvider.prototype.compute = function (editorModel, cancelationToken) {\n        var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageIdentifier().id);\n        var offSide = foldingRules && foldingRules.offSide;\n        var markers = foldingRules && foldingRules.markers;\n        return TPromise.as(computeRanges(editorModel, offSide, markers));\n    };\n    return IndentRangeProvider;\n}());\nexport { IndentRangeProvider };\n// public only for testing\nvar RangesCollector = /** @class */ (function () {\n    function RangesCollector(foldingRangesLimit) {\n        this._startIndexes = [];\n        this._endIndexes = [];\n        this._indentOccurrences = [];\n        this._length = 0;\n        this._foldingRangesLimit = foldingRangesLimit;\n    }\n    RangesCollector.prototype.insertFirst = function (startLineNumber, endLineNumber, indent) {\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\n            return;\n        }\n        var index = this._length;\n        this._startIndexes[index] = startLineNumber;\n        this._endIndexes[index] = endLineNumber;\n        this._length++;\n        if (indent < 1000) {\n            this._indentOccurrences[indent] = (this._indentOccurrences[indent] || 0) + 1;\n        }\n    };\n    RangesCollector.prototype.toIndentRanges = function (model) {\n        if (this._length <= this._foldingRangesLimit) {\n            // reverse and create arrays of the exact length\n            var startIndexes = new Uint32Array(this._length);\n            var endIndexes = new Uint32Array(this._length);\n            for (var i = this._length - 1, k = 0; i >= 0; i--, k++) {\n                startIndexes[k] = this._startIndexes[i];\n                endIndexes[k] = this._endIndexes[i];\n            }\n            return new FoldingRegions(startIndexes, endIndexes);\n        }\n        else {\n            var entries = 0;\n            var maxIndent = this._indentOccurrences.length;\n            for (var i = 0; i < this._indentOccurrences.length; i++) {\n                var n = this._indentOccurrences[i];\n                if (n) {\n                    if (n + entries > this._foldingRangesLimit) {\n                        maxIndent = i;\n                        break;\n                    }\n                    entries += n;\n                }\n            }\n            var tabSize = model.getOptions().tabSize;\n            // reverse and create arrays of the exact length\n            var startIndexes = new Uint32Array(entries);\n            var endIndexes = new Uint32Array(entries);\n            for (var i = this._length - 1, k = 0; i >= 0; i--) {\n                var startIndex = this._startIndexes[i];\n                var lineContent = model.getLineContent(startIndex);\n                var indent = TextModel.computeIndentLevel(lineContent, tabSize);\n                if (indent < maxIndent) {\n                    startIndexes[k] = startIndex;\n                    endIndexes[k] = this._endIndexes[i];\n                    k++;\n                }\n            }\n            return new FoldingRegions(startIndexes, endIndexes);\n        }\n    };\n    return RangesCollector;\n}());\nexport { RangesCollector };\nexport function computeRanges(model, offSide, markers, foldingRangesLimit) {\n    if (foldingRangesLimit === void 0) { foldingRangesLimit = MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT; }\n    var tabSize = model.getOptions().tabSize;\n    var result = new RangesCollector(foldingRangesLimit);\n    var pattern = void 0;\n    if (markers) {\n        pattern = new RegExp(\"(\" + markers.start.source + \")|(?:\" + markers.end.source + \")\");\n    }\n    var previousRegions = [];\n    previousRegions.push({ indent: -1, line: model.getLineCount() + 1, marker: false }); // sentinel, to make sure there's at least one entry\n    for (var line = model.getLineCount(); line > 0; line--) {\n        var lineContent = model.getLineContent(line);\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\n        var previous = previousRegions[previousRegions.length - 1];\n        if (indent === -1) {\n            if (offSide && !previous.marker) {\n                // for offSide languages, empty lines are associated to the next block\n                previous.line = line;\n            }\n            continue; // only whitespace\n        }\n        var m = void 0;\n        if (pattern && (m = lineContent.match(pattern))) {\n            // folding pattern match\n            if (m[1]) { // start pattern match\n                // discard all regions until the folding pattern\n                var i = previousRegions.length - 1;\n                while (i > 0 && !previousRegions[i].marker) {\n                    i--;\n                }\n                if (i > 0) {\n                    previousRegions.length = i + 1;\n                    previous = previousRegions[i];\n                    // new folding range from pattern, includes the end line\n                    result.insertFirst(line, previous.line, indent);\n                    previous.marker = false;\n                    previous.indent = indent;\n                    previous.line = line;\n                    continue;\n                }\n                else {\n                    // no end marker found, treat line as a regular line\n                }\n            }\n            else { // end pattern match\n                previousRegions.push({ indent: -2, line: line, marker: true });\n                continue;\n            }\n        }\n        if (previous.indent > indent) {\n            // discard all regions with larger indent\n            do {\n                previousRegions.pop();\n                previous = previousRegions[previousRegions.length - 1];\n            } while (previous.indent > indent);\n            // new folding range\n            var endLineNumber = previous.line - 1;\n            if (endLineNumber - line >= 1) { // needs at east size 1\n                result.insertFirst(line, endLineNumber, indent);\n            }\n        }\n        if (previous.indent === indent) {\n            previous.line = line;\n        }\n        else { // previous.indent < indent\n            // new region with a bigger indent\n            previousRegions.push({ indent: indent, line: line, marker: false });\n        }\n    }\n    return result.toIndentRanges(model);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { toPromiseLike } from '../../../base/common/async.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { MAX_LINE_NUMBER, FoldingRegions } from './foldingRanges.js';\nvar MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT = 5000;\nvar foldingContext = {\n    maxRanges: MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT\n};\nvar SyntaxRangeProvider = /** @class */ (function () {\n    function SyntaxRangeProvider(providers) {\n        this.providers = providers;\n    }\n    SyntaxRangeProvider.prototype.compute = function (model, cancellationToken) {\n        return collectSyntaxRanges(this.providers, model, cancellationToken).then(function (ranges) {\n            if (ranges) {\n                var res = sanitizeRanges(ranges);\n                return res;\n            }\n            return null;\n        });\n    };\n    return SyntaxRangeProvider;\n}());\nexport { SyntaxRangeProvider };\nfunction collectSyntaxRanges(providers, model, cancellationToken) {\n    var promises = providers.map(function (provider) { return toPromiseLike(provider.provideFoldingRanges(model, foldingContext, cancellationToken)); });\n    return TPromise.join(promises).then(function (results) {\n        var rangeData = null;\n        if (cancellationToken.isCancellationRequested) {\n            return null;\n        }\n        for (var i = 0; i < results.length; i++) {\n            var ranges = results[i];\n            if (Array.isArray(ranges)) {\n                if (!Array.isArray(rangeData)) {\n                    rangeData = [];\n                }\n                var nLines = model.getLineCount();\n                for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\n                    var r = ranges_1[_i];\n                    if (r.start > 0 && r.end > r.start && r.end <= nLines) {\n                        rangeData.push({ start: r.start, end: r.end, rank: i, kind: r.kind });\n                    }\n                }\n            }\n        }\n        return rangeData;\n    }, onUnexpectedExternalError);\n}\nvar RangesCollector = /** @class */ (function () {\n    function RangesCollector(foldingRangesLimit) {\n        this._startIndexes = [];\n        this._endIndexes = [];\n        this._nestingLevels = [];\n        this._nestingLevelCounts = [];\n        this._types = [];\n        this._length = 0;\n        this._foldingRangesLimit = foldingRangesLimit;\n    }\n    RangesCollector.prototype.add = function (startLineNumber, endLineNumber, type, nestingLevel) {\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\n            return;\n        }\n        var index = this._length;\n        this._startIndexes[index] = startLineNumber;\n        this._endIndexes[index] = endLineNumber;\n        this._nestingLevels[index] = nestingLevel;\n        this._types[index] = type;\n        this._length++;\n        if (nestingLevel < 30) {\n            this._nestingLevelCounts[nestingLevel] = (this._nestingLevelCounts[nestingLevel] || 0) + 1;\n        }\n    };\n    RangesCollector.prototype.toIndentRanges = function () {\n        if (this._length <= this._foldingRangesLimit) {\n            var startIndexes = new Uint32Array(this._length);\n            var endIndexes = new Uint32Array(this._length);\n            for (var i = 0; i < this._length; i++) {\n                startIndexes[i] = this._startIndexes[i];\n                endIndexes[i] = this._endIndexes[i];\n            }\n            return new FoldingRegions(startIndexes, endIndexes, this._types);\n        }\n        else {\n            var entries = 0;\n            var maxLevel = this._nestingLevelCounts.length;\n            for (var i = 0; i < this._nestingLevelCounts.length; i++) {\n                var n = this._nestingLevelCounts[i];\n                if (n) {\n                    if (n + entries > this._foldingRangesLimit) {\n                        maxLevel = i;\n                        break;\n                    }\n                    entries += n;\n                }\n            }\n            var startIndexes = new Uint32Array(entries);\n            var endIndexes = new Uint32Array(entries);\n            var types = [];\n            for (var i = 0, k = 0; i < this._length; i++) {\n                var level = this._nestingLevels[i];\n                if (level < maxLevel) {\n                    startIndexes[k] = this._startIndexes[i];\n                    endIndexes[k] = this._endIndexes[i];\n                    types[k] = this._types[i];\n                    k++;\n                }\n            }\n            return new FoldingRegions(startIndexes, endIndexes, types);\n        }\n    };\n    return RangesCollector;\n}());\nexport { RangesCollector };\nexport function sanitizeRanges(rangeData) {\n    var sorted = rangeData.sort(function (d1, d2) {\n        var diff = d1.start - d2.start;\n        if (diff === 0) {\n            diff = d1.rank - d2.rank;\n        }\n        return diff;\n    });\n    var collector = new RangesCollector(MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT);\n    var top = null;\n    var previous = [];\n    for (var _i = 0, sorted_1 = sorted; _i < sorted_1.length; _i++) {\n        var entry = sorted_1[_i];\n        if (!top) {\n            top = entry;\n            collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\n        }\n        else {\n            if (entry.start > top.start) {\n                if (entry.end <= top.end) {\n                    previous.push(top);\n                    top = entry;\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\n                }\n                else if (entry.start > top.end) {\n                    do {\n                        top = previous.pop();\n                    } while (top && entry.start > top.end);\n                    previous.push(top);\n                    top = entry;\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\n                }\n            }\n        }\n    }\n    return collector.toIndentRanges();\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './folding.css';\nimport * as nls from '../../../nls.js';\nimport * as types from '../../../base/common/types.js';\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\nimport { RunOnceScheduler, Delayer, asWinJsPromise } from '../../../base/common/async.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, registerInstantiatedEditorAction } from '../../browser/editorExtensions.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nimport { FoldingModel, setCollapseStateAtLevel, setCollapseStateLevelsDown, setCollapseStateLevelsUp, setCollapseStateForMatchingLines, setCollapseStateForType } from './foldingModel.js';\nimport { FoldingDecorationProvider } from './foldingDecorations.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { HiddenRangeModel } from './hiddenRangeModel.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nimport { IndentRangeProvider } from './indentRangeProvider.js';\nimport { FoldingRangeProviderRegistry, FoldingRangeKind } from '../../common/modes.js';\nimport { SyntaxRangeProvider } from './syntaxRangeProvider.js';\nexport var ID = 'editor.contrib.folding';\nvar FoldingController = /** @class */ (function () {\n    function FoldingController(editor) {\n        var _this = this;\n        this.editor = editor;\n        this._isEnabled = this.editor.getConfiguration().contribInfo.folding;\n        this._autoHideFoldingControls = this.editor.getConfiguration().contribInfo.showFoldingControls === 'mouseover';\n        this._useFoldingProviders = this.editor.getConfiguration().contribInfo.foldingStrategy !== 'indentation';\n        this.globalToDispose = [];\n        this.localToDispose = [];\n        this.foldingDecorationProvider = new FoldingDecorationProvider(editor);\n        this.foldingDecorationProvider.autoHideFoldingControls = this._autoHideFoldingControls;\n        this.globalToDispose.push(this.editor.onDidChangeModel(function () { return _this.onModelChanged(); }));\n        this.globalToDispose.push(FoldingRangeProviderRegistry.onDidChange(function () { return _this.onFoldingStrategyChanged(); }));\n        this.globalToDispose.push(this.editor.onDidChangeConfiguration(function (e) {\n            if (e.contribInfo) {\n                var oldIsEnabled = _this._isEnabled;\n                _this._isEnabled = _this.editor.getConfiguration().contribInfo.folding;\n                if (oldIsEnabled !== _this._isEnabled) {\n                    _this.onModelChanged();\n                }\n                var oldShowFoldingControls = _this._autoHideFoldingControls;\n                _this._autoHideFoldingControls = _this.editor.getConfiguration().contribInfo.showFoldingControls === 'mouseover';\n                if (oldShowFoldingControls !== _this._autoHideFoldingControls) {\n                    _this.foldingDecorationProvider.autoHideFoldingControls = _this._autoHideFoldingControls;\n                    _this.onModelContentChanged();\n                }\n                var oldUseFoldingProviders = _this._useFoldingProviders;\n                _this._useFoldingProviders = _this.editor.getConfiguration().contribInfo.foldingStrategy !== 'indentation';\n                if (oldUseFoldingProviders !== _this._useFoldingProviders) {\n                    _this.onFoldingStrategyChanged();\n                }\n            }\n        }));\n        this.globalToDispose.push({ dispose: function () { return dispose(_this.localToDispose); } });\n        this.onModelChanged();\n    }\n    FoldingController.get = function (editor) {\n        return editor.getContribution(ID);\n    };\n    FoldingController.prototype.getId = function () {\n        return ID;\n    };\n    FoldingController.prototype.dispose = function () {\n        this.globalToDispose = dispose(this.globalToDispose);\n    };\n    /**\n     * Store view state.\n     */\n    FoldingController.prototype.saveViewState = function () {\n        var model = this.editor.getModel();\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization()) {\n            return {};\n        }\n        if (this.foldingModel) { // disposed ?\n            var collapsedRegions = this.foldingModel.isInitialized ? this.foldingModel.getMemento() : this.hiddenRangeModel.getMemento();\n            return { collapsedRegions: collapsedRegions, lineCount: model.getLineCount() };\n        }\n        return void 0;\n    };\n    /**\n     * Restore view state.\n     */\n    FoldingController.prototype.restoreViewState = function (state) {\n        var model = this.editor.getModel();\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization()) {\n            return;\n        }\n        if (!state || !state.collapsedRegions || state.lineCount !== model.getLineCount()) {\n            return;\n        }\n        // set the hidden ranges right away, before waiting for the folding model.\n        if (this.hiddenRangeModel.applyMemento(state.collapsedRegions)) {\n            this.getFoldingModel().then(function (foldingModel) {\n                if (foldingModel) {\n                    foldingModel.applyMemento(state.collapsedRegions);\n                }\n            });\n        }\n    };\n    FoldingController.prototype.onModelChanged = function () {\n        var _this = this;\n        this.localToDispose = dispose(this.localToDispose);\n        var model = this.editor.getModel();\n        if (!this._isEnabled || !model || model.isTooLargeForTokenization()) {\n            // huge files get no view model, so they cannot support hidden areas\n            return;\n        }\n        this.foldingModel = new FoldingModel(model, this.foldingDecorationProvider);\n        this.localToDispose.push(this.foldingModel);\n        this.hiddenRangeModel = new HiddenRangeModel(this.foldingModel);\n        this.localToDispose.push(this.hiddenRangeModel);\n        this.localToDispose.push(this.hiddenRangeModel.onDidChange(function (hr) { return _this.onHiddenRangesChanges(hr); }));\n        this.updateScheduler = new Delayer(200);\n        this.cursorChangedScheduler = new RunOnceScheduler(function () { return _this.revealCursor(); }, 200);\n        this.localToDispose.push(this.cursorChangedScheduler);\n        this.localToDispose.push(this.editor.onDidChangeModelLanguageConfiguration(function (e) { return _this.onModelContentChanged(); })); // covers model language changes as well\n        this.localToDispose.push(this.editor.onDidChangeModelContent(function (e) { return _this.onModelContentChanged(); }));\n        this.localToDispose.push(this.editor.onDidChangeCursorPosition(function (e) { return _this.onCursorPositionChanged(); }));\n        this.localToDispose.push(this.editor.onMouseDown(function (e) { return _this.onEditorMouseDown(e); }));\n        this.localToDispose.push(this.editor.onMouseUp(function (e) { return _this.onEditorMouseUp(e); }));\n        this.localToDispose.push({\n            dispose: function () {\n                if (_this.foldingRegionPromise) {\n                    _this.foldingRegionPromise.cancel();\n                    _this.foldingRegionPromise = null;\n                }\n                _this.updateScheduler.cancel();\n                _this.updateScheduler = null;\n                _this.foldingModel = null;\n                _this.foldingModelPromise = null;\n                _this.hiddenRangeModel = null;\n                _this.cursorChangedScheduler = null;\n                _this.rangeProvider = null;\n            }\n        });\n        this.onModelContentChanged();\n    };\n    FoldingController.prototype.onFoldingStrategyChanged = function () {\n        this.rangeProvider = null;\n        this.onModelContentChanged();\n    };\n    FoldingController.prototype.getRangeProvider = function () {\n        if (!this.rangeProvider) {\n            if (this._useFoldingProviders) {\n                var foldingProviders = FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);\n                this.rangeProvider = foldingProviders.length ? new SyntaxRangeProvider(foldingProviders) : new IndentRangeProvider();\n            }\n            else {\n                this.rangeProvider = new IndentRangeProvider();\n            }\n        }\n        return this.rangeProvider;\n    };\n    FoldingController.prototype.getFoldingModel = function () {\n        return this.foldingModelPromise;\n    };\n    FoldingController.prototype.onModelContentChanged = function () {\n        var _this = this;\n        if (this.updateScheduler) {\n            if (this.foldingRegionPromise) {\n                this.foldingRegionPromise.cancel();\n                this.foldingRegionPromise = null;\n            }\n            this.foldingModelPromise = this.updateScheduler.trigger(function () {\n                if (!_this.foldingModel) { // null if editor has been disposed, or folding turned off\n                    return null;\n                }\n                var foldingRegionPromise = _this.foldingRegionPromise = asWinJsPromise(function (token) { return _this.getRangeProvider().compute(_this.foldingModel.textModel, token); });\n                return foldingRegionPromise.then(function (foldingRanges) {\n                    if (foldingRanges && foldingRegionPromise === _this.foldingRegionPromise) { // new request or cancelled in the meantime?\n                        // some cursors might have moved into hidden regions, make sure they are in expanded regions\n                        var selections = _this.editor.getSelections();\n                        var selectionLineNumbers = selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\n                        _this.foldingModel.update(foldingRanges, selectionLineNumbers);\n                    }\n                    return _this.foldingModel;\n                });\n            });\n        }\n    };\n    FoldingController.prototype.onHiddenRangesChanges = function (hiddenRanges) {\n        if (hiddenRanges.length) {\n            var selections = this.editor.getSelections();\n            if (selections) {\n                if (this.hiddenRangeModel.adjustSelections(selections)) {\n                    this.editor.setSelections(selections);\n                }\n            }\n        }\n        this.editor.setHiddenAreas(hiddenRanges);\n    };\n    FoldingController.prototype.onCursorPositionChanged = function () {\n        if (this.hiddenRangeModel.hasRanges()) {\n            this.cursorChangedScheduler.schedule();\n        }\n    };\n    FoldingController.prototype.revealCursor = function () {\n        var _this = this;\n        this.getFoldingModel().then(function (foldingModel) {\n            if (foldingModel) {\n                var selections = _this.editor.getSelections();\n                if (selections && selections.length > 0) {\n                    var toToggle = [];\n                    var _loop_1 = function (selection) {\n                        var lineNumber = selection.selectionStartLineNumber;\n                        if (_this.hiddenRangeModel.isHidden(lineNumber)) {\n                            toToggle.push.apply(toToggle, foldingModel.getAllRegionsAtLine(lineNumber, function (r) { return r.isCollapsed && lineNumber > r.startLineNumber; }));\n                        }\n                    };\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\n                        var selection = selections_1[_i];\n                        _loop_1(selection);\n                    }\n                    if (toToggle.length) {\n                        foldingModel.toggleCollapseState(toToggle);\n                        _this.reveal(selections[0].getPosition());\n                    }\n                }\n            }\n        });\n    };\n    FoldingController.prototype.onEditorMouseDown = function (e) {\n        this.mouseDownInfo = null;\n        var range = e.target.range;\n        if (!this.hiddenRangeModel || !range) {\n            return;\n        }\n        if (!e.event.leftButton && !e.event.middleButton) {\n            return;\n        }\n        var iconClicked = false;\n        switch (e.target.type) {\n            case MouseTargetType.GUTTER_LINE_DECORATIONS:\n                var data = e.target.detail;\n                var gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth;\n                // TODO@joao TODO@alex TODO@martin this is such that we don't collide with dirty diff\n                if (gutterOffsetX <= 10) {\n                    return;\n                }\n                iconClicked = true;\n                break;\n            case MouseTargetType.CONTENT_EMPTY: {\n                if (this.hiddenRangeModel.hasRanges()) {\n                    var data_1 = e.target.detail;\n                    if (!data_1.isAfterLines) {\n                        break;\n                    }\n                }\n                return;\n            }\n            case MouseTargetType.CONTENT_TEXT: {\n                if (this.hiddenRangeModel.hasRanges()) {\n                    var model = this.editor.getModel();\n                    if (model && range.startColumn === model.getLineMaxColumn(range.startLineNumber)) {\n                        break;\n                    }\n                }\n                return;\n            }\n            default:\n                return;\n        }\n        this.mouseDownInfo = { lineNumber: range.startLineNumber, iconClicked: iconClicked };\n    };\n    FoldingController.prototype.onEditorMouseUp = function (e) {\n        var _this = this;\n        if (!this.mouseDownInfo) {\n            return;\n        }\n        var lineNumber = this.mouseDownInfo.lineNumber;\n        var iconClicked = this.mouseDownInfo.iconClicked;\n        var range = e.target.range;\n        if (!range || range.startLineNumber !== lineNumber) {\n            return;\n        }\n        if (iconClicked) {\n            if (e.target.type !== MouseTargetType.GUTTER_LINE_DECORATIONS) {\n                return;\n            }\n        }\n        else {\n            var model = this.editor.getModel();\n            if (range.startColumn !== model.getLineMaxColumn(lineNumber)) {\n                return;\n            }\n        }\n        this.getFoldingModel().then(function (foldingModel) {\n            if (foldingModel) {\n                var region = foldingModel.getRegionAtLine(lineNumber);\n                if (region && region.startLineNumber === lineNumber) {\n                    var isCollapsed_1 = region.isCollapsed;\n                    if (iconClicked || isCollapsed_1) {\n                        var toToggle = [region];\n                        if (e.event.middleButton || e.event.shiftKey) {\n                            toToggle.push.apply(toToggle, foldingModel.getRegionsInside(region, function (r) { return r.isCollapsed === isCollapsed_1; }));\n                        }\n                        foldingModel.toggleCollapseState(toToggle);\n                        _this.reveal({ lineNumber: lineNumber, column: 1 });\n                    }\n                }\n            }\n        });\n    };\n    FoldingController.prototype.reveal = function (position) {\n        this.editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\n    };\n    FoldingController.MAX_FOLDING_REGIONS = 5000;\n    return FoldingController;\n}());\nexport { FoldingController };\nvar FoldingAction = /** @class */ (function (_super) {\n    __extends(FoldingAction, _super);\n    function FoldingAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FoldingAction.prototype.runEditorCommand = function (accessor, editor, args) {\n        var _this = this;\n        var foldingController = FoldingController.get(editor);\n        if (!foldingController) {\n            return;\n        }\n        var foldingModelPromise = foldingController.getFoldingModel();\n        if (foldingModelPromise) {\n            this.reportTelemetry(accessor, editor);\n            return foldingModelPromise.then(function (foldingModel) {\n                if (foldingModel) {\n                    _this.invoke(foldingController, foldingModel, editor, args);\n                    foldingController.reveal(editor.getSelection().getStartPosition());\n                }\n            });\n        }\n    };\n    FoldingAction.prototype.getSelectedLines = function (editor) {\n        var selections = editor.getSelections();\n        return selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\n    };\n    FoldingAction.prototype.getLineNumbers = function (args, editor) {\n        if (args && args.selectionLines) {\n            return args.selectionLines.map(function (l) { return l + 1; }); // to 0-bases line numbers\n        }\n        return this.getSelectedLines(editor);\n    };\n    FoldingAction.prototype.run = function (accessor, editor) {\n    };\n    return FoldingAction;\n}(EditorAction));\nfunction foldingArgumentsConstraint(args) {\n    if (!types.isUndefined(args)) {\n        if (!types.isObject(args)) {\n            return false;\n        }\n        var foldingArgs = args;\n        if (!types.isUndefined(foldingArgs.levels) && !types.isNumber(foldingArgs.levels)) {\n            return false;\n        }\n        if (!types.isUndefined(foldingArgs.direction) && !types.isString(foldingArgs.direction)) {\n            return false;\n        }\n        if (!types.isUndefined(foldingArgs.selectionLines) && (!types.isArray(foldingArgs.selectionLines) || !foldingArgs.selectionLines.every(types.isNumber))) {\n            return false;\n        }\n    }\n    return true;\n}\nvar UnfoldAction = /** @class */ (function (_super) {\n    __extends(UnfoldAction, _super);\n    function UnfoldAction() {\n        return _super.call(this, {\n            id: 'editor.unfold',\n            label: nls.localize('unfoldAction.label', \"Unfold\"),\n            alias: 'Unfold',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 89 /* US_CLOSE_SQUARE_BRACKET */,\n                mac: {\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 89 /* US_CLOSE_SQUARE_BRACKET */\n                }\n            },\n            description: {\n                description: 'Unfold the content in the editor',\n                args: [\n                    {\n                        name: 'Unfold editor argument',\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\\n\\t\\t\\t\\t\\t\\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down\\n\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\",\n                        constraint: foldingArgumentsConstraint\n                    }\n                ]\n            }\n        }) || this;\n    }\n    UnfoldAction.prototype.invoke = function (foldingController, foldingModel, editor, args) {\n        var levels = args && args.levels || 1;\n        var lineNumbers = this.getLineNumbers(args, editor);\n        if (args && args.direction === 'up') {\n            setCollapseStateLevelsUp(foldingModel, false, levels, lineNumbers);\n        }\n        else {\n            setCollapseStateLevelsDown(foldingModel, false, levels, lineNumbers);\n        }\n    };\n    return UnfoldAction;\n}(FoldingAction));\nvar UnFoldRecursivelyAction = /** @class */ (function (_super) {\n    __extends(UnFoldRecursivelyAction, _super);\n    function UnFoldRecursivelyAction() {\n        return _super.call(this, {\n            id: 'editor.unfoldRecursively',\n            label: nls.localize('unFoldRecursivelyAction.label', \"Unfold Recursively\"),\n            alias: 'Unfold Recursively',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */)\n            }\n        }) || this;\n    }\n    UnFoldRecursivelyAction.prototype.invoke = function (foldingController, foldingModel, editor, args) {\n        setCollapseStateLevelsDown(foldingModel, false, Number.MAX_VALUE, this.getSelectedLines(editor));\n    };\n    return UnFoldRecursivelyAction;\n}(FoldingAction));\nvar FoldAction = /** @class */ (function (_super) {\n    __extends(FoldAction, _super);\n    function FoldAction() {\n        return _super.call(this, {\n            id: 'editor.fold',\n            label: nls.localize('foldAction.label', \"Fold\"),\n            alias: 'Fold',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 87 /* US_OPEN_SQUARE_BRACKET */,\n                mac: {\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 87 /* US_OPEN_SQUARE_BRACKET */\n                }\n            },\n            description: {\n                description: 'Fold the content in the editor',\n                args: [\n                    {\n                        name: 'Fold editor argument',\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to fold. Defaults to 1\\n\\t\\t\\t\\t\\t\\t\\t* 'direction': If 'up', folds given number of levels up otherwise folds down\\n\\t\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\",\n                        constraint: foldingArgumentsConstraint\n                    }\n                ]\n            }\n        }) || this;\n    }\n    FoldAction.prototype.invoke = function (foldingController, foldingModel, editor, args) {\n        var levels = args && args.levels || 1;\n        var lineNumbers = this.getLineNumbers(args, editor);\n        if (args && args.direction === 'up') {\n            setCollapseStateLevelsUp(foldingModel, true, levels, lineNumbers);\n        }\n        else {\n            setCollapseStateLevelsDown(foldingModel, true, levels, lineNumbers);\n        }\n    };\n    return FoldAction;\n}(FoldingAction));\nvar FoldRecursivelyAction = /** @class */ (function (_super) {\n    __extends(FoldRecursivelyAction, _super);\n    function FoldRecursivelyAction() {\n        return _super.call(this, {\n            id: 'editor.foldRecursively',\n            label: nls.localize('foldRecursivelyAction.label', \"Fold Recursively\"),\n            alias: 'Fold Recursively',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */)\n            }\n        }) || this;\n    }\n    FoldRecursivelyAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        var selectedLines = this.getSelectedLines(editor);\n        setCollapseStateLevelsDown(foldingModel, true, Number.MAX_VALUE, selectedLines);\n    };\n    return FoldRecursivelyAction;\n}(FoldingAction));\nvar FoldAllBlockCommentsAction = /** @class */ (function (_super) {\n    __extends(FoldAllBlockCommentsAction, _super);\n    function FoldAllBlockCommentsAction() {\n        return _super.call(this, {\n            id: 'editor.foldAllBlockComments',\n            label: nls.localize('foldAllBlockComments.label', \"Fold All Block Comments\"),\n            alias: 'Fold All Block Comments',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 85 /* US_SLASH */)\n            }\n        }) || this;\n    }\n    FoldAllBlockCommentsAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        if (foldingModel.regions.hasTypes()) {\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Comment.value, true);\n        }\n        else {\n            var comments = LanguageConfigurationRegistry.getComments(editor.getModel().getLanguageIdentifier().id);\n            if (comments && comments.blockCommentStartToken) {\n                var regExp = new RegExp('^\\\\s*' + escapeRegExpCharacters(comments.blockCommentStartToken));\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\n            }\n        }\n    };\n    return FoldAllBlockCommentsAction;\n}(FoldingAction));\nvar FoldAllRegionsAction = /** @class */ (function (_super) {\n    __extends(FoldAllRegionsAction, _super);\n    function FoldAllRegionsAction() {\n        return _super.call(this, {\n            id: 'editor.foldAllMarkerRegions',\n            label: nls.localize('foldAllMarkerRegions.label', \"Fold All Regions\"),\n            alias: 'Fold All Regions',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 29 /* KEY_8 */)\n            }\n        }) || this;\n    }\n    FoldAllRegionsAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        if (foldingModel.regions.hasTypes()) {\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, true);\n        }\n        else {\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editor.getModel().getLanguageIdentifier().id);\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\n                var regExp = new RegExp(foldingRules.markers.start);\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\n            }\n        }\n    };\n    return FoldAllRegionsAction;\n}(FoldingAction));\nvar UnfoldAllRegionsAction = /** @class */ (function (_super) {\n    __extends(UnfoldAllRegionsAction, _super);\n    function UnfoldAllRegionsAction() {\n        return _super.call(this, {\n            id: 'editor.unfoldAllMarkerRegions',\n            label: nls.localize('unfoldAllMarkerRegions.label', \"Unfold All Regions\"),\n            alias: 'Unfold All Regions',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 30 /* KEY_9 */)\n            }\n        }) || this;\n    }\n    UnfoldAllRegionsAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        if (foldingModel.regions.hasTypes()) {\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, false);\n        }\n        else {\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editor.getModel().getLanguageIdentifier().id);\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\n                var regExp = new RegExp(foldingRules.markers.start);\n                setCollapseStateForMatchingLines(foldingModel, regExp, false);\n            }\n        }\n    };\n    return UnfoldAllRegionsAction;\n}(FoldingAction));\nvar FoldAllAction = /** @class */ (function (_super) {\n    __extends(FoldAllAction, _super);\n    function FoldAllAction() {\n        return _super.call(this, {\n            id: 'editor.foldAll',\n            label: nls.localize('foldAllAction.label', \"Fold All\"),\n            alias: 'Fold All',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 21 /* KEY_0 */)\n            }\n        }) || this;\n    }\n    FoldAllAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        setCollapseStateLevelsDown(foldingModel, true);\n    };\n    return FoldAllAction;\n}(FoldingAction));\nvar UnfoldAllAction = /** @class */ (function (_super) {\n    __extends(UnfoldAllAction, _super);\n    function UnfoldAllAction() {\n        return _super.call(this, {\n            id: 'editor.unfoldAll',\n            label: nls.localize('unfoldAllAction.label', \"Unfold All\"),\n            alias: 'Unfold All',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 40 /* KEY_J */)\n            }\n        }) || this;\n    }\n    UnfoldAllAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        setCollapseStateLevelsDown(foldingModel, false);\n    };\n    return UnfoldAllAction;\n}(FoldingAction));\nvar FoldLevelAction = /** @class */ (function (_super) {\n    __extends(FoldLevelAction, _super);\n    function FoldLevelAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FoldLevelAction.prototype.getFoldingLevel = function () {\n        return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length));\n    };\n    FoldLevelAction.prototype.invoke = function (foldingController, foldingModel, editor) {\n        setCollapseStateAtLevel(foldingModel, this.getFoldingLevel(), true, this.getSelectedLines(editor));\n    };\n    FoldLevelAction.ID_PREFIX = 'editor.foldLevel';\n    FoldLevelAction.ID = function (level) { return FoldLevelAction.ID_PREFIX + level; };\n    return FoldLevelAction;\n}(FoldingAction));\nregisterEditorContribution(FoldingController);\nregisterEditorAction(UnfoldAction);\nregisterEditorAction(UnFoldRecursivelyAction);\nregisterEditorAction(FoldAction);\nregisterEditorAction(FoldRecursivelyAction);\nregisterEditorAction(FoldAllAction);\nregisterEditorAction(UnfoldAllAction);\nregisterEditorAction(FoldAllBlockCommentsAction);\nregisterEditorAction(FoldAllRegionsAction);\nregisterEditorAction(UnfoldAllRegionsAction);\nfor (var i = 1; i <= 7; i++) {\n    registerInstantiatedEditorAction(new FoldLevelAction({\n        id: FoldLevelAction.ID(i),\n        label: nls.localize('foldLevelAction.label', \"Fold Level {0}\", i),\n        alias: \"Fold Level \" + i,\n        precondition: null,\n        kbOpts: {\n            kbExpr: EditorContextKeys.editorTextFocus,\n            primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | (21 /* KEY_0 */ + i))\n        }\n    }));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport URI from '../../../base/common/uri.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerDefaultLanguageCommand, registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { DocumentFormattingEditProviderRegistry, DocumentRangeFormattingEditProviderRegistry, OnTypeFormattingEditProviderRegistry } from '../../common/modes.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { asWinJsPromise, sequence } from '../../../base/common/async.js';\nvar NoProviderError = /** @class */ (function (_super) {\n    __extends(NoProviderError, _super);\n    function NoProviderError(message) {\n        var _this = _super.call(this) || this;\n        _this.name = NoProviderError.Name;\n        _this.message = message;\n        return _this;\n    }\n    NoProviderError.Name = 'NOPRO';\n    return NoProviderError;\n}(Error));\nexport { NoProviderError };\nexport function getDocumentRangeFormattingEdits(model, range, options) {\n    var providers = DocumentRangeFormattingEditProviderRegistry.ordered(model);\n    if (providers.length === 0) {\n        return TPromise.wrapError(new NoProviderError());\n    }\n    var result;\n    return sequence(providers.map(function (provider) {\n        return function () {\n            if (!isFalsyOrEmpty(result)) {\n                return undefined;\n            }\n            return asWinJsPromise(function (token) { return provider.provideDocumentRangeFormattingEdits(model, range, options, token); }).then(function (value) {\n                result = value;\n            }, onUnexpectedExternalError);\n        };\n    })).then(function () { return result; });\n}\nexport function getDocumentFormattingEdits(model, options) {\n    var providers = DocumentFormattingEditProviderRegistry.ordered(model);\n    // try range formatters when no document formatter is registered\n    if (providers.length === 0) {\n        return getDocumentRangeFormattingEdits(model, model.getFullModelRange(), options);\n    }\n    var result;\n    return sequence(providers.map(function (provider) {\n        return function () {\n            if (!isFalsyOrEmpty(result)) {\n                return undefined;\n            }\n            return asWinJsPromise(function (token) { return provider.provideDocumentFormattingEdits(model, options, token); }).then(function (value) {\n                result = value;\n            }, onUnexpectedExternalError);\n        };\n    })).then(function () { return result; });\n}\nexport function getOnTypeFormattingEdits(model, position, ch, options) {\n    var support = OnTypeFormattingEditProviderRegistry.ordered(model)[0];\n    if (!support) {\n        return TPromise.as(undefined);\n    }\n    if (support.autoFormatTriggerCharacters.indexOf(ch) < 0) {\n        return TPromise.as(undefined);\n    }\n    return asWinJsPromise(function (token) {\n        return support.provideOnTypeFormattingEdits(model, position, ch, options, token);\n    }).then(function (r) { return r; }, onUnexpectedExternalError);\n}\nregisterLanguageCommand('_executeFormatRangeProvider', function (accessor, args) {\n    var resource = args.resource, range = args.range, options = args.options;\n    if (!(resource instanceof URI) || !Range.isIRange(range)) {\n        throw illegalArgument();\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument('resource');\n    }\n    return getDocumentRangeFormattingEdits(model, Range.lift(range), options);\n});\nregisterLanguageCommand('_executeFormatDocumentProvider', function (accessor, args) {\n    var resource = args.resource, options = args.options;\n    if (!(resource instanceof URI)) {\n        throw illegalArgument('resource');\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument('resource');\n    }\n    return getDocumentFormattingEdits(model, options);\n});\nregisterDefaultLanguageCommand('_executeFormatOnTypeProvider', function (model, position, args) {\n    var ch = args.ch, options = args.options;\n    if (typeof ch !== 'string') {\n        throw illegalArgument('ch');\n    }\n    return getOnTypeFormattingEdits(model, position, ch, options);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from '../../../base/common/strings.js';\nimport { Range } from '../../common/core/range.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nvar EditOperationsCommand = /** @class */ (function () {\n    function EditOperationsCommand(edits, initialSelection) {\n        this._initialSelection = initialSelection;\n        this._edits = edits;\n    }\n    EditOperationsCommand._handleEolEdits = function (editor, edits) {\n        var newEol = undefined;\n        var singleEdits = [];\n        for (var _i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\n            var edit = edits_1[_i];\n            if (typeof edit.eol === 'number') {\n                newEol = edit.eol;\n            }\n            if (edit.range && typeof edit.text === 'string') {\n                singleEdits.push(edit);\n            }\n        }\n        if (typeof newEol === 'number') {\n            editor.getModel().setEOL(newEol);\n        }\n        return singleEdits;\n    };\n    EditOperationsCommand.executeAsCommand = function (editor, _edits) {\n        var edits = this._handleEolEdits(editor, _edits);\n        var cmd = new EditOperationsCommand(edits, editor.getSelection());\n        editor.pushUndoStop();\n        editor.executeCommand('formatEditsCommand', cmd);\n        editor.pushUndoStop();\n    };\n    EditOperationsCommand.isFullModelReplaceEdit = function (editor, edit) {\n        var model = editor.getModel();\n        var editRange = model.validateRange(edit.range);\n        var fullModelRange = model.getFullModelRange();\n        return fullModelRange.equalsRange(editRange);\n    };\n    EditOperationsCommand.execute = function (editor, _edits) {\n        var edits = this._handleEolEdits(editor, _edits);\n        editor.pushUndoStop();\n        if (edits.length === 1 && EditOperationsCommand.isFullModelReplaceEdit(editor, edits[0])) {\n            // We use replace semantics and hope that markers stay put...\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\n        }\n        else {\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replaceMove(Range.lift(edit.range), edit.text); }));\n        }\n        editor.pushUndoStop();\n    };\n    EditOperationsCommand.prototype.getEditOperations = function (model, builder) {\n        for (var _i = 0, _a = this._edits; _i < _a.length; _i++) {\n            var edit = _a[_i];\n            // We know that this edit.range comes from the mirror model, so it should only contain \\n and no \\r's\n            var trimEdit = EditOperationsCommand.trimEdit(edit, model);\n            if (trimEdit !== null) { // produced above in case the edit.text is identical to the existing text\n                builder.addEditOperation(Range.lift(edit.range), edit.text);\n            }\n        }\n        var selectionIsSet = false;\n        if (Array.isArray(this._edits) && this._edits.length === 1 && this._initialSelection.isEmpty()) {\n            if (this._edits[0].range.startColumn === this._initialSelection.endColumn &&\n                this._edits[0].range.startLineNumber === this._initialSelection.endLineNumber) {\n                selectionIsSet = true;\n                this._selectionId = builder.trackSelection(this._initialSelection, true);\n            }\n            else if (this._edits[0].range.endColumn === this._initialSelection.startColumn &&\n                this._edits[0].range.endLineNumber === this._initialSelection.startLineNumber) {\n                selectionIsSet = true;\n                this._selectionId = builder.trackSelection(this._initialSelection, false);\n            }\n        }\n        if (!selectionIsSet) {\n            this._selectionId = builder.trackSelection(this._initialSelection);\n        }\n    };\n    EditOperationsCommand.prototype.computeCursorState = function (model, helper) {\n        return helper.getTrackedSelection(this._selectionId);\n    };\n    EditOperationsCommand.fixLineTerminators = function (edit, model) {\n        edit.text = edit.text.replace(/\\r\\n|\\r|\\n/g, model.getEOL());\n    };\n    /**\n     * This is used to minimize the edits by removing changes that appear on the edges of the range which are identical\n     * to the current text.\n     *\n     * The reason this was introduced is to allow better selection tracking of the current cursor and solve\n     * bug #15108. There the cursor was jumping since the tracked selection was in the middle of the range edit\n     * and was lost.\n     */\n    EditOperationsCommand.trimEdit = function (edit, model) {\n        this.fixLineTerminators(edit, model);\n        return this._trimEdit(model.validateRange(edit.range), edit.text, edit.forceMoveMarkers, model);\n    };\n    EditOperationsCommand._trimEdit = function (editRange, editText, editForceMoveMarkers, model) {\n        var currentText = model.getValueInRange(editRange);\n        // Find the equal characters in the front\n        var commonPrefixLength = strings.commonPrefixLength(editText, currentText);\n        // If the two strings are identical, return no edit (no-op)\n        if (commonPrefixLength === currentText.length && commonPrefixLength === editText.length) {\n            return null;\n        }\n        if (commonPrefixLength > 0) {\n            // Apply front trimming\n            var newStartPosition = model.modifyPosition(editRange.getStartPosition(), commonPrefixLength);\n            editRange = new Range(newStartPosition.lineNumber, newStartPosition.column, editRange.endLineNumber, editRange.endColumn);\n            editText = editText.substring(commonPrefixLength);\n            currentText = currentText.substr(commonPrefixLength);\n        }\n        // Find the equal characters in the rear\n        var commonSuffixLength = strings.commonSuffixLength(editText, currentText);\n        if (commonSuffixLength > 0) {\n            // Apply rear trimming\n            var newEndPosition = model.modifyPosition(editRange.getEndPosition(), -commonSuffixLength);\n            editRange = new Range(editRange.startLineNumber, editRange.startColumn, newEndPosition.lineNumber, newEndPosition.column);\n            editText = editText.substring(0, editText.length - commonSuffixLength);\n            currentText = currentText.substring(0, currentText.length - commonSuffixLength);\n        }\n        return {\n            text: editText,\n            range: editRange,\n            forceMoveMarkers: editForceMoveMarkers\n        };\n    };\n    return EditOperationsCommand;\n}());\nexport { EditOperationsCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { registerEditorAction, EditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { OnTypeFormattingEditProviderRegistry, DocumentRangeFormattingEditProviderRegistry } from '../../common/modes.js';\nimport { getOnTypeFormattingEdits, getDocumentFormattingEdits, getDocumentRangeFormattingEdits, NoProviderError } from './format.js';\nimport { EditOperationsCommand } from './formatCommand.js';\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\nimport { Range } from '../../common/core/range.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { EditorState } from '../../browser/core/editorState.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nfunction alertFormattingEdits(edits) {\n    edits = edits.filter(function (edit) { return edit.range; });\n    if (!edits.length) {\n        return;\n    }\n    var range = edits[0].range;\n    for (var i = 1; i < edits.length; i++) {\n        range = Range.plusRange(range, edits[i].range);\n    }\n    var startLineNumber = range.startLineNumber, endLineNumber = range.endLineNumber;\n    if (startLineNumber === endLineNumber) {\n        if (edits.length === 1) {\n            alert(nls.localize('hint11', \"Made 1 formatting edit on line {0}\", startLineNumber));\n        }\n        else {\n            alert(nls.localize('hintn1', \"Made {0} formatting edits on line {1}\", edits.length, startLineNumber));\n        }\n    }\n    else {\n        if (edits.length === 1) {\n            alert(nls.localize('hint1n', \"Made 1 formatting edit between lines {0} and {1}\", startLineNumber, endLineNumber));\n        }\n        else {\n            alert(nls.localize('hintnn', \"Made {0} formatting edits between lines {1} and {2}\", edits.length, startLineNumber, endLineNumber));\n        }\n    }\n}\nvar FormatOnType = /** @class */ (function () {\n    function FormatOnType(editor, workerService) {\n        var _this = this;\n        this.editor = editor;\n        this.workerService = workerService;\n        this.callOnDispose = [];\n        this.callOnModel = [];\n        this.callOnDispose.push(editor.onDidChangeConfiguration(function () { return _this.update(); }));\n        this.callOnDispose.push(editor.onDidChangeModel(function () { return _this.update(); }));\n        this.callOnDispose.push(editor.onDidChangeModelLanguage(function () { return _this.update(); }));\n        this.callOnDispose.push(OnTypeFormattingEditProviderRegistry.onDidChange(this.update, this));\n    }\n    FormatOnType.prototype.update = function () {\n        var _this = this;\n        // clean up\n        this.callOnModel = dispose(this.callOnModel);\n        // we are disabled\n        if (!this.editor.getConfiguration().contribInfo.formatOnType) {\n            return;\n        }\n        // no model\n        if (!this.editor.getModel()) {\n            return;\n        }\n        var model = this.editor.getModel();\n        // no support\n        var support = OnTypeFormattingEditProviderRegistry.ordered(model)[0];\n        if (!support || !support.autoFormatTriggerCharacters) {\n            return;\n        }\n        // register typing listeners that will trigger the format\n        var triggerChars = new CharacterSet();\n        for (var _i = 0, _a = support.autoFormatTriggerCharacters; _i < _a.length; _i++) {\n            var ch = _a[_i];\n            triggerChars.add(ch.charCodeAt(0));\n        }\n        this.callOnModel.push(this.editor.onDidType(function (text) {\n            var lastCharCode = text.charCodeAt(text.length - 1);\n            if (triggerChars.has(lastCharCode)) {\n                _this.trigger(String.fromCharCode(lastCharCode));\n            }\n        }));\n    };\n    FormatOnType.prototype.trigger = function (ch) {\n        var _this = this;\n        if (this.editor.getSelections().length > 1) {\n            return;\n        }\n        var model = this.editor.getModel(), position = this.editor.getPosition(), canceled = false;\n        // install a listener that checks if edits happens before the\n        // position on which we format right now. If so, we won't\n        // apply the format edits\n        var unbind = this.editor.onDidChangeModelContent(function (e) {\n            if (e.isFlush) {\n                // a model.setValue() was called\n                // cancel only once\n                canceled = true;\n                unbind.dispose();\n                return;\n            }\n            for (var i = 0, len = e.changes.length; i < len; i++) {\n                var change = e.changes[i];\n                if (change.range.endLineNumber <= position.lineNumber) {\n                    // cancel only once\n                    canceled = true;\n                    unbind.dispose();\n                    return;\n                }\n            }\n        });\n        var modelOpts = model.getOptions();\n        getOnTypeFormattingEdits(model, position, ch, {\n            tabSize: modelOpts.tabSize,\n            insertSpaces: modelOpts.insertSpaces\n        }).then(function (edits) {\n            return _this.workerService.computeMoreMinimalEdits(model.uri, edits);\n        }).then(function (edits) {\n            unbind.dispose();\n            if (canceled || isFalsyOrEmpty(edits)) {\n                return;\n            }\n            EditOperationsCommand.executeAsCommand(_this.editor, edits);\n            alertFormattingEdits(edits);\n        }, function (err) {\n            unbind.dispose();\n            throw err;\n        });\n    };\n    FormatOnType.prototype.getId = function () {\n        return FormatOnType.ID;\n    };\n    FormatOnType.prototype.dispose = function () {\n        this.callOnDispose = dispose(this.callOnDispose);\n        this.callOnModel = dispose(this.callOnModel);\n    };\n    FormatOnType.ID = 'editor.contrib.autoFormat';\n    FormatOnType = __decorate([\n        __param(1, IEditorWorkerService)\n    ], FormatOnType);\n    return FormatOnType;\n}());\nvar FormatOnPaste = /** @class */ (function () {\n    function FormatOnPaste(editor, workerService) {\n        var _this = this;\n        this.editor = editor;\n        this.workerService = workerService;\n        this.callOnDispose = [];\n        this.callOnModel = [];\n        this.callOnDispose.push(editor.onDidChangeConfiguration(function () { return _this.update(); }));\n        this.callOnDispose.push(editor.onDidChangeModel(function () { return _this.update(); }));\n        this.callOnDispose.push(editor.onDidChangeModelLanguage(function () { return _this.update(); }));\n        this.callOnDispose.push(DocumentRangeFormattingEditProviderRegistry.onDidChange(this.update, this));\n    }\n    FormatOnPaste.prototype.update = function () {\n        var _this = this;\n        // clean up\n        this.callOnModel = dispose(this.callOnModel);\n        // we are disabled\n        if (!this.editor.getConfiguration().contribInfo.formatOnPaste) {\n            return;\n        }\n        // no model\n        if (!this.editor.getModel()) {\n            return;\n        }\n        var model = this.editor.getModel();\n        // no support\n        var support = DocumentRangeFormattingEditProviderRegistry.ordered(model)[0];\n        if (!support || !support.provideDocumentRangeFormattingEdits) {\n            return;\n        }\n        this.callOnModel.push(this.editor.onDidPaste(function (range) {\n            _this.trigger(range);\n        }));\n    };\n    FormatOnPaste.prototype.trigger = function (range) {\n        var _this = this;\n        if (this.editor.getSelections().length > 1) {\n            return;\n        }\n        var model = this.editor.getModel();\n        var _a = model.getOptions(), tabSize = _a.tabSize, insertSpaces = _a.insertSpaces;\n        var state = new EditorState(this.editor, 1 /* Value */ | 4 /* Position */);\n        getDocumentRangeFormattingEdits(model, range, { tabSize: tabSize, insertSpaces: insertSpaces }).then(function (edits) {\n            return _this.workerService.computeMoreMinimalEdits(model.uri, edits);\n        }).then(function (edits) {\n            if (!state.validate(_this.editor) || isFalsyOrEmpty(edits)) {\n                return;\n            }\n            EditOperationsCommand.execute(_this.editor, edits);\n            alertFormattingEdits(edits);\n        });\n    };\n    FormatOnPaste.prototype.getId = function () {\n        return FormatOnPaste.ID;\n    };\n    FormatOnPaste.prototype.dispose = function () {\n        this.callOnDispose = dispose(this.callOnDispose);\n        this.callOnModel = dispose(this.callOnModel);\n    };\n    FormatOnPaste.ID = 'editor.contrib.formatOnPaste';\n    FormatOnPaste = __decorate([\n        __param(1, IEditorWorkerService)\n    ], FormatOnPaste);\n    return FormatOnPaste;\n}());\nvar AbstractFormatAction = /** @class */ (function (_super) {\n    __extends(AbstractFormatAction, _super);\n    function AbstractFormatAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractFormatAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var workerService = accessor.get(IEditorWorkerService);\n        var notificationService = accessor.get(INotificationService);\n        var formattingPromise = this._getFormattingEdits(editor);\n        if (!formattingPromise) {\n            return TPromise.as(void 0);\n        }\n        // Capture the state of the editor\n        var state = new EditorState(editor, 1 /* Value */ | 4 /* Position */);\n        // Receive formatted value from worker\n        return formattingPromise.then(function (edits) { return workerService.computeMoreMinimalEdits(editor.getModel().uri, edits); }).then(function (edits) {\n            if (!state.validate(editor) || isFalsyOrEmpty(edits)) {\n                return;\n            }\n            EditOperationsCommand.execute(editor, edits);\n            alertFormattingEdits(edits);\n            editor.focus();\n        }, function (err) {\n            if (err instanceof Error && err.name === NoProviderError.Name) {\n                _this._notifyNoProviderError(notificationService, editor.getModel().getLanguageIdentifier().language);\n            }\n            else {\n                throw err;\n            }\n        });\n    };\n    AbstractFormatAction.prototype._notifyNoProviderError = function (notificationService, language) {\n        notificationService.info(nls.localize('no.provider', \"There is no formatter for '{0}'-files installed.\", language));\n    };\n    return AbstractFormatAction;\n}(EditorAction));\nexport { AbstractFormatAction };\nvar FormatDocumentAction = /** @class */ (function (_super) {\n    __extends(FormatDocumentAction, _super);\n    function FormatDocumentAction() {\n        return _super.call(this, {\n            id: 'editor.action.formatDocument',\n            label: nls.localize('formatDocument.label', \"Format Document\"),\n            alias: 'Format Document',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 36 /* KEY_F */,\n                // secondary: [KeyChord(KeyMod.CtrlCmd | KeyCode.KEY_K, KeyMod.CtrlCmd | KeyCode.KEY_D)],\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 39 /* KEY_I */ }\n            },\n            menuOpts: {\n                when: EditorContextKeys.hasDocumentFormattingProvider,\n                group: '1_modification',\n                order: 1.3\n            }\n        }) || this;\n    }\n    FormatDocumentAction.prototype._getFormattingEdits = function (editor) {\n        var model = editor.getModel();\n        var _a = model.getOptions(), tabSize = _a.tabSize, insertSpaces = _a.insertSpaces;\n        return getDocumentFormattingEdits(model, { tabSize: tabSize, insertSpaces: insertSpaces });\n    };\n    FormatDocumentAction.prototype._notifyNoProviderError = function (notificationService, language) {\n        notificationService.info(nls.localize('no.documentprovider', \"There is no document formatter for '{0}'-files installed.\", language));\n    };\n    return FormatDocumentAction;\n}(AbstractFormatAction));\nexport { FormatDocumentAction };\nvar FormatSelectionAction = /** @class */ (function (_super) {\n    __extends(FormatSelectionAction, _super);\n    function FormatSelectionAction() {\n        return _super.call(this, {\n            id: 'editor.action.formatSelection',\n            label: nls.localize('formatSelection.label', \"Format Selection\"),\n            alias: 'Format Code',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasNonEmptySelection),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 36 /* KEY_F */)\n            },\n            menuOpts: {\n                when: ContextKeyExpr.and(EditorContextKeys.hasDocumentSelectionFormattingProvider, EditorContextKeys.hasNonEmptySelection),\n                group: '1_modification',\n                order: 1.31\n            }\n        }) || this;\n    }\n    FormatSelectionAction.prototype._getFormattingEdits = function (editor) {\n        var model = editor.getModel();\n        var _a = model.getOptions(), tabSize = _a.tabSize, insertSpaces = _a.insertSpaces;\n        return getDocumentRangeFormattingEdits(model, editor.getSelection(), { tabSize: tabSize, insertSpaces: insertSpaces });\n    };\n    FormatSelectionAction.prototype._notifyNoProviderError = function (notificationService, language) {\n        notificationService.info(nls.localize('no.selectionprovider', \"There is no selection formatter for '{0}'-files installed.\", language));\n    };\n    return FormatSelectionAction;\n}(AbstractFormatAction));\nexport { FormatSelectionAction };\nregisterEditorContribution(FormatOnType);\nregisterEditorContribution(FormatOnPaste);\nregisterEditorAction(FormatDocumentAction);\nregisterEditorAction(FormatSelectionAction);\n// this is the old format action that does both (format document OR format selection)\n// and we keep it here such that existing keybinding configurations etc will still work\nCommandsRegistry.registerCommand('editor.action.format', function (accessor) {\n    var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (editor) {\n        return new /** @class */ (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                return _super.call(this, {}) || this;\n            }\n            class_1.prototype._getFormattingEdits = function (editor) {\n                var model = editor.getModel();\n                var editorSelection = editor.getSelection();\n                var _a = model.getOptions(), tabSize = _a.tabSize, insertSpaces = _a.insertSpaces;\n                return editorSelection.isEmpty()\n                    ? getDocumentFormattingEdits(model, { tabSize: tabSize, insertSpaces: insertSpaces })\n                    : getDocumentRangeFormattingEdits(model, editorSelection, { tabSize: tabSize, insertSpaces: insertSpaces });\n            };\n            return class_1;\n        }(AbstractFormatAction))().run(accessor, editor);\n    }\n    return undefined;\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { DefinitionProviderRegistry, ImplementationProviderRegistry, TypeDefinitionProviderRegistry } from '../../common/modes.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { flatten } from '../../../base/common/arrays.js';\nfunction getDefinitions(model, position, registry, provide) {\n    var provider = registry.ordered(model);\n    // get results\n    var promises = provider.map(function (provider, idx) {\n        return asWinJsPromise(function (token) {\n            return provide(provider, model, position, token);\n        }).then(undefined, function (err) {\n            onUnexpectedExternalError(err);\n            return null;\n        });\n    });\n    return TPromise.join(promises)\n        .then(flatten)\n        .then(function (references) { return references.filter(function (x) { return !!x; }); });\n}\nexport function getDefinitionsAtPosition(model, position) {\n    return getDefinitions(model, position, DefinitionProviderRegistry, function (provider, model, position, token) {\n        return provider.provideDefinition(model, position, token);\n    });\n}\nexport function getImplementationsAtPosition(model, position) {\n    return getDefinitions(model, position, ImplementationProviderRegistry, function (provider, model, position, token) {\n        return provider.provideImplementation(model, position, token);\n    });\n}\nexport function getTypeDefinitionsAtPosition(model, position) {\n    return getDefinitions(model, position, TypeDefinitionProviderRegistry, function (provider, model, position, token) {\n        return provider.provideTypeDefinition(model, position, token);\n    });\n}\nregisterDefaultLanguageCommand('_executeDefinitionProvider', getDefinitionsAtPosition);\nregisterDefaultLanguageCommand('_executeImplementationProvider', getImplementationsAtPosition);\nregisterDefaultLanguageCommand('_executeTypeDefinitionProvider', getTypeDefinitionsAtPosition);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './countBadge.css';\nimport { $, append } from '../../dom.js';\nimport { format } from '../../../common/strings.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nvar defaultOpts = {\n    badgeBackground: Color.fromHex('#4D4D4D'),\n    badgeForeground: Color.fromHex('#FFFFFF')\n};\nvar CountBadge = /** @class */ (function () {\n    function CountBadge(container, options) {\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.badgeBackground = this.options.badgeBackground;\n        this.badgeForeground = this.options.badgeForeground;\n        this.badgeBorder = this.options.badgeBorder;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    CountBadge.prototype.setCount = function (count) {\n        this.count = count;\n        this.render();\n    };\n    CountBadge.prototype.setCountFormat = function (countFormat) {\n        this.countFormat = countFormat;\n        this.render();\n    };\n    CountBadge.prototype.setTitleFormat = function (titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    };\n    CountBadge.prototype.render = function () {\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.applyStyles();\n    };\n    CountBadge.prototype.style = function (styles) {\n        this.badgeBackground = styles.badgeBackground;\n        this.badgeForeground = styles.badgeForeground;\n        this.badgeBorder = styles.badgeBorder;\n        this.applyStyles();\n    };\n    CountBadge.prototype.applyStyles = function () {\n        if (this.element) {\n            var background = this.badgeBackground ? this.badgeBackground.toString() : null;\n            var foreground = this.badgeForeground ? this.badgeForeground.toString() : null;\n            var border = this.badgeBorder ? this.badgeBorder.toString() : null;\n            this.element.style.backgroundColor = background;\n            this.element.style.color = foreground;\n            this.element.style.borderWidth = border ? '1px' : null;\n            this.element.style.borderStyle = border ? 'solid' : null;\n            this.element.style.borderColor = border;\n        }\n    };\n    return CountBadge;\n}());\nexport { CountBadge };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { escape } from '../../../common/strings.js';\nexport function renderOcticons(text) {\n    return escape(text);\n}\nvar OcticonLabel = /** @class */ (function () {\n    function OcticonLabel(container) {\n        this._container = container;\n    }\n    Object.defineProperty(OcticonLabel.prototype, \"text\", {\n        set: function (text) {\n            this._container.innerHTML = renderOcticons(text || '');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return OcticonLabel;\n}());\nexport { OcticonLabel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as dom from '../../dom.js';\nimport * as objects from '../../../common/objects.js';\nimport { renderOcticons } from '../octiconLabel/octiconLabel.js';\nvar HighlightedLabel = /** @class */ (function () {\n    function HighlightedLabel(container) {\n        this.domNode = document.createElement('span');\n        this.domNode.className = 'monaco-highlighted-label';\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    Object.defineProperty(HighlightedLabel.prototype, \"element\", {\n        get: function () {\n            return this.domNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighlightedLabel.prototype.set = function (text, highlights) {\n        if (highlights === void 0) { highlights = []; }\n        if (!text) {\n            text = '';\n        }\n        if (this.didEverRender && this.text === text && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        if (!Array.isArray(highlights)) {\n            highlights = [];\n        }\n        this.text = text;\n        this.highlights = highlights;\n        this.render();\n    };\n    HighlightedLabel.prototype.render = function () {\n        dom.clearNode(this.domNode);\n        var htmlContent = [], highlight, pos = 0;\n        for (var i = 0; i < this.highlights.length; i++) {\n            highlight = this.highlights[i];\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                htmlContent.push('<span>');\n                htmlContent.push(renderOcticons(this.text.substring(pos, highlight.start)));\n                htmlContent.push('</span>');\n                pos = highlight.end;\n            }\n            htmlContent.push('<span class=\"highlight\">');\n            htmlContent.push(renderOcticons(this.text.substring(highlight.start, highlight.end)));\n            htmlContent.push('</span>');\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            htmlContent.push('<span>');\n            htmlContent.push(renderOcticons(this.text.substring(pos)));\n            htmlContent.push('</span>');\n        }\n        this.domNode.innerHTML = htmlContent.join('');\n        this.didEverRender = true;\n    };\n    HighlightedLabel.prototype.dispose = function () {\n        this.text = null;\n        this.highlights = null;\n    };\n    return HighlightedLabel;\n}());\nexport { HighlightedLabel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './iconlabel.css';\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport * as paths from '../../../common/paths.js';\nimport { getPathLabel, getBaseLabel } from '../../../common/labels.js';\nimport { combinedDisposable } from '../../../common/lifecycle.js';\nvar FastLabelNode = /** @class */ (function () {\n    function FastLabelNode(_element) {\n        this._element = _element;\n    }\n    Object.defineProperty(FastLabelNode.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FastLabelNode.prototype, \"textContent\", {\n        set: function (content) {\n            if (this.disposed || content === this._textContent) {\n                return;\n            }\n            this._textContent = content;\n            this._element.textContent = content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FastLabelNode.prototype, \"className\", {\n        set: function (className) {\n            if (this.disposed || className === this._className) {\n                return;\n            }\n            this._className = className;\n            this._element.className = className;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FastLabelNode.prototype, \"title\", {\n        set: function (title) {\n            if (this.disposed || title === this._title) {\n                return;\n            }\n            this._title = title;\n            if (this._title) {\n                this._element.title = title;\n            }\n            else {\n                this._element.removeAttribute('title');\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FastLabelNode.prototype, \"empty\", {\n        set: function (empty) {\n            if (this.disposed || empty === this._empty) {\n                return;\n            }\n            this._empty = empty;\n            this._element.style.marginLeft = empty ? '0' : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FastLabelNode.prototype.dispose = function () {\n        this.disposed = true;\n    };\n    return FastLabelNode;\n}());\nvar IconLabel = /** @class */ (function () {\n    function IconLabel(container, options) {\n        var _this = this;\n        this.domNode = new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label')));\n        this.labelDescriptionContainer = new FastLabelNode(dom.append(this.domNode.element, dom.$('.monaco-icon-label-description-container')));\n        if (options && options.supportHighlights) {\n            this.labelNode = new HighlightedLabel(dom.append(this.labelDescriptionContainer.element, dom.$('a.label-name')));\n        }\n        else {\n            this.labelNode = new FastLabelNode(dom.append(this.labelDescriptionContainer.element, dom.$('a.label-name')));\n        }\n        if (options && options.supportDescriptionHighlights) {\n            this.descriptionNodeFactory = function () { return new HighlightedLabel(dom.append(_this.labelDescriptionContainer.element, dom.$('span.label-description'))); };\n        }\n        else {\n            this.descriptionNodeFactory = function () { return new FastLabelNode(dom.append(_this.labelDescriptionContainer.element, dom.$('span.label-description'))); };\n        }\n    }\n    Object.defineProperty(IconLabel.prototype, \"element\", {\n        get: function () {\n            return this.domNode.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IconLabel.prototype.onClick = function (callback) {\n        return combinedDisposable([\n            dom.addDisposableListener(this.labelDescriptionContainer.element, dom.EventType.CLICK, function (e) { return callback(e); }),\n        ]);\n    };\n    IconLabel.prototype.setValue = function (label, description, options) {\n        var classes = ['monaco-icon-label'];\n        if (options) {\n            if (options.extraClasses) {\n                classes.push.apply(classes, options.extraClasses);\n            }\n            if (options.italic) {\n                classes.push('italic');\n            }\n        }\n        this.domNode.className = classes.join(' ');\n        this.domNode.title = options && options.title ? options.title : '';\n        if (this.labelNode instanceof HighlightedLabel) {\n            this.labelNode.set(label || '', options ? options.matches : void 0);\n        }\n        else {\n            this.labelNode.textContent = label || '';\n        }\n        if (description || this.descriptionNode) {\n            if (!this.descriptionNode) {\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\n            }\n            if (this.descriptionNode instanceof HighlightedLabel) {\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : void 0);\n                if (options && options.descriptionTitle) {\n                    this.descriptionNode.element.title = options.descriptionTitle;\n                }\n                else {\n                    this.descriptionNode.element.removeAttribute('title');\n                }\n            }\n            else {\n                this.descriptionNode.textContent = description || '';\n                this.descriptionNode.title = options && options.descriptionTitle ? options.descriptionTitle : '';\n                this.descriptionNode.empty = !description;\n            }\n        }\n    };\n    IconLabel.prototype.dispose = function () {\n        this.domNode.dispose();\n        this.labelNode.dispose();\n        if (this.descriptionNode) {\n            this.descriptionNode.dispose();\n        }\n    };\n    return IconLabel;\n}());\nexport { IconLabel };\nvar FileLabel = /** @class */ (function (_super) {\n    __extends(FileLabel, _super);\n    function FileLabel(container, file, provider, userHome) {\n        var _this = _super.call(this, container) || this;\n        _this.setFile(file, provider, userHome);\n        return _this;\n    }\n    FileLabel.prototype.setFile = function (file, provider, userHome) {\n        var parent = paths.dirname(file.fsPath);\n        this.setValue(getBaseLabel(file), parent && parent !== '.' ? getPathLabel(parent, provider, userHome) : '', { title: file.fsPath });\n    };\n    return FileLabel;\n}(IconLabel));\nexport { FileLabel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as objects from '../../../base/common/objects.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { ICodeEditorService } from '../services/codeEditorService.js';\nimport { CodeEditor } from '../codeEditor.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { DiffEditorWidget } from './diffEditorWidget.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nvar EmbeddedCodeEditorWidget = /** @class */ (function (_super) {\n    __extends(EmbeddedCodeEditorWidget, _super);\n    function EmbeddedCodeEditorWidget(domElement, options, parentEditor, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService) {\n        var _this = _super.call(this, domElement, parentEditor.getRawConfiguration(), instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService) || this;\n        _this._parentEditor = parentEditor;\n        _this._overwriteOptions = options;\n        // Overwrite parent's options\n        _super.prototype.updateOptions.call(_this, _this._overwriteOptions);\n        _this._register(parentEditor.onDidChangeConfiguration(function (e) { return _this._onParentConfigurationChanged(e); }));\n        return _this;\n    }\n    EmbeddedCodeEditorWidget.prototype.getParentEditor = function () {\n        return this._parentEditor;\n    };\n    EmbeddedCodeEditorWidget.prototype._onParentConfigurationChanged = function (e) {\n        _super.prototype.updateOptions.call(this, this._parentEditor.getRawConfiguration());\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\n    };\n    EmbeddedCodeEditorWidget.prototype.updateOptions = function (newOptions) {\n        objects.mixin(this._overwriteOptions, newOptions, true);\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\n    };\n    EmbeddedCodeEditorWidget = __decorate([\n        __param(3, IInstantiationService),\n        __param(4, ICodeEditorService),\n        __param(5, ICommandService),\n        __param(6, IContextKeyService),\n        __param(7, IThemeService),\n        __param(8, INotificationService)\n    ], EmbeddedCodeEditorWidget);\n    return EmbeddedCodeEditorWidget;\n}(CodeEditor));\nexport { EmbeddedCodeEditorWidget };\nvar EmbeddedDiffEditorWidget = /** @class */ (function (_super) {\n    __extends(EmbeddedDiffEditorWidget, _super);\n    function EmbeddedDiffEditorWidget(domElement, options, parentEditor, editorWorkerService, contextKeyService, instantiationService, codeEditorService, themeService, notificationService) {\n        var _this = _super.call(this, domElement, parentEditor.getRawConfiguration(), editorWorkerService, contextKeyService, instantiationService, codeEditorService, themeService, notificationService) || this;\n        _this._parentEditor = parentEditor;\n        _this._overwriteOptions = options;\n        // Overwrite parent's options\n        _super.prototype.updateOptions.call(_this, _this._overwriteOptions);\n        _this._register(parentEditor.onDidChangeConfiguration(function (e) { return _this._onParentConfigurationChanged(e); }));\n        return _this;\n    }\n    EmbeddedDiffEditorWidget.prototype.getParentEditor = function () {\n        return this._parentEditor;\n    };\n    EmbeddedDiffEditorWidget.prototype._onParentConfigurationChanged = function (e) {\n        _super.prototype.updateOptions.call(this, this._parentEditor.getRawConfiguration());\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\n    };\n    EmbeddedDiffEditorWidget.prototype.updateOptions = function (newOptions) {\n        objects.mixin(this._overwriteOptions, newOptions, true);\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\n    };\n    EmbeddedDiffEditorWidget = __decorate([\n        __param(3, IEditorWorkerService),\n        __param(4, IContextKeyService),\n        __param(5, IInstantiationService),\n        __param(6, ICodeEditorService),\n        __param(7, IThemeService),\n        __param(8, INotificationService)\n    ], EmbeddedDiffEditorWidget);\n    return EmbeddedDiffEditorWidget;\n}(DiffEditorWidget));\nexport { EmbeddedDiffEditorWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './zoneWidget.css';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport * as objects from '../../../base/common/objects.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { Sash, Orientation } from '../../../base/browser/ui/sash/sash.js';\nimport { Range } from '../../common/core/range.js';\nimport { Color, RGBA } from '../../../base/common/color.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { TrackedRangeStickiness } from '../../common/model.js';\nvar defaultColor = new Color(new RGBA(0, 122, 204));\nvar defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nvar WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nvar ViewZoneDelegate = /** @class */ (function () {\n    function ViewZoneDelegate(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    ViewZoneDelegate.prototype.onDomNodeTop = function (top) {\n        this._onDomNodeTop(top);\n    };\n    ViewZoneDelegate.prototype.onComputedHeight = function (height) {\n        this._onComputedHeight(height);\n    };\n    return ViewZoneDelegate;\n}());\nexport { ViewZoneDelegate };\nvar OverlayWidgetDelegate = /** @class */ (function () {\n    function OverlayWidgetDelegate(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    OverlayWidgetDelegate.prototype.getId = function () {\n        return this._id;\n    };\n    OverlayWidgetDelegate.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    OverlayWidgetDelegate.prototype.getPosition = function () {\n        return null;\n    };\n    return OverlayWidgetDelegate;\n}());\nexport { OverlayWidgetDelegate };\nvar Arrow = /** @class */ (function () {\n    function Arrow(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = [];\n        //\n    }\n    Arrow.prototype.dispose = function () {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    };\n    Object.defineProperty(Arrow.prototype, \"color\", {\n        set: function (value) {\n            if (this._color !== value) {\n                this._color = value;\n                this._updateStyle();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arrow.prototype, \"height\", {\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this._updateStyle();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Arrow.prototype._updateStyle = function () {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(\".monaco-editor \" + this._ruleName, \"border-style: solid; border-color: transparent; border-bottom-color: \" + this._color + \"; border-width: \" + this._height + \"px; bottom: -\" + this._height + \"px; margin-left: -\" + this._height + \"px; \");\n    };\n    Arrow.prototype.show = function (where) {\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { className: this._ruleName, stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges } }]);\n    };\n    Arrow.prototype.hide = function () {\n        this._editor.deltaDecorations(this._decorations, []);\n    };\n    Arrow._IdGenerator = new IdGenerator('.arrow-decoration-');\n    return Arrow;\n}());\nvar ZoneWidget = /** @class */ (function () {\n    function ZoneWidget(editor, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        this._positionMarkerId = [];\n        this._disposables = [];\n        this._isShowing = false;\n        this.editor = editor;\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.push(this.editor.onDidLayoutChange(function (info) {\n            var width = _this._getWidth(info);\n            _this.domNode.style.width = width + 'px';\n            _this.domNode.style.left = _this._getLeft(info) + 'px';\n            _this._onWidth(width);\n        }));\n    }\n    ZoneWidget.prototype.dispose = function () {\n        var _this = this;\n        dispose(this._disposables);\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(function (accessor) {\n                accessor.removeZone(_this._viewZone.id);\n                _this._viewZone = null;\n            });\n        }\n        this.editor.deltaDecorations(this._positionMarkerId, []);\n        this._positionMarkerId = [];\n    };\n    ZoneWidget.prototype.create = function () {\n        dom.addClass(this.domNode, 'zone-widget');\n        dom.addClass(this.domNode, this.options.className);\n        this.container = document.createElement('div');\n        dom.addClass(this.container, 'zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.push(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    };\n    ZoneWidget.prototype.style = function (styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    };\n    ZoneWidget.prototype._applyStyles = function () {\n        if (this.container) {\n            var frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow) {\n            var arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    };\n    ZoneWidget.prototype._getWidth = function (info) {\n        return info.width - info.minimapWidth - info.verticalScrollbarWidth;\n    };\n    ZoneWidget.prototype._getLeft = function (info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimapWidth > 0 && info.minimapLeft === 0) {\n            return info.minimapWidth;\n        }\n        return 0;\n    };\n    ZoneWidget.prototype._onViewZoneTop = function (top) {\n        this.domNode.style.top = top + 'px';\n    };\n    ZoneWidget.prototype._onViewZoneHeight = function (height) {\n        this.domNode.style.height = height + \"px\";\n        var containerHeight = height - this._decoratingElementsHeight();\n        this.container.style.height = containerHeight + \"px\";\n        var layoutInfo = this.editor.getLayoutInfo();\n        this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        this._resizeSash.layout();\n    };\n    Object.defineProperty(ZoneWidget.prototype, \"position\", {\n        get: function () {\n            var id = this._positionMarkerId[0];\n            if (!id) {\n                return undefined;\n            }\n            var range = this.editor.getModel().getDecorationRange(id);\n            if (!range) {\n                return undefined;\n            }\n            return range.getStartPosition();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ZoneWidget.prototype.show = function (rangeOrPos, heightInLines) {\n        var range = Range.isIRange(rangeOrPos)\n            ? rangeOrPos\n            : new Range(rangeOrPos.lineNumber, rangeOrPos.column, rangeOrPos.lineNumber, rangeOrPos.column);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range: range, options: ModelDecorationOptions.EMPTY }]);\n    };\n    ZoneWidget.prototype.hide = function () {\n        var _this = this;\n        if (this._viewZone) {\n            this.editor.changeViewZones(function (accessor) {\n                accessor.removeZone(_this._viewZone.id);\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._arrow) {\n            this._arrow.hide();\n        }\n    };\n    ZoneWidget.prototype._decoratingElementsHeight = function () {\n        var lineHeight = this.editor.getConfiguration().lineHeight;\n        var result = 0;\n        if (this.options.showArrow) {\n            var arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            var frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    };\n    ZoneWidget.prototype._showImpl = function (where, heightInLines) {\n        var _this = this;\n        var position = {\n            lineNumber: where.startLineNumber,\n            column: where.startColumn\n        };\n        var layoutInfo = this.editor.getLayoutInfo();\n        var width = this._getWidth(layoutInfo);\n        this.domNode.style.width = width + \"px\";\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        var viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        var lineHeight = this.editor.getConfiguration().lineHeight;\n        // adjust heightInLines to viewport\n        var maxHeightInLines = (this.editor.getLayoutInfo().height / lineHeight) * .8;\n        if (heightInLines >= maxHeightInLines) {\n            heightInLines = maxHeightInLines;\n        }\n        var arrowHeight = 0;\n        var frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones(function (accessor) {\n            if (_this._viewZone) {\n                accessor.removeZone(_this._viewZone.id);\n            }\n            if (_this._overlayWidget) {\n                _this.editor.removeOverlayWidget(_this._overlayWidget);\n                _this._overlayWidget = null;\n            }\n            _this.domNode.style.top = '-1000px';\n            _this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, function (top) { return _this._onViewZoneTop(top); }, function (height) { return _this._onViewZoneHeight(height); });\n            _this._viewZone.id = accessor.addZone(_this._viewZone);\n            _this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + _this._viewZone.id, _this.domNode);\n            _this.editor.addOverlayWidget(_this._overlayWidget);\n        });\n        if (this.options.showFrame) {\n            var width_1 = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width_1 + 'px';\n            this.container.style.borderBottomWidth = width_1 + 'px';\n        }\n        var containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        this.container.style.top = arrowHeight + 'px';\n        this.container.style.height = containerHeight + 'px';\n        this.container.style.overflow = 'hidden';\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        // Reveal the line above or below the zone widget, to get the zone widget in the viewport\n        var revealLineNumber = Math.min(this.editor.getModel().getLineCount(), Math.max(1, where.endLineNumber + 1));\n        this.revealLine(revealLineNumber);\n    };\n    ZoneWidget.prototype.revealLine = function (lineNumber) {\n        this.editor.revealLine(lineNumber, 0 /* Smooth */);\n    };\n    ZoneWidget.prototype.setCssClass = function (className, classToReplace) {\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        dom.addClass(this.container, className);\n    };\n    ZoneWidget.prototype._onWidth = function (widthInPixel) {\n        // implement in subclass\n    };\n    ZoneWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\n        // implement in subclass\n    };\n    ZoneWidget.prototype._relayout = function (newHeightInLines) {\n        var _this = this;\n        if (this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(function (accessor) {\n                _this._viewZone.heightInLines = newHeightInLines;\n                accessor.layoutZone(_this._viewZone.id);\n            });\n        }\n    };\n    // --- sash\n    ZoneWidget.prototype._initSash = function () {\n        var _this = this;\n        this._resizeSash = new Sash(this.domNode, this, { orientation: Orientation.HORIZONTAL });\n        if (!this.options.isResizeable) {\n            this._resizeSash.hide();\n            this._resizeSash.disable();\n        }\n        var data;\n        this._disposables.push(this._resizeSash.onDidStart(function (e) {\n            if (_this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: _this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.push(this._resizeSash.onDidEnd(function () {\n            data = undefined;\n        }));\n        this._disposables.push(this._resizeSash.onDidChange(function (evt) {\n            if (data) {\n                var lineDelta = (evt.currentY - data.startY) / _this.editor.getConfiguration().lineHeight;\n                var roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                var newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    _this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    };\n    ZoneWidget.prototype.getHorizontalSashLeft = function () {\n        return 0;\n    };\n    ZoneWidget.prototype.getHorizontalSashTop = function () {\n        return parseInt(this.domNode.style.height) - (this._decoratingElementsHeight() / 2);\n    };\n    ZoneWidget.prototype.getHorizontalSashWidth = function () {\n        var layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimapWidth;\n    };\n    return ZoneWidget;\n}());\nexport { ZoneWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './media/peekViewWidget.css';\nimport * as nls from '../../../nls.js';\nimport { Action } from '../../../base/common/actions.js';\nimport * as strings from '../../../base/common/strings.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { $ } from '../../../base/browser/builder.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { ZoneWidget } from '../zoneWidget/zoneWidget.js';\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { Color } from '../../../base/common/color.js';\nexport var PeekContext;\n(function (PeekContext) {\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true);\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\n})(PeekContext || (PeekContext = {}));\nexport function getOuterEditor(accessor) {\n    var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (editor instanceof EmbeddedCodeEditorWidget) {\n        return editor.getParentEditor();\n    }\n    return editor;\n}\nvar defaultOptions = {\n    headerBackgroundColor: Color.white,\n    primaryHeadingColor: Color.fromHex('#333333'),\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\n};\nvar PeekViewWidget = /** @class */ (function (_super) {\n    __extends(PeekViewWidget, _super);\n    function PeekViewWidget(editor, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, editor, options) || this;\n        _this._onDidClose = new Emitter();\n        objects.mixin(_this.options, defaultOptions, false);\n        return _this;\n    }\n    PeekViewWidget.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._onDidClose.fire(this);\n    };\n    Object.defineProperty(PeekViewWidget.prototype, \"onDidClose\", {\n        get: function () {\n            return this._onDidClose.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PeekViewWidget.prototype.style = function (styles) {\n        var options = this.options;\n        if (styles.headerBackgroundColor) {\n            options.headerBackgroundColor = styles.headerBackgroundColor;\n        }\n        if (styles.primaryHeadingColor) {\n            options.primaryHeadingColor = styles.primaryHeadingColor;\n        }\n        if (styles.secondaryHeadingColor) {\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\n        }\n        _super.prototype.style.call(this, styles);\n    };\n    PeekViewWidget.prototype._applyStyles = function () {\n        _super.prototype._applyStyles.call(this);\n        var options = this.options;\n        if (this._headElement) {\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\n        }\n        if (this._primaryHeading) {\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\n        }\n        if (this._secondaryHeading) {\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\n        }\n        if (this._bodyElement) {\n            this._bodyElement.style.borderColor = options.frameColor.toString();\n        }\n    };\n    PeekViewWidget.prototype._fillContainer = function (container) {\n        this.setCssClass('peekview-widget');\n        this._headElement = $('.head').getHTMLElement();\n        this._bodyElement = $('.body').getHTMLElement();\n        this._fillHead(this._headElement);\n        this._fillBody(this._bodyElement);\n        container.appendChild(this._headElement);\n        container.appendChild(this._bodyElement);\n    };\n    PeekViewWidget.prototype._fillHead = function (container) {\n        var _this = this;\n        var titleElement = $('.peekview-title').\n            on(dom.EventType.CLICK, function (e) { return _this._onTitleClick(e); }).\n            appendTo(this._headElement).\n            getHTMLElement();\n        this._primaryHeading = $('span.filename').appendTo(titleElement).getHTMLElement();\n        this._secondaryHeading = $('span.dirname').appendTo(titleElement).getHTMLElement();\n        this._metaHeading = $('span.meta').appendTo(titleElement).getHTMLElement();\n        var actionsContainer = $('.peekview-actions').appendTo(this._headElement);\n        var actionBarOptions = this._getActionBarOptions();\n        this._actionbarWidget = new ActionBar(actionsContainer.getHTMLElement(), actionBarOptions);\n        this._disposables.push(this._actionbarWidget);\n        this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), 'close-peekview-action', true, function () {\n            _this.dispose();\n            return null;\n        }), { label: false, icon: true });\n    };\n    PeekViewWidget.prototype._getActionBarOptions = function () {\n        return {};\n    };\n    PeekViewWidget.prototype._onTitleClick = function (event) {\n        // implement me\n    };\n    PeekViewWidget.prototype.setTitle = function (primaryHeading, secondaryHeading) {\n        $(this._primaryHeading).safeInnerHtml(primaryHeading);\n        this._primaryHeading.setAttribute('aria-label', primaryHeading);\n        if (secondaryHeading) {\n            $(this._secondaryHeading).safeInnerHtml(secondaryHeading);\n        }\n        else {\n            dom.clearNode(this._secondaryHeading);\n        }\n    };\n    PeekViewWidget.prototype.setMetaTitle = function (value) {\n        if (value) {\n            $(this._metaHeading).safeInnerHtml(value);\n        }\n        else {\n            dom.clearNode(this._metaHeading);\n        }\n    };\n    PeekViewWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\n        if (!this._isShowing && heightInPixel < 0) {\n            // Looks like the view zone got folded away!\n            this.dispose();\n            return;\n        }\n        var headHeight = Math.ceil(this.editor.getConfiguration().lineHeight * 1.2), bodyHeight = heightInPixel - (headHeight + 2 /* the border-top/bottom width*/);\n        this._doLayoutHead(headHeight, widthInPixel);\n        this._doLayoutBody(bodyHeight, widthInPixel);\n    };\n    PeekViewWidget.prototype._doLayoutHead = function (heightInPixel, widthInPixel) {\n        this._headElement.style.height = strings.format('{0}px', heightInPixel);\n        this._headElement.style.lineHeight = this._headElement.style.height;\n    };\n    PeekViewWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\n        this._bodyElement.style.height = strings.format('{0}px', heightInPixel);\n    };\n    return PeekViewWidget;\n}(ZoneWidget));\nexport { PeekViewWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { localize } from '../../../nls.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { basename, dirname } from '../../../base/common/paths.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nvar OneReference = /** @class */ (function () {\n    function OneReference(_parent, _range) {\n        this._parent = _parent;\n        this._range = _range;\n        this._onRefChanged = new Emitter();\n        this.onRefChanged = this._onRefChanged.event;\n        this._id = defaultGenerator.nextId();\n    }\n    Object.defineProperty(OneReference.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"model\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"uri\", {\n        get: function () {\n            return this._parent.uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"name\", {\n        get: function () {\n            return this._parent.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"directory\", {\n        get: function () {\n            return this._parent.directory;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneReference.prototype, \"range\", {\n        get: function () {\n            return this._range;\n        },\n        set: function (value) {\n            this._range = value;\n            this._onRefChanged.fire(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OneReference.prototype.getAriaMessage = function () {\n        return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri.fsPath), this.range.startLineNumber, this.range.startColumn);\n    };\n    return OneReference;\n}());\nexport { OneReference };\nvar FilePreview = /** @class */ (function () {\n    function FilePreview(_modelReference) {\n        this._modelReference = _modelReference;\n    }\n    Object.defineProperty(FilePreview.prototype, \"_model\", {\n        get: function () { return this._modelReference.object.textEditorModel; },\n        enumerable: true,\n        configurable: true\n    });\n    FilePreview.prototype.preview = function (range, n) {\n        if (n === void 0) { n = 8; }\n        var model = this._model;\n        if (!model) {\n            return undefined;\n        }\n        var startLineNumber = range.startLineNumber, startColumn = range.startColumn, endLineNumber = range.endLineNumber, endColumn = range.endColumn;\n        var word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\n        var beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n        var afterRange = new Range(endLineNumber, endColumn, endLineNumber, Number.MAX_VALUE);\n        var ret = {\n            before: model.getValueInRange(beforeRange).replace(/^\\s+/, strings.empty),\n            inside: model.getValueInRange(range),\n            after: model.getValueInRange(afterRange).replace(/\\s+$/, strings.empty)\n        };\n        return ret;\n    };\n    FilePreview.prototype.dispose = function () {\n        if (this._modelReference) {\n            this._modelReference.dispose();\n            this._modelReference = null;\n        }\n    };\n    return FilePreview;\n}());\nexport { FilePreview };\nvar FileReferences = /** @class */ (function () {\n    function FileReferences(_parent, _uri) {\n        this._parent = _parent;\n        this._uri = _uri;\n        this._children = [];\n    }\n    Object.defineProperty(FileReferences.prototype, \"id\", {\n        get: function () {\n            return this._uri.toString();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"name\", {\n        get: function () {\n            return basename(this.uri.fsPath);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"directory\", {\n        get: function () {\n            return dirname(this.uri.fsPath);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"preview\", {\n        get: function () {\n            return this._preview;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FileReferences.prototype, \"failure\", {\n        get: function () {\n            return this._loadFailure;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FileReferences.prototype.getAriaMessage = function () {\n        var len = this.children.length;\n        if (len === 1) {\n            return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri.fsPath), this.uri.fsPath);\n        }\n        else {\n            return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri.fsPath), this.uri.fsPath);\n        }\n    };\n    FileReferences.prototype.resolve = function (textModelResolverService) {\n        var _this = this;\n        if (this._resolved) {\n            return TPromise.as(this);\n        }\n        return textModelResolverService.createModelReference(this._uri).then(function (modelReference) {\n            var model = modelReference.object;\n            if (!model) {\n                modelReference.dispose();\n                throw new Error();\n            }\n            _this._preview = new FilePreview(modelReference);\n            _this._resolved = true;\n            return _this;\n        }, function (err) {\n            // something wrong here\n            _this._children = [];\n            _this._resolved = true;\n            _this._loadFailure = err;\n            return _this;\n        });\n    };\n    FileReferences.prototype.dispose = function () {\n        if (this._preview) {\n            this._preview.dispose();\n            this._preview = null;\n        }\n    };\n    return FileReferences;\n}());\nexport { FileReferences };\nvar ReferencesModel = /** @class */ (function () {\n    function ReferencesModel(references) {\n        var _this = this;\n        this._groups = [];\n        this._references = [];\n        this._onDidChangeReferenceRange = new Emitter();\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\n        this._disposables = [];\n        // grouping and sorting\n        references.sort(ReferencesModel._compareReferences);\n        var current;\n        for (var _i = 0, references_1 = references; _i < references_1.length; _i++) {\n            var ref = references_1[_i];\n            if (!current || current.uri.toString() !== ref.uri.toString()) {\n                // new group\n                current = new FileReferences(this, ref.uri);\n                this.groups.push(current);\n            }\n            // append, check for equality first!\n            if (current.children.length === 0\n                || !Range.equalsRange(ref.range, current.children[current.children.length - 1].range)) {\n                var oneRef = new OneReference(current, ref.range);\n                this._disposables.push(oneRef.onRefChanged(function (e) { return _this._onDidChangeReferenceRange.fire(e); }));\n                this._references.push(oneRef);\n                current.children.push(oneRef);\n            }\n        }\n    }\n    Object.defineProperty(ReferencesModel.prototype, \"empty\", {\n        get: function () {\n            return this._groups.length === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ReferencesModel.prototype, \"references\", {\n        get: function () {\n            return this._references;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ReferencesModel.prototype, \"groups\", {\n        get: function () {\n            return this._groups;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ReferencesModel.prototype.getAriaMessage = function () {\n        if (this.empty) {\n            return localize('aria.result.0', \"No results found\");\n        }\n        else if (this.references.length === 1) {\n            return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n        }\n        else if (this.groups.length === 1) {\n            return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n        }\n        else {\n            return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n        }\n    };\n    ReferencesModel.prototype.nextOrPreviousReference = function (reference, next) {\n        var parent = reference.parent;\n        var idx = parent.children.indexOf(reference);\n        var childCount = parent.children.length;\n        var groupCount = parent.parent.groups.length;\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n            // cycling within one file\n            if (next) {\n                idx = (idx + 1) % childCount;\n            }\n            else {\n                idx = (idx + childCount - 1) % childCount;\n            }\n            return parent.children[idx];\n        }\n        idx = parent.parent.groups.indexOf(parent);\n        if (next) {\n            idx = (idx + 1) % groupCount;\n            return parent.parent.groups[idx].children[0];\n        }\n        else {\n            idx = (idx + groupCount - 1) % groupCount;\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n        }\n    };\n    ReferencesModel.prototype.nearestReference = function (resource, position) {\n        var nearest = this._references.map(function (ref, idx) {\n            return {\n                idx: idx,\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n            };\n        }).sort(function (a, b) {\n            if (a.prefixLen > b.prefixLen) {\n                return -1;\n            }\n            else if (a.prefixLen < b.prefixLen) {\n                return 1;\n            }\n            else if (a.offsetDist < b.offsetDist) {\n                return -1;\n            }\n            else if (a.offsetDist > b.offsetDist) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        })[0];\n        if (nearest) {\n            return this._references[nearest.idx];\n        }\n        return undefined;\n    };\n    ReferencesModel.prototype.dispose = function () {\n        this._groups = dispose(this._groups);\n        dispose(this._disposables);\n        this._disposables.length = 0;\n    };\n    ReferencesModel._compareReferences = function (a, b) {\n        var auri = a.uri.toString();\n        var buri = b.uri.toString();\n        if (auri < buri) {\n            return -1;\n        }\n        else if (auri > buri) {\n            return 1;\n        }\n        else {\n            return Range.compareRangesUsingStarts(a.range, b.range);\n        }\n    };\n    return ReferencesModel;\n}());\nexport { ReferencesModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var IEnvironmentService = createDecorator('environmentService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport './media/referencesWidget.css';\nimport * as nls from '../../../nls.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { getPathLabel } from '../../../base/common/labels.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Color } from '../../../base/common/color.js';\nimport { $ } from '../../../base/browser/builder.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { FileLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\nimport { Range } from '../../common/core/range.js';\nimport { TextModel, ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\nimport { PeekViewWidget } from './peekViewWidget.js';\nimport { FileReferences, OneReference, ReferencesModel } from './referencesModel.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { registerColor, activeContrastBorder, contrastBorder } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { attachBadgeStyler } from '../../../platform/theme/common/styler.js';\nimport { IEnvironmentService } from '../../../platform/environment/common/environment.js';\nimport URI from '../../../base/common/uri.js';\nimport { TrackedRangeStickiness } from '../../common/model.js';\nimport { WorkbenchTree, WorkbenchTreeController } from '../../../platform/list/browser/listService.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { ClickBehavior } from '../../../base/parts/tree/browser/treeDefaults.js';\nvar DecorationsManager = /** @class */ (function () {\n    function DecorationsManager(_editor, _model) {\n        var _this = this;\n        this._editor = _editor;\n        this._model = _model;\n        this._decorations = new Map();\n        this._decorationIgnoreSet = new Set();\n        this._callOnDispose = [];\n        this._callOnModelChange = [];\n        this._callOnDispose.push(this._editor.onDidChangeModel(function () { return _this._onModelChanged(); }));\n        this._onModelChanged();\n    }\n    DecorationsManager.prototype.dispose = function () {\n        this._callOnModelChange = dispose(this._callOnModelChange);\n        this._callOnDispose = dispose(this._callOnDispose);\n        this.removeDecorations();\n    };\n    DecorationsManager.prototype._onModelChanged = function () {\n        this._callOnModelChange = dispose(this._callOnModelChange);\n        var model = this._editor.getModel();\n        if (model) {\n            for (var _i = 0, _a = this._model.groups; _i < _a.length; _i++) {\n                var ref = _a[_i];\n                if (ref.uri.toString() === model.uri.toString()) {\n                    this._addDecorations(ref);\n                    return;\n                }\n            }\n        }\n    };\n    DecorationsManager.prototype._addDecorations = function (reference) {\n        var _this = this;\n        this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function (event) { return _this._onDecorationChanged(); }));\n        var newDecorations = [];\n        var newDecorationsActualIndex = [];\n        for (var i = 0, len = reference.children.length; i < len; i++) {\n            var oneReference = reference.children[i];\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\n                continue;\n            }\n            newDecorations.push({\n                range: oneReference.range,\n                options: DecorationsManager.DecorationOptions\n            });\n            newDecorationsActualIndex.push(i);\n        }\n        var decorations = this._editor.deltaDecorations([], newDecorations);\n        for (var i = 0; i < decorations.length; i++) {\n            this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\n        }\n    };\n    DecorationsManager.prototype._onDecorationChanged = function () {\n        var _this = this;\n        var toRemove = [];\n        this._decorations.forEach(function (reference, decorationId) {\n            var newRange = _this._editor.getModel().getDecorationRange(decorationId);\n            if (!newRange) {\n                return;\n            }\n            var ignore = false;\n            if (Range.equalsRange(newRange, reference.range)) {\n                return;\n            }\n            else if (Range.spansMultipleLines(newRange)) {\n                ignore = true;\n            }\n            else {\n                var lineLength = reference.range.endColumn - reference.range.startColumn;\n                var newLineLength = newRange.endColumn - newRange.startColumn;\n                if (lineLength !== newLineLength) {\n                    ignore = true;\n                }\n            }\n            if (ignore) {\n                _this._decorationIgnoreSet.add(reference.id);\n                toRemove.push(decorationId);\n            }\n            else {\n                reference.range = newRange;\n            }\n        });\n        for (var i = 0, len = toRemove.length; i < len; i++) {\n            this._decorations.delete(toRemove[i]);\n        }\n        this._editor.deltaDecorations(toRemove, []);\n    };\n    DecorationsManager.prototype.removeDecorations = function () {\n        var toRemove = [];\n        this._decorations.forEach(function (value, key) {\n            toRemove.push(key);\n        });\n        this._editor.deltaDecorations(toRemove, []);\n        this._decorations.clear();\n    };\n    DecorationsManager.DecorationOptions = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'reference-decoration'\n    });\n    return DecorationsManager;\n}());\nvar DataSource = /** @class */ (function () {\n    function DataSource(_textModelResolverService) {\n        this._textModelResolverService = _textModelResolverService;\n        //\n    }\n    DataSource.prototype.getId = function (tree, element) {\n        if (element instanceof ReferencesModel) {\n            return 'root';\n        }\n        else if (element instanceof FileReferences) {\n            return element.id;\n        }\n        else if (element instanceof OneReference) {\n            return element.id;\n        }\n        return undefined;\n    };\n    DataSource.prototype.hasChildren = function (tree, element) {\n        if (element instanceof ReferencesModel) {\n            return true;\n        }\n        if (element instanceof FileReferences && !element.failure) {\n            return true;\n        }\n        return false;\n    };\n    DataSource.prototype.getChildren = function (tree, element) {\n        if (element instanceof ReferencesModel) {\n            return TPromise.as(element.groups);\n        }\n        else if (element instanceof FileReferences) {\n            return element.resolve(this._textModelResolverService).then(function (val) {\n                if (element.failure) {\n                    // refresh the element on failure so that\n                    // we can update its rendering\n                    return tree.refresh(element).then(function () { return val.children; });\n                }\n                return val.children;\n            });\n        }\n        else {\n            return TPromise.as([]);\n        }\n    };\n    DataSource.prototype.getParent = function (tree, element) {\n        var result = null;\n        if (element instanceof FileReferences) {\n            result = element.parent;\n        }\n        else if (element instanceof OneReference) {\n            result = element.parent;\n        }\n        return TPromise.as(result);\n    };\n    DataSource = __decorate([\n        __param(0, ITextModelService)\n    ], DataSource);\n    return DataSource;\n}());\nvar Controller = /** @class */ (function (_super) {\n    __extends(Controller, _super);\n    function Controller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._onDidFocus = new Emitter();\n        _this.onDidFocus = _this._onDidFocus.event;\n        _this._onDidSelect = new Emitter();\n        _this.onDidSelect = _this._onDidSelect.event;\n        _this._onDidOpenToSide = new Emitter();\n        _this.onDidOpenToSide = _this._onDidOpenToSide.event;\n        return _this;\n    }\n    Controller.prototype.onTap = function (tree, element, event) {\n        if (element instanceof FileReferences) {\n            event.preventDefault();\n            event.stopPropagation();\n            return this._expandCollapse(tree, element);\n        }\n        var result = _super.prototype.onTap.call(this, tree, element, event);\n        this._onDidFocus.fire(element);\n        return result;\n    };\n    Controller.prototype.onMouseDown = function (tree, element, event) {\n        var isDoubleClick = event.detail === 2;\n        if (event.leftButton) {\n            if (element instanceof FileReferences) {\n                if (this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event)) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    return this._expandCollapse(tree, element);\n                }\n            }\n            var result = _super.prototype.onClick.call(this, tree, element, event);\n            var openToSide = event.ctrlKey || event.metaKey || event.altKey;\n            if (openToSide && (isDoubleClick || this.openOnSingleClick)) {\n                this._onDidOpenToSide.fire(element);\n            }\n            else if (isDoubleClick) {\n                this._onDidSelect.fire(element);\n            }\n            else if (this.openOnSingleClick) {\n                this._onDidFocus.fire(element);\n            }\n            return result;\n        }\n        return false;\n    };\n    Controller.prototype.onClick = function (tree, element, event) {\n        if (event.leftButton) {\n            return false; // Already handled by onMouseDown\n        }\n        return _super.prototype.onClick.call(this, tree, element, event);\n    };\n    Controller.prototype._expandCollapse = function (tree, element) {\n        if (tree.isExpanded(element)) {\n            tree.collapse(element).done(null, onUnexpectedError);\n        }\n        else {\n            tree.expand(element).done(null, onUnexpectedError);\n        }\n        return true;\n    };\n    Controller.prototype.onEscape = function (tree, event) {\n        return false;\n    };\n    Controller.prototype.dispose = function () {\n        this._onDidFocus.dispose();\n        this._onDidSelect.dispose();\n        this._onDidOpenToSide.dispose();\n    };\n    return Controller;\n}(WorkbenchTreeController));\nvar FileReferencesTemplate = /** @class */ (function () {\n    function FileReferencesTemplate(container, _contextService, _environmentService, themeService) {\n        var _this = this;\n        this._contextService = _contextService;\n        this._environmentService = _environmentService;\n        var parent = document.createElement('div');\n        dom.addClass(parent, 'reference-file');\n        container.appendChild(parent);\n        this.file = new FileLabel(parent, URI.parse('no:file'), this._contextService, this._environmentService);\n        this.badge = new CountBadge($('.count').appendTo(parent).getHTMLElement());\n        var styler = attachBadgeStyler(this.badge, themeService);\n        this.dispose = function () {\n            _this.file.dispose();\n            styler.dispose();\n        };\n    }\n    FileReferencesTemplate.prototype.set = function (element) {\n        this.file.setFile(element.uri, this._contextService, this._environmentService);\n        var len = element.children.length;\n        this.badge.setCount(len);\n        if (element.failure) {\n            this.badge.setTitleFormat(nls.localize('referencesFailre', \"Failed to resolve file.\"));\n        }\n        else if (len > 1) {\n            this.badge.setTitleFormat(nls.localize('referencesCount', \"{0} references\", len));\n        }\n        else {\n            this.badge.setTitleFormat(nls.localize('referenceCount', \"{0} reference\", len));\n        }\n    };\n    FileReferencesTemplate = __decorate([\n        __param(1, IWorkspaceContextService),\n        __param(2, optional(IEnvironmentService)),\n        __param(3, IThemeService)\n    ], FileReferencesTemplate);\n    return FileReferencesTemplate;\n}());\nvar OneReferenceTemplate = /** @class */ (function () {\n    function OneReferenceTemplate(container) {\n        var parent = document.createElement('div');\n        this.before = document.createElement('span');\n        this.inside = document.createElement('span');\n        this.after = document.createElement('span');\n        dom.addClass(this.inside, 'referenceMatch');\n        dom.addClass(parent, 'reference');\n        parent.appendChild(this.before);\n        parent.appendChild(this.inside);\n        parent.appendChild(this.after);\n        container.appendChild(parent);\n    }\n    OneReferenceTemplate.prototype.set = function (element) {\n        var _a = element.parent.preview.preview(element.range), before = _a.before, inside = _a.inside, after = _a.after;\n        this.before.innerHTML = strings.escape(before);\n        this.inside.innerHTML = strings.escape(inside);\n        this.after.innerHTML = strings.escape(after);\n    };\n    return OneReferenceTemplate;\n}());\nvar Renderer = /** @class */ (function () {\n    function Renderer(_contextService, _themeService, _environmentService) {\n        this._contextService = _contextService;\n        this._themeService = _themeService;\n        this._environmentService = _environmentService;\n        //\n    }\n    Renderer.prototype.getHeight = function (tree, element) {\n        return 23;\n    };\n    Renderer.prototype.getTemplateId = function (tree, element) {\n        if (element instanceof FileReferences) {\n            return Renderer._ids.FileReferences;\n        }\n        else if (element instanceof OneReference) {\n            return Renderer._ids.OneReference;\n        }\n        throw element;\n    };\n    Renderer.prototype.renderTemplate = function (tree, templateId, container) {\n        if (templateId === Renderer._ids.FileReferences) {\n            return new FileReferencesTemplate(container, this._contextService, this._environmentService, this._themeService);\n        }\n        else if (templateId === Renderer._ids.OneReference) {\n            return new OneReferenceTemplate(container);\n        }\n        throw templateId;\n    };\n    Renderer.prototype.renderElement = function (tree, element, templateId, templateData) {\n        if (element instanceof FileReferences) {\n            templateData.set(element);\n        }\n        else if (element instanceof OneReference) {\n            templateData.set(element);\n        }\n        else {\n            throw templateId;\n        }\n    };\n    Renderer.prototype.disposeTemplate = function (tree, templateId, templateData) {\n        if (templateData instanceof FileReferencesTemplate) {\n            templateData.dispose();\n        }\n    };\n    Renderer._ids = {\n        FileReferences: 'FileReferences',\n        OneReference: 'OneReference'\n    };\n    Renderer = __decorate([\n        __param(0, IWorkspaceContextService),\n        __param(1, IThemeService),\n        __param(2, optional(IEnvironmentService))\n    ], Renderer);\n    return Renderer;\n}());\nvar AriaProvider = /** @class */ (function () {\n    function AriaProvider() {\n    }\n    AriaProvider.prototype.getAriaLabel = function (tree, element) {\n        if (element instanceof FileReferences) {\n            return element.getAriaMessage();\n        }\n        else if (element instanceof OneReference) {\n            return element.getAriaMessage();\n        }\n        else {\n            return undefined;\n        }\n    };\n    return AriaProvider;\n}());\nvar VSash = /** @class */ (function () {\n    function VSash(container, ratio) {\n        var _this = this;\n        this._disposables = [];\n        this._onDidChangePercentages = new Emitter();\n        this._ratio = ratio;\n        this._sash = new Sash(container, {\n            getVerticalSashLeft: function () { return _this._width * _this._ratio; },\n            getVerticalSashHeight: function () { return _this._height; }\n        });\n        // compute the current widget clientX postion since\n        // the sash works with clientX when dragging\n        var clientX;\n        this._disposables.push(this._sash.onDidStart(function (e) {\n            clientX = e.startX - (_this._width * _this.ratio);\n        }));\n        this._disposables.push(this._sash.onDidChange(function (e) {\n            // compute the new position of the sash and from that\n            // compute the new ratio that we are using\n            var newLeft = e.currentX - clientX;\n            if (newLeft > 20 && newLeft + 20 < _this._width) {\n                _this._ratio = newLeft / _this._width;\n                _this._sash.layout();\n                _this._onDidChangePercentages.fire(_this);\n            }\n        }));\n    }\n    VSash.prototype.dispose = function () {\n        this._sash.dispose();\n        this._onDidChangePercentages.dispose();\n        dispose(this._disposables);\n    };\n    Object.defineProperty(VSash.prototype, \"onDidChangePercentages\", {\n        get: function () {\n            return this._onDidChangePercentages.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VSash.prototype, \"width\", {\n        set: function (value) {\n            this._width = value;\n            this._sash.layout();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VSash.prototype, \"height\", {\n        set: function (value) {\n            this._height = value;\n            this._sash.layout();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VSash.prototype, \"percentages\", {\n        get: function () {\n            var left = 100 * this._ratio;\n            var right = 100 - left;\n            return [left + \"%\", right + \"%\"];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VSash.prototype, \"ratio\", {\n        get: function () {\n            return this._ratio;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return VSash;\n}());\nexport var ctxReferenceWidgetSearchTreeFocused = new RawContextKey('referenceSearchTreeFocused', true);\n/**\n * ZoneWidget that is shown inside the editor\n */\nvar ReferenceWidget = /** @class */ (function (_super) {\n    __extends(ReferenceWidget, _super);\n    function ReferenceWidget(editor, _defaultTreeKeyboardSupport, layoutData, _textModelResolverService, _contextService, themeService, _instantiationService, _environmentService) {\n        var _this = _super.call(this, editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true }) || this;\n        _this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        _this.layoutData = layoutData;\n        _this._textModelResolverService = _textModelResolverService;\n        _this._contextService = _contextService;\n        _this._instantiationService = _instantiationService;\n        _this._environmentService = _environmentService;\n        _this._disposeOnNewModel = [];\n        _this._callOnDispose = [];\n        _this._onDidSelectReference = new Emitter();\n        _this._applyTheme(themeService.getTheme());\n        _this._callOnDispose.push(themeService.onThemeChange(_this._applyTheme.bind(_this)));\n        _this.create();\n        return _this;\n    }\n    ReferenceWidget.prototype._applyTheme = function (theme) {\n        var borderColor = theme.getColor(peekViewBorder) || Color.transparent;\n        this.style({\n            arrowColor: borderColor,\n            frameColor: borderColor,\n            headerBackgroundColor: theme.getColor(peekViewTitleBackground) || Color.transparent,\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\n        });\n    };\n    ReferenceWidget.prototype.dispose = function () {\n        this.setModel(null);\n        this._callOnDispose = dispose(this._callOnDispose);\n        dispose(this._preview, this._previewNotAvailableMessage, this._tree, this._sash, this._previewModelReference);\n        _super.prototype.dispose.call(this);\n    };\n    Object.defineProperty(ReferenceWidget.prototype, \"onDidSelectReference\", {\n        get: function () {\n            return this._onDidSelectReference.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ReferenceWidget.prototype.show = function (where) {\n        this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */);\n        _super.prototype.show.call(this, where, this.layoutData.heightInLines || 18);\n    };\n    ReferenceWidget.prototype.focus = function () {\n        this._tree.domFocus();\n    };\n    ReferenceWidget.prototype._onTitleClick = function (e) {\n        if (this._preview && this._preview.getModel()) {\n            this._onDidSelectReference.fire({\n                element: this._getFocusedReference(),\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\n                source: 'title'\n            });\n        }\n    };\n    ReferenceWidget.prototype._fillBody = function (containerElement) {\n        var _this = this;\n        var container = $(containerElement);\n        this.setCssClass('reference-zone-widget');\n        // message pane\n        container.div({ 'class': 'messages' }, function (div) {\n            _this._messageContainer = div.hide();\n        });\n        // editor\n        container.div({ 'class': 'preview inline' }, function (div) {\n            var options = {\n                scrollBeyondLastLine: false,\n                scrollbar: {\n                    verticalScrollbarSize: 14,\n                    horizontal: 'auto',\n                    useShadows: true,\n                    verticalHasArrows: false,\n                    horizontalHasArrows: false\n                },\n                overviewRulerLanes: 2,\n                fixedOverflowWidgets: true,\n                minimap: {\n                    enabled: false\n                }\n            };\n            _this._preview = _this._instantiationService.createInstance(EmbeddedCodeEditorWidget, div.getHTMLElement(), options, _this.editor);\n            _this._previewContainer = div.hide();\n            _this._previewNotAvailableMessage = TextModel.createFromString(nls.localize('missingPreviewMessage', \"no preview available\"));\n        });\n        // sash\n        this._sash = new VSash(containerElement, this.layoutData.ratio || .8);\n        this._sash.onDidChangePercentages(function () {\n            var _a = _this._sash.percentages, left = _a[0], right = _a[1];\n            _this._previewContainer.style({ width: left });\n            _this._treeContainer.style({ width: right });\n            _this._preview.layout();\n            _this._tree.layout();\n            _this.layoutData.ratio = _this._sash.ratio;\n        });\n        // tree\n        container.div({ 'class': 'ref-tree inline' }, function (div) {\n            var controller = _this._instantiationService.createInstance(Controller, { keyboardSupport: _this._defaultTreeKeyboardSupport, clickBehavior: ClickBehavior.ON_MOUSE_UP /* our controller already deals with this */ });\n            _this._callOnDispose.push(controller);\n            var config = {\n                dataSource: _this._instantiationService.createInstance(DataSource),\n                renderer: _this._instantiationService.createInstance(Renderer),\n                controller: controller,\n                accessibilityProvider: new AriaProvider()\n            };\n            var options = {\n                twistiePixels: 20,\n                ariaLabel: nls.localize('treeAriaLabel', \"References\")\n            };\n            _this._tree = _this._instantiationService.createInstance(WorkbenchTree, div.getHTMLElement(), config, options);\n            ctxReferenceWidgetSearchTreeFocused.bindTo(_this._tree.contextKeyService);\n            // listen on selection and focus\n            var onEvent = function (element, kind) {\n                if (element instanceof OneReference) {\n                    if (kind === 'show') {\n                        _this._revealReference(element, false);\n                    }\n                    _this._onDidSelectReference.fire({ element: element, kind: kind, source: 'tree' });\n                }\n            };\n            _this._disposables.push(_this._tree.onDidChangeFocus(function (event) {\n                if (event && event.payload && event.payload.origin === 'keyboard') {\n                    onEvent(event.focus, 'show'); // only handle events from keyboard, mouse/touch is handled by other listeners below\n                }\n            }));\n            _this._disposables.push(_this._tree.onDidChangeSelection(function (event) {\n                if (event && event.payload && event.payload.origin === 'keyboard') {\n                    onEvent(event.selection[0], 'goto'); // only handle events from keyboard, mouse/touch is handled by other listeners below\n                }\n            }));\n            _this._disposables.push(controller.onDidFocus(function (element) { return onEvent(element, 'show'); }));\n            _this._disposables.push(controller.onDidSelect(function (element) { return onEvent(element, 'goto'); }));\n            _this._disposables.push(controller.onDidOpenToSide(function (element) { return onEvent(element, 'side'); }));\n            _this._treeContainer = div.hide();\n        });\n    };\n    ReferenceWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\n        var height = heightInPixel + 'px';\n        this._sash.height = heightInPixel;\n        this._sash.width = widthInPixel;\n        // set height/width\n        var _a = this._sash.percentages, left = _a[0], right = _a[1];\n        this._previewContainer.style({ height: height, width: left });\n        this._treeContainer.style({ height: height, width: right });\n        // forward\n        this._tree.layout(heightInPixel);\n        this._preview.layout();\n        // store layout data\n        this.layoutData = {\n            heightInLines: this._viewZone.heightInLines,\n            ratio: this._sash.ratio\n        };\n    };\n    ReferenceWidget.prototype._onWidth = function (widthInPixel) {\n        this._sash.width = widthInPixel;\n        this._preview.layout();\n    };\n    ReferenceWidget.prototype.setSelection = function (selection) {\n        var _this = this;\n        return this._revealReference(selection, true).then(function () {\n            // show in tree\n            _this._tree.setSelection([selection]);\n            _this._tree.setFocus(selection);\n        });\n    };\n    ReferenceWidget.prototype.setModel = function (newModel) {\n        // clean up\n        this._disposeOnNewModel = dispose(this._disposeOnNewModel);\n        this._model = newModel;\n        if (this._model) {\n            return this._onNewModel();\n        }\n        return undefined;\n    };\n    ReferenceWidget.prototype._onNewModel = function () {\n        var _this = this;\n        if (this._model.empty) {\n            this.setTitle('');\n            this._messageContainer.innerHtml(nls.localize('noResults', \"No results\")).show();\n            return TPromise.as(void 0);\n        }\n        this._messageContainer.hide();\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\n        this._disposeOnNewModel.push(this._decorationsManager);\n        // listen on model changes\n        this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function (reference) { return _this._tree.refresh(reference); }));\n        // listen on editor\n        this._disposeOnNewModel.push(this._preview.onMouseDown(function (e) {\n            var event = e.event, target = e.target;\n            if (event.detail === 2) {\n                _this._onDidSelectReference.fire({\n                    element: { uri: _this._getFocusedReference().uri, range: target.range },\n                    kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\n                    source: 'editor'\n                });\n            }\n        }));\n        // make sure things are rendered\n        dom.addClass(this.container, 'results-loaded');\n        this._treeContainer.show();\n        this._previewContainer.show();\n        this._preview.layout();\n        this._tree.layout();\n        this.focus();\n        // pick input and a reference to begin with\n        var input = this._model.groups.length === 1 ? this._model.groups[0] : this._model;\n        return this._tree.setInput(input);\n    };\n    ReferenceWidget.prototype._getFocusedReference = function () {\n        var element = this._tree.getFocus();\n        if (element instanceof OneReference) {\n            return element;\n        }\n        else if (element instanceof FileReferences) {\n            if (element.children.length > 0) {\n                return element.children[0];\n            }\n        }\n        return undefined;\n    };\n    ReferenceWidget.prototype._revealReference = function (reference, revealParent) {\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var promise;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Update widget header\n                        if (reference.uri.scheme !== Schemas.inMemory) {\n                            this.setTitle(reference.name, getPathLabel(reference.directory, this._contextService, this._environmentService));\n                        }\n                        else {\n                            this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\n                        }\n                        promise = this._textModelResolverService.createModelReference(reference.uri);\n                        if (!revealParent) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._tree.reveal(reference.parent)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, TPromise.join([promise, this._tree.reveal(reference)]).then(function (values) {\n                            var ref = values[0];\n                            if (!_this._model) {\n                                ref.dispose();\n                                // disposed\n                                return;\n                            }\n                            dispose(_this._previewModelReference);\n                            // show in editor\n                            var model = ref.object;\n                            if (model) {\n                                _this._previewModelReference = ref;\n                                var isSameModel = (_this._preview.getModel() === model.textEditorModel);\n                                _this._preview.setModel(model.textEditorModel);\n                                var sel = Range.lift(reference.range).collapseToStart();\n                                _this._preview.setSelection(sel);\n                                _this._preview.revealRangeInCenter(sel, isSameModel ? 0 /* Smooth */ : 1 /* Immediate */);\n                            }\n                            else {\n                                _this._preview.setModel(_this._previewNotAvailableMessage);\n                                ref.dispose();\n                            }\n                        }, onUnexpectedError)];\n                }\n            });\n        });\n    };\n    return ReferenceWidget;\n}(PeekViewWidget));\nexport { ReferenceWidget };\n// theming\nexport var peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#1E1E1E', light: '#FFFFFF', hc: '#0C141F' }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\nexport var peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: '#FFFFFF', light: '#333333', hc: '#FFFFFF' }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\nexport var peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#6c6c6cb3', hc: '#FFFFFF99' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\nexport var peekViewBorder = registerColor('peekView.border', { dark: '#007acc', light: '#007acc', hc: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\nexport var peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hc: Color.black }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\nexport var peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hc: Color.white }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\nexport var peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hc: Color.white }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\nexport var peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hc: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\nexport var peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hc: Color.white }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\nexport var peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hc: Color.black }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\nexport var peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hc: peekViewEditorBackground }, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\nexport var peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hc: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\nexport var peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hc: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\nexport var peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hc: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\nregisterThemingParticipant(function (theme, collector) {\n    var findMatchHighlightColor = theme.getColor(peekViewResultsMatchHighlight);\n    if (findMatchHighlightColor) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: \" + findMatchHighlightColor + \"; }\");\n    }\n    var referenceHighlightColor = theme.getColor(peekViewEditorMatchHighlight);\n    if (referenceHighlightColor) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: \" + referenceHighlightColor + \"; }\");\n    }\n    var referenceHighlightBorder = theme.getColor(peekViewEditorMatchHighlightBorder);\n    if (referenceHighlightBorder) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid \" + referenceHighlightBorder + \"; box-sizing: border-box; }\");\n    }\n    var hcOutline = theme.getColor(activeContrastBorder);\n    if (hcOutline) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted \" + hcOutline + \"; box-sizing: border-box; }\");\n    }\n    var resultsBackground = theme.getColor(peekViewResultsBackground);\n    if (resultsBackground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { background-color: \" + resultsBackground + \"; }\");\n    }\n    var resultsMatchForeground = theme.getColor(peekViewResultsMatchForeground);\n    if (resultsMatchForeground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { color: \" + resultsMatchForeground + \"; }\");\n    }\n    var resultsFileForeground = theme.getColor(peekViewResultsFileForeground);\n    if (resultsFileForeground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: \" + resultsFileForeground + \"; }\");\n    }\n    var resultsSelectedBackground = theme.getColor(peekViewResultsSelectionBackground);\n    if (resultsSelectedBackground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + resultsSelectedBackground + \"; }\");\n    }\n    var resultsSelectedForeground = theme.getColor(peekViewResultsSelectionForeground);\n    if (resultsSelectedForeground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + resultsSelectedForeground + \" !important; }\");\n    }\n    var editorBackground = theme.getColor(peekViewEditorBackground);\n    if (editorBackground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\" +\n            \".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\" +\n            (\"\\tbackground-color: \" + editorBackground + \";\") +\n            \"}\");\n    }\n    var editorGutterBackground = theme.getColor(peekViewEditorGutterBackground);\n    if (editorGutterBackground) {\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\" +\n            (\"\\tbackground-color: \" + editorGutterBackground + \";\") +\n            \"}\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as nls from '../../../nls.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { IEditorService } from '../../../platform/editor/common/editor.js';\nimport { IInstantiationService, optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\nimport { ReferenceWidget } from './referencesWidget.js';\nimport { Range } from '../../common/core/range.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { Position } from '../../common/core/position.js';\nimport { IEnvironmentService } from '../../../platform/environment/common/environment.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nexport var ctxReferenceSearchVisible = new RawContextKey('referenceSearchVisible', false);\nvar ReferencesController = /** @class */ (function () {\n    function ReferencesController(_defaultTreeKeyboardSupport, editor, contextKeyService, _editorService, _textModelResolverService, _notificationService, _instantiationService, _contextService, _storageService, _themeService, _configurationService, _environmentService) {\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        this._editorService = _editorService;\n        this._textModelResolverService = _textModelResolverService;\n        this._notificationService = _notificationService;\n        this._instantiationService = _instantiationService;\n        this._contextService = _contextService;\n        this._storageService = _storageService;\n        this._themeService = _themeService;\n        this._configurationService = _configurationService;\n        this._environmentService = _environmentService;\n        this._requestIdPool = 0;\n        this._disposables = [];\n        this._ignoreModelChangeEvent = false;\n        this._editor = editor;\n        this._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\n    }\n    ReferencesController.get = function (editor) {\n        return editor.getContribution(ReferencesController.ID);\n    };\n    ReferencesController.prototype.getId = function () {\n        return ReferencesController.ID;\n    };\n    ReferencesController.prototype.dispose = function () {\n        if (this._widget) {\n            this._widget.dispose();\n            this._widget = null;\n        }\n        this._editor = null;\n    };\n    ReferencesController.prototype.toggleWidget = function (range, modelPromise, options) {\n        var _this = this;\n        // close current widget and return early is position didn't change\n        var widgetPosition;\n        if (this._widget) {\n            widgetPosition = this._widget.position;\n        }\n        this.closeWidget();\n        if (!!widgetPosition && range.containsPosition(widgetPosition)) {\n            return null;\n        }\n        this._referenceSearchVisible.set(true);\n        // close the widget on model/mode changes\n        this._disposables.push(this._editor.onDidChangeModelLanguage(function () { _this.closeWidget(); }));\n        this._disposables.push(this._editor.onDidChangeModel(function () {\n            if (!_this._ignoreModelChangeEvent) {\n                _this.closeWidget();\n            }\n        }));\n        var storageKey = 'peekViewLayout';\n        var data = JSON.parse(this._storageService.get(storageKey, undefined, '{}'));\n        this._widget = new ReferenceWidget(this._editor, this._defaultTreeKeyboardSupport, data, this._textModelResolverService, this._contextService, this._themeService, this._instantiationService, this._environmentService);\n        this._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\n        this._widget.show(range);\n        this._disposables.push(this._widget.onDidClose(function () {\n            modelPromise.cancel();\n            _this._storageService.store(storageKey, JSON.stringify(_this._widget.layoutData));\n            _this._widget = null;\n            _this.closeWidget();\n        }));\n        this._disposables.push(this._widget.onDidSelectReference(function (event) {\n            var element = event.element, kind = event.kind;\n            switch (kind) {\n                case 'open':\n                    if (event.source === 'editor'\n                        && _this._configurationService.getValue('editor.stablePeek')) {\n                        // when stable peek is configured we don't close\n                        // the peek window on selecting the editor\n                        break;\n                    }\n                case 'side':\n                    _this.openReference(element, kind === 'side');\n                    break;\n                case 'goto':\n                    if (options.onGoto) {\n                        options.onGoto(element);\n                    }\n                    else {\n                        _this._gotoReference(element);\n                    }\n                    break;\n            }\n        }));\n        var requestId = ++this._requestIdPool;\n        modelPromise.then(function (model) {\n            // still current request? widget still open?\n            if (requestId !== _this._requestIdPool || !_this._widget) {\n                return undefined;\n            }\n            if (_this._model) {\n                _this._model.dispose();\n            }\n            _this._model = model;\n            // show widget\n            return _this._widget.setModel(_this._model).then(function () {\n                if (_this._widget) { // might have been closed\n                    // set title\n                    _this._widget.setMetaTitle(options.getMetaTitle(_this._model));\n                    // set 'best' selection\n                    var uri = _this._editor.getModel().uri;\n                    var pos = new Position(range.startLineNumber, range.startColumn);\n                    var selection = _this._model.nearestReference(uri, pos);\n                    if (selection) {\n                        return _this._widget.setSelection(selection);\n                    }\n                }\n                return undefined;\n            });\n        }, function (error) {\n            _this._notificationService.error(error);\n        });\n    };\n    ReferencesController.prototype.goToNextOrPreviousReference = function (fwd) {\n        return __awaiter(this, void 0, void 0, function () {\n            var source, target, editorFocus;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._model) return [3 /*break*/, 3];\n                        source = this._model.nearestReference(this._editor.getModel().uri, this._widget.position);\n                        target = this._model.nextOrPreviousReference(source, fwd);\n                        editorFocus = this._editor.isFocused();\n                        return [4 /*yield*/, this._widget.setSelection(target)];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this._gotoReference(target)];\n                    case 2:\n                        _a.sent();\n                        if (editorFocus) {\n                            this._editor.focus();\n                        }\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ReferencesController.prototype.closeWidget = function () {\n        if (this._widget) {\n            this._widget.dispose();\n            this._widget = null;\n        }\n        this._referenceSearchVisible.reset();\n        this._disposables = dispose(this._disposables);\n        if (this._model) {\n            this._model.dispose();\n            this._model = null;\n        }\n        this._editor.focus();\n        this._requestIdPool += 1; // Cancel pending requests\n    };\n    ReferencesController.prototype._gotoReference = function (ref) {\n        var _this = this;\n        this._widget.hide();\n        this._ignoreModelChangeEvent = true;\n        var range = Range.lift(ref.range).collapseToStart();\n        return this._editorService.openEditor({\n            resource: ref.uri,\n            options: { selection: range }\n        }).then(function (openedEditor) {\n            _this._ignoreModelChangeEvent = false;\n            if (!openedEditor || openedEditor.getControl() !== _this._editor) {\n                // TODO@Alex TODO@Joh\n                // when opening the current reference we might end up\n                // in a different editor instance. that means we also have\n                // a different instance of this reference search controller\n                // and cannot hold onto the widget (which likely doesn't\n                // exist). Instead of bailing out we should find the\n                // 'sister' action and pass our current model on to it.\n                _this.closeWidget();\n                return;\n            }\n            _this._widget.show(range);\n            _this._widget.focus();\n        }, function (err) {\n            _this._ignoreModelChangeEvent = false;\n            onUnexpectedError(err);\n        });\n    };\n    ReferencesController.prototype.openReference = function (ref, sideBySide) {\n        var uri = ref.uri, range = ref.range;\n        this._editorService.openEditor({\n            resource: uri,\n            options: { selection: range }\n        }, sideBySide);\n        // clear stage\n        if (!sideBySide) {\n            this.closeWidget();\n        }\n    };\n    ReferencesController.ID = 'editor.contrib.referencesController';\n    ReferencesController = __decorate([\n        __param(2, IContextKeyService),\n        __param(3, IEditorService),\n        __param(4, ITextModelService),\n        __param(5, INotificationService),\n        __param(6, IInstantiationService),\n        __param(7, IWorkspaceContextService),\n        __param(8, IStorageService),\n        __param(9, IThemeService),\n        __param(10, IConfigurationService),\n        __param(11, optional(IEnvironmentService))\n    ], ReferencesController);\n    return ReferencesController;\n}());\nexport { ReferencesController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './messageController.css';\nimport * as nls from '../../../nls.js';\nimport { setDisposableTimeout } from '../../../base/common/async.js';\nimport { dispose, Disposable } from '../../../base/common/lifecycle.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorContribution, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { ContentWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { registerThemingParticipant, HIGH_CONTRAST } from '../../../platform/theme/common/themeService.js';\nimport { inputValidationInfoBorder, inputValidationInfoBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nvar MessageController = /** @class */ (function (_super) {\n    __extends(MessageController, _super);\n    function MessageController(editor, contextKeyService) {\n        var _this = _super.call(this) || this;\n        _this._messageListeners = [];\n        _this._editor = editor;\n        _this._visible = MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService);\n        _this._register(_this._editor.onDidAttemptReadOnlyEdit(function () { return _this._onDidAttemptReadOnlyEdit(); }));\n        return _this;\n    }\n    MessageController.get = function (editor) {\n        return editor.getContribution(MessageController._id);\n    };\n    MessageController.prototype.getId = function () {\n        return MessageController._id;\n    };\n    MessageController.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._visible.reset();\n    };\n    MessageController.prototype.isVisible = function () {\n        return this._visible.get();\n    };\n    MessageController.prototype.showMessage = function (message, position) {\n        var _this = this;\n        alert(message);\n        this._visible.set(true);\n        dispose(this._messageWidget);\n        this._messageListeners = dispose(this._messageListeners);\n        this._messageWidget = new MessageWidget(this._editor, position, message);\n        // close on blur, cursor, model change, dispose\n        this._messageListeners.push(this._editor.onDidBlurEditorText(function () { return _this.closeMessage(); }));\n        this._messageListeners.push(this._editor.onDidChangeCursorPosition(function () { return _this.closeMessage(); }));\n        this._messageListeners.push(this._editor.onDidDispose(function () { return _this.closeMessage(); }));\n        this._messageListeners.push(this._editor.onDidChangeModel(function () { return _this.closeMessage(); }));\n        // close after 3s\n        this._messageListeners.push(setDisposableTimeout(function () { return _this.closeMessage(); }, 3000));\n        // close on mouse move\n        var bounds;\n        this._messageListeners.push(this._editor.onMouseMove(function (e) {\n            // outside the text area\n            if (!e.target.position) {\n                return;\n            }\n            if (!bounds) {\n                // define bounding box around position and first mouse occurance\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\n            }\n            else if (!bounds.containsPosition(e.target.position)) {\n                // check if position is still in bounds\n                _this.closeMessage();\n            }\n        }));\n    };\n    MessageController.prototype.closeMessage = function () {\n        this._visible.reset();\n        this._messageListeners = dispose(this._messageListeners);\n        this._messageListeners.push(MessageWidget.fadeOut(this._messageWidget));\n    };\n    MessageController.prototype._onDidAttemptReadOnlyEdit = function () {\n        this.showMessage(nls.localize('editor.readonly', \"Cannot edit in read-only editor\"), this._editor.getPosition());\n    };\n    MessageController._id = 'editor.contrib.messageController';\n    MessageController.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false);\n    MessageController = __decorate([\n        __param(1, IContextKeyService)\n    ], MessageController);\n    return MessageController;\n}(Disposable));\nexport { MessageController };\nvar MessageCommand = EditorCommand.bindToContribution(MessageController.get);\nregisterEditorCommand(new MessageCommand({\n    id: 'leaveEditorMessage',\n    precondition: MessageController.MESSAGE_VISIBLE,\n    handler: function (c) { return c.closeMessage(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(30),\n        primary: 9 /* Escape */\n    }\n}));\nvar MessageWidget = /** @class */ (function () {\n    function MessageWidget(editor, _a, text) {\n        var lineNumber = _a.lineNumber, column = _a.column;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this._editor = editor;\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* Smooth */);\n        this._position = { lineNumber: lineNumber, column: column - 1 };\n        this._domNode = document.createElement('div');\n        this._domNode.classList.add('monaco-editor-overlaymessage');\n        var message = document.createElement('div');\n        message.classList.add('message');\n        message.textContent = text;\n        this._domNode.appendChild(message);\n        var anchor = document.createElement('div');\n        anchor.classList.add('anchor');\n        this._domNode.appendChild(anchor);\n        this._editor.addContentWidget(this);\n        this._domNode.classList.add('fadeIn');\n    }\n    MessageWidget.fadeOut = function (messageWidget) {\n        var handle;\n        var dispose = function () {\n            messageWidget.dispose();\n            clearTimeout(handle);\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\n        };\n        handle = setTimeout(dispose, 110);\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\n        messageWidget.getDomNode().classList.add('fadeOut');\n        return { dispose: dispose };\n    };\n    MessageWidget.prototype.dispose = function () {\n        this._editor.removeContentWidget(this);\n    };\n    MessageWidget.prototype.getId = function () {\n        return 'messageoverlay';\n    };\n    MessageWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    MessageWidget.prototype.getPosition = function () {\n        return { position: this._position, preference: [ContentWidgetPositionPreference.ABOVE] };\n    };\n    return MessageWidget;\n}());\nregisterEditorContribution(MessageController);\nregisterThemingParticipant(function (theme, collector) {\n    var border = theme.getColor(inputValidationInfoBorder);\n    if (border) {\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: \" + border + \"; }\");\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { border: \" + borderWidth + \"px solid \" + border + \"; }\");\n    }\n    var background = theme.getColor(inputValidationInfoBackground);\n    if (background) {\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { background-color: \" + background + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IEditorService } from '../../../platform/editor/common/editor.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition } from './goToDeclaration.js';\nimport { ReferencesController } from '../referenceSearch/referencesController.js';\nimport { ReferencesModel } from '../referenceSearch/referencesModel.js';\nimport { PeekContext } from '../referenceSearch/peekViewWidget.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { MessageController } from '../message/messageController.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { IProgressService } from '../../../platform/progress/common/progress.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nvar DefinitionActionConfig = /** @class */ (function () {\n    function DefinitionActionConfig(openToSide, openInPeek, filterCurrent, showMessage) {\n        if (openToSide === void 0) { openToSide = false; }\n        if (openInPeek === void 0) { openInPeek = false; }\n        if (filterCurrent === void 0) { filterCurrent = true; }\n        if (showMessage === void 0) { showMessage = true; }\n        this.openToSide = openToSide;\n        this.openInPeek = openInPeek;\n        this.filterCurrent = filterCurrent;\n        this.showMessage = showMessage;\n        //\n    }\n    return DefinitionActionConfig;\n}());\nexport { DefinitionActionConfig };\nvar DefinitionAction = /** @class */ (function (_super) {\n    __extends(DefinitionAction, _super);\n    function DefinitionAction(configuration, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._configuration = configuration;\n        return _this;\n    }\n    DefinitionAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var notificationService = accessor.get(INotificationService);\n        var editorService = accessor.get(IEditorService);\n        var progressService = accessor.get(IProgressService);\n        var model = editor.getModel();\n        var pos = editor.getPosition();\n        var definitionPromise = this._getDeclarationsAtPosition(model, pos).then(function (references) {\n            if (model.isDisposed() || editor.getModel() !== model) {\n                // new model, no more model\n                return;\n            }\n            // * remove falsy references\n            // * find reference at the current pos\n            var idxOfCurrent = -1;\n            var result = [];\n            for (var i = 0; i < references.length; i++) {\n                var reference = references[i];\n                if (!reference || !reference.range) {\n                    continue;\n                }\n                var uri = reference.uri, range = reference.range;\n                var newLen = result.push({\n                    uri: uri,\n                    range: range\n                });\n                if (_this._configuration.filterCurrent\n                    && uri.toString() === model.uri.toString()\n                    && Range.containsPosition(range, pos)\n                    && idxOfCurrent === -1) {\n                    idxOfCurrent = newLen - 1;\n                }\n            }\n            if (result.length === 0) {\n                // no result -> show message\n                if (_this._configuration.showMessage) {\n                    var info = model.getWordAtPosition(pos);\n                    MessageController.get(editor).showMessage(_this._getNoResultFoundMessage(info), pos);\n                }\n            }\n            else if (result.length === 1 && idxOfCurrent !== -1) {\n                // only the position at which we are -> adjust selection\n                var current = result[0];\n                _this._openReference(editorService, current, false);\n            }\n            else {\n                // handle multile results\n                _this._onResult(editorService, editor, new ReferencesModel(result));\n            }\n        }, function (err) {\n            // report an error\n            notificationService.error(err);\n        });\n        progressService.showWhile(definitionPromise, 250);\n        return definitionPromise;\n    };\n    DefinitionAction.prototype._getDeclarationsAtPosition = function (model, position) {\n        return getDefinitionsAtPosition(model, position);\n    };\n    DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n            : nls.localize('generic.noResults', \"No definition found\");\n    };\n    DefinitionAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 && nls.localize('meta.title', \" – {0} definitions\", model.references.length);\n    };\n    DefinitionAction.prototype._onResult = function (editorService, editor, model) {\n        var _this = this;\n        var msg = model.getAriaMessage();\n        alert(msg);\n        if (this._configuration.openInPeek) {\n            this._openInPeek(editorService, editor, model);\n        }\n        else {\n            var next = model.nearestReference(editor.getModel().uri, editor.getPosition());\n            this._openReference(editorService, next, this._configuration.openToSide).then(function (editor) {\n                if (editor && model.references.length > 1) {\n                    _this._openInPeek(editorService, editor, model);\n                }\n                else {\n                    model.dispose();\n                }\n            });\n        }\n    };\n    DefinitionAction.prototype._openReference = function (editorService, reference, sideBySide) {\n        var uri = reference.uri, range = reference.range;\n        return editorService.openEditor({\n            resource: uri,\n            options: {\n                selection: Range.collapseToStart(range),\n                revealIfVisible: true,\n                revealInCenterIfOutsideViewport: true\n            }\n        }, sideBySide).then(function (editor) {\n            return editor && editor.getControl();\n        });\n    };\n    DefinitionAction.prototype._openInPeek = function (editorService, target, model) {\n        var _this = this;\n        var controller = ReferencesController.get(target);\n        if (controller) {\n            controller.toggleWidget(target.getSelection(), TPromise.as(model), {\n                getMetaTitle: function (model) {\n                    return _this._getMetaTitle(model);\n                },\n                onGoto: function (reference) {\n                    controller.closeWidget();\n                    return _this._openReference(editorService, reference, false);\n                }\n            });\n        }\n        else {\n            model.dispose();\n        }\n    };\n    return DefinitionAction;\n}(EditorAction));\nexport { DefinitionAction };\nvar goToDeclarationKb = platform.isWeb\n    ? 2048 /* CtrlCmd */ | 70 /* F12 */\n    : 70 /* F12 */;\nvar GoToDefinitionAction = /** @class */ (function (_super) {\n    __extends(GoToDefinitionAction, _super);\n    function GoToDefinitionAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToDefinitionAction.ID,\n            label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n            alias: 'Go to Definition',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: goToDeclarationKb\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.1\n            }\n        }) || this;\n    }\n    GoToDefinitionAction.ID = 'editor.action.goToDeclaration';\n    return GoToDefinitionAction;\n}(DefinitionAction));\nexport { GoToDefinitionAction };\nvar OpenDefinitionToSideAction = /** @class */ (function (_super) {\n    __extends(OpenDefinitionToSideAction, _super);\n    function OpenDefinitionToSideAction() {\n        return _super.call(this, new DefinitionActionConfig(true), {\n            id: OpenDefinitionToSideAction.ID,\n            label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n            alias: 'Open Definition to the Side',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, goToDeclarationKb)\n            }\n        }) || this;\n    }\n    OpenDefinitionToSideAction.ID = 'editor.action.openDeclarationToTheSide';\n    return OpenDefinitionToSideAction;\n}(DefinitionAction));\nexport { OpenDefinitionToSideAction };\nvar PeekDefinitionAction = /** @class */ (function (_super) {\n    __extends(PeekDefinitionAction, _super);\n    function PeekDefinitionAction() {\n        return _super.call(this, new DefinitionActionConfig(void 0, true, false), {\n            id: 'editor.action.previewDeclaration',\n            label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n            alias: 'Peek Definition',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 512 /* Alt */ | 70 /* F12 */,\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 68 /* F10 */ }\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.2\n            }\n        }) || this;\n    }\n    return PeekDefinitionAction;\n}(DefinitionAction));\nexport { PeekDefinitionAction };\nvar ImplementationAction = /** @class */ (function (_super) {\n    __extends(ImplementationAction, _super);\n    function ImplementationAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ImplementationAction.prototype._getDeclarationsAtPosition = function (model, position) {\n        return getImplementationsAtPosition(model, position);\n    };\n    ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n    };\n    ImplementationAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 && nls.localize('meta.implementations.title', \" – {0} implementations\", model.references.length);\n    };\n    return ImplementationAction;\n}(DefinitionAction));\nexport { ImplementationAction };\nvar GoToImplementationAction = /** @class */ (function (_super) {\n    __extends(GoToImplementationAction, _super);\n    function GoToImplementationAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToImplementationAction.ID,\n            label: nls.localize('actions.goToImplementation.label', \"Go to Implementation\"),\n            alias: 'Go to Implementation',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 70 /* F12 */\n            }\n        }) || this;\n    }\n    GoToImplementationAction.ID = 'editor.action.goToImplementation';\n    return GoToImplementationAction;\n}(ImplementationAction));\nexport { GoToImplementationAction };\nvar PeekImplementationAction = /** @class */ (function (_super) {\n    __extends(PeekImplementationAction, _super);\n    function PeekImplementationAction() {\n        return _super.call(this, new DefinitionActionConfig(false, true, false), {\n            id: PeekImplementationAction.ID,\n            label: nls.localize('actions.peekImplementation.label', \"Peek Implementation\"),\n            alias: 'Peek Implementation',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 70 /* F12 */\n            }\n        }) || this;\n    }\n    PeekImplementationAction.ID = 'editor.action.peekImplementation';\n    return PeekImplementationAction;\n}(ImplementationAction));\nexport { PeekImplementationAction };\nvar TypeDefinitionAction = /** @class */ (function (_super) {\n    __extends(TypeDefinitionAction, _super);\n    function TypeDefinitionAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TypeDefinitionAction.prototype._getDeclarationsAtPosition = function (model, position) {\n        return getTypeDefinitionsAtPosition(model, position);\n    };\n    TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n    };\n    TypeDefinitionAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 && nls.localize('meta.typeDefinitions.title', \" – {0} type definitions\", model.references.length);\n    };\n    return TypeDefinitionAction;\n}(DefinitionAction));\nexport { TypeDefinitionAction };\nvar GoToTypeDefintionAction = /** @class */ (function (_super) {\n    __extends(GoToTypeDefintionAction, _super);\n    function GoToTypeDefintionAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToTypeDefintionAction.ID,\n            label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n            alias: 'Go to Type Definition',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.4\n            }\n        }) || this;\n    }\n    GoToTypeDefintionAction.ID = 'editor.action.goToTypeDefinition';\n    return GoToTypeDefintionAction;\n}(TypeDefinitionAction));\nexport { GoToTypeDefintionAction };\nvar PeekTypeDefinitionAction = /** @class */ (function (_super) {\n    __extends(PeekTypeDefinitionAction, _super);\n    function PeekTypeDefinitionAction() {\n        return _super.call(this, new DefinitionActionConfig(false, true, false), {\n            id: PeekTypeDefinitionAction.ID,\n            label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n            alias: 'Peek Type Definition',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0\n            }\n        }) || this;\n    }\n    PeekTypeDefinitionAction.ID = 'editor.action.peekTypeDefinition';\n    return PeekTypeDefinitionAction;\n}(TypeDefinitionAction));\nexport { PeekTypeDefinitionAction };\nregisterEditorAction(GoToDefinitionAction);\nregisterEditorAction(OpenDefinitionToSideAction);\nregisterEditorAction(PeekDefinitionAction);\nregisterEditorAction(GoToImplementationAction);\nregisterEditorAction(PeekImplementationAction);\nregisterEditorAction(GoToTypeDefintionAction);\nregisterEditorAction(PeekTypeDefinitionAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './goToDeclarationMouse.css';\nimport * as browser from '../../../base/browser/browser.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../../base/common/platform.js';\nfunction hasModifier(e, modifier) {\n    return !!e[modifier];\n}\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nvar ClickLinkMouseEvent = /** @class */ (function () {\n    function ClickLinkMouseEvent(source, opts) {\n        this.target = source.target;\n        this.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n        this.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n        this.isNoneOrSingleMouseDown = (browser.isIE || source.event.detail <= 1); // IE does not support event.detail properly\n    }\n    return ClickLinkMouseEvent;\n}());\nexport { ClickLinkMouseEvent };\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nvar ClickLinkKeyboardEvent = /** @class */ (function () {\n    function ClickLinkKeyboardEvent(source, opts) {\n        this.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n        this.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n        this.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n    }\n    return ClickLinkKeyboardEvent;\n}());\nexport { ClickLinkKeyboardEvent };\nvar ClickLinkOptions = /** @class */ (function () {\n    function ClickLinkOptions(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier) {\n        this.triggerKey = triggerKey;\n        this.triggerModifier = triggerModifier;\n        this.triggerSideBySideKey = triggerSideBySideKey;\n        this.triggerSideBySideModifier = triggerSideBySideModifier;\n    }\n    ClickLinkOptions.prototype.equals = function (other) {\n        return (this.triggerKey === other.triggerKey\n            && this.triggerModifier === other.triggerModifier\n            && this.triggerSideBySideKey === other.triggerSideBySideKey\n            && this.triggerSideBySideModifier === other.triggerSideBySideModifier);\n    };\n    return ClickLinkOptions;\n}());\nexport { ClickLinkOptions };\nfunction createOptions(multiCursorModifier) {\n    if (multiCursorModifier === 'altKey') {\n        if (platform.isMacintosh) {\n            return new ClickLinkOptions(57 /* Meta */, 'metaKey', 6 /* Alt */, 'altKey');\n        }\n        return new ClickLinkOptions(5 /* Ctrl */, 'ctrlKey', 6 /* Alt */, 'altKey');\n    }\n    if (platform.isMacintosh) {\n        return new ClickLinkOptions(6 /* Alt */, 'altKey', 57 /* Meta */, 'metaKey');\n    }\n    return new ClickLinkOptions(6 /* Alt */, 'altKey', 5 /* Ctrl */, 'ctrlKey');\n}\nvar ClickLinkGesture = /** @class */ (function (_super) {\n    __extends(ClickLinkGesture, _super);\n    function ClickLinkGesture(editor) {\n        var _this = _super.call(this) || this;\n        _this._onMouseMoveOrRelevantKeyDown = _this._register(new Emitter());\n        _this.onMouseMoveOrRelevantKeyDown = _this._onMouseMoveOrRelevantKeyDown.event;\n        _this._onExecute = _this._register(new Emitter());\n        _this.onExecute = _this._onExecute.event;\n        _this._onCancel = _this._register(new Emitter());\n        _this.onCancel = _this._onCancel.event;\n        _this._editor = editor;\n        _this._opts = createOptions(_this._editor.getConfiguration().multiCursorModifier);\n        _this.lastMouseMoveEvent = null;\n        _this.hasTriggerKeyOnMouseDown = false;\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\n            if (e.multiCursorModifier) {\n                var newOpts = createOptions(_this._editor.getConfiguration().multiCursorModifier);\n                if (_this._opts.equals(newOpts)) {\n                    return;\n                }\n                _this._opts = newOpts;\n                _this.lastMouseMoveEvent = null;\n                _this.hasTriggerKeyOnMouseDown = false;\n                _this._onCancel.fire();\n            }\n        }));\n        _this._register(_this._editor.onMouseMove(function (e) { return _this.onEditorMouseMove(new ClickLinkMouseEvent(e, _this._opts)); }));\n        _this._register(_this._editor.onMouseDown(function (e) { return _this.onEditorMouseDown(new ClickLinkMouseEvent(e, _this._opts)); }));\n        _this._register(_this._editor.onMouseUp(function (e) { return _this.onEditorMouseUp(new ClickLinkMouseEvent(e, _this._opts)); }));\n        _this._register(_this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(new ClickLinkKeyboardEvent(e, _this._opts)); }));\n        _this._register(_this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(new ClickLinkKeyboardEvent(e, _this._opts)); }));\n        _this._register(_this._editor.onMouseDrag(function () { return _this.resetHandler(); }));\n        _this._register(_this._editor.onDidChangeCursorSelection(function (e) { return _this.onDidChangeCursorSelection(e); }));\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.resetHandler(); }));\n        _this._register(_this._editor.onDidChangeModelContent(function () { return _this.resetHandler(); }));\n        _this._register(_this._editor.onDidScrollChange(function (e) {\n            if (e.scrollTopChanged || e.scrollLeftChanged) {\n                _this.resetHandler();\n            }\n        }));\n        return _this;\n    }\n    ClickLinkGesture.prototype.onDidChangeCursorSelection = function (e) {\n        if (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n            this.resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/Microsoft/vscode/issues/7827)\n        }\n    };\n    ClickLinkGesture.prototype.onEditorMouseMove = function (mouseEvent) {\n        this.lastMouseMoveEvent = mouseEvent;\n        this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n    };\n    ClickLinkGesture.prototype.onEditorMouseDown = function (mouseEvent) {\n        // We need to record if we had the trigger key on mouse down because someone might select something in the editor\n        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n        // release the mouse button without wanting to do the navigation.\n        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n        this.hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n    };\n    ClickLinkGesture.prototype.onEditorMouseUp = function (mouseEvent) {\n        if (this.hasTriggerKeyOnMouseDown) {\n            this._onExecute.fire(mouseEvent);\n        }\n    };\n    ClickLinkGesture.prototype.onEditorKeyDown = function (e) {\n        if (this.lastMouseMoveEvent\n            && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n                || (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n            )) {\n            this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent, e]);\n        }\n        else if (e.hasTriggerModifier) {\n            this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n        }\n    };\n    ClickLinkGesture.prototype.onEditorKeyUp = function (e) {\n        if (e.keyCodeIsTriggerKey) {\n            this._onCancel.fire();\n        }\n    };\n    ClickLinkGesture.prototype.resetHandler = function () {\n        this.lastMouseMoveEvent = null;\n        this.hasTriggerKeyOnMouseDown = false;\n        this._onCancel.fire();\n    };\n    return ClickLinkGesture;\n}(Disposable));\nexport { ClickLinkGesture };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './goToDeclarationMouse.css';\nimport * as nls from '../../../nls.js';\nimport { Throttler } from '../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { Range } from '../../common/core/range.js';\nimport { DefinitionProviderRegistry } from '../../common/modes.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { getDefinitionsAtPosition } from './goToDeclaration.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { EditorState } from '../../browser/core/editorState.js';\nimport { DefinitionAction, DefinitionActionConfig } from './goToDeclarationCommands.js';\nimport { ClickLinkGesture } from './clickLinkGesture.js';\nvar GotoDefinitionWithMouseEditorContribution = /** @class */ (function () {\n    function GotoDefinitionWithMouseEditorContribution(editor, textModelResolverService, modeService) {\n        var _this = this;\n        this.textModelResolverService = textModelResolverService;\n        this.modeService = modeService;\n        this.toUnhook = [];\n        this.decorations = [];\n        this.editor = editor;\n        this.throttler = new Throttler();\n        var linkGesture = new ClickLinkGesture(editor);\n        this.toUnhook.push(linkGesture);\n        this.toUnhook.push(linkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\n            _this.startFindDefinition(mouseEvent, keyboardEvent);\n        }));\n        this.toUnhook.push(linkGesture.onExecute(function (mouseEvent) {\n            if (_this.isEnabled(mouseEvent)) {\n                _this.gotoDefinition(mouseEvent.target, mouseEvent.hasSideBySideModifier).done(function () {\n                    _this.removeDecorations();\n                }, function (error) {\n                    _this.removeDecorations();\n                    onUnexpectedError(error);\n                });\n            }\n        }));\n        this.toUnhook.push(linkGesture.onCancel(function () {\n            _this.removeDecorations();\n            _this.currentWordUnderMouse = null;\n        }));\n    }\n    GotoDefinitionWithMouseEditorContribution.prototype.startFindDefinition = function (mouseEvent, withKey) {\n        var _this = this;\n        if (!this.isEnabled(mouseEvent, withKey)) {\n            this.currentWordUnderMouse = null;\n            this.removeDecorations();\n            return;\n        }\n        // Find word at mouse position\n        var position = mouseEvent.target.position;\n        var word = position ? this.editor.getModel().getWordAtPosition(position) : null;\n        if (!word) {\n            this.currentWordUnderMouse = null;\n            this.removeDecorations();\n            return;\n        }\n        // Return early if word at position is still the same\n        if (this.currentWordUnderMouse && this.currentWordUnderMouse.startColumn === word.startColumn && this.currentWordUnderMouse.endColumn === word.endColumn && this.currentWordUnderMouse.word === word.word) {\n            return;\n        }\n        this.currentWordUnderMouse = word;\n        // Find definition and decorate word if found\n        var state = new EditorState(this.editor, 4 /* Position */ | 1 /* Value */ | 2 /* Selection */ | 8 /* Scroll */);\n        this.throttler.queue(function () {\n            return state.validate(_this.editor)\n                ? _this.findDefinition(mouseEvent.target)\n                : TPromise.wrap(null);\n        }).then(function (results) {\n            if (!results || !results.length || !state.validate(_this.editor)) {\n                _this.removeDecorations();\n                return;\n            }\n            // Multiple results\n            if (results.length > 1) {\n                _this.addDecoration(new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn), new MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length)));\n            }\n            // Single result\n            else {\n                var result_1 = results[0];\n                if (!result_1.uri) {\n                    return;\n                }\n                _this.textModelResolverService.createModelReference(result_1.uri).then(function (ref) {\n                    if (!ref.object || !ref.object.textEditorModel) {\n                        ref.dispose();\n                        return;\n                    }\n                    var textEditorModel = ref.object.textEditorModel;\n                    var startLineNumber = result_1.range.startLineNumber;\n                    if (textEditorModel.getLineMaxColumn(startLineNumber) === 0) {\n                        ref.dispose();\n                        return;\n                    }\n                    var startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n                    var maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionWithMouseEditorContribution.MAX_SOURCE_PREVIEW_LINES);\n                    var endLineNumber = startLineNumber + 1;\n                    var minIndent = startIndent;\n                    for (; endLineNumber < maxLineNumber; endLineNumber++) {\n                        var endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n                        minIndent = Math.min(minIndent, endIndent);\n                        if (startIndent === endIndent) {\n                            break;\n                        }\n                    }\n                    var previewRange = new Range(startLineNumber, 1, endLineNumber + 1, 1);\n                    var value = textEditorModel.getValueInRange(previewRange).replace(new RegExp(\"^\\\\s{\" + (minIndent - 1) + \"}\", 'gm'), '').trim();\n                    _this.addDecoration(new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn), new MarkdownString().appendCodeblock(_this.modeService.getModeIdByFilenameOrFirstLine(textEditorModel.uri.fsPath), value));\n                    ref.dispose();\n                });\n            }\n        }).done(undefined, onUnexpectedError);\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.addDecoration = function (range, hoverMessage) {\n        var newDecorations = {\n            range: range,\n            options: {\n                inlineClassName: 'goto-definition-link',\n                hoverMessage: hoverMessage\n            }\n        };\n        this.decorations = this.editor.deltaDecorations(this.decorations, [newDecorations]);\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.removeDecorations = function () {\n        if (this.decorations.length > 0) {\n            this.decorations = this.editor.deltaDecorations(this.decorations, []);\n        }\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.isEnabled = function (mouseEvent, withKey) {\n        return this.editor.getModel() &&\n            mouseEvent.isNoneOrSingleMouseDown &&\n            mouseEvent.target.type === MouseTargetType.CONTENT_TEXT &&\n            (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey)) &&\n            DefinitionProviderRegistry.has(this.editor.getModel());\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.findDefinition = function (target) {\n        var model = this.editor.getModel();\n        if (!model) {\n            return TPromise.as(null);\n        }\n        return getDefinitionsAtPosition(this.editor.getModel(), target.position);\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.gotoDefinition = function (target, sideBySide) {\n        var _this = this;\n        this.editor.setPosition(target.position);\n        var action = new DefinitionAction(new DefinitionActionConfig(sideBySide, false, true, false), { alias: undefined, label: undefined, id: undefined, precondition: undefined });\n        return this.editor.invokeWithinContext(function (accessor) { return action.run(accessor, _this.editor); });\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.getId = function () {\n        return GotoDefinitionWithMouseEditorContribution.ID;\n    };\n    GotoDefinitionWithMouseEditorContribution.prototype.dispose = function () {\n        this.toUnhook = dispose(this.toUnhook);\n    };\n    GotoDefinitionWithMouseEditorContribution.ID = 'editor.contrib.gotodefinitionwithmouse';\n    GotoDefinitionWithMouseEditorContribution.MAX_SOURCE_PREVIEW_LINES = 8;\n    GotoDefinitionWithMouseEditorContribution = __decorate([\n        __param(1, ITextModelService),\n        __param(2, IModeService)\n    ], GotoDefinitionWithMouseEditorContribution);\n    return GotoDefinitionWithMouseEditorContribution;\n}());\nregisterEditorContribution(GotoDefinitionWithMouseEditorContribution);\nregisterThemingParticipant(function (theme, collector) {\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\n    if (activeLinkForeground) {\n        collector.addRule(\".monaco-editor .goto-definition-link { color: \" + activeLinkForeground + \" !important; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './gotoErrorWidget.css';\nimport * as nls from '../../../nls.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { MarkerSeverity } from '../../../platform/markers/common/markers.js';\nimport { Range } from '../../common/core/range.js';\nimport { ZoneWidget } from '../zoneWidget/zoneWidget.js';\nimport { registerColor, oneOf } from '../../../platform/theme/common/colorRegistry.js';\nimport { Color } from '../../../base/common/color.js';\nimport { editorErrorForeground, editorErrorBorder, editorWarningForeground, editorWarningBorder, editorInfoForeground, editorInfoBorder } from '../../common/view/editorColorRegistry.js';\nimport { ScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { ScrollbarVisibility } from '../../../base/common/scrollable.js';\nimport { getBaseLabel, getPathLabel } from '../../../base/common/labels.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { Emitter } from '../../../base/common/event.js';\nvar MessageWidget = /** @class */ (function () {\n    function MessageWidget(parent, editor, onRelatedInformation) {\n        var _this = this;\n        this.lines = 0;\n        this.longestLineLength = 0;\n        this._relatedDiagnostics = new WeakMap();\n        this._disposables = [];\n        this._editor = editor;\n        var domNode = document.createElement('div');\n        domNode.className = 'descriptioncontainer';\n        domNode.setAttribute('aria-live', 'assertive');\n        domNode.setAttribute('role', 'alert');\n        this._messageBlock = document.createElement('span');\n        domNode.appendChild(this._messageBlock);\n        this._relatedBlock = document.createElement('div');\n        domNode.appendChild(this._relatedBlock);\n        this._disposables.push(dom.addStandardDisposableListener(this._relatedBlock, 'click', function (event) {\n            event.preventDefault();\n            var related = _this._relatedDiagnostics.get(event.target);\n            if (related) {\n                onRelatedInformation(related);\n            }\n        }));\n        this._scrollable = new ScrollableElement(domNode, {\n            horizontal: ScrollbarVisibility.Auto,\n            vertical: ScrollbarVisibility.Hidden,\n            useShadows: false,\n            horizontalScrollbarSize: 3\n        });\n        dom.addClass(this._scrollable.getDomNode(), 'block');\n        parent.appendChild(this._scrollable.getDomNode());\n        this._disposables.push(this._scrollable.onScroll(function (e) { return domNode.style.left = \"-\" + e.scrollLeft + \"px\"; }));\n        this._disposables.push(this._scrollable);\n    }\n    MessageWidget.prototype.dispose = function () {\n        dispose(this._disposables);\n    };\n    MessageWidget.prototype.update = function (_a) {\n        var source = _a.source, message = _a.message, relatedInformation = _a.relatedInformation;\n        if (source) {\n            this.lines = 0;\n            this.longestLineLength = 0;\n            var indent = new Array(source.length + 3 + 1).join(' ');\n            var lines = message.split(/\\r\\n|\\r|\\n/g);\n            for (var i = 0; i < lines.length; i++) {\n                var line = lines[i];\n                this.lines += 1;\n                this.longestLineLength = Math.max(line.length, this.longestLineLength);\n                if (i === 0) {\n                    message = \"[\" + source + \"] \" + line;\n                }\n                else {\n                    message += \"\\n\" + indent + line;\n                }\n            }\n        }\n        else {\n            this.lines = 1;\n            this.longestLineLength = message.length;\n        }\n        dom.clearNode(this._relatedBlock);\n        if (!isFalsyOrEmpty(relatedInformation)) {\n            this._relatedBlock.style.paddingTop = Math.floor(this._editor.getConfiguration().lineHeight * .66) + \"px\";\n            this.lines += 1;\n            for (var _i = 0, relatedInformation_1 = relatedInformation; _i < relatedInformation_1.length; _i++) {\n                var related = relatedInformation_1[_i];\n                var container = document.createElement('div');\n                var relatedResource = document.createElement('span');\n                dom.addClass(relatedResource, 'filename');\n                relatedResource.innerHTML = getBaseLabel(related.resource) + \"(\" + related.startLineNumber + \", \" + related.startColumn + \"): \";\n                relatedResource.title = getPathLabel(related.resource);\n                this._relatedDiagnostics.set(relatedResource, related);\n                var relatedMessage = document.createElement('span');\n                relatedMessage.innerText = related.message;\n                this._editor.applyFontInfo(relatedMessage);\n                container.appendChild(relatedResource);\n                container.appendChild(relatedMessage);\n                this.lines += 1;\n                this._relatedBlock.appendChild(container);\n            }\n        }\n        this._messageBlock.innerText = message;\n        this._editor.applyFontInfo(this._messageBlock);\n        var width = Math.floor(this._editor.getConfiguration().fontInfo.typicalFullwidthCharacterWidth * this.longestLineLength);\n        this._scrollable.setScrollDimensions({ scrollWidth: width });\n    };\n    MessageWidget.prototype.layout = function (height, width) {\n        this._scrollable.setScrollDimensions({ width: width });\n    };\n    return MessageWidget;\n}());\nvar MarkerNavigationWidget = /** @class */ (function (_super) {\n    __extends(MarkerNavigationWidget, _super);\n    function MarkerNavigationWidget(editor, _themeService) {\n        var _this = _super.call(this, editor, { showArrow: true, showFrame: true, isAccessible: true }) || this;\n        _this._themeService = _themeService;\n        _this._callOnDispose = [];\n        _this._onDidSelectRelatedInformation = new Emitter();\n        _this.onDidSelectRelatedInformation = _this._onDidSelectRelatedInformation.event;\n        _this._severity = MarkerSeverity.Warning;\n        _this._backgroundColor = Color.white;\n        _this._applyTheme(_themeService.getTheme());\n        _this._callOnDispose.push(_themeService.onThemeChange(_this._applyTheme.bind(_this)));\n        _this.create();\n        return _this;\n    }\n    MarkerNavigationWidget.prototype._applyTheme = function (theme) {\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\n        var colorId = editorMarkerNavigationError;\n        if (this._severity === MarkerSeverity.Warning) {\n            colorId = editorMarkerNavigationWarning;\n        }\n        else if (this._severity === MarkerSeverity.Info) {\n            colorId = editorMarkerNavigationInfo;\n        }\n        var frameColor = theme.getColor(colorId);\n        this.style({\n            arrowColor: frameColor,\n            frameColor: frameColor\n        }); // style() will trigger _applyStyles\n    };\n    MarkerNavigationWidget.prototype._applyStyles = function () {\n        if (this._parentContainer) {\n            this._parentContainer.style.backgroundColor = this._backgroundColor.toString();\n        }\n        _super.prototype._applyStyles.call(this);\n    };\n    MarkerNavigationWidget.prototype.dispose = function () {\n        this._callOnDispose = dispose(this._callOnDispose);\n        _super.prototype.dispose.call(this);\n    };\n    MarkerNavigationWidget.prototype.focus = function () {\n        this._parentContainer.focus();\n    };\n    MarkerNavigationWidget.prototype._fillContainer = function (container) {\n        var _this = this;\n        this._parentContainer = container;\n        dom.addClass(container, 'marker-widget');\n        this._parentContainer.tabIndex = 0;\n        this._parentContainer.setAttribute('role', 'tooltip');\n        this._container = document.createElement('div');\n        container.appendChild(this._container);\n        this._title = document.createElement('div');\n        this._title.className = 'block title';\n        this._container.appendChild(this._title);\n        this._message = new MessageWidget(this._container, this.editor, function (related) { return _this._onDidSelectRelatedInformation.fire(related); });\n        this._disposables.push(this._message);\n    };\n    MarkerNavigationWidget.prototype.show = function (where, heightInLines) {\n        throw new Error('call showAtMarker');\n    };\n    MarkerNavigationWidget.prototype.showAtMarker = function (marker, markerIdx, markerCount) {\n        // update:\n        // * title\n        // * message\n        this._container.classList.remove('stale');\n        this._title.innerHTML = nls.localize('title.wo_source', \"({0}/{1})\", markerIdx, markerCount);\n        this._message.update(marker);\n        // update frame color (only applied on 'show')\n        this._severity = marker.severity;\n        this._applyTheme(this._themeService.getTheme());\n        // show\n        var range = Range.lift(marker);\n        var position = range.containsPosition(this.editor.getPosition()) ? this.editor.getPosition() : range.getStartPosition();\n        _super.prototype.show.call(this, position, this.computeRequiredHeight());\n        this.editor.revealPositionInCenter(position, 0 /* Smooth */);\n        if (this.editor.getConfiguration().accessibilitySupport !== 1 /* Disabled */) {\n            this.focus();\n        }\n    };\n    MarkerNavigationWidget.prototype.updateMarker = function (marker) {\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n    };\n    MarkerNavigationWidget.prototype.showStale = function () {\n        this._container.classList.add('stale');\n        this._relayout();\n    };\n    MarkerNavigationWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\n        this._message.layout(heightInPixel, widthInPixel);\n        this._container.style.height = heightInPixel + \"px\";\n    };\n    MarkerNavigationWidget.prototype._relayout = function () {\n        _super.prototype._relayout.call(this, this.computeRequiredHeight());\n    };\n    MarkerNavigationWidget.prototype.computeRequiredHeight = function () {\n        return 1 + this._message.lines;\n    };\n    return MarkerNavigationWidget;\n}(ZoneWidget));\nexport { MarkerNavigationWidget };\n// theming\nvar errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\nvar warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\nvar infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\nexport var editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hc: errorDefault }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\nexport var editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hc: warningDefault }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\nexport var editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hc: infoDefault }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\nexport var editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', { dark: '#2D2D30', light: Color.white, hc: '#0C141F' }, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\nimport { compare } from '../../../base/common/strings.js';\nimport { binarySearch } from '../../../base/common/arrays.js';\nimport { IEditorService } from '../../../platform/editor/common/editor.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nvar MarkerModel = /** @class */ (function () {\n    function MarkerModel(editor, markers) {\n        var _this = this;\n        this._editor = editor;\n        this._markers = null;\n        this._nextIdx = -1;\n        this._toUnbind = [];\n        this._ignoreSelectionChange = false;\n        this._onCurrentMarkerChanged = new Emitter();\n        this._onMarkerSetChanged = new Emitter();\n        this.setMarkers(markers);\n        // listen on editor\n        this._toUnbind.push(this._editor.onDidDispose(function () { return _this.dispose(); }));\n        this._toUnbind.push(this._editor.onDidChangeCursorPosition(function () {\n            if (_this._ignoreSelectionChange) {\n                return;\n            }\n            if (_this.currentMarker && Range.containsPosition(_this.currentMarker, _this._editor.getPosition())) {\n                return;\n            }\n            _this._nextIdx = -1;\n        }));\n    }\n    Object.defineProperty(MarkerModel.prototype, \"onCurrentMarkerChanged\", {\n        get: function () {\n            return this._onCurrentMarkerChanged.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerModel.prototype, \"onMarkerSetChanged\", {\n        get: function () {\n            return this._onMarkerSetChanged.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerModel.prototype.setMarkers = function (markers) {\n        var oldMarker = this._nextIdx >= 0 ? this._markers[this._nextIdx] : undefined;\n        this._markers = markers || [];\n        this._markers.sort(MarkerNavigationAction.compareMarker);\n        if (!oldMarker) {\n            this._nextIdx = -1;\n        }\n        else {\n            this._nextIdx = Math.max(-1, binarySearch(this._markers, oldMarker, MarkerNavigationAction.compareMarker));\n        }\n        this._onMarkerSetChanged.fire(this);\n    };\n    MarkerModel.prototype.withoutWatchingEditorPosition = function (callback) {\n        this._ignoreSelectionChange = true;\n        try {\n            callback();\n        }\n        finally {\n            this._ignoreSelectionChange = false;\n        }\n    };\n    MarkerModel.prototype._initIdx = function (fwd) {\n        var found = false;\n        var position = this._editor.getPosition();\n        for (var i = 0; i < this._markers.length; i++) {\n            var range = Range.lift(this._markers[i]);\n            if (range.isEmpty()) {\n                var word = this._editor.getModel().getWordAtPosition(range.getStartPosition());\n                if (word) {\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\n                }\n            }\n            if (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition())) {\n                this._nextIdx = i;\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            // after the last change\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\n        }\n        if (this._nextIdx < 0) {\n            this._nextIdx = this._markers.length - 1;\n        }\n    };\n    Object.defineProperty(MarkerModel.prototype, \"currentMarker\", {\n        get: function () {\n            return this.canNavigate() ? this._markers[this._nextIdx] : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerModel.prototype.move = function (fwd, inCircles) {\n        if (!this.canNavigate()) {\n            this._onCurrentMarkerChanged.fire(undefined);\n            return !inCircles;\n        }\n        var oldIdx = this._nextIdx;\n        var atEdge = false;\n        if (this._nextIdx === -1) {\n            this._initIdx(fwd);\n        }\n        else if (fwd) {\n            if (inCircles || this._nextIdx + 1 < this._markers.length) {\n                this._nextIdx = (this._nextIdx + 1) % this._markers.length;\n            }\n            else {\n                atEdge = true;\n            }\n        }\n        else if (!fwd) {\n            if (inCircles || this._nextIdx > 0) {\n                this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\n            }\n            else {\n                atEdge = true;\n            }\n        }\n        if (oldIdx !== this._nextIdx) {\n            var marker = this._markers[this._nextIdx];\n            this._onCurrentMarkerChanged.fire(marker);\n        }\n        return atEdge;\n    };\n    MarkerModel.prototype.canNavigate = function () {\n        return this._markers.length > 0;\n    };\n    MarkerModel.prototype.findMarkerAtPosition = function (pos) {\n        for (var _i = 0, _a = this._markers; _i < _a.length; _i++) {\n            var marker = _a[_i];\n            if (Range.containsPosition(marker, pos)) {\n                return marker;\n            }\n        }\n        return undefined;\n    };\n    Object.defineProperty(MarkerModel.prototype, \"total\", {\n        get: function () {\n            return this._markers.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerModel.prototype.indexOf = function (marker) {\n        return 1 + this._markers.indexOf(marker);\n    };\n    MarkerModel.prototype.dispose = function () {\n        this._toUnbind = dispose(this._toUnbind);\n    };\n    return MarkerModel;\n}());\nvar MarkerController = /** @class */ (function () {\n    function MarkerController(editor, _markerService, _contextKeyService, _themeService, _editorService) {\n        this._markerService = _markerService;\n        this._contextKeyService = _contextKeyService;\n        this._themeService = _themeService;\n        this._editorService = _editorService;\n        this._disposeOnClose = [];\n        this._editor = editor;\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\n    }\n    MarkerController.get = function (editor) {\n        return editor.getContribution(MarkerController.ID);\n    };\n    MarkerController.prototype.getId = function () {\n        return MarkerController.ID;\n    };\n    MarkerController.prototype.dispose = function () {\n        this._cleanUp();\n    };\n    MarkerController.prototype._cleanUp = function () {\n        this._widgetVisible.reset();\n        this._disposeOnClose = dispose(this._disposeOnClose);\n        this._widget = null;\n        this._model = null;\n    };\n    MarkerController.prototype.getOrCreateModel = function () {\n        var _this = this;\n        if (this._model) {\n            return this._model;\n        }\n        var markers = this._getMarkers();\n        this._model = new MarkerModel(this._editor, markers);\n        this._markerService.onMarkerChanged(this._onMarkerChanged, this, this._disposeOnClose);\n        this._widget = new MarkerNavigationWidget(this._editor, this._themeService);\n        this._widgetVisible.set(true);\n        this._disposeOnClose.push(this._model);\n        this._disposeOnClose.push(this._widget);\n        this._disposeOnClose.push(this._widget.onDidSelectRelatedInformation(function (related) {\n            _this._editorService.openEditor({\n                resource: related.resource,\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\n            }).then(undefined, onUnexpectedError);\n            _this.closeMarkersNavigation(false);\n        }));\n        this._disposeOnClose.push(this._editor.onDidChangeModel(function () { return _this._cleanUp(); }));\n        this._disposeOnClose.push(this._model.onCurrentMarkerChanged(function (marker) {\n            if (!marker) {\n                _this._cleanUp();\n            }\n            else {\n                _this._model.withoutWatchingEditorPosition(function () {\n                    _this._widget.showAtMarker(marker, _this._model.indexOf(marker), _this._model.total);\n                });\n            }\n        }));\n        this._disposeOnClose.push(this._model.onMarkerSetChanged(function () {\n            var marker = _this._model.findMarkerAtPosition(_this._widget.position);\n            if (marker) {\n                _this._widget.updateMarker(marker);\n            }\n            else {\n                _this._widget.showStale();\n            }\n        }));\n        return this._model;\n    };\n    MarkerController.prototype.closeMarkersNavigation = function (focusEditor) {\n        if (focusEditor === void 0) { focusEditor = true; }\n        this._cleanUp();\n        if (focusEditor) {\n            this._editor.focus();\n        }\n    };\n    MarkerController.prototype._onMarkerChanged = function (changedResources) {\n        var _this = this;\n        if (!changedResources.some(function (r) { return _this._editor.getModel().uri.toString() === r.toString(); })) {\n            return;\n        }\n        this._model.setMarkers(this._getMarkers());\n    };\n    MarkerController.prototype._getMarkers = function () {\n        return this._markerService.read({\n            resource: this._editor.getModel().uri,\n            severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n        });\n    };\n    MarkerController.ID = 'editor.contrib.markerController';\n    MarkerController = __decorate([\n        __param(1, IMarkerService),\n        __param(2, IContextKeyService),\n        __param(3, IThemeService),\n        __param(4, IEditorService)\n    ], MarkerController);\n    return MarkerController;\n}());\nvar MarkerNavigationAction = /** @class */ (function (_super) {\n    __extends(MarkerNavigationAction, _super);\n    function MarkerNavigationAction(next, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._isNext = next;\n        return _this;\n    }\n    MarkerNavigationAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var markerService = accessor.get(IMarkerService);\n        var editorService = accessor.get(IEditorService);\n        var controller = MarkerController.get(editor);\n        if (!controller) {\n            return undefined;\n        }\n        var model = controller.getOrCreateModel();\n        var atEdge = model.move(this._isNext, false);\n        if (!atEdge) {\n            return undefined;\n        }\n        // try with the next/prev file\n        var markers = markerService.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info }).sort(MarkerNavigationAction.compareMarker);\n        if (markers.length === 0) {\n            return undefined;\n        }\n        var oldMarker = model.currentMarker || { resource: editor.getModel().uri, severity: MarkerSeverity.Error, startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 };\n        var idx = binarySearch(markers, oldMarker, MarkerNavigationAction.compareMarker);\n        if (idx < 0) {\n            // find best match...\n            idx = ~idx;\n            idx %= markers.length;\n        }\n        else if (this._isNext) {\n            idx = (idx + 1) % markers.length;\n        }\n        else {\n            idx = (idx + markers.length - 1) % markers.length;\n        }\n        var newMarker = markers[idx];\n        if (newMarker.resource.toString() === editor.getModel().uri.toString()) {\n            // the next `resource` is this resource which\n            // means we cycle within this file\n            model.move(this._isNext, true);\n            return undefined;\n        }\n        // close the widget for this editor-instance, open the resource\n        // for the next marker and re-start marker navigation in there\n        controller.closeMarkersNavigation();\n        return editorService.openEditor({\n            resource: newMarker.resource,\n            options: { pinned: false, revealIfOpened: true, revealInCenterIfOutsideViewport: true, selection: newMarker }\n        }).then(function (editor) {\n            if (!editor || !isCodeEditor(editor.getControl())) {\n                return undefined;\n            }\n            return editor.getControl().getAction(_this.id).run();\n        });\n    };\n    MarkerNavigationAction.compareMarker = function (a, b) {\n        var res = compare(a.resource.toString(), b.resource.toString());\n        if (res === 0) {\n            res = MarkerSeverity.compare(a.severity, b.severity);\n        }\n        if (res === 0) {\n            res = Range.compareRangesUsingStarts(a, b);\n        }\n        return res;\n    };\n    return MarkerNavigationAction;\n}(EditorAction));\nvar NextMarkerAction = /** @class */ (function (_super) {\n    __extends(NextMarkerAction, _super);\n    function NextMarkerAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.marker.next',\n            label: nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\"),\n            alias: 'Go to Next Error or Warning',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 66 /* F8 */\n            }\n        }) || this;\n    }\n    return NextMarkerAction;\n}(MarkerNavigationAction));\nvar PrevMarkerAction = /** @class */ (function (_super) {\n    __extends(PrevMarkerAction, _super);\n    function PrevMarkerAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.marker.prev',\n            label: nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\"),\n            alias: 'Go to Previous Error or Warning',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* Shift */ | 66 /* F8 */\n            }\n        }) || this;\n    }\n    return PrevMarkerAction;\n}(MarkerNavigationAction));\nregisterEditorContribution(MarkerController);\nregisterEditorAction(NextMarkerAction);\nregisterEditorAction(PrevMarkerAction);\nvar CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\nvar MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\nregisterEditorCommand(new MarkerCommand({\n    id: 'closeMarkersNavigation',\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\n    handler: function (x) { return x.closeMarkersNavigation(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(50),\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { HoverProviderRegistry } from '../../common/modes.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nexport function getHover(model, position) {\n    var supports = HoverProviderRegistry.ordered(model);\n    var values = [];\n    var promises = supports.map(function (support, idx) {\n        return asWinJsPromise(function (token) {\n            return support.provideHover(model, position, token);\n        }).then(function (result) {\n            if (result) {\n                var hasRange = (typeof result.range !== 'undefined');\n                var hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\n                if (hasRange && hasHtmlContent) {\n                    values[idx] = result;\n                }\n            }\n        }, function (err) {\n            onUnexpectedExternalError(err);\n        });\n    });\n    return TPromise.join(promises).then(function () { return coalesce(values); });\n}\nregisterDefaultLanguageCommand('_executeHoverProvider', getHover);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nvar HoverOperation = /** @class */ (function () {\n    function HoverOperation(computer, success, error, progress) {\n        var _this = this;\n        this._computer = computer;\n        this._state = 0 /* IDLE */;\n        this._firstWaitScheduler = new RunOnceScheduler(function () { return _this._triggerAsyncComputation(); }, this._getHoverTimeMillis() / 2);\n        this._secondWaitScheduler = new RunOnceScheduler(function () { return _this._triggerSyncComputation(); }, this._getHoverTimeMillis() / 2);\n        this._loadingMessageScheduler = new RunOnceScheduler(function () { return _this._showLoadingMessage(); }, 3 * this._getHoverTimeMillis());\n        this._asyncComputationPromise = null;\n        this._asyncComputationPromiseDone = false;\n        this._completeCallback = success;\n        this._errorCallback = error;\n        this._progressCallback = progress;\n    }\n    HoverOperation.prototype._getHoverTimeMillis = function () {\n        if (this._computer.getHoverTimeMillis) {\n            return this._computer.getHoverTimeMillis();\n        }\n        return HoverOperation.HOVER_TIME;\n    };\n    HoverOperation.prototype._triggerAsyncComputation = function () {\n        var _this = this;\n        this._state = 2 /* SECOND_WAIT */;\n        this._secondWaitScheduler.schedule();\n        if (this._computer.computeAsync) {\n            this._asyncComputationPromiseDone = false;\n            this._asyncComputationPromise = this._computer.computeAsync().then(function (asyncResult) {\n                _this._asyncComputationPromiseDone = true;\n                _this._withAsyncResult(asyncResult);\n            }, function (e) { return _this._onError(e); });\n        }\n        else {\n            this._asyncComputationPromiseDone = true;\n        }\n    };\n    HoverOperation.prototype._triggerSyncComputation = function () {\n        if (this._computer.computeSync) {\n            this._computer.onResult(this._computer.computeSync(), true);\n        }\n        if (this._asyncComputationPromiseDone) {\n            this._state = 0 /* IDLE */;\n            this._onComplete(this._computer.getResult());\n        }\n        else {\n            this._state = 3 /* WAITING_FOR_ASYNC_COMPUTATION */;\n            this._onProgress(this._computer.getResult());\n        }\n    };\n    HoverOperation.prototype._showLoadingMessage = function () {\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\n            this._onProgress(this._computer.getResultWithLoadingMessage());\n        }\n    };\n    HoverOperation.prototype._withAsyncResult = function (asyncResult) {\n        if (asyncResult) {\n            this._computer.onResult(asyncResult, false);\n        }\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\n            this._state = 0 /* IDLE */;\n            this._onComplete(this._computer.getResult());\n        }\n    };\n    HoverOperation.prototype._onComplete = function (value) {\n        if (this._completeCallback) {\n            this._completeCallback(value);\n        }\n    };\n    HoverOperation.prototype._onError = function (error) {\n        if (this._errorCallback) {\n            this._errorCallback(error);\n        }\n        else {\n            onUnexpectedError(error);\n        }\n    };\n    HoverOperation.prototype._onProgress = function (value) {\n        if (this._progressCallback) {\n            this._progressCallback(value);\n        }\n    };\n    HoverOperation.prototype.start = function () {\n        if (this._state === 0 /* IDLE */) {\n            this._state = 1 /* FIRST_WAIT */;\n            this._firstWaitScheduler.schedule();\n            this._loadingMessageScheduler.schedule();\n        }\n    };\n    HoverOperation.prototype.cancel = function () {\n        this._loadingMessageScheduler.cancel();\n        if (this._state === 1 /* FIRST_WAIT */) {\n            this._firstWaitScheduler.cancel();\n        }\n        if (this._state === 2 /* SECOND_WAIT */) {\n            this._secondWaitScheduler.cancel();\n            if (this._asyncComputationPromise) {\n                this._asyncComputationPromise.cancel();\n                this._asyncComputationPromise = null;\n            }\n        }\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\n            if (this._asyncComputationPromise) {\n                this._asyncComputationPromise.cancel();\n                this._asyncComputationPromise = null;\n            }\n        }\n        this._state = 0 /* IDLE */;\n    };\n    HoverOperation.HOVER_TIME = 300;\n    return HoverOperation;\n}());\nexport { HoverOperation };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { toggleClass } from '../../../base/browser/dom.js';\nimport { Position } from '../../common/core/position.js';\nimport * as editorBrowser from '../../browser/editorBrowser.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nvar ContentHoverWidget = /** @class */ (function (_super) {\n    __extends(ContentHoverWidget, _super);\n    function ContentHoverWidget(id, editor) {\n        var _this = _super.call(this) || this;\n        _this.disposables = [];\n        // Editor.IContentWidget.allowEditorOverflow\n        _this.allowEditorOverflow = true;\n        _this._id = id;\n        _this._editor = editor;\n        _this._isVisible = false;\n        _this._containerDomNode = document.createElement('div');\n        _this._containerDomNode.className = 'monaco-editor-hover hidden';\n        _this._containerDomNode.tabIndex = 0;\n        _this._domNode = document.createElement('div');\n        _this._domNode.className = 'monaco-editor-hover-content';\n        _this.scrollbar = new DomScrollableElement(_this._domNode, {});\n        _this.disposables.push(_this.scrollbar);\n        _this._containerDomNode.appendChild(_this.scrollbar.getDomNode());\n        _this.onkeydown(_this._containerDomNode, function (e) {\n            if (e.equals(9 /* Escape */)) {\n                _this.hide();\n            }\n        });\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\n            if (e.fontInfo) {\n                _this.updateFont();\n            }\n        }));\n        _this._editor.onDidLayoutChange(function (e) { return _this.updateMaxHeight(); });\n        _this.updateMaxHeight();\n        _this._editor.addContentWidget(_this);\n        _this._showAtPosition = null;\n        return _this;\n    }\n    Object.defineProperty(ContentHoverWidget.prototype, \"isVisible\", {\n        get: function () {\n            return this._isVisible;\n        },\n        set: function (value) {\n            this._isVisible = value;\n            toggleClass(this._containerDomNode, 'hidden', !this._isVisible);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContentHoverWidget.prototype.getId = function () {\n        return this._id;\n    };\n    ContentHoverWidget.prototype.getDomNode = function () {\n        return this._containerDomNode;\n    };\n    ContentHoverWidget.prototype.showAt = function (position, focus) {\n        // Position has changed\n        this._showAtPosition = new Position(position.lineNumber, position.column);\n        this.isVisible = true;\n        this._editor.layoutContentWidget(this);\n        // Simply force a synchronous render on the editor\n        // such that the widget does not really render with left = '0px'\n        this._editor.render();\n        this._stoleFocus = focus;\n        if (focus) {\n            this._containerDomNode.focus();\n        }\n    };\n    ContentHoverWidget.prototype.hide = function () {\n        if (!this.isVisible) {\n            return;\n        }\n        this.isVisible = false;\n        this._editor.layoutContentWidget(this);\n        if (this._stoleFocus) {\n            this._editor.focus();\n        }\n    };\n    ContentHoverWidget.prototype.getPosition = function () {\n        if (this.isVisible) {\n            return {\n                position: this._showAtPosition,\n                preference: [\n                    editorBrowser.ContentWidgetPositionPreference.ABOVE,\n                    editorBrowser.ContentWidgetPositionPreference.BELOW\n                ]\n            };\n        }\n        return null;\n    };\n    ContentHoverWidget.prototype.dispose = function () {\n        this._editor.removeContentWidget(this);\n        this.disposables = dispose(this.disposables);\n        _super.prototype.dispose.call(this);\n    };\n    ContentHoverWidget.prototype.updateFont = function () {\n        var _this = this;\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\n        codeClasses.forEach(function (node) { return _this._editor.applyFontInfo(node); });\n    };\n    ContentHoverWidget.prototype.updateContents = function (node) {\n        this._domNode.textContent = '';\n        this._domNode.appendChild(node);\n        this.updateFont();\n        this._editor.layoutContentWidget(this);\n        this.onContentsChange();\n    };\n    ContentHoverWidget.prototype.onContentsChange = function () {\n        this.scrollbar.scanDomNode();\n    };\n    ContentHoverWidget.prototype.updateMaxHeight = function () {\n        var height = Math.max(this._editor.getLayoutInfo().height / 4, 250);\n        var _a = this._editor.getConfiguration().fontInfo, fontSize = _a.fontSize, lineHeight = _a.lineHeight;\n        this._domNode.style.fontSize = fontSize + \"px\";\n        this._domNode.style.lineHeight = lineHeight + \"px\";\n        this._domNode.style.maxHeight = height + \"px\";\n    };\n    return ContentHoverWidget;\n}(Widget));\nexport { ContentHoverWidget };\nvar GlyphHoverWidget = /** @class */ (function (_super) {\n    __extends(GlyphHoverWidget, _super);\n    function GlyphHoverWidget(id, editor) {\n        var _this = _super.call(this) || this;\n        _this._id = id;\n        _this._editor = editor;\n        _this._isVisible = false;\n        _this._domNode = document.createElement('div');\n        _this._domNode.className = 'monaco-editor-hover hidden';\n        _this._domNode.setAttribute('aria-hidden', 'true');\n        _this._domNode.setAttribute('role', 'presentation');\n        _this._showAtLineNumber = -1;\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\n            if (e.fontInfo) {\n                _this.updateFont();\n            }\n        }));\n        _this._editor.addOverlayWidget(_this);\n        return _this;\n    }\n    Object.defineProperty(GlyphHoverWidget.prototype, \"isVisible\", {\n        get: function () {\n            return this._isVisible;\n        },\n        set: function (value) {\n            this._isVisible = value;\n            toggleClass(this._domNode, 'hidden', !this._isVisible);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GlyphHoverWidget.prototype.getId = function () {\n        return this._id;\n    };\n    GlyphHoverWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    GlyphHoverWidget.prototype.showAt = function (lineNumber) {\n        this._showAtLineNumber = lineNumber;\n        if (!this.isVisible) {\n            this.isVisible = true;\n        }\n        var editorLayout = this._editor.getLayoutInfo();\n        var topForLineNumber = this._editor.getTopForLineNumber(this._showAtLineNumber);\n        var editorScrollTop = this._editor.getScrollTop();\n        var lineHeight = this._editor.getConfiguration().lineHeight;\n        var nodeHeight = this._domNode.clientHeight;\n        var top = topForLineNumber - editorScrollTop - ((nodeHeight - lineHeight) / 2);\n        this._domNode.style.left = editorLayout.glyphMarginLeft + editorLayout.glyphMarginWidth + \"px\";\n        this._domNode.style.top = Math.max(Math.round(top), 0) + \"px\";\n    };\n    GlyphHoverWidget.prototype.hide = function () {\n        if (!this.isVisible) {\n            return;\n        }\n        this.isVisible = false;\n    };\n    GlyphHoverWidget.prototype.getPosition = function () {\n        return null;\n    };\n    GlyphHoverWidget.prototype.dispose = function () {\n        this._editor.removeOverlayWidget(this);\n        _super.prototype.dispose.call(this);\n    };\n    GlyphHoverWidget.prototype.updateFont = function () {\n        var _this = this;\n        var codeTags = Array.prototype.slice.call(this._domNode.getElementsByTagName('code'));\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\n        codeTags.concat(codeClasses).forEach(function (node) { return _this._editor.applyFontInfo(node); });\n    };\n    GlyphHoverWidget.prototype.updateContents = function (node) {\n        this._domNode.textContent = '';\n        this._domNode.appendChild(node);\n        this.updateFont();\n    };\n    return GlyphHoverWidget;\n}(Widget));\nexport { GlyphHoverWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nvar ColorPickerModel = /** @class */ (function () {\n    function ColorPickerModel(color, availableColorPresentations, presentationIndex) {\n        this.presentationIndex = presentationIndex;\n        this._onColorFlushed = new Emitter();\n        this.onColorFlushed = this._onColorFlushed.event;\n        this._onDidChangeColor = new Emitter();\n        this.onDidChangeColor = this._onDidChangeColor.event;\n        this._onDidChangePresentation = new Emitter();\n        this.onDidChangePresentation = this._onDidChangePresentation.event;\n        this.originalColor = color;\n        this._color = color;\n        this._colorPresentations = availableColorPresentations;\n    }\n    Object.defineProperty(ColorPickerModel.prototype, \"color\", {\n        get: function () {\n            return this._color;\n        },\n        set: function (color) {\n            if (this._color.equals(color)) {\n                return;\n            }\n            this._color = color;\n            this._onDidChangeColor.fire(color);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColorPickerModel.prototype, \"presentation\", {\n        get: function () { return this.colorPresentations[this.presentationIndex]; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ColorPickerModel.prototype, \"colorPresentations\", {\n        get: function () {\n            return this._colorPresentations;\n        },\n        set: function (colorPresentations) {\n            this._colorPresentations = colorPresentations;\n            if (this.presentationIndex > colorPresentations.length - 1) {\n                this.presentationIndex = 0;\n            }\n            this._onDidChangePresentation.fire(this.presentation);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ColorPickerModel.prototype.selectNextColorPresentation = function () {\n        this.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;\n        this.flushColor();\n        this._onDidChangePresentation.fire(this.presentation);\n    };\n    ColorPickerModel.prototype.guessColorPresentation = function (color, originalText) {\n        for (var i = 0; i < this.colorPresentations.length; i++) {\n            if (originalText === this.colorPresentations[i].label) {\n                this.presentationIndex = i;\n                this._onDidChangePresentation.fire(this.presentation);\n                break;\n            }\n        }\n    };\n    ColorPickerModel.prototype.flushColor = function () {\n        this._onColorFlushed.fire(this._color);\n    };\n    return ColorPickerModel;\n}());\nexport { ColorPickerModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './colorPicker.css';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\nimport { Color, RGBA, HSVA } from '../../../base/common/color.js';\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nvar $ = dom.$;\nvar ColorPickerHeader = /** @class */ (function (_super) {\n    __extends(ColorPickerHeader, _super);\n    function ColorPickerHeader(container, model, themeService) {\n        var _this = _super.call(this) || this;\n        _this.model = model;\n        _this.domNode = $('.colorpicker-header');\n        dom.append(container, _this.domNode);\n        _this.pickedColorNode = dom.append(_this.domNode, $('.picked-color'));\n        var colorBox = dom.append(_this.domNode, $('.original-color'));\n        colorBox.style.backgroundColor = Color.Format.CSS.format(_this.model.originalColor);\n        _this.backgroundColor = themeService.getTheme().getColor(editorHoverBackground) || Color.white;\n        _this._register(registerThemingParticipant(function (theme, collector) {\n            _this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\n        }));\n        _this._register(dom.addDisposableListener(_this.pickedColorNode, dom.EventType.CLICK, function () { return _this.model.selectNextColorPresentation(); }));\n        _this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, function () {\n            _this.model.color = _this.model.originalColor;\n            _this.model.flushColor();\n        }));\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\n        _this._register(model.onDidChangePresentation(_this.onDidChangePresentation, _this));\n        _this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color);\n        dom.toggleClass(_this.pickedColorNode, 'light', model.color.rgba.a < 0.5 ? _this.backgroundColor.isLighter() : model.color.isLighter());\n        return _this;\n    }\n    ColorPickerHeader.prototype.onDidChangeColor = function (color) {\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color);\n        dom.toggleClass(this.pickedColorNode, 'light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\n        this.onDidChangePresentation();\n    };\n    ColorPickerHeader.prototype.onDidChangePresentation = function () {\n        this.pickedColorNode.textContent = this.model.presentation.label;\n    };\n    return ColorPickerHeader;\n}(Disposable));\nexport { ColorPickerHeader };\nvar ColorPickerBody = /** @class */ (function (_super) {\n    __extends(ColorPickerBody, _super);\n    function ColorPickerBody(container, model, pixelRatio) {\n        var _this = _super.call(this) || this;\n        _this.model = model;\n        _this.pixelRatio = pixelRatio;\n        _this.domNode = $('.colorpicker-body');\n        dom.append(container, _this.domNode);\n        _this.saturationBox = new SaturationBox(_this.domNode, _this.model, _this.pixelRatio);\n        _this._register(_this.saturationBox);\n        _this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange, _this));\n        _this._register(_this.saturationBox.onColorFlushed(_this.flushColor, _this));\n        _this.opacityStrip = new OpacityStrip(_this.domNode, _this.model);\n        _this._register(_this.opacityStrip);\n        _this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange, _this));\n        _this._register(_this.opacityStrip.onColorFlushed(_this.flushColor, _this));\n        _this.hueStrip = new HueStrip(_this.domNode, _this.model);\n        _this._register(_this.hueStrip);\n        _this._register(_this.hueStrip.onDidChange(_this.onDidHueChange, _this));\n        _this._register(_this.hueStrip.onColorFlushed(_this.flushColor, _this));\n        return _this;\n    }\n    ColorPickerBody.prototype.flushColor = function () {\n        this.model.flushColor();\n    };\n    ColorPickerBody.prototype.onDidSaturationValueChange = function (_a) {\n        var s = _a.s, v = _a.v;\n        var hsva = this.model.color.hsva;\n        this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n    };\n    ColorPickerBody.prototype.onDidOpacityChange = function (a) {\n        var hsva = this.model.color.hsva;\n        this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n    };\n    ColorPickerBody.prototype.onDidHueChange = function (value) {\n        var hsva = this.model.color.hsva;\n        var h = (1 - value) * 360;\n        this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n    };\n    ColorPickerBody.prototype.layout = function () {\n        this.saturationBox.layout();\n        this.opacityStrip.layout();\n        this.hueStrip.layout();\n    };\n    return ColorPickerBody;\n}(Disposable));\nexport { ColorPickerBody };\nvar SaturationBox = /** @class */ (function (_super) {\n    __extends(SaturationBox, _super);\n    function SaturationBox(container, model, pixelRatio) {\n        var _this = _super.call(this) || this;\n        _this.model = model;\n        _this.pixelRatio = pixelRatio;\n        _this._onDidChange = new Emitter();\n        _this.onDidChange = _this._onDidChange.event;\n        _this._onColorFlushed = new Emitter();\n        _this.onColorFlushed = _this._onColorFlushed.event;\n        _this.domNode = $('.saturation-wrap');\n        dom.append(container, _this.domNode);\n        // Create canvas, draw selected color\n        _this.canvas = document.createElement('canvas');\n        _this.canvas.className = 'saturation-box';\n        dom.append(_this.domNode, _this.canvas);\n        // Add selection circle\n        _this.selection = $('.saturation-selection');\n        dom.append(_this.domNode, _this.selection);\n        _this.layout();\n        _this._register(dom.addDisposableListener(_this.domNode, dom.EventType.MOUSE_DOWN, function (e) { return _this.onMouseDown(e); }));\n        _this._register(_this.model.onDidChangeColor(_this.onDidChangeColor, _this));\n        _this.monitor = null;\n        return _this;\n    }\n    SaturationBox.prototype.onMouseDown = function (e) {\n        var _this = this;\n        this.monitor = this._register(new GlobalMouseMoveMonitor());\n        var origin = dom.getDomNodePagePosition(this.domNode);\n        if (e.target !== this.selection) {\n            this.onDidChangePosition(e.offsetX, e.offsetY);\n        }\n        this.monitor.startMonitoring(standardMouseMoveMerger, function (event) { return _this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top); }, function () { return null; });\n        var mouseUpListener = dom.addDisposableListener(document, dom.EventType.MOUSE_UP, function () {\n            _this._onColorFlushed.fire();\n            mouseUpListener.dispose();\n            _this.monitor.stopMonitoring(true);\n            _this.monitor = null;\n        }, true);\n    };\n    SaturationBox.prototype.onDidChangePosition = function (left, top) {\n        var s = Math.max(0, Math.min(1, left / this.width));\n        var v = Math.max(0, Math.min(1, 1 - (top / this.height)));\n        this.paintSelection(s, v);\n        this._onDidChange.fire({ s: s, v: v });\n    };\n    SaturationBox.prototype.layout = function () {\n        this.width = this.domNode.offsetWidth;\n        this.height = this.domNode.offsetHeight;\n        this.canvas.width = this.width * this.pixelRatio;\n        this.canvas.height = this.height * this.pixelRatio;\n        this.paint();\n        var hsva = this.model.color.hsva;\n        this.paintSelection(hsva.s, hsva.v);\n    };\n    SaturationBox.prototype.paint = function () {\n        var hsva = this.model.color.hsva;\n        var saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n        var ctx = this.canvas.getContext('2d');\n        var whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\n        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n        var blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\n        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n        ctx.rect(0, 0, this.canvas.width, this.canvas.height);\n        ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\n        ctx.fill();\n        ctx.fillStyle = whiteGradient;\n        ctx.fill();\n        ctx.fillStyle = blackGradient;\n        ctx.fill();\n    };\n    SaturationBox.prototype.paintSelection = function (s, v) {\n        this.selection.style.left = s * this.width + \"px\";\n        this.selection.style.top = this.height - v * this.height + \"px\";\n    };\n    SaturationBox.prototype.onDidChangeColor = function () {\n        if (this.monitor && this.monitor.isMonitoring()) {\n            return;\n        }\n        this.paint();\n    };\n    return SaturationBox;\n}(Disposable));\nvar Strip = /** @class */ (function (_super) {\n    __extends(Strip, _super);\n    function Strip(container, model) {\n        var _this = _super.call(this) || this;\n        _this.model = model;\n        _this._onDidChange = new Emitter();\n        _this.onDidChange = _this._onDidChange.event;\n        _this._onColorFlushed = new Emitter();\n        _this.onColorFlushed = _this._onColorFlushed.event;\n        _this.domNode = dom.append(container, $('.strip'));\n        _this.overlay = dom.append(_this.domNode, $('.overlay'));\n        _this.slider = dom.append(_this.domNode, $('.slider'));\n        _this.slider.style.top = \"0px\";\n        _this._register(dom.addDisposableListener(_this.domNode, dom.EventType.MOUSE_DOWN, function (e) { return _this.onMouseDown(e); }));\n        _this.layout();\n        return _this;\n    }\n    Strip.prototype.layout = function () {\n        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n        var value = this.getValue(this.model.color);\n        this.updateSliderPosition(value);\n    };\n    Strip.prototype.onMouseDown = function (e) {\n        var _this = this;\n        var monitor = this._register(new GlobalMouseMoveMonitor());\n        var origin = dom.getDomNodePagePosition(this.domNode);\n        dom.addClass(this.domNode, 'grabbing');\n        if (e.target !== this.slider) {\n            this.onDidChangeTop(e.offsetY);\n        }\n        monitor.startMonitoring(standardMouseMoveMerger, function (event) { return _this.onDidChangeTop(event.posy - origin.top); }, function () { return null; });\n        var mouseUpListener = dom.addDisposableListener(document, dom.EventType.MOUSE_UP, function () {\n            _this._onColorFlushed.fire();\n            mouseUpListener.dispose();\n            monitor.stopMonitoring(true);\n            dom.removeClass(_this.domNode, 'grabbing');\n        }, true);\n    };\n    Strip.prototype.onDidChangeTop = function (top) {\n        var value = Math.max(0, Math.min(1, 1 - (top / this.height)));\n        this.updateSliderPosition(value);\n        this._onDidChange.fire(value);\n    };\n    Strip.prototype.updateSliderPosition = function (value) {\n        this.slider.style.top = (1 - value) * this.height + \"px\";\n    };\n    return Strip;\n}(Disposable));\nvar OpacityStrip = /** @class */ (function (_super) {\n    __extends(OpacityStrip, _super);\n    function OpacityStrip(container, model) {\n        var _this = _super.call(this, container, model) || this;\n        dom.addClass(_this.domNode, 'opacity-strip');\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\n        _this.onDidChangeColor(_this.model.color);\n        return _this;\n    }\n    OpacityStrip.prototype.onDidChangeColor = function (color) {\n        var _a = color.rgba, r = _a.r, g = _a.g, b = _a.b;\n        var opaque = new Color(new RGBA(r, g, b, 1));\n        var transparent = new Color(new RGBA(r, g, b, 0));\n        this.overlay.style.background = \"linear-gradient(to bottom, \" + opaque + \" 0%, \" + transparent + \" 100%)\";\n    };\n    OpacityStrip.prototype.getValue = function (color) {\n        return color.hsva.a;\n    };\n    return OpacityStrip;\n}(Strip));\nvar HueStrip = /** @class */ (function (_super) {\n    __extends(HueStrip, _super);\n    function HueStrip(container, model) {\n        var _this = _super.call(this, container, model) || this;\n        dom.addClass(_this.domNode, 'hue-strip');\n        return _this;\n    }\n    HueStrip.prototype.getValue = function (color) {\n        return 1 - (color.hsva.h / 360);\n    };\n    return HueStrip;\n}(Strip));\nvar ColorPickerWidget = /** @class */ (function (_super) {\n    __extends(ColorPickerWidget, _super);\n    function ColorPickerWidget(container, model, pixelRatio, themeService) {\n        var _this = _super.call(this) || this;\n        _this.model = model;\n        _this.pixelRatio = pixelRatio;\n        _this._register(onDidChangeZoomLevel(function () { return _this.layout(); }));\n        var element = $('.colorpicker-widget');\n        container.appendChild(element);\n        var header = new ColorPickerHeader(element, _this.model, themeService);\n        _this.body = new ColorPickerBody(element, _this.model, _this.pixelRatio);\n        _this._register(header);\n        _this._register(_this.body);\n        return _this;\n    }\n    ColorPickerWidget.prototype.getId = function () {\n        return ColorPickerWidget.ID;\n    };\n    ColorPickerWidget.prototype.layout = function () {\n        this.body.layout();\n    };\n    ColorPickerWidget.ID = 'editor.contrib.colorPickerWidget';\n    return ColorPickerWidget;\n}(Widget));\nexport { ColorPickerWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { Position } from '../../common/core/position.js';\nimport { HoverProviderRegistry } from '../../common/modes.js';\nimport { getHover } from './getHover.js';\nimport { HoverOperation } from './hoverOperation.js';\nimport { ContentHoverWidget } from './hoverWidgets.js';\nimport { MarkdownString, isEmptyMarkdownString, markedStringsEquals } from '../../../base/common/htmlContent.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { ColorPickerModel } from '../colorPicker/colorPickerModel.js';\nimport { ColorPickerWidget } from '../colorPicker/colorPickerWidget.js';\nimport { ColorDetector } from '../colorPicker/colorDetector.js';\nimport { Color, RGBA } from '../../../base/common/color.js';\nimport { empty as EmptyDisposable, dispose, combinedDisposable } from '../../../base/common/lifecycle.js';\nimport { getColorPresentations } from '../colorPicker/color.js';\nvar $ = dom.$;\nvar ColorHover = /** @class */ (function () {\n    function ColorHover(range, color, provider) {\n        this.range = range;\n        this.color = color;\n        this.provider = provider;\n    }\n    return ColorHover;\n}());\nvar ModesContentComputer = /** @class */ (function () {\n    function ModesContentComputer(editor) {\n        this._editor = editor;\n        this._range = null;\n    }\n    ModesContentComputer.prototype.setRange = function (range) {\n        this._range = range;\n        this._result = [];\n    };\n    ModesContentComputer.prototype.clearResult = function () {\n        this._result = [];\n    };\n    ModesContentComputer.prototype.computeAsync = function () {\n        var model = this._editor.getModel();\n        if (!HoverProviderRegistry.has(model)) {\n            return TPromise.as(null);\n        }\n        return getHover(model, new Position(this._range.startLineNumber, this._range.startColumn));\n    };\n    ModesContentComputer.prototype.computeSync = function () {\n        var _this = this;\n        var lineNumber = this._range.startLineNumber;\n        if (lineNumber > this._editor.getModel().getLineCount()) {\n            // Illegal line number => no results\n            return [];\n        }\n        var colorDetector = ColorDetector.get(this._editor);\n        var maxColumn = this._editor.getModel().getLineMaxColumn(lineNumber);\n        var lineDecorations = this._editor.getLineDecorations(lineNumber);\n        var didFindColor = false;\n        var result = lineDecorations.map(function (d) {\n            var startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n            var endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n            if (startColumn > _this._range.startColumn || _this._range.endColumn > endColumn) {\n                return null;\n            }\n            var range = new Range(_this._range.startLineNumber, startColumn, _this._range.startLineNumber, endColumn);\n            var colorData = colorDetector.getColorData(d.range.getStartPosition());\n            if (!didFindColor && colorData) {\n                didFindColor = true;\n                var _a = colorData.colorInfo, color = _a.color, range_1 = _a.range;\n                return new ColorHover(range_1, color, colorData.provider);\n            }\n            else {\n                if (isEmptyMarkdownString(d.options.hoverMessage)) {\n                    return null;\n                }\n                var contents = void 0;\n                if (d.options.hoverMessage) {\n                    if (Array.isArray(d.options.hoverMessage)) {\n                        contents = d.options.hoverMessage.slice();\n                    }\n                    else {\n                        contents = [d.options.hoverMessage];\n                    }\n                }\n                return { contents: contents, range: range };\n            }\n        });\n        return result.filter(function (d) { return !!d; });\n    };\n    ModesContentComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\n        // Always put synchronous messages before asynchronous ones\n        if (isFromSynchronousComputation) {\n            this._result = result.concat(this._result.sort(function (a, b) {\n                if (a instanceof ColorHover) { // sort picker messages at to the top\n                    return -1;\n                }\n                else if (b instanceof ColorHover) {\n                    return 1;\n                }\n                return 0;\n            }));\n        }\n        else {\n            this._result = this._result.concat(result);\n        }\n    };\n    ModesContentComputer.prototype.getResult = function () {\n        return this._result.slice(0);\n    };\n    ModesContentComputer.prototype.getResultWithLoadingMessage = function () {\n        return this._result.slice(0).concat([this._getLoadingMessage()]);\n    };\n    ModesContentComputer.prototype._getLoadingMessage = function () {\n        return {\n            range: this._range,\n            contents: [new MarkdownString().appendText(nls.localize('modesContentHover.loading', \"Loading...\"))]\n        };\n    };\n    return ModesContentComputer;\n}());\nvar ModesContentHoverWidget = /** @class */ (function (_super) {\n    __extends(ModesContentHoverWidget, _super);\n    function ModesContentHoverWidget(editor, markdownRenderner, _themeService) {\n        var _this = _super.call(this, ModesContentHoverWidget.ID, editor) || this;\n        _this._themeService = _themeService;\n        _this.renderDisposable = EmptyDisposable;\n        _this.toDispose = [];\n        _this._computer = new ModesContentComputer(_this._editor);\n        _this._highlightDecorations = [];\n        _this._isChangingDecorations = false;\n        _this._markdownRenderer = markdownRenderner;\n        markdownRenderner.onDidRenderCodeBlock(_this.onContentsChange, _this, _this.toDispose);\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result, true); }, null, function (result) { return _this._withResult(result, false); });\n        _this.toDispose.push(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.FOCUS, function () {\n            if (_this._colorPicker) {\n                dom.addClass(_this.getDomNode(), 'colorpicker-hover');\n            }\n        }));\n        _this.toDispose.push(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.BLUR, function () {\n            dom.removeClass(_this.getDomNode(), 'colorpicker-hover');\n        }));\n        return _this;\n    }\n    ModesContentHoverWidget.prototype.dispose = function () {\n        this.renderDisposable.dispose();\n        this.renderDisposable = EmptyDisposable;\n        this._hoverOperation.cancel();\n        this.toDispose = dispose(this.toDispose);\n        _super.prototype.dispose.call(this);\n    };\n    ModesContentHoverWidget.prototype.onModelDecorationsChanged = function () {\n        if (this._isChangingDecorations) {\n            return;\n        }\n        if (this.isVisible) {\n            // The decorations have changed and the hover is visible,\n            // we need to recompute the displayed text\n            this._hoverOperation.cancel();\n            this._computer.clearResult();\n            if (!this._colorPicker) { // TODO@Michel ensure that displayed text for other decorations is computed even if color picker is in place\n                this._hoverOperation.start();\n            }\n        }\n    };\n    ModesContentHoverWidget.prototype.startShowingAt = function (range, focus) {\n        if (this._lastRange && this._lastRange.equalsRange(range)) {\n            // We have to show the widget at the exact same range as before, so no work is needed\n            return;\n        }\n        this._hoverOperation.cancel();\n        if (this.isVisible) {\n            // The range might have changed, but the hover is visible\n            // Instead of hiding it completely, filter out messages that are still in the new range and\n            // kick off a new computation\n            if (this._showAtPosition.lineNumber !== range.startLineNumber) {\n                this.hide();\n            }\n            else {\n                var filteredMessages = [];\n                for (var i = 0, len = this._messages.length; i < len; i++) {\n                    var msg = this._messages[i];\n                    var rng = msg.range;\n                    if (rng.startColumn <= range.startColumn && rng.endColumn >= range.endColumn) {\n                        filteredMessages.push(msg);\n                    }\n                }\n                if (filteredMessages.length > 0) {\n                    if (hoverContentsEquals(filteredMessages, this._messages)) {\n                        return;\n                    }\n                    this._renderMessages(range, filteredMessages);\n                }\n                else {\n                    this.hide();\n                }\n            }\n        }\n        this._lastRange = range;\n        this._computer.setRange(range);\n        this._shouldFocus = focus;\n        this._hoverOperation.start();\n    };\n    ModesContentHoverWidget.prototype.hide = function () {\n        this._lastRange = null;\n        this._hoverOperation.cancel();\n        _super.prototype.hide.call(this);\n        this._isChangingDecorations = true;\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, []);\n        this._isChangingDecorations = false;\n        this.renderDisposable.dispose();\n        this.renderDisposable = EmptyDisposable;\n        this._colorPicker = null;\n    };\n    ModesContentHoverWidget.prototype.isColorPickerVisible = function () {\n        if (this._colorPicker) {\n            return true;\n        }\n        return false;\n    };\n    ModesContentHoverWidget.prototype._withResult = function (result, complete) {\n        this._messages = result;\n        if (this._lastRange && this._messages.length > 0) {\n            this._renderMessages(this._lastRange, this._messages);\n        }\n        else if (complete) {\n            this.hide();\n        }\n    };\n    ModesContentHoverWidget.prototype._renderMessages = function (renderRange, messages) {\n        var _this = this;\n        this.renderDisposable.dispose();\n        this._colorPicker = null;\n        // update column from which to show\n        var renderColumn = Number.MAX_VALUE, highlightRange = messages[0].range, fragment = document.createDocumentFragment(), isEmptyHoverContent = true;\n        var containColorPicker = false;\n        var markdownDisposeable;\n        messages.forEach(function (msg) {\n            if (!msg.range) {\n                return;\n            }\n            renderColumn = Math.min(renderColumn, msg.range.startColumn);\n            highlightRange = Range.plusRange(highlightRange, msg.range);\n            if (!(msg instanceof ColorHover)) {\n                msg.contents\n                    .filter(function (contents) { return !isEmptyMarkdownString(contents); })\n                    .forEach(function (contents) {\n                    var renderedContents = _this._markdownRenderer.render(contents);\n                    markdownDisposeable = renderedContents;\n                    fragment.appendChild($('div.hover-row', null, renderedContents.element));\n                    isEmptyHoverContent = false;\n                });\n            }\n            else {\n                containColorPicker = true;\n                var _a = msg.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\n                var rgba = new RGBA(red * 255, green * 255, blue * 255, alpha);\n                var color_1 = new Color(rgba);\n                var editorModel_1 = _this._editor.getModel();\n                var range_2 = new Range(msg.range.startLineNumber, msg.range.startColumn, msg.range.endLineNumber, msg.range.endColumn);\n                var colorInfo = { range: msg.range, color: msg.color };\n                // create blank olor picker model and widget first to ensure it's positioned correctly.\n                var model_1 = new ColorPickerModel(color_1, [], 0);\n                var widget_1 = new ColorPickerWidget(fragment, model_1, _this._editor.getConfiguration().pixelRatio, _this._themeService);\n                getColorPresentations(editorModel_1, colorInfo, msg.provider).then(function (colorPresentations) {\n                    model_1.colorPresentations = colorPresentations;\n                    var originalText = _this._editor.getModel().getValueInRange(msg.range);\n                    model_1.guessColorPresentation(color_1, originalText);\n                    var updateEditorModel = function () {\n                        var textEdits;\n                        var newRange;\n                        if (model_1.presentation.textEdit) {\n                            textEdits = [model_1.presentation.textEdit];\n                            newRange = new Range(model_1.presentation.textEdit.range.startLineNumber, model_1.presentation.textEdit.range.startColumn, model_1.presentation.textEdit.range.endLineNumber, model_1.presentation.textEdit.range.endColumn);\n                            newRange = newRange.setEndPosition(newRange.endLineNumber, newRange.startColumn + model_1.presentation.textEdit.text.length);\n                        }\n                        else {\n                            textEdits = [{ identifier: null, range: range_2, text: model_1.presentation.label, forceMoveMarkers: false }];\n                            newRange = range_2.setEndPosition(range_2.endLineNumber, range_2.startColumn + model_1.presentation.label.length);\n                        }\n                        editorModel_1.pushEditOperations([], textEdits, function () { return []; });\n                        if (model_1.presentation.additionalTextEdits) {\n                            textEdits = model_1.presentation.additionalTextEdits.slice();\n                            editorModel_1.pushEditOperations([], textEdits, function () { return []; });\n                            _this.hide();\n                        }\n                        _this._editor.pushUndoStop();\n                        range_2 = newRange;\n                    };\n                    var updateColorPresentations = function (color) {\n                        return getColorPresentations(editorModel_1, {\n                            range: range_2,\n                            color: {\n                                red: color.rgba.r / 255,\n                                green: color.rgba.g / 255,\n                                blue: color.rgba.b / 255,\n                                alpha: color.rgba.a\n                            }\n                        }, msg.provider).then(function (colorPresentations) {\n                            model_1.colorPresentations = colorPresentations;\n                        });\n                    };\n                    var colorListener = model_1.onColorFlushed(function (color) {\n                        updateColorPresentations(color).then(updateEditorModel);\n                    });\n                    var colorChangeListener = model_1.onDidChangeColor(updateColorPresentations);\n                    _this._colorPicker = widget_1;\n                    _this.showAt(new Position(renderRange.startLineNumber, renderColumn), _this._shouldFocus);\n                    _this.updateContents(fragment);\n                    _this._colorPicker.layout();\n                    _this.renderDisposable = combinedDisposable([colorListener, colorChangeListener, widget_1, markdownDisposeable]);\n                });\n            }\n        });\n        // show\n        if (!containColorPicker && !isEmptyHoverContent) {\n            this.showAt(new Position(renderRange.startLineNumber, renderColumn), this._shouldFocus);\n            this.updateContents(fragment);\n        }\n        this._isChangingDecorations = true;\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, [{\n                range: highlightRange,\n                options: ModesContentHoverWidget._DECORATION_OPTIONS\n            }]);\n        this._isChangingDecorations = false;\n    };\n    ModesContentHoverWidget.ID = 'editor.contrib.modesContentHoverWidget';\n    ModesContentHoverWidget._DECORATION_OPTIONS = ModelDecorationOptions.register({\n        className: 'hoverHighlight'\n    });\n    return ModesContentHoverWidget;\n}(ContentHoverWidget));\nexport { ModesContentHoverWidget };\nfunction hoverContentsEquals(first, second) {\n    if ((!first && second) || (first && !second) || first.length !== second.length) {\n        return false;\n    }\n    for (var i = 0; i < first.length; i++) {\n        var firstElement = first[i];\n        var secondElement = second[i];\n        if (firstElement instanceof ColorHover) {\n            return false;\n        }\n        if (secondElement instanceof ColorHover) {\n            return false;\n        }\n        if (!markedStringsEquals(firstElement.contents, secondElement.contents)) {\n            return false;\n        }\n    }\n    return true;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { HoverOperation } from './hoverOperation.js';\nimport { GlyphHoverWidget } from './hoverWidgets.js';\nimport { $ } from '../../../base/browser/dom.js';\nimport { isEmptyMarkdownString } from '../../../base/common/htmlContent.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nvar MarginComputer = /** @class */ (function () {\n    function MarginComputer(editor) {\n        this._editor = editor;\n        this._lineNumber = -1;\n    }\n    MarginComputer.prototype.setLineNumber = function (lineNumber) {\n        this._lineNumber = lineNumber;\n        this._result = [];\n    };\n    MarginComputer.prototype.clearResult = function () {\n        this._result = [];\n    };\n    MarginComputer.prototype.computeSync = function () {\n        var toHoverMessage = function (contents) {\n            return {\n                value: contents\n            };\n        };\n        var lineDecorations = this._editor.getLineDecorations(this._lineNumber);\n        var result = [];\n        for (var i = 0, len = lineDecorations.length; i < len; i++) {\n            var d = lineDecorations[i];\n            if (!d.options.glyphMarginClassName) {\n                continue;\n            }\n            var hoverMessage = d.options.glyphMarginHoverMessage;\n            if (isEmptyMarkdownString(hoverMessage)) {\n                continue;\n            }\n            if (Array.isArray(hoverMessage)) {\n                result = result.concat(hoverMessage.map(toHoverMessage));\n            }\n            else {\n                result.push(toHoverMessage(hoverMessage));\n            }\n        }\n        return result;\n    };\n    MarginComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\n        this._result = this._result.concat(result);\n    };\n    MarginComputer.prototype.getResult = function () {\n        return this._result;\n    };\n    MarginComputer.prototype.getResultWithLoadingMessage = function () {\n        return this.getResult();\n    };\n    return MarginComputer;\n}());\nvar ModesGlyphHoverWidget = /** @class */ (function (_super) {\n    __extends(ModesGlyphHoverWidget, _super);\n    function ModesGlyphHoverWidget(editor, markdownRenderer) {\n        var _this = _super.call(this, ModesGlyphHoverWidget.ID, editor) || this;\n        _this._lastLineNumber = -1;\n        _this._markdownRenderer = markdownRenderer;\n        _this._computer = new MarginComputer(_this._editor);\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result); }, null, function (result) { return _this._withResult(result); });\n        return _this;\n    }\n    ModesGlyphHoverWidget.prototype.dispose = function () {\n        this._renderDisposeables = dispose(this._renderDisposeables);\n        this._hoverOperation.cancel();\n        _super.prototype.dispose.call(this);\n    };\n    ModesGlyphHoverWidget.prototype.onModelDecorationsChanged = function () {\n        if (this.isVisible) {\n            // The decorations have changed and the hover is visible,\n            // we need to recompute the displayed text\n            this._hoverOperation.cancel();\n            this._computer.clearResult();\n            this._hoverOperation.start();\n        }\n    };\n    ModesGlyphHoverWidget.prototype.startShowingAt = function (lineNumber) {\n        if (this._lastLineNumber === lineNumber) {\n            // We have to show the widget at the exact same line number as before, so no work is needed\n            return;\n        }\n        this._hoverOperation.cancel();\n        this.hide();\n        this._lastLineNumber = lineNumber;\n        this._computer.setLineNumber(lineNumber);\n        this._hoverOperation.start();\n    };\n    ModesGlyphHoverWidget.prototype.hide = function () {\n        this._lastLineNumber = -1;\n        this._hoverOperation.cancel();\n        _super.prototype.hide.call(this);\n    };\n    ModesGlyphHoverWidget.prototype._withResult = function (result) {\n        this._messages = result;\n        if (this._messages.length > 0) {\n            this._renderMessages(this._lastLineNumber, this._messages);\n        }\n        else {\n            this.hide();\n        }\n    };\n    ModesGlyphHoverWidget.prototype._renderMessages = function (lineNumber, messages) {\n        var _this = this;\n        dispose(this._renderDisposeables);\n        this._renderDisposeables = [];\n        var fragment = document.createDocumentFragment();\n        messages.forEach(function (msg) {\n            var renderedContents = _this._markdownRenderer.render(msg.value);\n            _this._renderDisposeables.push(renderedContents);\n            fragment.appendChild($('div.hover-row', null, renderedContents.element));\n        });\n        this.updateContents(fragment);\n        this.showAt(lineNumber);\n    };\n    ModesGlyphHoverWidget.ID = 'editor.contrib.modesGlyphHoverWidget';\n    return ModesGlyphHoverWidget;\n}(GlyphHoverWidget));\nexport { ModesGlyphHoverWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { renderMarkdown } from '../../../base/browser/htmlContentRenderer.js';\nimport { IOpenerService, NullOpenerService } from '../../../platform/opener/common/opener.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport URI from '../../../base/common/uri.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { tokenizeToString } from '../../common/modes/textToHtmlTokenizer.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nvar MarkdownRenderer = /** @class */ (function () {\n    function MarkdownRenderer(_editor, _modeService, _openerService) {\n        if (_openerService === void 0) { _openerService = NullOpenerService; }\n        this._editor = _editor;\n        this._modeService = _modeService;\n        this._openerService = _openerService;\n        this._onDidRenderCodeBlock = new Emitter();\n        this.onDidRenderCodeBlock = this._onDidRenderCodeBlock.event;\n    }\n    MarkdownRenderer.prototype.getOptions = function (disposeables) {\n        var _this = this;\n        return {\n            codeBlockRenderer: function (languageAlias, value) {\n                // In markdown,\n                // it is possible that we stumble upon language aliases (e.g.js instead of javascript)\n                // it is possible no alias is given in which case we fall back to the current editor lang\n                var modeId = languageAlias\n                    ? _this._modeService.getModeIdForLanguageName(languageAlias)\n                    : _this._editor.getModel().getLanguageIdentifier().language;\n                return _this._modeService.getOrCreateMode(modeId).then(function (_) {\n                    return tokenizeToString(value, modeId);\n                }).then(function (code) {\n                    return \"<span style=\\\"font-family: \" + _this._editor.getConfiguration().fontInfo.fontFamily + \"\\\">\" + code + \"</span>\";\n                });\n            },\n            codeBlockRenderCallback: function () { return _this._onDidRenderCodeBlock.fire(); },\n            actionHandler: {\n                callback: function (content) {\n                    _this._openerService.open(URI.parse(content)).then(void 0, onUnexpectedError);\n                },\n                disposeables: disposeables\n            }\n        };\n    };\n    MarkdownRenderer.prototype.render = function (markdown) {\n        var disposeables = [];\n        var element;\n        if (!markdown) {\n            element = document.createElement('span');\n        }\n        else {\n            element = renderMarkdown(markdown, this.getOptions(disposeables));\n        }\n        return {\n            element: element,\n            dispose: function () { return dispose(disposeables); }\n        };\n    };\n    MarkdownRenderer = __decorate([\n        __param(1, IModeService),\n        __param(2, optional(IOpenerService))\n    ], MarkdownRenderer);\n    return MarkdownRenderer;\n}());\nexport { MarkdownRenderer };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './hover.css';\nimport * as nls from '../../../nls.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction } from '../../browser/editorExtensions.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nimport { ModesContentHoverWidget } from './modesContentHover.js';\nimport { ModesGlyphHoverWidget } from './modesGlyphHover.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { registerThemingParticipant, IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { editorHoverHighlight, editorHoverBackground, editorHoverBorder, textLinkForeground, textCodeBlockBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\nvar ModesHoverController = /** @class */ (function () {\n    function ModesHoverController(editor, _openerService, _modeService, _themeService) {\n        var _this = this;\n        this._openerService = _openerService;\n        this._modeService = _modeService;\n        this._themeService = _themeService;\n        this._editor = editor;\n        this._toUnhook = [];\n        this._isMouseDown = false;\n        if (editor.getConfiguration().contribInfo.hover) {\n            this._toUnhook.push(this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\n            this._toUnhook.push(this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\n            this._toUnhook.push(this._editor.onMouseMove(function (e) { return _this._onEditorMouseMove(e); }));\n            this._toUnhook.push(this._editor.onMouseLeave(function (e) { return _this._hideWidgets(); }));\n            this._toUnhook.push(this._editor.onKeyDown(function (e) { return _this._onKeyDown(e); }));\n            this._toUnhook.push(this._editor.onDidChangeModel(function () { return _this._hideWidgets(); }));\n            this._toUnhook.push(this._editor.onDidChangeModelDecorations(function () { return _this._onModelDecorationsChanged(); }));\n            this._toUnhook.push(this._editor.onDidScrollChange(function (e) {\n                if (e.scrollTopChanged || e.scrollLeftChanged) {\n                    _this._hideWidgets();\n                }\n            }));\n        }\n    }\n    Object.defineProperty(ModesHoverController.prototype, \"contentWidget\", {\n        get: function () {\n            if (!this._contentWidget) {\n                this._createHoverWidget();\n            }\n            return this._contentWidget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ModesHoverController.prototype, \"glyphWidget\", {\n        get: function () {\n            if (!this._glyphWidget) {\n                this._createHoverWidget();\n            }\n            return this._glyphWidget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ModesHoverController.get = function (editor) {\n        return editor.getContribution(ModesHoverController.ID);\n    };\n    ModesHoverController.prototype._onModelDecorationsChanged = function () {\n        this.contentWidget.onModelDecorationsChanged();\n        this.glyphWidget.onModelDecorationsChanged();\n    };\n    ModesHoverController.prototype._onEditorMouseDown = function (mouseEvent) {\n        this._isMouseDown = true;\n        var targetType = mouseEvent.target.type;\n        if (targetType === MouseTargetType.CONTENT_WIDGET && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\n            this._hoverClicked = true;\n            // mouse down on top of content hover widget\n            return;\n        }\n        if (targetType === MouseTargetType.OVERLAY_WIDGET && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\n            // mouse down on top of overlay hover widget\n            return;\n        }\n        if (targetType !== MouseTargetType.OVERLAY_WIDGET && mouseEvent.target.detail !== ModesGlyphHoverWidget.ID) {\n            this._hoverClicked = false;\n        }\n        this._hideWidgets();\n    };\n    ModesHoverController.prototype._onEditorMouseUp = function (mouseEvent) {\n        this._isMouseDown = false;\n    };\n    ModesHoverController.prototype._onEditorMouseMove = function (mouseEvent) {\n        var targetType = mouseEvent.target.type;\n        var stopKey = platform.isMacintosh ? 'metaKey' : 'ctrlKey';\n        if (this._isMouseDown && this._hoverClicked && this.contentWidget.isColorPickerVisible()) {\n            return;\n        }\n        if (targetType === MouseTargetType.CONTENT_WIDGET && mouseEvent.target.detail === ModesContentHoverWidget.ID && !mouseEvent.event[stopKey]) {\n            // mouse moved on top of content hover widget\n            return;\n        }\n        if (targetType === MouseTargetType.OVERLAY_WIDGET && mouseEvent.target.detail === ModesGlyphHoverWidget.ID && !mouseEvent.event[stopKey]) {\n            // mouse moved on top of overlay hover widget\n            return;\n        }\n        if (targetType === MouseTargetType.CONTENT_EMPTY) {\n            var epsilon = this._editor.getConfiguration().fontInfo.typicalHalfwidthCharacterWidth / 2;\n            var data = mouseEvent.target.detail;\n            if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) {\n                // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\n                targetType = MouseTargetType.CONTENT_TEXT;\n            }\n        }\n        if (this._editor.getConfiguration().contribInfo.hover && targetType === MouseTargetType.CONTENT_TEXT) {\n            this.glyphWidget.hide();\n            this.contentWidget.startShowingAt(mouseEvent.target.range, false);\n        }\n        else if (targetType === MouseTargetType.GUTTER_GLYPH_MARGIN) {\n            this.contentWidget.hide();\n            this.glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);\n        }\n        else {\n            this._hideWidgets();\n        }\n    };\n    ModesHoverController.prototype._onKeyDown = function (e) {\n        if (e.keyCode !== 5 /* Ctrl */ && e.keyCode !== 6 /* Alt */ && e.keyCode !== 57 /* Meta */) {\n            // Do not hide hover when Ctrl/Meta is pressed\n            this._hideWidgets();\n        }\n    };\n    ModesHoverController.prototype._hideWidgets = function () {\n        if (!this._contentWidget || (this._isMouseDown && this._hoverClicked && this._contentWidget.isColorPickerVisible())) {\n            return;\n        }\n        this._glyphWidget.hide();\n        this._contentWidget.hide();\n    };\n    ModesHoverController.prototype._createHoverWidget = function () {\n        var renderer = new MarkdownRenderer(this._editor, this._modeService, this._openerService);\n        this._contentWidget = new ModesContentHoverWidget(this._editor, renderer, this._themeService);\n        this._glyphWidget = new ModesGlyphHoverWidget(this._editor, renderer);\n    };\n    ModesHoverController.prototype.showContentHover = function (range, focus) {\n        this.contentWidget.startShowingAt(range, focus);\n    };\n    ModesHoverController.prototype.getId = function () {\n        return ModesHoverController.ID;\n    };\n    ModesHoverController.prototype.dispose = function () {\n        this._toUnhook = dispose(this._toUnhook);\n        if (this._glyphWidget) {\n            this._glyphWidget.dispose();\n            this._glyphWidget = null;\n        }\n        if (this._contentWidget) {\n            this._contentWidget.dispose();\n            this._contentWidget = null;\n        }\n    };\n    ModesHoverController.ID = 'editor.contrib.hover';\n    ModesHoverController = __decorate([\n        __param(1, IOpenerService),\n        __param(2, IModeService),\n        __param(3, IThemeService)\n    ], ModesHoverController);\n    return ModesHoverController;\n}());\nexport { ModesHoverController };\nvar ShowHoverAction = /** @class */ (function (_super) {\n    __extends(ShowHoverAction, _super);\n    function ShowHoverAction() {\n        return _super.call(this, {\n            id: 'editor.action.showHover',\n            label: nls.localize({\n                key: 'showHover',\n                comment: [\n                    'Label for action that will trigger the showing of a hover in the editor.',\n                    'This allows for users to show the hover without using the mouse.'\n                ]\n            }, \"Show Hover\"),\n            alias: 'Show Hover',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 39 /* KEY_I */)\n            }\n        }) || this;\n    }\n    ShowHoverAction.prototype.run = function (accessor, editor) {\n        var controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        var position = editor.getPosition();\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        controller.showContentHover(range, true);\n    };\n    return ShowHoverAction;\n}(EditorAction));\nregisterEditorContribution(ModesHoverController);\nregisterEditorAction(ShowHoverAction);\n// theming\nregisterThemingParticipant(function (theme, collector) {\n    var editorHoverHighlightColor = theme.getColor(editorHoverHighlight);\n    if (editorHoverHighlightColor) {\n        collector.addRule(\".monaco-editor .hoverHighlight { background-color: \" + editorHoverHighlightColor + \"; }\");\n    }\n    var hoverBackground = theme.getColor(editorHoverBackground);\n    if (hoverBackground) {\n        collector.addRule(\".monaco-editor .monaco-editor-hover { background-color: \" + hoverBackground + \"; }\");\n    }\n    var hoverBorder = theme.getColor(editorHoverBorder);\n    if (hoverBorder) {\n        collector.addRule(\".monaco-editor .monaco-editor-hover { border: 1px solid \" + hoverBorder + \"; }\");\n        collector.addRule(\".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid \" + hoverBorder.transparent(0.5) + \"; }\");\n    }\n    var link = theme.getColor(textLinkForeground);\n    if (link) {\n        collector.addRule(\".monaco-editor .monaco-editor-hover a { color: \" + link + \"; }\");\n    }\n    var codeBackground = theme.getColor(textCodeBlockBackground);\n    if (codeBackground) {\n        collector.addRule(\".monaco-editor .monaco-editor-hover code { background-color: \" + codeBackground + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Selection } from '../../common/core/selection.js';\nvar InPlaceReplaceCommand = /** @class */ (function () {\n    function InPlaceReplaceCommand(editRange, originalSelection, text) {\n        this._editRange = editRange;\n        this._originalSelection = originalSelection;\n        this._text = text;\n    }\n    InPlaceReplaceCommand.prototype.getEditOperations = function (model, builder) {\n        builder.addTrackedEditOperation(this._editRange, this._text);\n    };\n    InPlaceReplaceCommand.prototype.computeCursorState = function (model, helper) {\n        var inverseEditOperations = helper.getInverseEditOperations();\n        var srcRange = inverseEditOperations[0].range;\n        if (!this._originalSelection.isEmpty()) {\n            // Preserve selection and extends to typed text\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\n        }\n        return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\n    };\n    return InPlaceReplaceCommand;\n}());\nexport { InPlaceReplaceCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, EditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\nimport { InPlaceReplaceCommand } from './inPlaceReplaceCommand.js';\nimport { EditorState } from '../../browser/core/editorState.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nvar InPlaceReplaceController = /** @class */ (function () {\n    function InPlaceReplaceController(editor, editorWorkerService) {\n        this.editor = editor;\n        this.editorWorkerService = editorWorkerService;\n        this.currentRequest = TPromise.as(null);\n        this.decorationRemover = TPromise.as(null);\n        this.decorationIds = [];\n    }\n    InPlaceReplaceController.get = function (editor) {\n        return editor.getContribution(InPlaceReplaceController.ID);\n    };\n    InPlaceReplaceController.prototype.dispose = function () {\n    };\n    InPlaceReplaceController.prototype.getId = function () {\n        return InPlaceReplaceController.ID;\n    };\n    InPlaceReplaceController.prototype.run = function (source, up) {\n        var _this = this;\n        // cancel any pending request\n        this.currentRequest.cancel();\n        var selection = this.editor.getSelection(), model = this.editor.getModel(), modelURI = model.uri;\n        if (selection.startLineNumber !== selection.endLineNumber) {\n            // Can't accept multiline selection\n            return null;\n        }\n        var state = new EditorState(this.editor, 1 /* Value */ | 4 /* Position */);\n        if (!this.editorWorkerService.canNavigateValueSet(modelURI)) {\n            this.currentRequest = TPromise.as(null);\n        }\n        else {\n            this.currentRequest = this.editorWorkerService.navigateValueSet(modelURI, selection, up);\n            this.currentRequest = this.currentRequest.then(function (basicResult) {\n                if (basicResult && basicResult.range && basicResult.value) {\n                    return basicResult;\n                }\n                return null;\n            });\n        }\n        return this.currentRequest.then(function (result) {\n            if (!result || !result.range || !result.value) {\n                // No proper result\n                return;\n            }\n            if (!state.validate(_this.editor)) {\n                // state has changed\n                return;\n            }\n            // Selection\n            var editRange = Range.lift(result.range), highlightRange = result.range, diff = result.value.length - (selection.endColumn - selection.startColumn);\n            // highlight\n            highlightRange = {\n                startLineNumber: highlightRange.startLineNumber,\n                startColumn: highlightRange.startColumn,\n                endLineNumber: highlightRange.endLineNumber,\n                endColumn: highlightRange.startColumn + result.value.length\n            };\n            if (diff > 1) {\n                selection = new Selection(selection.startLineNumber, selection.startColumn, selection.endLineNumber, selection.endColumn + diff - 1);\n            }\n            // Insert new text\n            var command = new InPlaceReplaceCommand(editRange, selection, result.value);\n            _this.editor.pushUndoStop();\n            _this.editor.executeCommand(source, command);\n            _this.editor.pushUndoStop();\n            // add decoration\n            _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, [{\n                    range: highlightRange,\n                    options: InPlaceReplaceController.DECORATION\n                }]);\n            // remove decoration after delay\n            _this.decorationRemover.cancel();\n            _this.decorationRemover = TPromise.timeout(350);\n            _this.decorationRemover.then(function () {\n                _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, []);\n            });\n        });\n    };\n    InPlaceReplaceController.ID = 'editor.contrib.inPlaceReplaceController';\n    InPlaceReplaceController.DECORATION = ModelDecorationOptions.register({\n        className: 'valueSetReplacement'\n    });\n    InPlaceReplaceController = __decorate([\n        __param(1, IEditorWorkerService)\n    ], InPlaceReplaceController);\n    return InPlaceReplaceController;\n}());\nvar InPlaceReplaceUp = /** @class */ (function (_super) {\n    __extends(InPlaceReplaceUp, _super);\n    function InPlaceReplaceUp() {\n        return _super.call(this, {\n            id: 'editor.action.inPlaceReplace.up',\n            label: nls.localize('InPlaceReplaceAction.previous.label', \"Replace with Previous Value\"),\n            alias: 'Replace with Previous Value',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 82 /* US_COMMA */\n            }\n        }) || this;\n    }\n    InPlaceReplaceUp.prototype.run = function (accessor, editor) {\n        var controller = InPlaceReplaceController.get(editor);\n        if (!controller) {\n            return undefined;\n        }\n        return controller.run(this.id, true);\n    };\n    return InPlaceReplaceUp;\n}(EditorAction));\nvar InPlaceReplaceDown = /** @class */ (function (_super) {\n    __extends(InPlaceReplaceDown, _super);\n    function InPlaceReplaceDown() {\n        return _super.call(this, {\n            id: 'editor.action.inPlaceReplace.down',\n            label: nls.localize('InPlaceReplaceAction.next.label', \"Replace with Next Value\"),\n            alias: 'Replace with Next Value',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 84 /* US_DOT */\n            }\n        }) || this;\n    }\n    InPlaceReplaceDown.prototype.run = function (accessor, editor) {\n        var controller = InPlaceReplaceController.get(editor);\n        if (!controller) {\n            return undefined;\n        }\n        return controller.run(this.id, false);\n    };\n    return InPlaceReplaceDown;\n}(EditorAction));\nregisterEditorContribution(InPlaceReplaceController);\nregisterEditorAction(InPlaceReplaceUp);\nregisterEditorAction(InPlaceReplaceDown);\nregisterThemingParticipant(function (theme, collector) {\n    var border = theme.getColor(editorBracketMatchBorder);\n    if (border) {\n        collector.addRule(\".monaco-editor.vs .valueSetReplacement { outline: solid 2px \" + border + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Range } from '../../common/core/range.js';\nvar SortLinesCommand = /** @class */ (function () {\n    function SortLinesCommand(selection, descending) {\n        this.selection = selection;\n        this.descending = descending;\n    }\n    SortLinesCommand.prototype.getEditOperations = function (model, builder) {\n        var op = sortLines(model, this.selection, this.descending);\n        if (op) {\n            builder.addEditOperation(op.range, op.text);\n        }\n        this.selectionId = builder.trackSelection(this.selection);\n    };\n    SortLinesCommand.prototype.computeCursorState = function (model, helper) {\n        return helper.getTrackedSelection(this.selectionId);\n    };\n    SortLinesCommand.canRun = function (model, selection, descending) {\n        var data = getSortData(model, selection, descending);\n        if (!data) {\n            return false;\n        }\n        for (var i = 0, len = data.before.length; i < len; i++) {\n            if (data.before[i] !== data.after[i]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return SortLinesCommand;\n}());\nexport { SortLinesCommand };\nfunction getSortData(model, selection, descending) {\n    var startLineNumber = selection.startLineNumber;\n    var endLineNumber = selection.endLineNumber;\n    if (selection.endColumn === 1) {\n        endLineNumber--;\n    }\n    // Nothing to sort if user didn't select anything.\n    if (startLineNumber >= endLineNumber) {\n        return null;\n    }\n    var linesToSort = [];\n    // Get the contents of the selection to be sorted.\n    for (var lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n        linesToSort.push(model.getLineContent(lineNumber));\n    }\n    var sorted = linesToSort.slice(0);\n    sorted.sort(function (a, b) {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n    });\n    // If descending, reverse the order.\n    if (descending === true) {\n        sorted = sorted.reverse();\n    }\n    return {\n        startLineNumber: startLineNumber,\n        endLineNumber: endLineNumber,\n        before: linesToSort,\n        after: sorted\n    };\n}\n/**\n * Generate commands for sorting lines on a model.\n */\nfunction sortLines(model, selection, descending) {\n    var data = getSortData(model, selection, descending);\n    if (!data) {\n        return null;\n    }\n    return EditOperation.replace(new Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\\n'));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from '../../../base/common/strings.js';\nimport { EditOperation } from '../core/editOperation.js';\nimport { Range } from '../core/range.js';\nvar TrimTrailingWhitespaceCommand = /** @class */ (function () {\n    function TrimTrailingWhitespaceCommand(selection, cursors) {\n        this.selection = selection;\n        this.cursors = cursors;\n    }\n    TrimTrailingWhitespaceCommand.prototype.getEditOperations = function (model, builder) {\n        var ops = trimTrailingWhitespace(model, this.cursors);\n        for (var i = 0, len = ops.length; i < len; i++) {\n            var op = ops[i];\n            builder.addEditOperation(op.range, op.text);\n        }\n        this.selectionId = builder.trackSelection(this.selection);\n    };\n    TrimTrailingWhitespaceCommand.prototype.computeCursorState = function (model, helper) {\n        return helper.getTrackedSelection(this.selectionId);\n    };\n    return TrimTrailingWhitespaceCommand;\n}());\nexport { TrimTrailingWhitespaceCommand };\n/**\n * Generate commands for trimming trailing whitespace on a model and ignore lines on which cursors are sitting.\n */\nexport function trimTrailingWhitespace(model, cursors) {\n    // Sort cursors ascending\n    cursors.sort(function (a, b) {\n        if (a.lineNumber === b.lineNumber) {\n            return a.column - b.column;\n        }\n        return a.lineNumber - b.lineNumber;\n    });\n    // Reduce multiple cursors on the same line and only keep the last one on the line\n    for (var i = cursors.length - 2; i >= 0; i--) {\n        if (cursors[i].lineNumber === cursors[i + 1].lineNumber) {\n            // Remove cursor at `i`\n            cursors.splice(i, 1);\n        }\n    }\n    var r = [];\n    var rLen = 0;\n    var cursorIndex = 0;\n    var cursorLen = cursors.length;\n    for (var lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++) {\n        var lineContent = model.getLineContent(lineNumber);\n        var maxLineColumn = lineContent.length + 1;\n        var minEditColumn = 0;\n        if (cursorIndex < cursorLen && cursors[cursorIndex].lineNumber === lineNumber) {\n            minEditColumn = cursors[cursorIndex].column;\n            cursorIndex++;\n            if (minEditColumn === maxLineColumn) {\n                // The cursor is at the end of the line => no edits for sure on this line\n                continue;\n            }\n        }\n        if (lineContent.length === 0) {\n            continue;\n        }\n        var lastNonWhitespaceIndex = strings.lastNonWhitespaceIndex(lineContent);\n        var fromColumn = 0;\n        if (lastNonWhitespaceIndex === -1) {\n            // Entire line is whitespace\n            fromColumn = 1;\n        }\n        else if (lastNonWhitespaceIndex !== lineContent.length - 1) {\n            // There is trailing whitespace\n            fromColumn = lastNonWhitespaceIndex + 2;\n        }\n        else {\n            // There is no trailing whitespace\n            continue;\n        }\n        fromColumn = Math.max(minEditColumn, fromColumn);\n        r[rLen++] = EditOperation.delete(new Range(lineNumber, fromColumn, lineNumber, maxLineColumn));\n    }\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nvar CopyLinesCommand = /** @class */ (function () {\n    function CopyLinesCommand(selection, isCopyingDown) {\n        this._selection = selection;\n        this._isCopyingDown = isCopyingDown;\n    }\n    CopyLinesCommand.prototype.getEditOperations = function (model, builder) {\n        var s = this._selection;\n        this._startLineNumberDelta = 0;\n        this._endLineNumberDelta = 0;\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\n            this._endLineNumberDelta = 1;\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\n        }\n        var sourceLines = [];\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\n            sourceLines.push(model.getLineContent(i));\n        }\n        var sourceText = sourceLines.join('\\n');\n        if (sourceText === '') {\n            // Duplicating empty line\n            if (this._isCopyingDown) {\n                this._startLineNumberDelta++;\n                this._endLineNumberDelta++;\n            }\n        }\n        if (!this._isCopyingDown) {\n            builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + sourceText);\n        }\n        else {\n            builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), sourceText + '\\n');\n        }\n        this._selectionId = builder.trackSelection(s);\n        this._selectionDirection = this._selection.getDirection();\n    };\n    CopyLinesCommand.prototype.computeCursorState = function (model, helper) {\n        var result = helper.getTrackedSelection(this._selectionId);\n        if (this._startLineNumberDelta !== 0 || this._endLineNumberDelta !== 0) {\n            var startLineNumber = result.startLineNumber, startColumn = result.startColumn, endLineNumber = result.endLineNumber, endColumn = result.endColumn;\n            if (this._startLineNumberDelta !== 0) {\n                startLineNumber = startLineNumber + this._startLineNumberDelta;\n                startColumn = 1;\n            }\n            if (this._endLineNumberDelta !== 0) {\n                endLineNumber = endLineNumber + this._endLineNumberDelta;\n                endColumn = 1;\n            }\n            result = Selection.createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, this._selectionDirection);\n        }\n        return result;\n    };\n    return CopyLinesCommand;\n}());\nexport { CopyLinesCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nvar DeleteLinesCommand = /** @class */ (function () {\n    function DeleteLinesCommand(startLineNumber, endLineNumber, restoreCursorToColumn) {\n        this.startLineNumber = startLineNumber;\n        this.endLineNumber = endLineNumber;\n        this.restoreCursorToColumn = restoreCursorToColumn;\n    }\n    DeleteLinesCommand.prototype.getEditOperations = function (model, builder) {\n        if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\n            // Model is empty\n            return;\n        }\n        var startLineNumber = this.startLineNumber;\n        var endLineNumber = this.endLineNumber;\n        var startColumn = 1;\n        var endColumn = model.getLineMaxColumn(endLineNumber);\n        if (endLineNumber < model.getLineCount()) {\n            endLineNumber += 1;\n            endColumn = 1;\n        }\n        else if (startLineNumber > 1) {\n            startLineNumber -= 1;\n            startColumn = model.getLineMaxColumn(startLineNumber);\n        }\n        builder.addTrackedEditOperation(new Range(startLineNumber, startColumn, endLineNumber, endColumn), null);\n    };\n    DeleteLinesCommand.prototype.computeCursorState = function (model, helper) {\n        var inverseEditOperations = helper.getInverseEditOperations();\n        var srcRange = inverseEditOperations[0].range;\n        return new Selection(srcRange.endLineNumber, this.restoreCursorToColumn, srcRange.endLineNumber, this.restoreCursorToColumn);\n    };\n    return DeleteLinesCommand;\n}());\nexport { DeleteLinesCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function getSpaceCnt(str, tabSize) {\n    var spacesCnt = 0;\n    for (var i = 0; i < str.length; i++) {\n        if (str.charAt(i) === '\\t') {\n            spacesCnt += tabSize;\n        }\n        else {\n            spacesCnt++;\n        }\n    }\n    return spacesCnt;\n}\nexport function generateIndent(spacesCnt, tabSize, insertSpaces) {\n    spacesCnt = spacesCnt < 0 ? 0 : spacesCnt;\n    var result = '';\n    if (!insertSpaces) {\n        var tabsCnt = Math.floor(spacesCnt / tabSize);\n        spacesCnt = spacesCnt % tabSize;\n        for (var i = 0; i < tabsCnt; i++) {\n            result += '\\t';\n        }\n    }\n    for (var i = 0; i < spacesCnt; i++) {\n        result += ' ';\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from '../../../base/common/strings.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nimport { ShiftCommand } from '../../common/commands/shiftCommand.js';\nimport * as IndentUtil from '../indentation/indentUtils.js';\nimport { IndentAction } from '../../common/modes/languageConfiguration.js';\nvar MoveLinesCommand = /** @class */ (function () {\n    function MoveLinesCommand(selection, isMovingDown, autoIndent) {\n        this._selection = selection;\n        this._isMovingDown = isMovingDown;\n        this._autoIndent = autoIndent;\n        this._moveEndLineSelectionShrink = false;\n    }\n    MoveLinesCommand.prototype.getEditOperations = function (model, builder) {\n        var modelLineCount = model.getLineCount();\n        if (this._isMovingDown && this._selection.endLineNumber === modelLineCount) {\n            return;\n        }\n        if (!this._isMovingDown && this._selection.startLineNumber === 1) {\n            return;\n        }\n        this._moveEndPositionDown = false;\n        var s = this._selection;\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\n            this._moveEndPositionDown = true;\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\n        }\n        var tabSize = model.getOptions().tabSize;\n        var insertSpaces = model.getOptions().insertSpaces;\n        var indentConverter = this.buildIndentConverter(tabSize);\n        var virtualModel = {\n            getLineTokens: function (lineNumber) {\n                return model.getLineTokens(lineNumber);\n            },\n            getLanguageIdentifier: function () {\n                return model.getLanguageIdentifier();\n            },\n            getLanguageIdAtPosition: function (lineNumber, column) {\n                return model.getLanguageIdAtPosition(lineNumber, column);\n            },\n            getLineContent: null\n        };\n        if (s.startLineNumber === s.endLineNumber && model.getLineMaxColumn(s.startLineNumber) === 1) {\n            // Current line is empty\n            var lineNumber = s.startLineNumber;\n            var otherLineNumber = (this._isMovingDown ? lineNumber + 1 : lineNumber - 1);\n            if (model.getLineMaxColumn(otherLineNumber) === 1) {\n                // Other line number is empty too, so no editing is needed\n                // Add a no-op to force running by the model\n                builder.addEditOperation(new Range(1, 1, 1, 1), null);\n            }\n            else {\n                // Type content from other line number on line number\n                builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), model.getLineContent(otherLineNumber));\n                // Remove content from other line number\n                builder.addEditOperation(new Range(otherLineNumber, 1, otherLineNumber, model.getLineMaxColumn(otherLineNumber)), null);\n            }\n            // Track selection at the other line number\n            s = new Selection(otherLineNumber, 1, otherLineNumber, 1);\n        }\n        else {\n            var movingLineNumber, movingLineText;\n            if (this._isMovingDown) {\n                movingLineNumber = s.endLineNumber + 1;\n                movingLineText = model.getLineContent(movingLineNumber);\n                // Delete line that needs to be moved\n                builder.addEditOperation(new Range(movingLineNumber - 1, model.getLineMaxColumn(movingLineNumber - 1), movingLineNumber, model.getLineMaxColumn(movingLineNumber)), null);\n                var insertingText_1 = movingLineText;\n                if (this.shouldAutoIndent(model, s)) {\n                    var movingLineMatchResult = this.matchEnterRule(model, indentConverter, tabSize, movingLineNumber, s.startLineNumber - 1);\n                    // if s.startLineNumber - 1 matches onEnter rule, we still honor that.\n                    if (movingLineMatchResult !== null) {\n                        var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber));\n                        var newSpaceCnt = movingLineMatchResult + IndentUtil.getSpaceCnt(oldIndentation, tabSize);\n                        var newIndentation = IndentUtil.generateIndent(newSpaceCnt, tabSize, insertSpaces);\n                        insertingText_1 = newIndentation + this.trimLeft(movingLineText);\n                    }\n                    else {\n                        // no enter rule matches, let's check indentatin rules then.\n                        virtualModel.getLineContent = function (lineNumber) {\n                            if (lineNumber === s.startLineNumber) {\n                                return model.getLineContent(movingLineNumber);\n                            }\n                            else {\n                                return model.getLineContent(lineNumber);\n                            }\n                        };\n                        var indentOfMovingLine = LanguageConfigurationRegistry.getGoodIndentForLine(virtualModel, model.getLanguageIdAtPosition(movingLineNumber, 1), s.startLineNumber, indentConverter);\n                        if (indentOfMovingLine !== null) {\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber));\n                            var newSpaceCnt = IndentUtil.getSpaceCnt(indentOfMovingLine, tabSize);\n                            var oldSpaceCnt = IndentUtil.getSpaceCnt(oldIndentation, tabSize);\n                            if (newSpaceCnt !== oldSpaceCnt) {\n                                var newIndentation = IndentUtil.generateIndent(newSpaceCnt, tabSize, insertSpaces);\n                                insertingText_1 = newIndentation + this.trimLeft(movingLineText);\n                            }\n                        }\n                    }\n                    // add edit operations for moving line first to make sure it's executed after we make indentation change\n                    // to s.startLineNumber\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber, insertingText_1);\n                    // check if the line being moved before matches onEnter rules, if so let's adjust the indentation by onEnter rules.\n                    if (ret !== null) {\n                        if (ret !== 0) {\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\n                        }\n                    }\n                    else {\n                        // it doesn't match onEnter rules, let's check indentation rules then.\n                        virtualModel.getLineContent = function (lineNumber) {\n                            if (lineNumber === s.startLineNumber) {\n                                return insertingText_1;\n                            }\n                            else if (lineNumber >= s.startLineNumber + 1 && lineNumber <= s.endLineNumber + 1) {\n                                return model.getLineContent(lineNumber - 1);\n                            }\n                            else {\n                                return model.getLineContent(lineNumber);\n                            }\n                        };\n                        var newIndentatOfMovingBlock = LanguageConfigurationRegistry.getGoodIndentForLine(virtualModel, model.getLanguageIdAtPosition(movingLineNumber, 1), s.startLineNumber + 1, indentConverter);\n                        if (newIndentatOfMovingBlock !== null) {\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\n                            var newSpaceCnt = IndentUtil.getSpaceCnt(newIndentatOfMovingBlock, tabSize);\n                            var oldSpaceCnt = IndentUtil.getSpaceCnt(oldIndentation, tabSize);\n                            if (newSpaceCnt !== oldSpaceCnt) {\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\n                            }\n                        }\n                    }\n                }\n                else {\n                    // Insert line that needs to be moved before\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\n                }\n            }\n            else {\n                movingLineNumber = s.startLineNumber - 1;\n                movingLineText = model.getLineContent(movingLineNumber);\n                // Delete line that needs to be moved\n                builder.addEditOperation(new Range(movingLineNumber, 1, movingLineNumber + 1, 1), null);\n                // Insert line that needs to be moved after\n                builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + movingLineText);\n                if (this.shouldAutoIndent(model, s)) {\n                    virtualModel.getLineContent = function (lineNumber) {\n                        if (lineNumber === movingLineNumber) {\n                            return model.getLineContent(s.startLineNumber);\n                        }\n                        else {\n                            return model.getLineContent(lineNumber);\n                        }\n                    };\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber - 2);\n                    // check if s.startLineNumber - 2 matches onEnter rules, if so adjust the moving block by onEnter rules.\n                    if (ret !== null) {\n                        if (ret !== 0) {\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\n                        }\n                    }\n                    else {\n                        // it doesn't match any onEnter rule, let's check indentation rules then.\n                        var indentOfFirstLine = LanguageConfigurationRegistry.getGoodIndentForLine(virtualModel, model.getLanguageIdAtPosition(s.startLineNumber, 1), movingLineNumber, indentConverter);\n                        if (indentOfFirstLine !== null) {\n                            // adjust the indentation of the moving block\n                            var oldIndent = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\n                            var newSpaceCnt = IndentUtil.getSpaceCnt(indentOfFirstLine, tabSize);\n                            var oldSpaceCnt = IndentUtil.getSpaceCnt(oldIndent, tabSize);\n                            if (newSpaceCnt !== oldSpaceCnt) {\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        this._selectionId = builder.trackSelection(s);\n    };\n    MoveLinesCommand.prototype.buildIndentConverter = function (tabSize) {\n        return {\n            shiftIndent: function (indentation) {\n                var desiredIndentCount = ShiftCommand.shiftIndentCount(indentation, indentation.length + 1, tabSize);\n                var newIndentation = '';\n                for (var i = 0; i < desiredIndentCount; i++) {\n                    newIndentation += '\\t';\n                }\n                return newIndentation;\n            },\n            unshiftIndent: function (indentation) {\n                var desiredIndentCount = ShiftCommand.unshiftIndentCount(indentation, indentation.length + 1, tabSize);\n                var newIndentation = '';\n                for (var i = 0; i < desiredIndentCount; i++) {\n                    newIndentation += '\\t';\n                }\n                return newIndentation;\n            }\n        };\n    };\n    MoveLinesCommand.prototype.matchEnterRule = function (model, indentConverter, tabSize, line, oneLineAbove, oneLineAboveText) {\n        var validPrecedingLine = oneLineAbove;\n        while (validPrecedingLine >= 1) {\n            // ship empty lines as empty lines just inherit indentation\n            var lineContent = void 0;\n            if (validPrecedingLine === oneLineAbove && oneLineAboveText !== undefined) {\n                lineContent = oneLineAboveText;\n            }\n            else {\n                lineContent = model.getLineContent(validPrecedingLine);\n            }\n            var nonWhitespaceIdx = strings.lastNonWhitespaceIndex(lineContent);\n            if (nonWhitespaceIdx >= 0) {\n                break;\n            }\n            validPrecedingLine--;\n        }\n        if (validPrecedingLine < 1 || line > model.getLineCount()) {\n            return null;\n        }\n        var maxColumn = model.getLineMaxColumn(validPrecedingLine);\n        var enter = LanguageConfigurationRegistry.getEnterAction(model, new Range(validPrecedingLine, maxColumn, validPrecedingLine, maxColumn));\n        if (enter) {\n            var enterPrefix = enter.indentation;\n            var enterAction = enter.enterAction;\n            if (enterAction.indentAction === IndentAction.None) {\n                enterPrefix = enter.indentation + enterAction.appendText;\n            }\n            else if (enterAction.indentAction === IndentAction.Indent) {\n                enterPrefix = enter.indentation + enterAction.appendText;\n            }\n            else if (enterAction.indentAction === IndentAction.IndentOutdent) {\n                enterPrefix = enter.indentation;\n            }\n            else if (enterAction.indentAction === IndentAction.Outdent) {\n                enterPrefix = indentConverter.unshiftIndent(enter.indentation) + enterAction.appendText;\n            }\n            var movingLineText = model.getLineContent(line);\n            if (this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix)) >= 0) {\n                var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(line));\n                var newIndentation = strings.getLeadingWhitespace(enterPrefix);\n                var indentMetadataOfMovelingLine = LanguageConfigurationRegistry.getIndentMetadata(model, line);\n                if (indentMetadataOfMovelingLine & 2 /* DECREASE_MASK */) {\n                    newIndentation = indentConverter.unshiftIndent(newIndentation);\n                }\n                var newSpaceCnt = IndentUtil.getSpaceCnt(newIndentation, tabSize);\n                var oldSpaceCnt = IndentUtil.getSpaceCnt(oldIndentation, tabSize);\n                return newSpaceCnt - oldSpaceCnt;\n            }\n        }\n        return null;\n    };\n    MoveLinesCommand.prototype.trimLeft = function (str) {\n        return str.replace(/^\\s+/, '');\n    };\n    MoveLinesCommand.prototype.shouldAutoIndent = function (model, selection) {\n        if (!this._autoIndent) {\n            return false;\n        }\n        // if it's not easy to tokenize, we stop auto indent.\n        if (!model.isCheapToTokenize(selection.startLineNumber)) {\n            return false;\n        }\n        var languageAtSelectionStart = model.getLanguageIdAtPosition(selection.startLineNumber, 1);\n        var languageAtSelectionEnd = model.getLanguageIdAtPosition(selection.endLineNumber, 1);\n        if (languageAtSelectionStart !== languageAtSelectionEnd) {\n            return false;\n        }\n        if (LanguageConfigurationRegistry.getIndentRulesSupport(languageAtSelectionStart) === null) {\n            return false;\n        }\n        return true;\n    };\n    MoveLinesCommand.prototype.getIndentEditsOfMovingBlock = function (model, builder, s, tabSize, insertSpaces, offset) {\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\n            var lineContent = model.getLineContent(i);\n            var originalIndent = strings.getLeadingWhitespace(lineContent);\n            var originalSpacesCnt = IndentUtil.getSpaceCnt(originalIndent, tabSize);\n            var newSpacesCnt = originalSpacesCnt + offset;\n            var newIndent = IndentUtil.generateIndent(newSpacesCnt, tabSize, insertSpaces);\n            if (newIndent !== originalIndent) {\n                builder.addEditOperation(new Range(i, 1, i, originalIndent.length + 1), newIndent);\n                if (i === s.endLineNumber && s.endColumn <= originalIndent.length + 1 && newIndent === '') {\n                    // as users select part of the original indent white spaces\n                    // when we adjust the indentation of endLine, we should adjust the cursor position as well.\n                    this._moveEndLineSelectionShrink = true;\n                }\n            }\n        }\n    };\n    MoveLinesCommand.prototype.computeCursorState = function (model, helper) {\n        var result = helper.getTrackedSelection(this._selectionId);\n        if (this._moveEndPositionDown) {\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\n        }\n        if (this._moveEndLineSelectionShrink && result.startLineNumber < result.endLineNumber) {\n            result = result.setEndPosition(result.endLineNumber, 2);\n        }\n        return result;\n    };\n    return MoveLinesCommand;\n}());\nexport { MoveLinesCommand };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { SortLinesCommand } from './sortLinesCommand.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { TrimTrailingWhitespaceCommand } from '../../common/commands/trimTrailingWhitespaceCommand.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection } from '../../common/commands/replaceCommand.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { Position } from '../../common/core/position.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { CopyLinesCommand } from './copyLinesCommand.js';\nimport { DeleteLinesCommand } from './deleteLinesCommand.js';\nimport { MoveLinesCommand } from './moveLinesCommand.js';\nimport { TypeOperations } from '../../common/controller/cursorTypeOperations.js';\nimport { CoreEditingCommands } from '../../browser/controller/coreCommands.js';\n// copy lines\nvar AbstractCopyLinesAction = /** @class */ (function (_super) {\n    __extends(AbstractCopyLinesAction, _super);\n    function AbstractCopyLinesAction(down, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this.down = down;\n        return _this;\n    }\n    AbstractCopyLinesAction.prototype.run = function (accessor, editor) {\n        var commands = [];\n        var selections = editor.getSelections();\n        for (var i = 0; i < selections.length; i++) {\n            commands.push(new CopyLinesCommand(selections[i], this.down));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return AbstractCopyLinesAction;\n}(EditorAction));\nvar CopyLinesUpAction = /** @class */ (function (_super) {\n    __extends(CopyLinesUpAction, _super);\n    function CopyLinesUpAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.copyLinesUpAction',\n            label: nls.localize('lines.copyUp', \"Copy Line Up\"),\n            alias: 'Copy Line Up',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */,\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */ }\n            }\n        }) || this;\n    }\n    return CopyLinesUpAction;\n}(AbstractCopyLinesAction));\nvar CopyLinesDownAction = /** @class */ (function (_super) {\n    __extends(CopyLinesDownAction, _super);\n    function CopyLinesDownAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.copyLinesDownAction',\n            label: nls.localize('lines.copyDown', \"Copy Line Down\"),\n            alias: 'Copy Line Down',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */,\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */ }\n            }\n        }) || this;\n    }\n    return CopyLinesDownAction;\n}(AbstractCopyLinesAction));\n// move lines\nvar AbstractMoveLinesAction = /** @class */ (function (_super) {\n    __extends(AbstractMoveLinesAction, _super);\n    function AbstractMoveLinesAction(down, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this.down = down;\n        return _this;\n    }\n    AbstractMoveLinesAction.prototype.run = function (accessor, editor) {\n        var commands = [];\n        var selections = editor.getSelections();\n        var autoIndent = editor.getConfiguration().autoIndent;\n        for (var i = 0; i < selections.length; i++) {\n            commands.push(new MoveLinesCommand(selections[i], this.down, autoIndent));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return AbstractMoveLinesAction;\n}(EditorAction));\nvar MoveLinesUpAction = /** @class */ (function (_super) {\n    __extends(MoveLinesUpAction, _super);\n    function MoveLinesUpAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.moveLinesUpAction',\n            label: nls.localize('lines.moveUp', \"Move Line Up\"),\n            alias: 'Move Line Up',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 512 /* Alt */ | 16 /* UpArrow */,\n                linux: { primary: 512 /* Alt */ | 16 /* UpArrow */ }\n            }\n        }) || this;\n    }\n    return MoveLinesUpAction;\n}(AbstractMoveLinesAction));\nvar MoveLinesDownAction = /** @class */ (function (_super) {\n    __extends(MoveLinesDownAction, _super);\n    function MoveLinesDownAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.moveLinesDownAction',\n            label: nls.localize('lines.moveDown', \"Move Line Down\"),\n            alias: 'Move Line Down',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 512 /* Alt */ | 18 /* DownArrow */,\n                linux: { primary: 512 /* Alt */ | 18 /* DownArrow */ }\n            }\n        }) || this;\n    }\n    return MoveLinesDownAction;\n}(AbstractMoveLinesAction));\nvar AbstractSortLinesAction = /** @class */ (function (_super) {\n    __extends(AbstractSortLinesAction, _super);\n    function AbstractSortLinesAction(descending, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this.descending = descending;\n        return _this;\n    }\n    AbstractSortLinesAction.prototype.run = function (accessor, editor) {\n        var selections = editor.getSelections();\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var selection = selections[i];\n            if (!SortLinesCommand.canRun(editor.getModel(), selection, this.descending)) {\n                return;\n            }\n        }\n        var commands = [];\n        for (var i = 0, len = selections.length; i < len; i++) {\n            commands[i] = new SortLinesCommand(selections[i], this.descending);\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return AbstractSortLinesAction;\n}(EditorAction));\nexport { AbstractSortLinesAction };\nvar SortLinesAscendingAction = /** @class */ (function (_super) {\n    __extends(SortLinesAscendingAction, _super);\n    function SortLinesAscendingAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.sortLinesAscending',\n            label: nls.localize('lines.sortAscending', \"Sort Lines Ascending\"),\n            alias: 'Sort Lines Ascending',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return SortLinesAscendingAction;\n}(AbstractSortLinesAction));\nexport { SortLinesAscendingAction };\nvar SortLinesDescendingAction = /** @class */ (function (_super) {\n    __extends(SortLinesDescendingAction, _super);\n    function SortLinesDescendingAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.sortLinesDescending',\n            label: nls.localize('lines.sortDescending', \"Sort Lines Descending\"),\n            alias: 'Sort Lines Descending',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return SortLinesDescendingAction;\n}(AbstractSortLinesAction));\nexport { SortLinesDescendingAction };\nvar TrimTrailingWhitespaceAction = /** @class */ (function (_super) {\n    __extends(TrimTrailingWhitespaceAction, _super);\n    function TrimTrailingWhitespaceAction() {\n        return _super.call(this, {\n            id: TrimTrailingWhitespaceAction.ID,\n            label: nls.localize('lines.trimTrailingWhitespace', \"Trim Trailing Whitespace\"),\n            alias: 'Trim Trailing Whitespace',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 54 /* KEY_X */)\n            }\n        }) || this;\n    }\n    TrimTrailingWhitespaceAction.prototype.run = function (accessor, editor, args) {\n        var cursors = [];\n        if (args.reason === 'auto-save') {\n            // See https://github.com/editorconfig/editorconfig-vscode/issues/47\n            // It is very convenient for the editor config extension to invoke this action.\n            // So, if we get a reason:'auto-save' passed in, let's preserve cursor positions.\n            cursors = editor.getSelections().map(function (s) { return new Position(s.positionLineNumber, s.positionColumn); });\n        }\n        var command = new TrimTrailingWhitespaceCommand(editor.getSelection(), cursors);\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, [command]);\n        editor.pushUndoStop();\n    };\n    TrimTrailingWhitespaceAction.ID = 'editor.action.trimTrailingWhitespace';\n    return TrimTrailingWhitespaceAction;\n}(EditorAction));\nexport { TrimTrailingWhitespaceAction };\nvar AbstractRemoveLinesAction = /** @class */ (function (_super) {\n    __extends(AbstractRemoveLinesAction, _super);\n    function AbstractRemoveLinesAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractRemoveLinesAction.prototype._getLinesToRemove = function (editor) {\n        // Construct delete operations\n        var operations = editor.getSelections().map(function (s) {\n            var endLineNumber = s.endLineNumber;\n            if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\n                endLineNumber -= 1;\n            }\n            return {\n                startLineNumber: s.startLineNumber,\n                endLineNumber: endLineNumber,\n                positionColumn: s.positionColumn\n            };\n        });\n        // Sort delete operations\n        operations.sort(function (a, b) {\n            return a.startLineNumber - b.startLineNumber;\n        });\n        // Merge delete operations on consecutive lines\n        var mergedOperations = [];\n        var previousOperation = operations[0];\n        for (var i = 1; i < operations.length; i++) {\n            if (previousOperation.endLineNumber + 1 === operations[i].startLineNumber) {\n                // Merge current operations into the previous one\n                previousOperation.endLineNumber = operations[i].endLineNumber;\n            }\n            else {\n                // Push previous operation\n                mergedOperations.push(previousOperation);\n                previousOperation = operations[i];\n            }\n        }\n        // Push the last operation\n        mergedOperations.push(previousOperation);\n        return mergedOperations;\n    };\n    return AbstractRemoveLinesAction;\n}(EditorAction));\nvar DeleteLinesAction = /** @class */ (function (_super) {\n    __extends(DeleteLinesAction, _super);\n    function DeleteLinesAction() {\n        return _super.call(this, {\n            id: 'editor.action.deleteLines',\n            label: nls.localize('lines.delete', \"Delete Line\"),\n            alias: 'Delete Line',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 41 /* KEY_K */\n            }\n        }) || this;\n    }\n    DeleteLinesAction.prototype.run = function (accessor, editor) {\n        var ops = this._getLinesToRemove(editor);\n        // Finally, construct the delete lines commands\n        var commands = ops.map(function (op) {\n            return new DeleteLinesCommand(op.startLineNumber, op.endLineNumber, op.positionColumn);\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return DeleteLinesAction;\n}(AbstractRemoveLinesAction));\nvar IndentLinesAction = /** @class */ (function (_super) {\n    __extends(IndentLinesAction, _super);\n    function IndentLinesAction() {\n        return _super.call(this, {\n            id: 'editor.action.indentLines',\n            label: nls.localize('lines.indent', \"Indent Line\"),\n            alias: 'Indent Line',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */\n            }\n        }) || this;\n    }\n    IndentLinesAction.prototype.run = function (accessor, editor) {\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, TypeOperations.indent(editor._getCursorConfiguration(), editor.getModel(), editor.getSelections()));\n        editor.pushUndoStop();\n    };\n    return IndentLinesAction;\n}(EditorAction));\nexport { IndentLinesAction };\nvar OutdentLinesAction = /** @class */ (function (_super) {\n    __extends(OutdentLinesAction, _super);\n    function OutdentLinesAction() {\n        return _super.call(this, {\n            id: 'editor.action.outdentLines',\n            label: nls.localize('lines.outdent', \"Outdent Line\"),\n            alias: 'Outdent Line',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */\n            }\n        }) || this;\n    }\n    OutdentLinesAction.prototype.run = function (accessor, editor) {\n        CoreEditingCommands.Outdent.runEditorCommand(null, editor, null);\n    };\n    return OutdentLinesAction;\n}(EditorAction));\nvar InsertLineBeforeAction = /** @class */ (function (_super) {\n    __extends(InsertLineBeforeAction, _super);\n    function InsertLineBeforeAction() {\n        return _super.call(this, {\n            id: 'editor.action.insertLineBefore',\n            label: nls.localize('lines.insertBefore', \"Insert Line Above\"),\n            alias: 'Insert Line Above',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 3 /* Enter */\n            }\n        }) || this;\n    }\n    InsertLineBeforeAction.prototype.run = function (accessor, editor) {\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, TypeOperations.lineInsertBefore(editor._getCursorConfiguration(), editor.getModel(), editor.getSelections()));\n    };\n    return InsertLineBeforeAction;\n}(EditorAction));\nexport { InsertLineBeforeAction };\nvar InsertLineAfterAction = /** @class */ (function (_super) {\n    __extends(InsertLineAfterAction, _super);\n    function InsertLineAfterAction() {\n        return _super.call(this, {\n            id: 'editor.action.insertLineAfter',\n            label: nls.localize('lines.insertAfter', \"Insert Line Below\"),\n            alias: 'Insert Line Below',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 3 /* Enter */\n            }\n        }) || this;\n    }\n    InsertLineAfterAction.prototype.run = function (accessor, editor) {\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, TypeOperations.lineInsertAfter(editor._getCursorConfiguration(), editor.getModel(), editor.getSelections()));\n    };\n    return InsertLineAfterAction;\n}(EditorAction));\nexport { InsertLineAfterAction };\nvar AbstractDeleteAllToBoundaryAction = /** @class */ (function (_super) {\n    __extends(AbstractDeleteAllToBoundaryAction, _super);\n    function AbstractDeleteAllToBoundaryAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractDeleteAllToBoundaryAction.prototype.run = function (accessor, editor) {\n        var primaryCursor = editor.getSelection();\n        var rangesToDelete = this._getRangesToDelete(editor);\n        // merge overlapping selections\n        var effectiveRanges = [];\n        for (var i = 0, count = rangesToDelete.length - 1; i < count; i++) {\n            var range = rangesToDelete[i];\n            var nextRange = rangesToDelete[i + 1];\n            if (Range.intersectRanges(range, nextRange) === null) {\n                effectiveRanges.push(range);\n            }\n            else {\n                rangesToDelete[i + 1] = Range.plusRange(range, nextRange);\n            }\n        }\n        effectiveRanges.push(rangesToDelete[rangesToDelete.length - 1]);\n        var endCursorState = this._getEndCursorState(primaryCursor, effectiveRanges);\n        var edits = effectiveRanges.map(function (range) {\n            endCursorState.push(new Selection(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn));\n            return EditOperation.replace(range, '');\n        });\n        editor.pushUndoStop();\n        editor.executeEdits(this.id, edits, endCursorState);\n        editor.pushUndoStop();\n    };\n    return AbstractDeleteAllToBoundaryAction;\n}(EditorAction));\nexport { AbstractDeleteAllToBoundaryAction };\nvar DeleteAllLeftAction = /** @class */ (function (_super) {\n    __extends(DeleteAllLeftAction, _super);\n    function DeleteAllLeftAction() {\n        return _super.call(this, {\n            id: 'deleteAllLeft',\n            label: nls.localize('lines.deleteAllLeft', \"Delete All Left\"),\n            alias: 'Delete All Left',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: null,\n                mac: { primary: 2048 /* CtrlCmd */ | 1 /* Backspace */ }\n            }\n        }) || this;\n    }\n    DeleteAllLeftAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\n        var endPrimaryCursor;\n        var endCursorState = [];\n        for (var i = 0, len = rangesToDelete.length; i < len; i++) {\n            var range = rangesToDelete[i];\n            var endCursor = new Selection(rangesToDelete[i].startLineNumber, rangesToDelete[i].startColumn, rangesToDelete[i].startLineNumber, rangesToDelete[i].startColumn);\n            if (range.intersectRanges(primaryCursor)) {\n                endPrimaryCursor = endCursor;\n            }\n            else {\n                endCursorState.push(endCursor);\n            }\n        }\n        if (endPrimaryCursor) {\n            endCursorState.unshift(endPrimaryCursor);\n        }\n        return endCursorState;\n    };\n    DeleteAllLeftAction.prototype._getRangesToDelete = function (editor) {\n        var rangesToDelete = editor.getSelections();\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\n        rangesToDelete = rangesToDelete.map(function (selection) {\n            if (selection.isEmpty()) {\n                return new Range(selection.startLineNumber, 1, selection.startLineNumber, selection.startColumn);\n            }\n            else {\n                return selection;\n            }\n        });\n        return rangesToDelete;\n    };\n    return DeleteAllLeftAction;\n}(AbstractDeleteAllToBoundaryAction));\nexport { DeleteAllLeftAction };\nvar DeleteAllRightAction = /** @class */ (function (_super) {\n    __extends(DeleteAllRightAction, _super);\n    function DeleteAllRightAction() {\n        return _super.call(this, {\n            id: 'deleteAllRight',\n            label: nls.localize('lines.deleteAllRight', \"Delete All Right\"),\n            alias: 'Delete All Right',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: null,\n                mac: { primary: 256 /* WinCtrl */ | 41 /* KEY_K */, secondary: [2048 /* CtrlCmd */ | 20 /* Delete */] }\n            }\n        }) || this;\n    }\n    DeleteAllRightAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\n        var endPrimaryCursor;\n        var endCursorState = [];\n        for (var i = 0, len = rangesToDelete.length, offset = 0; i < len; i++) {\n            var range = rangesToDelete[i];\n            var endCursor = new Selection(range.startLineNumber - offset, range.startColumn, range.startLineNumber - offset, range.startColumn);\n            if (range.intersectRanges(primaryCursor)) {\n                endPrimaryCursor = endCursor;\n            }\n            else {\n                endCursorState.push(endCursor);\n            }\n        }\n        if (endPrimaryCursor) {\n            endCursorState.unshift(endPrimaryCursor);\n        }\n        return endCursorState;\n    };\n    DeleteAllRightAction.prototype._getRangesToDelete = function (editor) {\n        var model = editor.getModel();\n        var rangesToDelete = editor.getSelections().map(function (sel) {\n            if (sel.isEmpty()) {\n                var maxColumn = model.getLineMaxColumn(sel.startLineNumber);\n                if (sel.startColumn === maxColumn) {\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber + 1, 1);\n                }\n                else {\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber, maxColumn);\n                }\n            }\n            return sel;\n        });\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\n        return rangesToDelete;\n    };\n    return DeleteAllRightAction;\n}(AbstractDeleteAllToBoundaryAction));\nexport { DeleteAllRightAction };\nvar JoinLinesAction = /** @class */ (function (_super) {\n    __extends(JoinLinesAction, _super);\n    function JoinLinesAction() {\n        return _super.call(this, {\n            id: 'editor.action.joinLines',\n            label: nls.localize('lines.joinLines', \"Join Lines\"),\n            alias: 'Join Lines',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 40 /* KEY_J */ }\n            }\n        }) || this;\n    }\n    JoinLinesAction.prototype.run = function (accessor, editor) {\n        var selections = editor.getSelections();\n        var primaryCursor = editor.getSelection();\n        selections.sort(Range.compareRangesUsingStarts);\n        var reducedSelections = [];\n        var lastSelection = selections.reduce(function (previousValue, currentValue) {\n            if (previousValue.isEmpty()) {\n                if (previousValue.endLineNumber === currentValue.startLineNumber) {\n                    if (primaryCursor.equalsSelection(previousValue)) {\n                        primaryCursor = currentValue;\n                    }\n                    return currentValue;\n                }\n                if (currentValue.startLineNumber > previousValue.endLineNumber + 1) {\n                    reducedSelections.push(previousValue);\n                    return currentValue;\n                }\n                else {\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\n                }\n            }\n            else {\n                if (currentValue.startLineNumber > previousValue.endLineNumber) {\n                    reducedSelections.push(previousValue);\n                    return currentValue;\n                }\n                else {\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\n                }\n            }\n        });\n        reducedSelections.push(lastSelection);\n        var model = editor.getModel();\n        var edits = [];\n        var endCursorState = [];\n        var endPrimaryCursor = primaryCursor;\n        var lineOffset = 0;\n        for (var i = 0, len = reducedSelections.length; i < len; i++) {\n            var selection = reducedSelections[i];\n            var startLineNumber = selection.startLineNumber;\n            var startColumn = 1;\n            var endLineNumber = void 0, endColumn = void 0, columnDeltaOffset = void 0;\n            var selectionEndPositionOffset = model.getLineContent(selection.endLineNumber).length - selection.endColumn;\n            if (selection.isEmpty() || selection.startLineNumber === selection.endLineNumber) {\n                var position = selection.getStartPosition();\n                if (position.lineNumber < model.getLineCount()) {\n                    endLineNumber = startLineNumber + 1;\n                    endColumn = model.getLineMaxColumn(endLineNumber);\n                }\n                else {\n                    endLineNumber = position.lineNumber;\n                    endColumn = model.getLineMaxColumn(position.lineNumber);\n                }\n            }\n            else {\n                endLineNumber = selection.endLineNumber;\n                endColumn = model.getLineMaxColumn(endLineNumber);\n            }\n            var trimmedLinesContent = model.getLineContent(startLineNumber);\n            for (var i_1 = startLineNumber + 1; i_1 <= endLineNumber; i_1++) {\n                var lineText = model.getLineContent(i_1);\n                var firstNonWhitespaceIdx = model.getLineFirstNonWhitespaceColumn(i_1);\n                if (firstNonWhitespaceIdx >= 1) {\n                    var insertSpace = true;\n                    if (trimmedLinesContent === '') {\n                        insertSpace = false;\n                    }\n                    if (insertSpace && (trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === ' ' ||\n                        trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === '\\t')) {\n                        insertSpace = false;\n                        trimmedLinesContent = trimmedLinesContent.replace(/[\\s\\uFEFF\\xA0]+$/g, ' ');\n                    }\n                    var lineTextWithoutIndent = lineText.substr(firstNonWhitespaceIdx - 1);\n                    trimmedLinesContent += (insertSpace ? ' ' : '') + lineTextWithoutIndent;\n                    if (insertSpace) {\n                        columnDeltaOffset = lineTextWithoutIndent.length + 1;\n                    }\n                    else {\n                        columnDeltaOffset = lineTextWithoutIndent.length;\n                    }\n                }\n                else {\n                    columnDeltaOffset = 0;\n                }\n            }\n            var deleteSelection = new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n            if (!deleteSelection.isEmpty()) {\n                var resultSelection = void 0;\n                if (selection.isEmpty()) {\n                    edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\n                    resultSelection = new Selection(deleteSelection.startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1, startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1);\n                }\n                else {\n                    if (selection.startLineNumber === selection.endLineNumber) {\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.endLineNumber - lineOffset, selection.endColumn);\n                    }\n                    else {\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.startLineNumber - lineOffset, trimmedLinesContent.length - selectionEndPositionOffset);\n                    }\n                }\n                if (Range.intersectRanges(deleteSelection, primaryCursor) !== null) {\n                    endPrimaryCursor = resultSelection;\n                }\n                else {\n                    endCursorState.push(resultSelection);\n                }\n            }\n            lineOffset += deleteSelection.endLineNumber - deleteSelection.startLineNumber;\n        }\n        endCursorState.unshift(endPrimaryCursor);\n        editor.pushUndoStop();\n        editor.executeEdits(this.id, edits, endCursorState);\n        editor.pushUndoStop();\n    };\n    return JoinLinesAction;\n}(EditorAction));\nexport { JoinLinesAction };\nvar TransposeAction = /** @class */ (function (_super) {\n    __extends(TransposeAction, _super);\n    function TransposeAction() {\n        return _super.call(this, {\n            id: 'editor.action.transpose',\n            label: nls.localize('editor.transpose', \"Transpose characters around the cursor\"),\n            alias: 'Transpose characters around the cursor',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    TransposeAction.prototype.run = function (accessor, editor) {\n        var selections = editor.getSelections();\n        var model = editor.getModel();\n        var commands = [];\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var selection = selections[i];\n            if (!selection.isEmpty()) {\n                continue;\n            }\n            var cursor = selection.getStartPosition();\n            var maxColumn = model.getLineMaxColumn(cursor.lineNumber);\n            if (cursor.column >= maxColumn) {\n                if (cursor.lineNumber === model.getLineCount()) {\n                    continue;\n                }\n                // The cursor is at the end of current line and current line is not empty\n                // then we transpose the character before the cursor and the line break if there is any following line.\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1);\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\n                commands.push(new ReplaceCommand(new Selection(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1), chars));\n            }\n            else {\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber, cursor.column + 1);\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\n                commands.push(new ReplaceCommandThatPreservesSelection(deleteSelection, chars, new Selection(cursor.lineNumber, cursor.column + 1, cursor.lineNumber, cursor.column + 1)));\n            }\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return TransposeAction;\n}(EditorAction));\nexport { TransposeAction };\nvar AbstractCaseAction = /** @class */ (function (_super) {\n    __extends(AbstractCaseAction, _super);\n    function AbstractCaseAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractCaseAction.prototype.run = function (accessor, editor) {\n        var selections = editor.getSelections();\n        var model = editor.getModel();\n        var commands = [];\n        for (var i = 0, len = selections.length; i < len; i++) {\n            var selection = selections[i];\n            if (selection.isEmpty()) {\n                var cursor = selection.getStartPosition();\n                var word = model.getWordAtPosition(cursor);\n                if (!word) {\n                    continue;\n                }\n                var wordRange = new Range(cursor.lineNumber, word.startColumn, cursor.lineNumber, word.endColumn);\n                var text = model.getValueInRange(wordRange);\n                commands.push(new ReplaceCommandThatPreservesSelection(wordRange, this._modifyText(text), new Selection(cursor.lineNumber, cursor.column, cursor.lineNumber, cursor.column)));\n            }\n            else {\n                var text = model.getValueInRange(selection);\n                commands.push(new ReplaceCommandThatPreservesSelection(selection, this._modifyText(text), selection));\n            }\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return AbstractCaseAction;\n}(EditorAction));\nexport { AbstractCaseAction };\nvar UpperCaseAction = /** @class */ (function (_super) {\n    __extends(UpperCaseAction, _super);\n    function UpperCaseAction() {\n        return _super.call(this, {\n            id: 'editor.action.transformToUppercase',\n            label: nls.localize('editor.transformToUppercase', \"Transform to Uppercase\"),\n            alias: 'Transform to Uppercase',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    UpperCaseAction.prototype._modifyText = function (text) {\n        return text.toLocaleUpperCase();\n    };\n    return UpperCaseAction;\n}(AbstractCaseAction));\nexport { UpperCaseAction };\nvar LowerCaseAction = /** @class */ (function (_super) {\n    __extends(LowerCaseAction, _super);\n    function LowerCaseAction() {\n        return _super.call(this, {\n            id: 'editor.action.transformToLowercase',\n            label: nls.localize('editor.transformToLowercase', \"Transform to Lowercase\"),\n            alias: 'Transform to Lowercase',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    LowerCaseAction.prototype._modifyText = function (text) {\n        return text.toLocaleLowerCase();\n    };\n    return LowerCaseAction;\n}(AbstractCaseAction));\nexport { LowerCaseAction };\nregisterEditorAction(CopyLinesUpAction);\nregisterEditorAction(CopyLinesDownAction);\nregisterEditorAction(MoveLinesUpAction);\nregisterEditorAction(MoveLinesDownAction);\nregisterEditorAction(SortLinesAscendingAction);\nregisterEditorAction(SortLinesDescendingAction);\nregisterEditorAction(TrimTrailingWhitespaceAction);\nregisterEditorAction(DeleteLinesAction);\nregisterEditorAction(IndentLinesAction);\nregisterEditorAction(OutdentLinesAction);\nregisterEditorAction(InsertLineBeforeAction);\nregisterEditorAction(InsertLineAfterAction);\nregisterEditorAction(DeleteAllLeftAction);\nregisterEditorAction(DeleteAllRightAction);\nregisterEditorAction(JoinLinesAction);\nregisterEditorAction(TransposeAction);\nregisterEditorAction(UpperCaseAction);\nregisterEditorAction(LowerCaseAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { LinkProviderRegistry } from '../../common/modes.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\nimport { IModelService } from '../../common/services/modelService.js';\nvar Link = /** @class */ (function () {\n    function Link(link, provider) {\n        this._link = link;\n        this._provider = provider;\n    }\n    Link.prototype.toJSON = function () {\n        return {\n            range: this.range,\n            url: this.url\n        };\n    };\n    Object.defineProperty(Link.prototype, \"range\", {\n        get: function () {\n            return this._link.range;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Link.prototype, \"url\", {\n        get: function () {\n            return this._link.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Link.prototype.resolve = function () {\n        var _this = this;\n        if (this._link.url) {\n            try {\n                return TPromise.as(URI.parse(this._link.url));\n            }\n            catch (e) {\n                return TPromise.wrapError(new Error('invalid'));\n            }\n        }\n        if (typeof this._provider.resolveLink === 'function') {\n            return asWinJsPromise(function (token) { return _this._provider.resolveLink(_this._link, token); }).then(function (value) {\n                _this._link = value || _this._link;\n                if (_this._link.url) {\n                    // recurse\n                    return _this.resolve();\n                }\n                return TPromise.wrapError(new Error('missing'));\n            });\n        }\n        return TPromise.wrapError(new Error('missing'));\n    };\n    return Link;\n}());\nexport { Link };\nexport function getLinks(model) {\n    var links = [];\n    // ask all providers for links in parallel\n    var promises = LinkProviderRegistry.ordered(model).reverse().map(function (provider) {\n        return asWinJsPromise(function (token) { return provider.provideLinks(model, token); }).then(function (result) {\n            if (Array.isArray(result)) {\n                var newLinks = result.map(function (link) { return new Link(link, provider); });\n                links = union(links, newLinks);\n            }\n        }, onUnexpectedExternalError);\n    });\n    return TPromise.join(promises).then(function () {\n        return links;\n    });\n}\nfunction union(oldLinks, newLinks) {\n    // reunite oldLinks with newLinks and remove duplicates\n    var result = [], oldIndex, oldLen, newIndex, newLen, oldLink, newLink, comparisonResult;\n    for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\n        oldLink = oldLinks[oldIndex];\n        newLink = newLinks[newIndex];\n        if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\n            // Remove the oldLink\n            oldIndex++;\n            continue;\n        }\n        comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\n        if (comparisonResult < 0) {\n            // oldLink is before\n            result.push(oldLink);\n            oldIndex++;\n        }\n        else {\n            // newLink is before\n            result.push(newLink);\n            newIndex++;\n        }\n    }\n    for (; oldIndex < oldLen; oldIndex++) {\n        result.push(oldLinks[oldIndex]);\n    }\n    for (; newIndex < newLen; newIndex++) {\n        result.push(newLinks[newIndex]);\n    }\n    return result;\n}\nCommandsRegistry.registerCommand('_executeLinkProvider', function (accessor) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var uri = args[0];\n    if (!(uri instanceof URI)) {\n        return undefined;\n    }\n    var model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    return getLinks(model);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './links.css';\nimport * as nls from '../../../nls.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction } from '../../browser/editorExtensions.js';\nimport { LinkProviderRegistry } from '../../common/modes.js';\nimport { MouseTargetType } from '../../browser/editorBrowser.js';\nimport { getLinks } from './getLinks.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { ClickLinkGesture } from '../goToDeclaration/clickLinkGesture.js';\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\nimport { TrackedRangeStickiness } from '../../common/model.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nvar HOVER_MESSAGE_GENERAL_META = new MarkdownString().appendText(platform.isMacintosh\n    ? nls.localize('links.navigate.mac', \"Cmd + click to follow link\")\n    : nls.localize('links.navigate', \"Ctrl + click to follow link\"));\nvar HOVER_MESSAGE_COMMAND_META = new MarkdownString().appendText(platform.isMacintosh\n    ? nls.localize('links.command.mac', \"Cmd + click to execute command\")\n    : nls.localize('links.command', \"Ctrl + click to execute command\"));\nvar HOVER_MESSAGE_GENERAL_ALT = new MarkdownString().appendText(platform.isMacintosh\n    ? nls.localize('links.navigate.al.mac', \"Option + click to follow link\")\n    : nls.localize('links.navigate.al', \"Alt + click to follow link\"));\nvar HOVER_MESSAGE_COMMAND_ALT = new MarkdownString().appendText(platform.isMacintosh\n    ? nls.localize('links.command.al.mac', \"Option + click to execute command\")\n    : nls.localize('links.command.al', \"Alt + click to execute command\"));\nvar decoration = {\n    meta: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link',\n        hoverMessage: HOVER_MESSAGE_GENERAL_META\n    }),\n    metaActive: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link-active',\n        hoverMessage: HOVER_MESSAGE_GENERAL_META\n    }),\n    alt: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link',\n        hoverMessage: HOVER_MESSAGE_GENERAL_ALT\n    }),\n    altActive: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link-active',\n        hoverMessage: HOVER_MESSAGE_GENERAL_ALT\n    }),\n    altCommand: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link',\n        hoverMessage: HOVER_MESSAGE_COMMAND_ALT\n    }),\n    altCommandActive: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link-active',\n        hoverMessage: HOVER_MESSAGE_COMMAND_ALT\n    }),\n    metaCommand: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link',\n        hoverMessage: HOVER_MESSAGE_COMMAND_META\n    }),\n    metaCommandActive: ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        inlineClassName: 'detected-link-active',\n        hoverMessage: HOVER_MESSAGE_COMMAND_META\n    }),\n};\nvar LinkOccurrence = /** @class */ (function () {\n    function LinkOccurrence(link, decorationId) {\n        this.link = link;\n        this.decorationId = decorationId;\n    }\n    LinkOccurrence.decoration = function (link, useMetaKey) {\n        return {\n            range: link.range,\n            options: LinkOccurrence._getOptions(link, useMetaKey, false)\n        };\n    };\n    LinkOccurrence._getOptions = function (link, useMetaKey, isActive) {\n        if (/^command:/i.test(link.url)) {\n            if (useMetaKey) {\n                return (isActive ? decoration.metaCommandActive : decoration.metaCommand);\n            }\n            else {\n                return (isActive ? decoration.altCommandActive : decoration.altCommand);\n            }\n        }\n        else {\n            if (useMetaKey) {\n                return (isActive ? decoration.metaActive : decoration.meta);\n            }\n            else {\n                return (isActive ? decoration.altActive : decoration.alt);\n            }\n        }\n    };\n    LinkOccurrence.prototype.activate = function (changeAccessor, useMetaKey) {\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, true));\n    };\n    LinkOccurrence.prototype.deactivate = function (changeAccessor, useMetaKey) {\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, false));\n    };\n    return LinkOccurrence;\n}());\nvar LinkDetector = /** @class */ (function () {\n    function LinkDetector(editor, openerService, notificationService) {\n        var _this = this;\n        this.editor = editor;\n        this.openerService = openerService;\n        this.notificationService = notificationService;\n        this.listenersToRemove = [];\n        var clickLinkGesture = new ClickLinkGesture(editor);\n        this.listenersToRemove.push(clickLinkGesture);\n        this.listenersToRemove.push(clickLinkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\n            _this._onEditorMouseMove(mouseEvent, keyboardEvent);\n        }));\n        this.listenersToRemove.push(clickLinkGesture.onExecute(function (e) {\n            _this.onEditorMouseUp(e);\n        }));\n        this.listenersToRemove.push(clickLinkGesture.onCancel(function (e) {\n            _this.cleanUpActiveLinkDecoration();\n        }));\n        this.enabled = editor.getConfiguration().contribInfo.links;\n        this.listenersToRemove.push(editor.onDidChangeConfiguration(function (e) {\n            var enabled = editor.getConfiguration().contribInfo.links;\n            if (_this.enabled === enabled) {\n                // No change in our configuration option\n                return;\n            }\n            _this.enabled = enabled;\n            // Remove any links (for the getting disabled case)\n            _this.updateDecorations([]);\n            // Stop any computation (for the getting disabled case)\n            _this.stop();\n            // Start computing (for the getting enabled case)\n            _this.beginCompute();\n        }));\n        this.listenersToRemove.push(editor.onDidChangeModelContent(function (e) { return _this.onChange(); }));\n        this.listenersToRemove.push(editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\n        this.listenersToRemove.push(editor.onDidChangeModelLanguage(function (e) { return _this.onModelModeChanged(); }));\n        this.listenersToRemove.push(LinkProviderRegistry.onDidChange(function (e) { return _this.onModelModeChanged(); }));\n        this.timeoutPromise = null;\n        this.computePromise = null;\n        this.currentOccurrences = {};\n        this.activeLinkDecorationId = null;\n        this.beginCompute();\n    }\n    LinkDetector.get = function (editor) {\n        return editor.getContribution(LinkDetector.ID);\n    };\n    LinkDetector.prototype.getId = function () {\n        return LinkDetector.ID;\n    };\n    LinkDetector.prototype.onModelChanged = function () {\n        this.currentOccurrences = {};\n        this.activeLinkDecorationId = null;\n        this.stop();\n        this.beginCompute();\n    };\n    LinkDetector.prototype.onModelModeChanged = function () {\n        this.stop();\n        this.beginCompute();\n    };\n    LinkDetector.prototype.onChange = function () {\n        var _this = this;\n        if (!this.timeoutPromise) {\n            this.timeoutPromise = TPromise.timeout(LinkDetector.RECOMPUTE_TIME);\n            this.timeoutPromise.then(function () {\n                _this.timeoutPromise = null;\n                _this.beginCompute();\n            });\n        }\n    };\n    LinkDetector.prototype.beginCompute = function () {\n        var _this = this;\n        if (!this.editor.getModel() || !this.enabled) {\n            return;\n        }\n        if (!LinkProviderRegistry.has(this.editor.getModel())) {\n            return;\n        }\n        this.computePromise = getLinks(this.editor.getModel()).then(function (links) {\n            _this.updateDecorations(links);\n            _this.computePromise = null;\n        });\n    };\n    LinkDetector.prototype.updateDecorations = function (links) {\n        var useMetaKey = (this.editor.getConfiguration().multiCursorModifier === 'altKey');\n        var oldDecorations = [];\n        var keys = Object.keys(this.currentOccurrences);\n        for (var i = 0, len = keys.length; i < len; i++) {\n            var decorationId = keys[i];\n            var occurance = this.currentOccurrences[decorationId];\n            oldDecorations.push(occurance.decorationId);\n        }\n        var newDecorations = [];\n        if (links) {\n            // Not sure why this is sometimes null\n            for (var i = 0; i < links.length; i++) {\n                newDecorations.push(LinkOccurrence.decoration(links[i], useMetaKey));\n            }\n        }\n        var decorations = this.editor.deltaDecorations(oldDecorations, newDecorations);\n        this.currentOccurrences = {};\n        this.activeLinkDecorationId = null;\n        for (var i = 0, len = decorations.length; i < len; i++) {\n            var occurance = new LinkOccurrence(links[i], decorations[i]);\n            this.currentOccurrences[occurance.decorationId] = occurance;\n        }\n    };\n    LinkDetector.prototype._onEditorMouseMove = function (mouseEvent, withKey) {\n        var _this = this;\n        var useMetaKey = (this.editor.getConfiguration().multiCursorModifier === 'altKey');\n        if (this.isEnabled(mouseEvent, withKey)) {\n            this.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\n            var occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n            if (occurrence) {\n                this.editor.changeDecorations(function (changeAccessor) {\n                    occurrence.activate(changeAccessor, useMetaKey);\n                    _this.activeLinkDecorationId = occurrence.decorationId;\n                });\n            }\n        }\n        else {\n            this.cleanUpActiveLinkDecoration();\n        }\n    };\n    LinkDetector.prototype.cleanUpActiveLinkDecoration = function () {\n        var useMetaKey = (this.editor.getConfiguration().multiCursorModifier === 'altKey');\n        if (this.activeLinkDecorationId) {\n            var occurrence = this.currentOccurrences[this.activeLinkDecorationId];\n            if (occurrence) {\n                this.editor.changeDecorations(function (changeAccessor) {\n                    occurrence.deactivate(changeAccessor, useMetaKey);\n                });\n            }\n            this.activeLinkDecorationId = null;\n        }\n    };\n    LinkDetector.prototype.onEditorMouseUp = function (mouseEvent) {\n        if (!this.isEnabled(mouseEvent)) {\n            return;\n        }\n        var occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n        if (!occurrence) {\n            return;\n        }\n        this.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier);\n    };\n    LinkDetector.prototype.openLinkOccurrence = function (occurrence, openToSide) {\n        var _this = this;\n        if (!this.openerService) {\n            return;\n        }\n        var link = occurrence.link;\n        link.resolve().then(function (uri) {\n            // open the uri\n            return _this.openerService.open(uri, { openToSide: openToSide });\n        }, function (err) {\n            // different error cases\n            if (err === 'invalid') {\n                _this.notificationService.warn(nls.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url));\n            }\n            else if (err === 'missing') {\n                _this.notificationService.warn(nls.localize('missing.url', 'Failed to open this link because its target is missing.'));\n            }\n            else {\n                onUnexpectedError(err);\n            }\n        }).done(null, onUnexpectedError);\n    };\n    LinkDetector.prototype.getLinkOccurrence = function (position) {\n        var decorations = this.editor.getModel().getDecorationsInRange({\n            startLineNumber: position.lineNumber,\n            startColumn: position.column,\n            endLineNumber: position.lineNumber,\n            endColumn: position.column\n        }, 0, true);\n        for (var i = 0; i < decorations.length; i++) {\n            var decoration = decorations[i];\n            var currentOccurrence = this.currentOccurrences[decoration.id];\n            if (currentOccurrence) {\n                return currentOccurrence;\n            }\n        }\n        return null;\n    };\n    LinkDetector.prototype.isEnabled = function (mouseEvent, withKey) {\n        return (mouseEvent.target.type === MouseTargetType.CONTENT_TEXT\n            && (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey)));\n    };\n    LinkDetector.prototype.stop = function () {\n        if (this.timeoutPromise) {\n            this.timeoutPromise.cancel();\n            this.timeoutPromise = null;\n        }\n        if (this.computePromise) {\n            this.computePromise.cancel();\n            this.computePromise = null;\n        }\n    };\n    LinkDetector.prototype.dispose = function () {\n        this.listenersToRemove = dispose(this.listenersToRemove);\n        this.stop();\n    };\n    LinkDetector.ID = 'editor.linkDetector';\n    LinkDetector.RECOMPUTE_TIME = 1000; // ms\n    LinkDetector = __decorate([\n        __param(1, IOpenerService),\n        __param(2, INotificationService)\n    ], LinkDetector);\n    return LinkDetector;\n}());\nvar OpenLinkAction = /** @class */ (function (_super) {\n    __extends(OpenLinkAction, _super);\n    function OpenLinkAction() {\n        return _super.call(this, {\n            id: 'editor.action.openLink',\n            label: nls.localize('label', \"Open Link\"),\n            alias: 'Open Link',\n            precondition: null\n        }) || this;\n    }\n    OpenLinkAction.prototype.run = function (accessor, editor) {\n        var linkDetector = LinkDetector.get(editor);\n        if (!linkDetector) {\n            return;\n        }\n        var selections = editor.getSelections();\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\n            var sel = selections_1[_i];\n            var link = linkDetector.getLinkOccurrence(sel.getEndPosition());\n            if (link) {\n                linkDetector.openLinkOccurrence(link, false);\n            }\n        }\n    };\n    return OpenLinkAction;\n}(EditorAction));\nregisterEditorContribution(LinkDetector);\nregisterEditorAction(OpenLinkAction);\nregisterThemingParticipant(function (theme, collector) {\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\n    if (activeLinkForeground) {\n        collector.addRule(\".monaco-editor .detected-link-active { color: \" + activeLinkForeground + \" !important; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { Disposable, dispose } from '../../../base/common/lifecycle.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { TrackedRangeStickiness, OverviewRulerLane } from '../../common/model.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction } from '../../browser/editorExtensions.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { CursorChangeReason } from '../../common/controller/cursorEvents.js';\nimport { CursorMoveCommands } from '../../common/controller/cursorMoveCommands.js';\nimport { DocumentHighlightProviderRegistry } from '../../common/modes.js';\nimport { CommonFindController } from '../find/findController.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { overviewRulerSelectionHighlightForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\nvar InsertCursorAbove = /** @class */ (function (_super) {\n    __extends(InsertCursorAbove, _super);\n    function InsertCursorAbove() {\n        return _super.call(this, {\n            id: 'editor.action.insertCursorAbove',\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\n            alias: 'Add Cursor Above',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 16 /* UpArrow */,\n                linux: {\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 16 /* UpArrow */,\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */]\n                }\n            }\n        }) || this;\n    }\n    InsertCursorAbove.prototype.run = function (accessor, editor, args) {\n        var cursors = editor._getCursors();\n        var context = cursors.context;\n        if (context.config.readOnly) {\n            return;\n        }\n        context.model.pushStackElement();\n        cursors.setStates(args.source, CursorChangeReason.Explicit, CursorMoveCommands.addCursorUp(context, cursors.getAll()));\n        cursors.reveal(true, 1 /* TopMost */, 0 /* Smooth */);\n    };\n    return InsertCursorAbove;\n}(EditorAction));\nexport { InsertCursorAbove };\nvar InsertCursorBelow = /** @class */ (function (_super) {\n    __extends(InsertCursorBelow, _super);\n    function InsertCursorBelow() {\n        return _super.call(this, {\n            id: 'editor.action.insertCursorBelow',\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\n            alias: 'Add Cursor Below',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 18 /* DownArrow */,\n                linux: {\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 18 /* DownArrow */,\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */]\n                }\n            }\n        }) || this;\n    }\n    InsertCursorBelow.prototype.run = function (accessor, editor, args) {\n        var cursors = editor._getCursors();\n        var context = cursors.context;\n        if (context.config.readOnly) {\n            return;\n        }\n        context.model.pushStackElement();\n        cursors.setStates(args.source, CursorChangeReason.Explicit, CursorMoveCommands.addCursorDown(context, cursors.getAll()));\n        cursors.reveal(true, 2 /* BottomMost */, 0 /* Smooth */);\n    };\n    return InsertCursorBelow;\n}(EditorAction));\nexport { InsertCursorBelow };\nvar InsertCursorAtEndOfEachLineSelected = /** @class */ (function (_super) {\n    __extends(InsertCursorAtEndOfEachLineSelected, _super);\n    function InsertCursorAtEndOfEachLineSelected() {\n        return _super.call(this, {\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\n            alias: 'Add Cursors to Line Ends',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 39 /* KEY_I */\n            }\n        }) || this;\n    }\n    InsertCursorAtEndOfEachLineSelected.prototype.getCursorsForSelection = function (selection, model, result) {\n        if (selection.isEmpty()) {\n            return;\n        }\n        for (var i = selection.startLineNumber; i < selection.endLineNumber; i++) {\n            var currentLineMaxColumn = model.getLineMaxColumn(i);\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\n        }\n        if (selection.endColumn > 1) {\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\n        }\n    };\n    InsertCursorAtEndOfEachLineSelected.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var model = editor.getModel();\n        var selections = editor.getSelections();\n        var newSelections = [];\n        selections.forEach(function (sel) { return _this.getCursorsForSelection(sel, model, newSelections); });\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n    };\n    return InsertCursorAtEndOfEachLineSelected;\n}(EditorAction));\nvar MultiCursorSessionResult = /** @class */ (function () {\n    function MultiCursorSessionResult(selections, revealRange, revealScrollType) {\n        this.selections = selections;\n        this.revealRange = revealRange;\n        this.revealScrollType = revealScrollType;\n    }\n    return MultiCursorSessionResult;\n}());\nexport { MultiCursorSessionResult };\nvar MultiCursorSession = /** @class */ (function () {\n    function MultiCursorSession(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\n        this._editor = _editor;\n        this.findController = findController;\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\n        this.searchText = searchText;\n        this.wholeWord = wholeWord;\n        this.matchCase = matchCase;\n        this.currentMatch = currentMatch;\n    }\n    MultiCursorSession.create = function (editor, findController) {\n        var findState = findController.getState();\n        // Find widget owns entirely what we search for if:\n        //  - focus is not in the editor (i.e. it is in the find widget)\n        //  - and the search widget is visible\n        //  - and the search string is non-empty\n        if (!editor.isFocused() && findState.isRevealed && findState.searchString.length > 0) {\n            // Find widget owns what is searched for\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\n        }\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\n        var isDisconnectedFromFindController = false;\n        var wholeWord;\n        var matchCase;\n        var selections = editor.getSelections();\n        if (selections.length === 1 && selections[0].isEmpty()) {\n            isDisconnectedFromFindController = true;\n            wholeWord = true;\n            matchCase = true;\n        }\n        else {\n            wholeWord = findState.wholeWord;\n            matchCase = findState.matchCase;\n        }\n        // Selection owns what is searched for\n        var s = editor.getSelection();\n        var searchText;\n        var currentMatch = null;\n        if (s.isEmpty()) {\n            // selection is empty => expand to current word\n            var word = editor.getModel().getWordAtPosition(s.getStartPosition());\n            if (!word) {\n                return null;\n            }\n            searchText = word.word;\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\n        }\n        else {\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\n        }\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\n    };\n    MultiCursorSession.prototype.addSelectionToNextFindMatch = function () {\n        var nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        var allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* Smooth */);\n    };\n    MultiCursorSession.prototype.moveSelectionToNextFindMatch = function () {\n        var nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        var allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* Smooth */);\n    };\n    MultiCursorSession.prototype._getNextMatch = function () {\n        if (this.currentMatch) {\n            var result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        var allSelections = this._editor.getSelections();\n        var lastAddedSelection = allSelections[allSelections.length - 1];\n        var nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false);\n        if (!nextMatch) {\n            return null;\n        }\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\n    };\n    MultiCursorSession.prototype.addSelectionToPreviousFindMatch = function () {\n        var previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        var allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* Smooth */);\n    };\n    MultiCursorSession.prototype.moveSelectionToPreviousFindMatch = function () {\n        var previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        var allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* Smooth */);\n    };\n    MultiCursorSession.prototype._getPreviousMatch = function () {\n        if (this.currentMatch) {\n            var result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        var allSelections = this._editor.getSelections();\n        var lastAddedSelection = allSelections[allSelections.length - 1];\n        var previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false);\n        if (!previousMatch) {\n            return null;\n        }\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\n    };\n    MultiCursorSession.prototype.selectAll = function () {\n        this.findController.highlightFindOptions();\n        return this._editor.getModel().findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\n    };\n    return MultiCursorSession;\n}());\nexport { MultiCursorSession };\nvar MultiCursorSelectionController = /** @class */ (function (_super) {\n    __extends(MultiCursorSelectionController, _super);\n    function MultiCursorSelectionController(editor) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._ignoreSelectionChange = false;\n        _this._session = null;\n        _this._sessionDispose = [];\n        return _this;\n    }\n    MultiCursorSelectionController.get = function (editor) {\n        return editor.getContribution(MultiCursorSelectionController.ID);\n    };\n    MultiCursorSelectionController.prototype.dispose = function () {\n        this._endSession();\n        _super.prototype.dispose.call(this);\n    };\n    MultiCursorSelectionController.prototype.getId = function () {\n        return MultiCursorSelectionController.ID;\n    };\n    MultiCursorSelectionController.prototype._beginSessionIfNeeded = function (findController) {\n        var _this = this;\n        if (!this._session) {\n            // Create a new session\n            var session = MultiCursorSession.create(this._editor, findController);\n            if (!session) {\n                return;\n            }\n            this._session = session;\n            var newState = { searchString: this._session.searchText };\n            if (this._session.isDisconnectedFromFindController) {\n                newState.wholeWordOverride = 1 /* True */;\n                newState.matchCaseOverride = 1 /* True */;\n                newState.isRegexOverride = 2 /* False */;\n            }\n            findController.getState().change(newState, false);\n            this._sessionDispose = [\n                this._editor.onDidChangeCursorSelection(function (e) {\n                    if (_this._ignoreSelectionChange) {\n                        return;\n                    }\n                    _this._endSession();\n                }),\n                this._editor.onDidBlurEditorText(function () {\n                    _this._endSession();\n                }),\n                findController.getState().onFindReplaceStateChange(function (e) {\n                    if (e.matchCase || e.wholeWord) {\n                        _this._endSession();\n                    }\n                })\n            ];\n        }\n    };\n    MultiCursorSelectionController.prototype._endSession = function () {\n        this._sessionDispose = dispose(this._sessionDispose);\n        if (this._session && this._session.isDisconnectedFromFindController) {\n            var newState = {\n                wholeWordOverride: 0 /* NotSet */,\n                matchCaseOverride: 0 /* NotSet */,\n                isRegexOverride: 0 /* NotSet */,\n            };\n            this._session.findController.getState().change(newState, false);\n        }\n        this._session = null;\n    };\n    MultiCursorSelectionController.prototype._setSelections = function (selections) {\n        this._ignoreSelectionChange = true;\n        this._editor.setSelections(selections);\n        this._ignoreSelectionChange = false;\n    };\n    MultiCursorSelectionController.prototype._expandEmptyToWord = function (model, selection) {\n        if (!selection.isEmpty()) {\n            return selection;\n        }\n        var word = model.getWordAtPosition(selection.getStartPosition());\n        if (!word) {\n            return selection;\n        }\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n    };\n    MultiCursorSelectionController.prototype._applySessionResult = function (result) {\n        if (!result) {\n            return;\n        }\n        this._setSelections(result.selections);\n        if (result.revealRange) {\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\n        }\n    };\n    MultiCursorSelectionController.prototype.getSession = function (findController) {\n        return this._session;\n    };\n    MultiCursorSelectionController.prototype.addSelectionToNextFindMatch = function (findController) {\n        if (!this._session) {\n            // If there are multiple cursors, handle the case where they do not all select the same text.\n            var allSelections = this._editor.getSelections();\n            if (allSelections.length > 1) {\n                var findState = findController.getState();\n                var matchCase = findState.matchCase;\n                var selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    var model = this._editor.getModel();\n                    var resultingSelections = [];\n                    for (var i = 0, len = allSelections.length; i < len; i++) {\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\n                    }\n                    this._editor.setSelections(resultingSelections);\n                    return;\n                }\n            }\n        }\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\n        }\n    };\n    MultiCursorSelectionController.prototype.addSelectionToPreviousFindMatch = function (findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\n        }\n    };\n    MultiCursorSelectionController.prototype.moveSelectionToNextFindMatch = function (findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\n        }\n    };\n    MultiCursorSelectionController.prototype.moveSelectionToPreviousFindMatch = function (findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\n        }\n    };\n    MultiCursorSelectionController.prototype.selectAll = function (findController) {\n        var matches = null;\n        var findState = findController.getState();\n        // Special case: find widget owns entirely what we search for if:\n        // - focus is not in the editor (i.e. it is in the find widget)\n        // - and the search widget is visible\n        // - and the search string is non-empty\n        // - and we're searching for a regex\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\n            matches = this._editor.getModel().findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getConfiguration().wordSeparators : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\n        }\n        else {\n            this._beginSessionIfNeeded(findController);\n            if (!this._session) {\n                return;\n            }\n            matches = this._session.selectAll();\n        }\n        if (matches.length > 0) {\n            var editorSelection = this._editor.getSelection();\n            // Have the primary cursor remain the one where the action was invoked\n            for (var i = 0, len = matches.length; i < len; i++) {\n                var match = matches[i];\n                var intersection = match.range.intersectRanges(editorSelection);\n                if (intersection) {\n                    // bingo!\n                    matches[i] = matches[0];\n                    matches[0] = match;\n                    break;\n                }\n            }\n            this._setSelections(matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); }));\n        }\n    };\n    MultiCursorSelectionController.ID = 'editor.contrib.multiCursorController';\n    return MultiCursorSelectionController;\n}(Disposable));\nexport { MultiCursorSelectionController };\nvar MultiCursorSelectionControllerAction = /** @class */ (function (_super) {\n    __extends(MultiCursorSelectionControllerAction, _super);\n    function MultiCursorSelectionControllerAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiCursorSelectionControllerAction.prototype.run = function (accessor, editor) {\n        var multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return;\n        }\n        var findController = CommonFindController.get(editor);\n        if (!findController) {\n            return null;\n        }\n        this._run(multiCursorController, findController);\n    };\n    return MultiCursorSelectionControllerAction;\n}(EditorAction));\nexport { MultiCursorSelectionControllerAction };\nvar AddSelectionToNextFindMatchAction = /** @class */ (function (_super) {\n    __extends(AddSelectionToNextFindMatchAction, _super);\n    function AddSelectionToNextFindMatchAction() {\n        return _super.call(this, {\n            id: 'editor.action.addSelectionToNextFindMatch',\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\n            alias: 'Add Selection To Next Find Match',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 34 /* KEY_D */\n            }\n        }) || this;\n    }\n    AddSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.addSelectionToNextFindMatch(findController);\n    };\n    return AddSelectionToNextFindMatchAction;\n}(MultiCursorSelectionControllerAction));\nexport { AddSelectionToNextFindMatchAction };\nvar AddSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\n    __extends(AddSelectionToPreviousFindMatchAction, _super);\n    function AddSelectionToPreviousFindMatchAction() {\n        return _super.call(this, {\n            id: 'editor.action.addSelectionToPreviousFindMatch',\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\n            alias: 'Add Selection To Previous Find Match',\n            precondition: null\n        }) || this;\n    }\n    AddSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\n    };\n    return AddSelectionToPreviousFindMatchAction;\n}(MultiCursorSelectionControllerAction));\nexport { AddSelectionToPreviousFindMatchAction };\nvar MoveSelectionToNextFindMatchAction = /** @class */ (function (_super) {\n    __extends(MoveSelectionToNextFindMatchAction, _super);\n    function MoveSelectionToNextFindMatchAction() {\n        return _super.call(this, {\n            id: 'editor.action.moveSelectionToNextFindMatch',\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\n            alias: 'Move Last Selection To Next Find Match',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 34 /* KEY_D */)\n            }\n        }) || this;\n    }\n    MoveSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.moveSelectionToNextFindMatch(findController);\n    };\n    return MoveSelectionToNextFindMatchAction;\n}(MultiCursorSelectionControllerAction));\nexport { MoveSelectionToNextFindMatchAction };\nvar MoveSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\n    __extends(MoveSelectionToPreviousFindMatchAction, _super);\n    function MoveSelectionToPreviousFindMatchAction() {\n        return _super.call(this, {\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\n            alias: 'Move Last Selection To Previous Find Match',\n            precondition: null\n        }) || this;\n    }\n    MoveSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\n    };\n    return MoveSelectionToPreviousFindMatchAction;\n}(MultiCursorSelectionControllerAction));\nexport { MoveSelectionToPreviousFindMatchAction };\nvar SelectHighlightsAction = /** @class */ (function (_super) {\n    __extends(SelectHighlightsAction, _super);\n    function SelectHighlightsAction() {\n        return _super.call(this, {\n            id: 'editor.action.selectHighlights',\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\n            alias: 'Select All Occurrences of Find Match',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 42 /* KEY_L */\n            }\n        }) || this;\n    }\n    SelectHighlightsAction.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    };\n    return SelectHighlightsAction;\n}(MultiCursorSelectionControllerAction));\nexport { SelectHighlightsAction };\nvar CompatChangeAll = /** @class */ (function (_super) {\n    __extends(CompatChangeAll, _super);\n    function CompatChangeAll() {\n        return _super.call(this, {\n            id: 'editor.action.changeAll',\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\n            alias: 'Change All Occurrences',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 60 /* F2 */\n            },\n            menuOpts: {\n                group: '1_modification',\n                order: 1.2\n            }\n        }) || this;\n    }\n    CompatChangeAll.prototype._run = function (multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    };\n    return CompatChangeAll;\n}(MultiCursorSelectionControllerAction));\nexport { CompatChangeAll };\nvar SelectionHighlighterState = /** @class */ (function () {\n    function SelectionHighlighterState(lastWordUnderCursor, searchText, matchCase, wordSeparators) {\n        this.lastWordUnderCursor = lastWordUnderCursor;\n        this.searchText = searchText;\n        this.matchCase = matchCase;\n        this.wordSeparators = wordSeparators;\n    }\n    /**\n     * Everything equals except for `lastWordUnderCursor`\n     */\n    SelectionHighlighterState.softEquals = function (a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        return (a.searchText === b.searchText\n            && a.matchCase === b.matchCase\n            && a.wordSeparators === b.wordSeparators);\n    };\n    return SelectionHighlighterState;\n}());\nvar SelectionHighlighter = /** @class */ (function (_super) {\n    __extends(SelectionHighlighter, _super);\n    function SelectionHighlighter(editor) {\n        var _this = _super.call(this) || this;\n        _this.editor = editor;\n        _this._isEnabled = editor.getConfiguration().contribInfo.selectionHighlight;\n        _this.decorations = [];\n        _this.updateSoon = _this._register(new RunOnceScheduler(function () { return _this._update(); }, 300));\n        _this.state = null;\n        _this._register(editor.onDidChangeConfiguration(function (e) {\n            _this._isEnabled = editor.getConfiguration().contribInfo.selectionHighlight;\n        }));\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\n            if (!_this._isEnabled) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            if (e.selection.isEmpty()) {\n                if (e.reason === CursorChangeReason.Explicit) {\n                    if (_this.state && (!_this.state.lastWordUnderCursor || !_this.state.lastWordUnderCursor.containsPosition(e.selection.getStartPosition()))) {\n                        // no longer valid\n                        _this._setState(null);\n                    }\n                    _this.updateSoon.schedule();\n                }\n                else {\n                    _this._setState(null);\n                }\n            }\n            else {\n                _this._update();\n            }\n        }));\n        _this._register(editor.onDidChangeModel(function (e) {\n            _this._setState(null);\n        }));\n        _this._register(CommonFindController.get(editor).getState().onFindReplaceStateChange(function (e) {\n            _this._update();\n        }));\n        return _this;\n    }\n    SelectionHighlighter.prototype.getId = function () {\n        return SelectionHighlighter.ID;\n    };\n    SelectionHighlighter.prototype._update = function () {\n        this._setState(SelectionHighlighter._createState(this._isEnabled, this.editor));\n    };\n    SelectionHighlighter._createState = function (isEnabled, editor) {\n        if (!isEnabled) {\n            return null;\n        }\n        var model = editor.getModel();\n        if (!model) {\n            return null;\n        }\n        var s = editor.getSelection();\n        if (s.startLineNumber !== s.endLineNumber) {\n            // multiline forbidden for perf reasons\n            return null;\n        }\n        var multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return null;\n        }\n        var findController = CommonFindController.get(editor);\n        if (!findController) {\n            return null;\n        }\n        var r = multiCursorController.getSession(findController);\n        if (!r) {\n            var allSelections = editor.getSelections();\n            if (allSelections.length > 1) {\n                var findState_1 = findController.getState();\n                var matchCase = findState_1.matchCase;\n                var selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    return null;\n                }\n            }\n            r = MultiCursorSession.create(editor, findController);\n        }\n        if (!r) {\n            return null;\n        }\n        var lastWordUnderCursor = null;\n        var hasFindOccurrences = DocumentHighlightProviderRegistry.has(model);\n        if (r.currentMatch) {\n            // This is an empty selection\n            if (hasFindOccurrences) {\n                // Do not interfere with semantic word highlighting in the no selection case\n                return null;\n            }\n            var config = editor.getConfiguration();\n            if (!config.contribInfo.occurrencesHighlight) {\n                return null;\n            }\n            lastWordUnderCursor = r.currentMatch;\n        }\n        if (/^[ \\t]+$/.test(r.searchText)) {\n            // whitespace only selection\n            return null;\n        }\n        if (r.searchText.length > 200) {\n            // very long selection\n            return null;\n        }\n        // TODO: better handling of this case\n        var findState = findController.getState();\n        var caseSensitive = findState.matchCase;\n        // Return early if the find widget shows the exact same matches\n        if (findState.isRevealed) {\n            var findStateSearchString = findState.searchString;\n            if (!caseSensitive) {\n                findStateSearchString = findStateSearchString.toLowerCase();\n            }\n            var mySearchString = r.searchText;\n            if (!caseSensitive) {\n                mySearchString = mySearchString.toLowerCase();\n            }\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\n                return null;\n            }\n        }\n        return new SelectionHighlighterState(lastWordUnderCursor, r.searchText, r.matchCase, r.wholeWord ? editor.getConfiguration().wordSeparators : null);\n    };\n    SelectionHighlighter.prototype._setState = function (state) {\n        if (SelectionHighlighterState.softEquals(this.state, state)) {\n            this.state = state;\n            return;\n        }\n        this.state = state;\n        if (!this.state) {\n            this.decorations = this.editor.deltaDecorations(this.decorations, []);\n            return;\n        }\n        var model = this.editor.getModel();\n        if (model.isTooLargeForTokenization()) {\n            // the file is too large, so searching word under cursor in the whole document takes is blocking the UI.\n            return;\n        }\n        var hasFindOccurrences = DocumentHighlightProviderRegistry.has(model);\n        var allMatches = model.findMatches(this.state.searchText, true, false, this.state.matchCase, this.state.wordSeparators, false).map(function (m) { return m.range; });\n        allMatches.sort(Range.compareRangesUsingStarts);\n        var selections = this.editor.getSelections();\n        selections.sort(Range.compareRangesUsingStarts);\n        // do not overlap with selection (issue #64 and #512)\n        var matches = [];\n        for (var i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\n            var match = allMatches[i];\n            if (j >= lenJ) {\n                // finished all editor selections\n                matches.push(match);\n                i++;\n            }\n            else {\n                var cmp = Range.compareRangesUsingStarts(match, selections[j]);\n                if (cmp < 0) {\n                    // match is before sel\n                    matches.push(match);\n                    i++;\n                }\n                else if (cmp > 0) {\n                    // sel is before match\n                    j++;\n                }\n                else {\n                    // sel is equal to match\n                    i++;\n                    j++;\n                }\n            }\n        }\n        var decorations = matches.map(function (r) {\n            return {\n                range: r,\n                // Show in overviewRuler only if model has no semantic highlighting\n                options: (hasFindOccurrences ? SelectionHighlighter._SELECTION_HIGHLIGHT : SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW)\n            };\n        });\n        this.decorations = this.editor.deltaDecorations(this.decorations, decorations);\n    };\n    SelectionHighlighter.prototype.dispose = function () {\n        this._setState(null);\n        _super.prototype.dispose.call(this);\n    };\n    SelectionHighlighter.ID = 'editor.contrib.selectionHighlighter';\n    SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'selectionHighlight',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n            darkColor: themeColorFromId(overviewRulerSelectionHighlightForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    SelectionHighlighter._SELECTION_HIGHLIGHT = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'selectionHighlight',\n    });\n    return SelectionHighlighter;\n}(Disposable));\nexport { SelectionHighlighter };\nfunction modelRangesContainSameText(model, ranges, matchCase) {\n    var selectedText = getValueInRange(model, ranges[0], !matchCase);\n    for (var i = 1, len = ranges.length; i < len; i++) {\n        var range = ranges[i];\n        if (range.isEmpty()) {\n            return false;\n        }\n        var thisSelectedText = getValueInRange(model, range, !matchCase);\n        if (selectedText !== thisSelectedText) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getValueInRange(model, range, toLowerCase) {\n    var text = model.getValueInRange(range);\n    return (toLowerCase ? text.toLowerCase() : text);\n}\nregisterEditorContribution(MultiCursorSelectionController);\nregisterEditorContribution(SelectionHighlighter);\nregisterEditorAction(InsertCursorAbove);\nregisterEditorAction(InsertCursorBelow);\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\nregisterEditorAction(AddSelectionToNextFindMatchAction);\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\nregisterEditorAction(SelectHighlightsAction);\nregisterEditorAction(CompatChangeAll);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { SignatureHelpProviderRegistry } from '../../common/modes.js';\nimport { asWinJsPromise, sequence } from '../../../base/common/async.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nexport var Context = {\n    Visible: new RawContextKey('parameterHintsVisible', false),\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\n};\nexport function provideSignatureHelp(model, position) {\n    var supports = SignatureHelpProviderRegistry.ordered(model);\n    var result;\n    return sequence(supports.map(function (support) { return function () {\n        if (result) {\n            // stop when there is a result\n            return undefined;\n        }\n        return asWinJsPromise(function (token) { return support.provideSignatureHelp(model, position, token); }).then(function (thisResult) {\n            result = thisResult;\n        }, onUnexpectedExternalError);\n    }; })).then(function () { return result; });\n}\nregisterDefaultLanguageCommand('_executeSignatureHelpProvider', provideSignatureHelp);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './parameterHints.css';\nimport * as nls from '../../../nls.js';\nimport { dispose, Disposable } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport * as aria from '../../../base/browser/ui/aria/aria.js';\nimport { SignatureHelpProviderRegistry } from '../../common/modes.js';\nimport { ContentWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { Emitter, chain } from '../../../base/common/event.js';\nimport { domEvent, stop } from '../../../base/browser/event.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { Context, provideSignatureHelp } from './provideSignatureHelp.js';\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\nimport { registerThemingParticipant, HIGH_CONTRAST } from '../../../platform/theme/common/themeService.js';\nimport { editorHoverBackground, editorHoverBorder, textLinkForeground, textCodeBlockBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\nvar $ = dom.$;\nvar ParameterHintsModel = /** @class */ (function (_super) {\n    __extends(ParameterHintsModel, _super);\n    function ParameterHintsModel(editor) {\n        var _this = _super.call(this) || this;\n        _this._onHint = _this._register(new Emitter());\n        _this.onHint = _this._onHint.event;\n        _this._onCancel = _this._register(new Emitter());\n        _this.onCancel = _this._onCancel.event;\n        _this.editor = editor;\n        _this.enabled = false;\n        _this.triggerCharactersListeners = [];\n        _this.throttledDelayer = new RunOnceScheduler(function () { return _this.doTrigger(); }, ParameterHintsModel.DELAY);\n        _this.active = false;\n        _this._register(_this.editor.onDidChangeConfiguration(function () { return _this.onEditorConfigurationChange(); }));\n        _this._register(_this.editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\n        _this._register(_this.editor.onDidChangeModelLanguage(function (_) { return _this.onModelChanged(); }));\n        _this._register(_this.editor.onDidChangeCursorSelection(function (e) { return _this.onCursorChange(e); }));\n        _this._register(SignatureHelpProviderRegistry.onDidChange(_this.onModelChanged, _this));\n        _this.onEditorConfigurationChange();\n        _this.onModelChanged();\n        return _this;\n    }\n    ParameterHintsModel.prototype.cancel = function (silent) {\n        if (silent === void 0) { silent = false; }\n        this.active = false;\n        this.throttledDelayer.cancel();\n        if (!silent) {\n            this._onCancel.fire(void 0);\n        }\n        if (this.provideSignatureHelpRequest) {\n            this.provideSignatureHelpRequest.cancel();\n            this.provideSignatureHelpRequest = undefined;\n        }\n    };\n    ParameterHintsModel.prototype.trigger = function (delay) {\n        if (delay === void 0) { delay = ParameterHintsModel.DELAY; }\n        if (!SignatureHelpProviderRegistry.has(this.editor.getModel())) {\n            return;\n        }\n        this.cancel(true);\n        return this.throttledDelayer.schedule(delay);\n    };\n    ParameterHintsModel.prototype.doTrigger = function () {\n        var _this = this;\n        if (this.provideSignatureHelpRequest) {\n            this.provideSignatureHelpRequest.cancel();\n        }\n        this.provideSignatureHelpRequest = provideSignatureHelp(this.editor.getModel(), this.editor.getPosition())\n            .then(null, onUnexpectedError)\n            .then(function (result) {\n            if (!result || !result.signatures || result.signatures.length === 0) {\n                _this.cancel();\n                _this._onCancel.fire(void 0);\n                return false;\n            }\n            _this.active = true;\n            var event = { hints: result };\n            _this._onHint.fire(event);\n            return true;\n        });\n    };\n    ParameterHintsModel.prototype.isTriggered = function () {\n        return this.active || this.throttledDelayer.isScheduled();\n    };\n    ParameterHintsModel.prototype.onModelChanged = function () {\n        var _this = this;\n        if (this.active) {\n            this.cancel();\n        }\n        this.triggerCharactersListeners = dispose(this.triggerCharactersListeners);\n        var model = this.editor.getModel();\n        if (!model) {\n            return;\n        }\n        var triggerChars = new CharacterSet();\n        for (var _i = 0, _a = SignatureHelpProviderRegistry.ordered(model); _i < _a.length; _i++) {\n            var support = _a[_i];\n            if (Array.isArray(support.signatureHelpTriggerCharacters)) {\n                for (var _b = 0, _c = support.signatureHelpTriggerCharacters; _b < _c.length; _b++) {\n                    var ch = _c[_b];\n                    triggerChars.add(ch.charCodeAt(0));\n                }\n            }\n        }\n        this.triggerCharactersListeners.push(this.editor.onDidType(function (text) {\n            if (!_this.enabled) {\n                return;\n            }\n            if (triggerChars.has(text.charCodeAt(text.length - 1))) {\n                _this.trigger();\n            }\n        }));\n    };\n    ParameterHintsModel.prototype.onCursorChange = function (e) {\n        if (e.source === 'mouse') {\n            this.cancel();\n        }\n        else if (this.isTriggered()) {\n            this.trigger();\n        }\n    };\n    ParameterHintsModel.prototype.onEditorConfigurationChange = function () {\n        this.enabled = this.editor.getConfiguration().contribInfo.parameterHints;\n        if (!this.enabled) {\n            this.cancel();\n        }\n    };\n    ParameterHintsModel.prototype.dispose = function () {\n        this.cancel(true);\n        this.triggerCharactersListeners = dispose(this.triggerCharactersListeners);\n        _super.prototype.dispose.call(this);\n    };\n    ParameterHintsModel.DELAY = 120; // ms\n    return ParameterHintsModel;\n}(Disposable));\nexport { ParameterHintsModel };\nvar ParameterHintsWidget = /** @class */ (function () {\n    function ParameterHintsWidget(editor, contextKeyService, openerService, modeService) {\n        var _this = this;\n        this.editor = editor;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.markdownRenderer = new MarkdownRenderer(editor, modeService, openerService);\n        this.model = new ParameterHintsModel(editor);\n        this.keyVisible = Context.Visible.bindTo(contextKeyService);\n        this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n        this.visible = false;\n        this.disposables = [];\n        this.disposables.push(this.model.onHint(function (e) {\n            _this.show();\n            _this.hints = e.hints;\n            _this.currentSignature = e.hints.activeSignature;\n            _this.render();\n        }));\n        this.disposables.push(this.model.onCancel(function () {\n            _this.hide();\n        }));\n    }\n    ParameterHintsWidget.prototype.createParamaterHintDOMNodes = function () {\n        var _this = this;\n        this.element = $('.editor-widget.parameter-hints-widget');\n        var wrapper = dom.append(this.element, $('.wrapper'));\n        var buttons = dom.append(wrapper, $('.buttons'));\n        var previous = dom.append(buttons, $('.button.previous'));\n        var next = dom.append(buttons, $('.button.next'));\n        var onPreviousClick = stop(domEvent(previous, 'click'));\n        onPreviousClick(this.previous, this, this.disposables);\n        var onNextClick = stop(domEvent(next, 'click'));\n        onNextClick(this.next, this, this.disposables);\n        this.overloads = dom.append(wrapper, $('.overloads'));\n        var body = $('.body');\n        this.scrollbar = new DomScrollableElement(body, {});\n        this.disposables.push(this.scrollbar);\n        wrapper.appendChild(this.scrollbar.getDomNode());\n        this.signature = dom.append(body, $('.signature'));\n        this.docs = dom.append(body, $('.docs'));\n        this.currentSignature = 0;\n        this.editor.addContentWidget(this);\n        this.hide();\n        this.disposables.push(this.editor.onDidChangeCursorSelection(function (e) {\n            if (_this.visible) {\n                _this.editor.layoutContentWidget(_this);\n            }\n        }));\n        var updateFont = function () {\n            var fontInfo = _this.editor.getConfiguration().fontInfo;\n            _this.element.style.fontSize = fontInfo.fontSize + \"px\";\n        };\n        updateFont();\n        chain(this.editor.onDidChangeConfiguration.bind(this.editor))\n            .filter(function (e) { return e.fontInfo; })\n            .on(updateFont, null, this.disposables);\n        this.disposables.push(this.editor.onDidLayoutChange(function (e) { return _this.updateMaxHeight(); }));\n        this.updateMaxHeight();\n    };\n    ParameterHintsWidget.prototype.show = function () {\n        var _this = this;\n        if (!this.model || this.visible) {\n            return;\n        }\n        if (!this.element) {\n            this.createParamaterHintDOMNodes();\n        }\n        this.keyVisible.set(true);\n        this.visible = true;\n        TPromise.timeout(100).done(function () { return dom.addClass(_this.element, 'visible'); });\n        this.editor.layoutContentWidget(this);\n    };\n    ParameterHintsWidget.prototype.hide = function () {\n        if (!this.model || !this.visible) {\n            return;\n        }\n        if (!this.element) {\n            this.createParamaterHintDOMNodes();\n        }\n        this.keyVisible.reset();\n        this.visible = false;\n        this.hints = null;\n        this.announcedLabel = null;\n        dom.removeClass(this.element, 'visible');\n        this.editor.layoutContentWidget(this);\n    };\n    ParameterHintsWidget.prototype.getPosition = function () {\n        if (this.visible) {\n            return {\n                position: this.editor.getPosition(),\n                preference: [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW]\n            };\n        }\n        return null;\n    };\n    ParameterHintsWidget.prototype.render = function () {\n        var multiple = this.hints.signatures.length > 1;\n        dom.toggleClass(this.element, 'multiple', multiple);\n        this.keyMultipleSignatures.set(multiple);\n        this.signature.innerHTML = '';\n        this.docs.innerHTML = '';\n        var signature = this.hints.signatures[this.currentSignature];\n        if (!signature) {\n            return;\n        }\n        var code = dom.append(this.signature, $('.code'));\n        var hasParameters = signature.parameters.length > 0;\n        var fontInfo = this.editor.getConfiguration().fontInfo;\n        code.style.fontSize = fontInfo.fontSize + \"px\";\n        code.style.fontFamily = fontInfo.fontFamily;\n        if (!hasParameters) {\n            var label = dom.append(code, $('span'));\n            label.textContent = signature.label;\n        }\n        else {\n            this.renderParameters(code, signature, this.hints.activeParameter);\n        }\n        dispose(this.renderDisposeables);\n        this.renderDisposeables = [];\n        var activeParameter = signature.parameters[this.hints.activeParameter];\n        if (activeParameter && activeParameter.documentation) {\n            var documentation = $('span.documentation');\n            if (typeof activeParameter.documentation === 'string') {\n                dom.removeClass(this.docs, 'markdown-docs');\n                documentation.textContent = activeParameter.documentation;\n            }\n            else {\n                dom.addClass(this.docs, 'markdown-docs');\n                var renderedContents = this.markdownRenderer.render(activeParameter.documentation);\n                this.renderDisposeables.push(renderedContents);\n                documentation.appendChild(renderedContents.element);\n            }\n            dom.append(this.docs, $('p', null, documentation));\n        }\n        dom.toggleClass(this.signature, 'has-docs', !!signature.documentation);\n        if (typeof signature.documentation === 'string') {\n            dom.append(this.docs, $('p', null, signature.documentation));\n        }\n        else {\n            var renderedContents = this.markdownRenderer.render(signature.documentation);\n            this.renderDisposeables.push(renderedContents);\n            dom.append(this.docs, renderedContents.element);\n        }\n        var currentOverload = String(this.currentSignature + 1);\n        if (this.hints.signatures.length < 10) {\n            currentOverload += \"/\" + this.hints.signatures.length;\n        }\n        this.overloads.textContent = currentOverload;\n        if (activeParameter) {\n            var labelToAnnounce = activeParameter.label;\n            // Select method gets called on every user type while parameter hints are visible.\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n            if (this.announcedLabel !== labelToAnnounce) {\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n                this.announcedLabel = labelToAnnounce;\n            }\n        }\n        this.editor.layoutContentWidget(this);\n        this.scrollbar.scanDomNode();\n    };\n    ParameterHintsWidget.prototype.renderParameters = function (parent, signature, currentParameter) {\n        var end = signature.label.length;\n        var idx = 0;\n        var element;\n        for (var i = signature.parameters.length - 1; i >= 0; i--) {\n            var parameter = signature.parameters[i];\n            idx = signature.label.lastIndexOf(parameter.label, end - 1);\n            var signatureLabelOffset = 0;\n            var signatureLabelEnd = 0;\n            if (idx >= 0) {\n                signatureLabelOffset = idx;\n                signatureLabelEnd = idx + parameter.label.length;\n            }\n            // non parameter part\n            element = document.createElement('span');\n            element.textContent = signature.label.substring(signatureLabelEnd, end);\n            dom.prepend(parent, element);\n            // parameter part\n            element = document.createElement('span');\n            element.className = \"parameter \" + (i === currentParameter ? 'active' : '');\n            element.textContent = signature.label.substring(signatureLabelOffset, signatureLabelEnd);\n            dom.prepend(parent, element);\n            end = signatureLabelOffset;\n        }\n        // non parameter part\n        element = document.createElement('span');\n        element.textContent = signature.label.substring(0, end);\n        dom.prepend(parent, element);\n    };\n    // private select(position: number): void {\n    // \tconst signature = this.signatureViews[position];\n    // \tif (!signature) {\n    // \t\treturn;\n    // \t}\n    // \tthis.signatures.style.height = `${ signature.height }px`;\n    // \tthis.signatures.scrollTop = signature.top;\n    // \tlet overloads = '' + (position + 1);\n    // \tif (this.signatureViews.length < 10) {\n    // \t\toverloads += '/' + this.signatureViews.length;\n    // \t}\n    // \tthis.overloads.textContent = overloads;\n    // \tif (this.hints && this.hints.signatures[position].parameters[this.hints.activeParameter]) {\n    // \t\tconst labelToAnnounce = this.hints.signatures[position].parameters[this.hints.activeParameter].label;\n    // \t\t// Select method gets called on every user type while parameter hints are visible.\n    // \t\t// We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n    // \t\tif (this.announcedLabel !== labelToAnnounce) {\n    // \t\t\taria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n    // \t\t\tthis.announcedLabel = labelToAnnounce;\n    // \t\t}\n    // \t}\n    // \tthis.editor.layoutContentWidget(this);\n    // }\n    ParameterHintsWidget.prototype.next = function () {\n        var length = this.hints.signatures.length;\n        if (length < 2) {\n            this.cancel();\n            return false;\n        }\n        this.currentSignature = (this.currentSignature + 1) % length;\n        this.render();\n        return true;\n    };\n    ParameterHintsWidget.prototype.previous = function () {\n        var length = this.hints.signatures.length;\n        if (length < 2) {\n            this.cancel();\n            return false;\n        }\n        this.currentSignature = (this.currentSignature - 1 + length) % length;\n        this.render();\n        return true;\n    };\n    ParameterHintsWidget.prototype.cancel = function () {\n        this.model.cancel();\n    };\n    ParameterHintsWidget.prototype.getDomNode = function () {\n        return this.element;\n    };\n    ParameterHintsWidget.prototype.getId = function () {\n        return ParameterHintsWidget.ID;\n    };\n    ParameterHintsWidget.prototype.trigger = function () {\n        this.model.trigger(0);\n    };\n    ParameterHintsWidget.prototype.updateMaxHeight = function () {\n        var height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n        this.element.style.maxHeight = height + \"px\";\n    };\n    ParameterHintsWidget.prototype.dispose = function () {\n        this.disposables = dispose(this.disposables);\n        this.renderDisposeables = dispose(this.renderDisposeables);\n        if (this.model) {\n            this.model.dispose();\n            this.model = null;\n        }\n    };\n    ParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\n    ParameterHintsWidget = __decorate([\n        __param(1, IContextKeyService),\n        __param(2, IOpenerService),\n        __param(3, IModeService)\n    ], ParameterHintsWidget);\n    return ParameterHintsWidget;\n}());\nexport { ParameterHintsWidget };\nregisterThemingParticipant(function (theme, collector) {\n    var border = theme.getColor(editorHoverBorder);\n    if (border) {\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\n        collector.addRule(\".monaco-editor .parameter-hints-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\n        collector.addRule(\".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid \" + border.transparent(0.5) + \"; }\");\n        collector.addRule(\".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid \" + border.transparent(0.5) + \"; }\");\n    }\n    var background = theme.getColor(editorHoverBackground);\n    if (background) {\n        collector.addRule(\".monaco-editor .parameter-hints-widget { background-color: \" + background + \"; }\");\n    }\n    var link = theme.getColor(textLinkForeground);\n    if (link) {\n        collector.addRule(\".monaco-editor .parameter-hints-widget a { color: \" + link + \"; }\");\n    }\n    var codeBackground = theme.getColor(textCodeBlockBackground);\n    if (codeBackground) {\n        collector.addRule(\".monaco-editor .parameter-hints-widget code { background-color: \" + codeBackground + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\nimport { Context } from './provideSignatureHelp.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nvar ParameterHintsController = /** @class */ (function () {\n    function ParameterHintsController(editor, instantiationService) {\n        this.editor = editor;\n        this.widget = instantiationService.createInstance(ParameterHintsWidget, this.editor);\n    }\n    ParameterHintsController.get = function (editor) {\n        return editor.getContribution(ParameterHintsController.ID);\n    };\n    ParameterHintsController.prototype.getId = function () {\n        return ParameterHintsController.ID;\n    };\n    ParameterHintsController.prototype.cancel = function () {\n        this.widget.cancel();\n    };\n    ParameterHintsController.prototype.previous = function () {\n        this.widget.previous();\n    };\n    ParameterHintsController.prototype.next = function () {\n        this.widget.next();\n    };\n    ParameterHintsController.prototype.trigger = function () {\n        this.widget.trigger();\n    };\n    ParameterHintsController.prototype.dispose = function () {\n        this.widget = dispose(this.widget);\n    };\n    ParameterHintsController.ID = 'editor.controller.parameterHints';\n    ParameterHintsController = __decorate([\n        __param(1, IInstantiationService)\n    ], ParameterHintsController);\n    return ParameterHintsController;\n}());\nvar TriggerParameterHintsAction = /** @class */ (function (_super) {\n    __extends(TriggerParameterHintsAction, _super);\n    function TriggerParameterHintsAction() {\n        return _super.call(this, {\n            id: 'editor.action.triggerParameterHints',\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\n            alias: 'Trigger Parameter Hints',\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 10 /* Space */\n            }\n        }) || this;\n    }\n    TriggerParameterHintsAction.prototype.run = function (accessor, editor) {\n        var controller = ParameterHintsController.get(editor);\n        if (controller) {\n            controller.trigger();\n        }\n    };\n    return TriggerParameterHintsAction;\n}(EditorAction));\nexport { TriggerParameterHintsAction };\nregisterEditorContribution(ParameterHintsController);\nregisterEditorAction(TriggerParameterHintsAction);\nvar weight = KeybindingsRegistry.WEIGHT.editorContrib(75);\nvar ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'closeParameterHints',\n    precondition: Context.Visible,\n    handler: function (x) { return x.cancel(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showPrevParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: function (x) { return x.previous(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 16 /* UpArrow */,\n        secondary: [512 /* Alt */ | 16 /* UpArrow */],\n        mac: { primary: 16 /* UpArrow */, secondary: [512 /* Alt */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showNextParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: function (x) { return x.next(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 18 /* DownArrow */,\n        secondary: [512 /* Alt */ | 18 /* DownArrow */],\n        mac: { primary: 18 /* DownArrow */, secondary: [512 /* Alt */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IEditorService } from '../../../platform/editor/common/editor.js';\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorAction, EditorAction, registerEditorContribution, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { ReferenceProviderRegistry } from '../../common/modes.js';\nimport { PeekContext, getOuterEditor } from './peekViewWidget.js';\nimport { ReferencesController, ctxReferenceSearchVisible } from './referencesController.js';\nimport { ReferencesModel, OneReference } from './referencesModel.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\nimport { IListService } from '../../../platform/list/browser/listService.js';\nimport { ctxReferenceWidgetSearchTreeFocused } from './referencesWidget.js';\nvar defaultReferenceSearchOptions = {\n    getMetaTitle: function (model) {\n        return model.references.length > 1 && nls.localize('meta.titleReference', \" – {0} references\", model.references.length);\n    }\n};\nvar ReferenceController = /** @class */ (function () {\n    function ReferenceController(editor, contextKeyService) {\n        if (editor instanceof EmbeddedCodeEditorWidget) {\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\n        }\n    }\n    ReferenceController.prototype.dispose = function () {\n    };\n    ReferenceController.prototype.getId = function () {\n        return ReferenceController.ID;\n    };\n    ReferenceController.ID = 'editor.contrib.referenceController';\n    ReferenceController = __decorate([\n        __param(1, IContextKeyService)\n    ], ReferenceController);\n    return ReferenceController;\n}());\nexport { ReferenceController };\nvar ReferenceAction = /** @class */ (function (_super) {\n    __extends(ReferenceAction, _super);\n    function ReferenceAction() {\n        return _super.call(this, {\n            id: 'editor.action.referenceSearch.trigger',\n            label: nls.localize('references.action.label', \"Find All References\"),\n            alias: 'Find All References',\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 70 /* F12 */\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.5\n            }\n        }) || this;\n    }\n    ReferenceAction.prototype.run = function (accessor, editor) {\n        var controller = ReferencesController.get(editor);\n        if (!controller) {\n            return;\n        }\n        var range = editor.getSelection();\n        var model = editor.getModel();\n        var references = provideReferences(model, range.getStartPosition()).then(function (references) { return new ReferencesModel(references); });\n        controller.toggleWidget(range, references, defaultReferenceSearchOptions);\n    };\n    return ReferenceAction;\n}(EditorAction));\nexport { ReferenceAction };\nregisterEditorContribution(ReferenceController);\nregisterEditorAction(ReferenceAction);\nvar findReferencesCommand = function (accessor, resource, position) {\n    if (!(resource instanceof URI)) {\n        throw new Error('illegal argument, uri');\n    }\n    if (!position) {\n        throw new Error('illegal argument, position');\n    }\n    return accessor.get(IEditorService).openEditor({ resource: resource }).then(function (editor) {\n        var control = editor.getControl();\n        if (!isCodeEditor(control)) {\n            return undefined;\n        }\n        var controller = ReferencesController.get(control);\n        if (!controller) {\n            return undefined;\n        }\n        var references = provideReferences(control.getModel(), Position.lift(position)).then(function (references) { return new ReferencesModel(references); });\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        return TPromise.as(controller.toggleWidget(range, references, defaultReferenceSearchOptions));\n    });\n};\nvar showReferencesCommand = function (accessor, resource, position, references) {\n    if (!(resource instanceof URI)) {\n        throw new Error('illegal argument, uri expected');\n    }\n    return accessor.get(IEditorService).openEditor({ resource: resource }).then(function (editor) {\n        var control = editor.getControl();\n        if (!isCodeEditor(control)) {\n            return undefined;\n        }\n        var controller = ReferencesController.get(control);\n        if (!controller) {\n            return undefined;\n        }\n        return TPromise.as(controller.toggleWidget(new Range(position.lineNumber, position.column, position.lineNumber, position.column), TPromise.as(new ReferencesModel(references)), defaultReferenceSearchOptions)).then(function () { return true; });\n    });\n};\n// register commands\nCommandsRegistry.registerCommand({\n    id: 'editor.action.findReferences',\n    handler: findReferencesCommand\n});\nCommandsRegistry.registerCommand({\n    id: 'editor.action.showReferences',\n    handler: showReferencesCommand,\n    description: {\n        description: 'Show references at a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to show references', constraint: URI },\n            { name: 'position', description: 'The position at which to show', constraint: Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n        ]\n    }\n});\nfunction closeActiveReferenceSearch(accessor, args) {\n    withController(accessor, function (controller) { return controller.closeWidget(); });\n}\nfunction openReferenceToSide(accessor, args) {\n    var listService = accessor.get(IListService);\n    var focus = listService.lastFocusedList && listService.lastFocusedList.getFocus();\n    if (focus instanceof OneReference) {\n        withController(accessor, function (controller) { return controller.openReference(focus, true); });\n    }\n}\nfunction withController(accessor, fn) {\n    var outerEditor = getOuterEditor(accessor);\n    if (!outerEditor) {\n        return;\n    }\n    var controller = ReferencesController.get(outerEditor);\n    if (!controller) {\n        return;\n    }\n    fn(controller);\n}\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToNextReference',\n    weight: KeybindingsRegistry.WEIGHT.workbenchContrib(50),\n    primary: 62 /* F4 */,\n    when: ctxReferenceSearchVisible,\n    handler: function (accessor) {\n        withController(accessor, function (controller) {\n            controller.goToNextOrPreviousReference(true);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToNextReferenceFromEmbeddedEditor',\n    weight: KeybindingsRegistry.WEIGHT.editorContrib(50),\n    primary: 62 /* F4 */,\n    when: PeekContext.inPeekEditor,\n    handler: function (accessor) {\n        withController(accessor, function (controller) {\n            controller.goToNextOrPreviousReference(true);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToPreviousReference',\n    weight: KeybindingsRegistry.WEIGHT.workbenchContrib(50),\n    primary: 1024 /* Shift */ | 62 /* F4 */,\n    when: ctxReferenceSearchVisible,\n    handler: function (accessor) {\n        withController(accessor, function (controller) {\n            controller.goToNextOrPreviousReference(false);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToPreviousReferenceFromEmbeddedEditor',\n    weight: KeybindingsRegistry.WEIGHT.editorContrib(50),\n    primary: 1024 /* Shift */ | 62 /* F4 */,\n    when: PeekContext.inPeekEditor,\n    handler: function (accessor) {\n        withController(accessor, function (controller) {\n            controller.goToNextOrPreviousReference(false);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'closeReferenceSearch',\n    weight: KeybindingsRegistry.WEIGHT.workbenchContrib(50),\n    primary: 9 /* Escape */,\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ContextKeyExpr.not('config.editor.stablePeek')),\n    handler: closeActiveReferenceSearch\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'closeReferenceSearchEditor',\n    weight: KeybindingsRegistry.WEIGHT.editorContrib(-101),\n    primary: 9 /* Escape */,\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\n    when: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek')),\n    handler: closeActiveReferenceSearch\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'openReferenceToSide',\n    weight: KeybindingsRegistry.WEIGHT.editorContrib(),\n    primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\n    mac: {\n        primary: 256 /* WinCtrl */ | 3 /* Enter */\n    },\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ctxReferenceWidgetSearchTreeFocused),\n    handler: openReferenceToSide\n});\nexport function provideReferences(model, position) {\n    // collect references from all providers\n    var promises = ReferenceProviderRegistry.ordered(model).map(function (provider) {\n        return asWinJsPromise(function (token) {\n            return provider.provideReferences(model, position, { includeDeclaration: true }, token);\n        }).then(function (result) {\n            if (Array.isArray(result)) {\n                return result;\n            }\n            return undefined;\n        }, function (err) {\n            onUnexpectedExternalError(err);\n        });\n    });\n    return TPromise.join(promises).then(function (references) {\n        var result = [];\n        for (var _i = 0, references_1 = references; _i < references_1.length; _i++) {\n            var ref = references_1[_i];\n            if (ref) {\n                result.push.apply(result, ref);\n            }\n        }\n        return result;\n    });\n}\nregisterDefaultLanguageCommand('_executeReferenceProvider', provideReferences);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as nls from '../../../nls.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { IFileService, FileChangeType } from '../../../platform/files/common/files.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { emptyProgressRunner } from '../../../platform/progress/common/progress.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { isResourceFileEdit, isResourceTextEdit } from '../../common/modes.js';\nimport { getPathLabel } from '../../../base/common/labels.js';\nvar IRecording = /** @class */ (function () {\n    function IRecording() {\n    }\n    IRecording.start = function (fileService) {\n        var _changes = new Set();\n        var stop;\n        if (fileService) {\n            // watch only when there is a fileservice available\n            stop = fileService.onFileChanges(function (event) {\n                for (var _i = 0, _a = event.changes; _i < _a.length; _i++) {\n                    var change = _a[_i];\n                    if (change.type === FileChangeType.UPDATED) {\n                        _changes.add(change.resource.toString());\n                    }\n                }\n            });\n        }\n        return {\n            stop: function () { return dispose(stop); },\n            hasChanged: function (resource) { return _changes.has(resource.toString()); }\n        };\n    };\n    return IRecording;\n}());\nvar EditTask = /** @class */ (function () {\n    function EditTask(modelReference) {\n        this._endCursorSelection = null;\n        this._modelReference = modelReference;\n        this._edits = [];\n    }\n    Object.defineProperty(EditTask.prototype, \"_model\", {\n        get: function () { return this._modelReference.object.textEditorModel; },\n        enumerable: true,\n        configurable: true\n    });\n    EditTask.prototype.dispose = function () {\n        if (this._model) {\n            this._modelReference.dispose();\n            this._modelReference = null;\n        }\n    };\n    EditTask.prototype.addEdit = function (resourceEdit) {\n        for (var _i = 0, _a = resourceEdit.edits; _i < _a.length; _i++) {\n            var edit = _a[_i];\n            if (typeof edit.eol === 'number') {\n                // honor eol-change\n                this._newEol = edit.eol;\n            }\n            if (edit.range || edit.text) {\n                // create edit operation\n                var range = void 0;\n                if (!edit.range) {\n                    range = this._model.getFullModelRange();\n                }\n                else {\n                    range = Range.lift(edit.range);\n                }\n                this._edits.push(EditOperation.replaceMove(range, edit.text));\n            }\n        }\n    };\n    EditTask.prototype.apply = function () {\n        var _this = this;\n        if (this._edits.length > 0) {\n            this._edits = this._edits.map(function (value, index) { return ({ value: value, index: index }); }).sort(function (a, b) {\n                var ret = Range.compareRangesUsingStarts(a.value.range, b.value.range);\n                if (ret === 0) {\n                    ret = a.index - b.index;\n                }\n                return ret;\n            }).map(function (element) { return element.value; });\n            this._initialSelections = this._getInitialSelections();\n            this._model.pushStackElement();\n            this._model.pushEditOperations(this._initialSelections, this._edits, function (edits) { return _this._getEndCursorSelections(edits); });\n            this._model.pushStackElement();\n        }\n        if (this._newEol !== undefined) {\n            this._model.pushStackElement();\n            this._model.setEOL(this._newEol);\n            this._model.pushStackElement();\n        }\n    };\n    EditTask.prototype._getInitialSelections = function () {\n        var firstRange = this._edits[0].range;\n        var initialSelection = new Selection(firstRange.startLineNumber, firstRange.startColumn, firstRange.endLineNumber, firstRange.endColumn);\n        return [initialSelection];\n    };\n    EditTask.prototype._getEndCursorSelections = function (inverseEditOperations) {\n        var relevantEditIndex = 0;\n        for (var i = 0; i < inverseEditOperations.length; i++) {\n            var editRange = inverseEditOperations[i].range;\n            for (var j = 0; j < this._initialSelections.length; j++) {\n                var selectionRange = this._initialSelections[j];\n                if (Range.areIntersectingOrTouching(editRange, selectionRange)) {\n                    relevantEditIndex = i;\n                    break;\n                }\n            }\n        }\n        var srcRange = inverseEditOperations[relevantEditIndex].range;\n        this._endCursorSelection = new Selection(srcRange.endLineNumber, srcRange.endColumn, srcRange.endLineNumber, srcRange.endColumn);\n        return [this._endCursorSelection];\n    };\n    EditTask.prototype.getEndCursorSelection = function () {\n        return this._endCursorSelection;\n    };\n    return EditTask;\n}());\nvar SourceModelEditTask = /** @class */ (function (_super) {\n    __extends(SourceModelEditTask, _super);\n    function SourceModelEditTask(modelReference, initialSelections) {\n        var _this = _super.call(this, modelReference) || this;\n        _this._knownInitialSelections = initialSelections;\n        return _this;\n    }\n    SourceModelEditTask.prototype._getInitialSelections = function () {\n        return this._knownInitialSelections;\n    };\n    return SourceModelEditTask;\n}(EditTask));\nvar BulkEditModel = /** @class */ (function () {\n    function BulkEditModel(textModelResolverService, editor, edits, progress) {\n        this._edits = new Map();\n        this._textModelResolverService = textModelResolverService;\n        this._sourceModel = editor ? editor.getModel().uri : undefined;\n        this._sourceSelections = editor ? editor.getSelections() : undefined;\n        this._sourceModelTask = undefined;\n        this._progress = progress;\n        edits.forEach(this.addEdit, this);\n    }\n    BulkEditModel.prototype.dispose = function () {\n        this._tasks = dispose(this._tasks);\n    };\n    BulkEditModel.prototype.addEdit = function (edit) {\n        var array = this._edits.get(edit.resource.toString());\n        if (!array) {\n            array = [];\n            this._edits.set(edit.resource.toString(), array);\n        }\n        array.push(edit);\n    };\n    BulkEditModel.prototype.prepare = function () {\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var promises;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._tasks) {\n                            throw new Error('illegal state - already prepared');\n                        }\n                        this._tasks = [];\n                        promises = [];\n                        this._edits.forEach(function (value, key) {\n                            var promise = _this._textModelResolverService.createModelReference(URI.parse(key)).then(function (ref) {\n                                var model = ref.object;\n                                if (!model || !model.textEditorModel) {\n                                    throw new Error(\"Cannot load file \" + key);\n                                }\n                                var task;\n                                if (_this._sourceModel && model.textEditorModel.uri.toString() === _this._sourceModel.toString()) {\n                                    _this._sourceModelTask = new SourceModelEditTask(ref, _this._sourceSelections);\n                                    task = _this._sourceModelTask;\n                                }\n                                else {\n                                    task = new EditTask(ref);\n                                }\n                                value.forEach(function (edit) { return task.addEdit(edit); });\n                                _this._tasks.push(task);\n                                _this._progress.report(undefined);\n                            });\n                            promises.push(promise);\n                        });\n                        return [4 /*yield*/, TPromise.join(promises)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    BulkEditModel.prototype.apply = function () {\n        for (var _i = 0, _a = this._tasks; _i < _a.length; _i++) {\n            var task = _a[_i];\n            task.apply();\n            this._progress.report(undefined);\n        }\n        return this._sourceModelTask\n            ? this._sourceModelTask.getEndCursorSelection()\n            : undefined;\n    };\n    return BulkEditModel;\n}());\nvar BulkEdit = /** @class */ (function () {\n    function BulkEdit(editor, progress, _textModelService, _fileService) {\n        this._textModelService = _textModelService;\n        this._fileService = _fileService;\n        this._edits = [];\n        this._editor = editor;\n        this._progress = progress || emptyProgressRunner;\n    }\n    BulkEdit.perform = function (edits, textModelService, fileService, editor) {\n        var edit = new BulkEdit(editor, null, textModelService, fileService);\n        edit.add(edits);\n        return edit.perform();\n    };\n    BulkEdit.prototype.add = function (edits) {\n        if (Array.isArray(edits)) {\n            (_a = this._edits).push.apply(_a, edits);\n        }\n        else {\n            this._edits.push(edits);\n        }\n        var _a;\n    };\n    BulkEdit.prototype.ariaMessage = function () {\n        var editCount = this._edits.reduce(function (prev, cur) { return isResourceFileEdit(cur) ? prev : prev + cur.edits.length; }, 0);\n        var resourceCount = this._edits.length;\n        if (editCount === 0) {\n            return nls.localize('summary.0', \"Made no edits\");\n        }\n        else if (editCount > 1 && resourceCount > 1) {\n            return nls.localize('summary.nm', \"Made {0} text edits in {1} files\", editCount, resourceCount);\n        }\n        else {\n            return nls.localize('summary.n0', \"Made {0} text edits in one file\", editCount, resourceCount);\n        }\n    };\n    BulkEdit.prototype.perform = function () {\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var seen, total, groups, group, _i, _a, edit, progress, res, _b, groups_1, group_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        seen = new Set();\n                        total = 0;\n                        groups = [];\n                        for (_i = 0, _a = this._edits; _i < _a.length; _i++) {\n                            edit = _a[_i];\n                            if (!group\n                                || (isResourceFileEdit(group[0]) && !isResourceFileEdit(edit))\n                                || (isResourceTextEdit(group[0]) && !isResourceTextEdit(edit))) {\n                                group = [];\n                                groups.push(group);\n                            }\n                            group.push(edit);\n                            if (isResourceFileEdit(edit)) {\n                                total += 1;\n                            }\n                            else if (!seen.has(edit.resource.toString())) {\n                                seen.add(edit.resource.toString());\n                                total += 2;\n                            }\n                        }\n                        // define total work and progress callback\n                        // for child operations\n                        this._progress.total(total);\n                        progress = { report: function (_) { return _this._progress.worked(1); } };\n                        res = undefined;\n                        _b = 0, groups_1 = groups;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_b < groups_1.length)) return [3 /*break*/, 6];\n                        group_1 = groups_1[_b];\n                        if (!isResourceFileEdit(group_1[0])) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._performFileEdits(group_1, progress)];\n                    case 2:\n                        _c.sent();\n                        return [3 /*break*/, 5];\n                    case 3: return [4 /*yield*/, this._performTextEdits(group_1, progress)];\n                    case 4:\n                        res = (_c.sent()) || res;\n                        _c.label = 5;\n                    case 5:\n                        _b++;\n                        return [3 /*break*/, 1];\n                    case 6: return [2 /*return*/, res];\n                }\n            });\n        });\n    };\n    BulkEdit.prototype._performFileEdits = function (edits, progress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _i, edits_1, edit;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _i = 0, edits_1 = edits;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < edits_1.length)) return [3 /*break*/, 8];\n                        edit = edits_1[_i];\n                        progress.report(undefined);\n                        if (!(edit.newUri && edit.oldUri)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._fileService.moveFile(edit.oldUri, edit.newUri, false)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 7];\n                    case 3:\n                        if (!(!edit.newUri && edit.oldUri)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this._fileService.del(edit.oldUri, true)];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 7];\n                    case 5:\n                        if (!(edit.newUri && !edit.oldUri)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, this._fileService.createFile(edit.newUri, undefined, { overwrite: false })];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BulkEdit.prototype._performTextEdits = function (edits, progress) {\n        return __awaiter(this, void 0, TPromise, function () {\n            var recording, model, conflicts, selection;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        recording = IRecording.start(this._fileService);\n                        model = new BulkEditModel(this._textModelService, this._editor, edits, progress);\n                        return [4 /*yield*/, model.prepare()];\n                    case 1:\n                        _a.sent();\n                        conflicts = edits\n                            .filter(function (edit) { return recording.hasChanged(edit.resource); })\n                            .map(function (edit) { return getPathLabel(edit.resource); });\n                        recording.stop();\n                        if (conflicts.length > 0) {\n                            model.dispose();\n                            throw new Error(nls.localize('conflict', \"These files have changed in the meantime: {0}\", conflicts.join(', ')));\n                        }\n                        return [4 /*yield*/, model.apply()];\n                    case 2:\n                        selection = _a.sent();\n                        model.dispose();\n                        return [2 /*return*/, selection];\n                }\n            });\n        });\n    };\n    BulkEdit = __decorate([\n        __param(2, ITextModelService),\n        __param(3, optional(IFileService))\n    ], BulkEdit);\n    return BulkEdit;\n}());\nexport { BulkEdit };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './renameInputField.css';\nimport { localize } from '../../../nls.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { ContentWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { inputBackground, inputBorder, inputForeground, widgetShadow } from '../../../platform/theme/common/colorRegistry.js';\nimport { Position } from '../../common/core/position.js';\nvar RenameInputField = /** @class */ (function () {\n    function RenameInputField(editor, themeService) {\n        var _this = this;\n        this.themeService = themeService;\n        this._disposables = [];\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this._currentAcceptInput = null;\n        this._currentCancelInput = null;\n        this._editor = editor;\n        this._editor.addContentWidget(this);\n        this._disposables.push(editor.onDidChangeConfiguration(function (e) {\n            if (e.fontInfo) {\n                _this.updateFont();\n            }\n        }));\n        this._disposables.push(themeService.onThemeChange(function (theme) { return _this.onThemeChange(theme); }));\n    }\n    RenameInputField.prototype.onThemeChange = function (theme) {\n        this.updateStyles(theme);\n    };\n    RenameInputField.prototype.dispose = function () {\n        this._disposables = dispose(this._disposables);\n        this._editor.removeContentWidget(this);\n    };\n    RenameInputField.prototype.getId = function () {\n        return '__renameInputWidget';\n    };\n    RenameInputField.prototype.getDomNode = function () {\n        if (!this._domNode) {\n            this._inputField = document.createElement('input');\n            this._inputField.className = 'rename-input';\n            this._inputField.type = 'text';\n            this._inputField.setAttribute('aria-label', localize('renameAriaLabel', \"Rename input. Type new name and press Enter to commit.\"));\n            this._domNode = document.createElement('div');\n            this._domNode.style.height = this._editor.getConfiguration().lineHeight + \"px\";\n            this._domNode.className = 'monaco-editor rename-box';\n            this._domNode.appendChild(this._inputField);\n            this.updateFont();\n            this.updateStyles(this.themeService.getTheme());\n        }\n        return this._domNode;\n    };\n    RenameInputField.prototype.updateStyles = function (theme) {\n        if (!this._inputField) {\n            return;\n        }\n        var background = theme.getColor(inputBackground);\n        var foreground = theme.getColor(inputForeground);\n        var widgetShadowColor = theme.getColor(widgetShadow);\n        var border = theme.getColor(inputBorder);\n        this._inputField.style.backgroundColor = background ? background.toString() : null;\n        this._inputField.style.color = foreground ? foreground.toString() : null;\n        this._inputField.style.borderWidth = border ? '1px' : '0px';\n        this._inputField.style.borderStyle = border ? 'solid' : 'none';\n        this._inputField.style.borderColor = border ? border.toString() : 'none';\n        this._domNode.style.boxShadow = widgetShadowColor ? \" 0 2px 8px \" + widgetShadowColor : null;\n    };\n    RenameInputField.prototype.updateFont = function () {\n        if (!this._inputField) {\n            return;\n        }\n        var fontInfo = this._editor.getConfiguration().fontInfo;\n        this._inputField.style.fontFamily = fontInfo.fontFamily;\n        this._inputField.style.fontWeight = fontInfo.fontWeight;\n        this._inputField.style.fontSize = fontInfo.fontSize + \"px\";\n    };\n    RenameInputField.prototype.getPosition = function () {\n        return this._visible\n            ? { position: this._position, preference: [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE] }\n            : null;\n    };\n    RenameInputField.prototype.acceptInput = function () {\n        if (this._currentAcceptInput) {\n            this._currentAcceptInput();\n        }\n    };\n    RenameInputField.prototype.cancelInput = function (focusEditor) {\n        if (this._currentCancelInput) {\n            this._currentCancelInput(focusEditor);\n        }\n    };\n    RenameInputField.prototype.getInput = function (where, value, selectionStart, selectionEnd) {\n        var _this = this;\n        this._position = new Position(where.startLineNumber, where.startColumn);\n        this._inputField.value = value;\n        this._inputField.setAttribute('selectionStart', selectionStart.toString());\n        this._inputField.setAttribute('selectionEnd', selectionEnd.toString());\n        this._inputField.size = Math.max((where.endColumn - where.startColumn) * 1.1, 20);\n        var disposeOnDone = [], always;\n        always = function () {\n            dispose(disposeOnDone);\n            _this._hide();\n        };\n        return new TPromise(function (resolve) {\n            _this._currentCancelInput = function (focusEditor) {\n                _this._currentAcceptInput = null;\n                _this._currentCancelInput = null;\n                resolve(focusEditor);\n                return true;\n            };\n            _this._currentAcceptInput = function () {\n                if (_this._inputField.value.trim().length === 0 || _this._inputField.value === value) {\n                    // empty or whitespace only or not changed\n                    _this.cancelInput(true);\n                    return;\n                }\n                _this._currentAcceptInput = null;\n                _this._currentCancelInput = null;\n                resolve(_this._inputField.value);\n            };\n            var onCursorChanged = function () {\n                if (!Range.containsPosition(where, _this._editor.getPosition())) {\n                    _this.cancelInput(true);\n                }\n            };\n            disposeOnDone.push(_this._editor.onDidChangeCursorSelection(onCursorChanged));\n            disposeOnDone.push(_this._editor.onDidBlurEditor(function () { return _this.cancelInput(false); }));\n            _this._show();\n        }, function () {\n            _this._currentCancelInput(true);\n        }).then(function (newValue) {\n            always();\n            return newValue;\n        }, function (err) {\n            always();\n            return TPromise.wrapError(err);\n        });\n    };\n    RenameInputField.prototype._show = function () {\n        var _this = this;\n        this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber, 0 /* Smooth */);\n        this._visible = true;\n        this._editor.layoutContentWidget(this);\n        setTimeout(function () {\n            _this._inputField.focus();\n            _this._inputField.setSelectionRange(parseInt(_this._inputField.getAttribute('selectionStart')), parseInt(_this._inputField.getAttribute('selectionEnd')));\n        }, 100);\n    };\n    RenameInputField.prototype._hide = function () {\n        this._visible = false;\n        this._editor.layoutContentWidget(this);\n    };\n    RenameInputField = __decorate([\n        __param(1, IThemeService)\n    ], RenameInputField);\n    return RenameInputField;\n}());\nexport default RenameInputField;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as nls from '../../../nls.js';\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IFileService } from '../../../platform/files/common/files.js';\nimport { RawContextKey, IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { IProgressService } from '../../../platform/progress/common/progress.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { BulkEdit } from '../../browser/services/bulkEdit.js';\nimport RenameInputField from './renameInputField.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { RenameProviderRegistry } from '../../common/modes.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { Range } from '../../common/core/range.js';\nimport { MessageController } from '../message/messageController.js';\nimport { EditorState } from '../../browser/core/editorState.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nvar RenameSkeleton = /** @class */ (function () {\n    function RenameSkeleton(model, position) {\n        this.model = model;\n        this.position = position;\n        this._provider = RenameProviderRegistry.ordered(model);\n    }\n    RenameSkeleton.prototype.hasProvider = function () {\n        return this._provider.length > 0;\n    };\n    RenameSkeleton.prototype.resolveRenameLocation = function () {\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var provider, res, word;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        provider = this._provider[0];\n                        if (!provider.resolveRenameLocation) return [3 /*break*/, 2];\n                        return [4 /*yield*/, asWinJsPromise(function (token) { return provider.resolveRenameLocation(_this.model, _this.position, token); })];\n                    case 1:\n                        res = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (!res) {\n                            word = this.model.getWordAtPosition(this.position);\n                            if (word) {\n                                res = {\n                                    range: new Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),\n                                    text: word.word\n                                };\n                            }\n                        }\n                        return [2 /*return*/, res];\n                }\n            });\n        });\n    };\n    RenameSkeleton.prototype.provideRenameEdits = function (newName, i, rejects, position) {\n        if (i === void 0) { i = 0; }\n        if (rejects === void 0) { rejects = []; }\n        if (position === void 0) { position = this.position; }\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var provider, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (i >= this._provider.length) {\n                            return [2 /*return*/, {\n                                    edits: undefined,\n                                    rejectReason: rejects.join('\\n')\n                                }];\n                        }\n                        provider = this._provider[i];\n                        return [4 /*yield*/, asWinJsPromise(function (token) { return provider.provideRenameEdits(_this.model, _this.position, newName, token); })];\n                    case 1:\n                        result = _a.sent();\n                        if (!result) {\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(nls.localize('no result', \"No result.\")))];\n                        }\n                        else if (result.rejectReason) {\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason))];\n                        }\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    return RenameSkeleton;\n}());\nexport function rename(model, position, newName) {\n    return __awaiter(this, void 0, TPromise, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new RenameSkeleton(model, position).provideRenameEdits(newName)];\n        });\n    });\n}\n// ---  register actions and commands\nvar CONTEXT_RENAME_INPUT_VISIBLE = new RawContextKey('renameInputVisible', false);\nvar RenameController = /** @class */ (function () {\n    function RenameController(editor, _notificationService, _textModelResolverService, _progressService, contextKeyService, themeService, _fileService) {\n        this.editor = editor;\n        this._notificationService = _notificationService;\n        this._textModelResolverService = _textModelResolverService;\n        this._progressService = _progressService;\n        this._fileService = _fileService;\n        this._renameInputField = new RenameInputField(editor, themeService);\n        this._renameInputVisible = CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\n    }\n    RenameController.get = function (editor) {\n        return editor.getContribution(RenameController.ID);\n    };\n    RenameController.prototype.dispose = function () {\n        this._renameInputField.dispose();\n    };\n    RenameController.prototype.getId = function () {\n        return RenameController.ID;\n    };\n    RenameController.prototype.run = function () {\n        return __awaiter(this, void 0, TPromise, function () {\n            var _this = this;\n            var position, skeleton, loc, e_1, selection, selectionStart, selectionEnd;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        position = this.editor.getPosition();\n                        skeleton = new RenameSkeleton(this.editor.getModel(), position);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, skeleton.resolveRenameLocation()];\n                    case 2:\n                        loc = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        MessageController.get(this.editor).showMessage(e_1, position);\n                        return [2 /*return*/, undefined];\n                    case 4:\n                        if (!loc) {\n                            return [2 /*return*/, undefined];\n                        }\n                        selection = this.editor.getSelection();\n                        selectionStart = 0;\n                        selectionEnd = loc.text.length;\n                        if (!Range.isEmpty(selection) && !Range.spansMultipleLines(selection) && Range.containsRange(loc.range, selection)) {\n                            selectionStart = Math.max(0, selection.startColumn - loc.range.startColumn);\n                            selectionEnd = Math.min(loc.range.endColumn, selection.endColumn) - loc.range.startColumn;\n                        }\n                        this._renameInputVisible.set(true);\n                        return [2 /*return*/, this._renameInputField.getInput(loc.range, loc.text, selectionStart, selectionEnd).then(function (newNameOrFocusFlag) {\n                                _this._renameInputVisible.reset();\n                                if (typeof newNameOrFocusFlag === 'boolean') {\n                                    if (newNameOrFocusFlag) {\n                                        _this.editor.focus();\n                                    }\n                                    return undefined;\n                                }\n                                _this.editor.focus();\n                                var edit = new BulkEdit(_this.editor, null, _this._textModelResolverService, _this._fileService);\n                                var state = new EditorState(_this.editor, 4 /* Position */ | 1 /* Value */ | 2 /* Selection */ | 8 /* Scroll */);\n                                var renameOperation = skeleton.provideRenameEdits(newNameOrFocusFlag, 0, [], Range.lift(loc.range).getStartPosition()).then(function (result) {\n                                    if (result.rejectReason) {\n                                        if (state.validate(_this.editor)) {\n                                            MessageController.get(_this.editor).showMessage(result.rejectReason, _this.editor.getPosition());\n                                        }\n                                        else {\n                                            _this._notificationService.info(result.rejectReason);\n                                        }\n                                        return undefined;\n                                    }\n                                    edit.add(result.edits);\n                                    return edit.perform().then(function (selection) {\n                                        if (selection) {\n                                            _this.editor.setSelection(selection);\n                                        }\n                                        // alert\n                                        alert(nls.localize('aria', \"Successfully renamed '{0}' to '{1}'. Summary: {2}\", loc.text, newNameOrFocusFlag, edit.ariaMessage()));\n                                    });\n                                }, function (err) {\n                                    _this._notificationService.error(nls.localize('rename.failed', \"Rename failed to execute.\"));\n                                    return TPromise.wrapError(err);\n                                });\n                                _this._progressService.showWhile(renameOperation, 250);\n                                return renameOperation;\n                            }, function (err) {\n                                _this._renameInputVisible.reset();\n                                return TPromise.wrapError(err);\n                            })];\n                }\n            });\n        });\n    };\n    RenameController.prototype.acceptRenameInput = function () {\n        this._renameInputField.acceptInput();\n    };\n    RenameController.prototype.cancelRenameInput = function () {\n        this._renameInputField.cancelInput(true);\n    };\n    RenameController.ID = 'editor.contrib.renameController';\n    RenameController = __decorate([\n        __param(1, INotificationService),\n        __param(2, ITextModelService),\n        __param(3, IProgressService),\n        __param(4, IContextKeyService),\n        __param(5, IThemeService),\n        __param(6, optional(IFileService))\n    ], RenameController);\n    return RenameController;\n}());\n// ---- action implementation\nvar RenameAction = /** @class */ (function (_super) {\n    __extends(RenameAction, _super);\n    function RenameAction() {\n        return _super.call(this, {\n            id: 'editor.action.rename',\n            label: nls.localize('rename.label', \"Rename Symbol\"),\n            alias: 'Rename Symbol',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 60 /* F2 */\n            },\n            menuOpts: {\n                group: '1_modification',\n                order: 1.1\n            }\n        }) || this;\n    }\n    RenameAction.prototype.run = function (accessor, editor) {\n        var controller = RenameController.get(editor);\n        if (controller) {\n            return controller.run();\n        }\n        return undefined;\n    };\n    return RenameAction;\n}(EditorAction));\nexport { RenameAction };\nregisterEditorContribution(RenameController);\nregisterEditorAction(RenameAction);\nvar RenameCommand = EditorCommand.bindToContribution(RenameController.get);\nregisterEditorCommand(new RenameCommand({\n    id: 'acceptRenameInput',\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n    handler: function (x) { return x.acceptRenameInput(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(99),\n        kbExpr: EditorContextKeys.focus,\n        primary: 3 /* Enter */\n    }\n}));\nregisterEditorCommand(new RenameCommand({\n    id: 'cancelRenameInput',\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n    handler: function (x) { return x.cancelRenameInput(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(99),\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\n// ---- api bridge command\nregisterDefaultLanguageCommand('_executeDocumentRenameProvider', function (model, position, args) {\n    var newName = args.newName;\n    if (typeof newName !== 'string') {\n        throw illegalArgument('newName');\n    }\n    return rename(model, position, newName);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Range } from '../../common/core/range.js';\nimport { ignoreBracketsInToken } from '../../common/modes/supports.js';\nimport { BracketsUtils } from '../../common/modes/supports/richEditBrackets.js';\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\nvar Node = /** @class */ (function () {\n    function Node() {\n    }\n    Object.defineProperty(Node.prototype, \"range\", {\n        get: function () {\n            return new Range(this.start.lineNumber, this.start.column, this.end.lineNumber, this.end.column);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Node;\n}());\nexport { Node };\nvar NodeList = /** @class */ (function (_super) {\n    __extends(NodeList, _super);\n    function NodeList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(NodeList.prototype, \"start\", {\n        get: function () {\n            return this.hasChildren\n                ? this.children[0].start\n                : this.parent.start;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NodeList.prototype, \"end\", {\n        get: function () {\n            return this.hasChildren\n                ? this.children[this.children.length - 1].end\n                : this.parent.end;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NodeList.prototype, \"hasChildren\", {\n        get: function () {\n            return this.children && this.children.length > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NodeList.prototype, \"isEmpty\", {\n        get: function () {\n            return !this.hasChildren && !this.parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NodeList.prototype.append = function (node) {\n        if (!node) {\n            return false;\n        }\n        node.parent = this;\n        if (!this.children) {\n            this.children = [];\n        }\n        if (node instanceof NodeList) {\n            if (node.children) {\n                this.children.push.apply(this.children, node.children);\n            }\n        }\n        else {\n            this.children.push(node);\n        }\n        return true;\n    };\n    return NodeList;\n}(Node));\nexport { NodeList };\nvar Block = /** @class */ (function (_super) {\n    __extends(Block, _super);\n    function Block() {\n        var _this = _super.call(this) || this;\n        _this.elements = new NodeList();\n        _this.elements.parent = _this;\n        return _this;\n    }\n    Object.defineProperty(Block.prototype, \"start\", {\n        get: function () {\n            return this.open.start;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Block.prototype, \"end\", {\n        get: function () {\n            return this.close.end;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Block;\n}(Node));\nexport { Block };\nvar Token = /** @class */ (function () {\n    function Token(range, bracket, bracketType) {\n        this.range = range;\n        this.bracket = bracket;\n        this.bracketType = bracketType;\n    }\n    return Token;\n}());\nfunction newNode(token) {\n    var node = new Node();\n    node.start = token.range.getStartPosition();\n    node.end = token.range.getEndPosition();\n    return node;\n}\nvar RawToken = /** @class */ (function () {\n    function RawToken(source, tokenIndex, lineNumber) {\n        this.lineNumber = lineNumber;\n        this.lineText = source.getLineContent();\n        this.startOffset = source.getStartOffset(tokenIndex);\n        this.endOffset = source.getEndOffset(tokenIndex);\n        this.type = source.getStandardTokenType(tokenIndex);\n        this.languageId = source.getLanguageId(tokenIndex);\n    }\n    return RawToken;\n}());\nvar ModelRawTokenScanner = /** @class */ (function () {\n    function ModelRawTokenScanner(model) {\n        this._model = model;\n        this._lineCount = this._model.getLineCount();\n        this._versionId = this._model.getVersionId();\n        this._lineNumber = 0;\n        this._tokenIndex = 0;\n        this._lineTokens = null;\n        this._advance();\n    }\n    ModelRawTokenScanner.prototype._advance = function () {\n        if (this._lineTokens) {\n            this._tokenIndex++;\n            if (this._tokenIndex >= this._lineTokens.getCount()) {\n                this._lineTokens = null;\n            }\n        }\n        while (this._lineNumber < this._lineCount && !this._lineTokens) {\n            this._lineNumber++;\n            this._model.forceTokenization(this._lineNumber);\n            this._lineTokens = this._model.getLineTokens(this._lineNumber);\n            this._tokenIndex = 0;\n            if (this._lineTokens.getCount() === 0) {\n                // Skip empty lines\n                this._lineTokens = null;\n            }\n        }\n    };\n    ModelRawTokenScanner.prototype.next = function () {\n        if (!this._lineTokens) {\n            return null;\n        }\n        if (this._model.getVersionId() !== this._versionId) {\n            return null;\n        }\n        var result = new RawToken(this._lineTokens, this._tokenIndex, this._lineNumber);\n        this._advance();\n        return result;\n    };\n    return ModelRawTokenScanner;\n}());\nvar TokenScanner = /** @class */ (function () {\n    function TokenScanner(model) {\n        this._rawTokenScanner = new ModelRawTokenScanner(model);\n        this._nextBuff = [];\n        this._cachedLanguageBrackets = null;\n        this._cachedLanguageId = -1;\n    }\n    TokenScanner.prototype.next = function () {\n        if (this._nextBuff.length > 0) {\n            return this._nextBuff.shift();\n        }\n        var token = this._rawTokenScanner.next();\n        if (!token) {\n            return null;\n        }\n        var lineNumber = token.lineNumber;\n        var lineText = token.lineText;\n        var tokenType = token.type;\n        var startOffset = token.startOffset;\n        var endOffset = token.endOffset;\n        if (this._cachedLanguageId !== token.languageId) {\n            this._cachedLanguageId = token.languageId;\n            this._cachedLanguageBrackets = LanguageConfigurationRegistry.getBracketsSupport(this._cachedLanguageId);\n        }\n        var modeBrackets = this._cachedLanguageBrackets;\n        if (!modeBrackets || ignoreBracketsInToken(tokenType)) {\n            return new Token(new Range(lineNumber, startOffset + 1, lineNumber, endOffset + 1), 0 /* None */, null);\n        }\n        var foundBracket;\n        do {\n            foundBracket = BracketsUtils.findNextBracketInToken(modeBrackets.forwardRegex, lineNumber, lineText, startOffset, endOffset);\n            if (foundBracket) {\n                var foundBracketStartOffset = foundBracket.startColumn - 1;\n                var foundBracketEndOffset = foundBracket.endColumn - 1;\n                if (startOffset < foundBracketStartOffset) {\n                    // there is some text before this bracket in this token\n                    this._nextBuff.push(new Token(new Range(lineNumber, startOffset + 1, lineNumber, foundBracketStartOffset + 1), 0 /* None */, null));\n                }\n                var bracketText = lineText.substring(foundBracketStartOffset, foundBracketEndOffset);\n                bracketText = bracketText.toLowerCase();\n                var bracketData = modeBrackets.textIsBracket[bracketText];\n                var bracketIsOpen = modeBrackets.textIsOpenBracket[bracketText];\n                this._nextBuff.push(new Token(new Range(lineNumber, foundBracketStartOffset + 1, lineNumber, foundBracketEndOffset + 1), bracketIsOpen ? 1 /* Open */ : -1 /* Close */, bracketData.languageIdentifier.language + \";\" + bracketData.open + \";\" + bracketData.close));\n                startOffset = foundBracketEndOffset;\n            }\n        } while (foundBracket);\n        if (startOffset < endOffset) {\n            // there is some remaining none-bracket text in this token\n            this._nextBuff.push(new Token(new Range(lineNumber, startOffset + 1, lineNumber, endOffset + 1), 0 /* None */, null));\n        }\n        return this._nextBuff.shift();\n    };\n    return TokenScanner;\n}());\nvar TokenTreeBuilder = /** @class */ (function () {\n    function TokenTreeBuilder(model) {\n        this._stack = [];\n        this._scanner = new TokenScanner(model);\n    }\n    TokenTreeBuilder.prototype.build = function () {\n        var node = new NodeList();\n        while (node.append(this._line() || this._any())) {\n            // accept all\n        }\n        return node;\n    };\n    TokenTreeBuilder.prototype._accept = function (condt) {\n        var token = this._stack.pop() || this._scanner.next();\n        if (!token) {\n            return false;\n        }\n        var accepted = condt(token);\n        if (!accepted) {\n            this._stack.push(token);\n            this._currentToken = null;\n        }\n        else {\n            this._currentToken = token;\n            //\t\t\tconsole.log('accepted: ' + token.__debugContent);\n        }\n        return accepted;\n    };\n    TokenTreeBuilder.prototype._peek = function (condt) {\n        var ret = false;\n        this._accept(function (info) {\n            ret = condt(info);\n            return false;\n        });\n        return ret;\n    };\n    TokenTreeBuilder.prototype._line = function () {\n        var node = new NodeList(), lineNumber;\n        // capture current linenumber\n        this._peek(function (info) {\n            lineNumber = info.range.startLineNumber;\n            return false;\n        });\n        while (this._peek(function (info) { return info.range.startLineNumber === lineNumber; })\n            && node.append(this._token() || this._block())) {\n            // all children that started on this line\n        }\n        if (!node.children || node.children.length === 0) {\n            return null;\n        }\n        else if (node.children.length === 1) {\n            return node.children[0];\n        }\n        else {\n            return node;\n        }\n    };\n    TokenTreeBuilder.prototype._token = function () {\n        if (!this._accept(function (token) { return token.bracket === 0 /* None */; })) {\n            return null;\n        }\n        return newNode(this._currentToken);\n    };\n    TokenTreeBuilder.prototype._block = function () {\n        var bracketType, accepted;\n        accepted = this._accept(function (token) {\n            bracketType = token.bracketType;\n            return token.bracket === 1 /* Open */;\n        });\n        if (!accepted) {\n            return null;\n        }\n        var bracket = new Block();\n        bracket.open = newNode(this._currentToken);\n        while (bracket.elements.append(this._line())) {\n            // inside brackets\n        }\n        if (!this._accept(function (token) { return token.bracket === -1 /* Close */ && token.bracketType === bracketType; })) {\n            // missing closing bracket -> return just a node list\n            var nodelist = new NodeList();\n            nodelist.append(bracket.open);\n            nodelist.append(bracket.elements);\n            return nodelist;\n        }\n        bracket.close = newNode(this._currentToken);\n        return bracket;\n    };\n    TokenTreeBuilder.prototype._any = function () {\n        if (!this._accept(function (_) { return true; })) {\n            return null;\n        }\n        return newNode(this._currentToken);\n    };\n    return TokenTreeBuilder;\n}());\n/**\n * Parses this grammar:\n *\tgrammer = { line }\n *\tline = { block | \"token\" }\n *\tblock = \"open_bracket\" { line } \"close_bracket\"\n */\nexport function build(model) {\n    var node = new TokenTreeBuilder(model).build();\n    return node;\n}\nexport function find(node, position) {\n    if (node instanceof NodeList && node.isEmpty) {\n        return null;\n    }\n    if (!Range.containsPosition(node.range, position)) {\n        return null;\n    }\n    var result;\n    if (node instanceof NodeList) {\n        if (node.hasChildren) {\n            for (var i = 0, len = node.children.length; i < len && !result; i++) {\n                result = find(node.children[i], position);\n            }\n        }\n    }\n    else if (node instanceof Block) {\n        result = find(node.open, position) || find(node.elements, position) || find(node.close, position);\n    }\n    return result || node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { build, find } from './tokenTree.js';\nvar TokenSelectionSupport = /** @class */ (function () {\n    function TokenSelectionSupport(modelService) {\n        this._modelService = modelService;\n    }\n    TokenSelectionSupport.prototype.getRangesToPosition = function (resource, position) {\n        return TPromise.as(this.getRangesToPositionSync(resource, position));\n    };\n    TokenSelectionSupport.prototype.getRangesToPositionSync = function (resource, position) {\n        var model = this._modelService.getModel(resource), entries = [];\n        if (model) {\n            this._doGetRangesToPosition(model, position).forEach(function (range) {\n                entries.push({\n                    type: void 0,\n                    range: range\n                });\n            });\n        }\n        return entries;\n    };\n    TokenSelectionSupport.prototype._doGetRangesToPosition = function (model, position) {\n        var tree = build(model), node, lastRange;\n        node = find(tree, position);\n        var ranges = [];\n        while (node) {\n            if (!lastRange || !Range.equalsRange(lastRange, node.range)) {\n                ranges.push(node.range);\n            }\n            lastRange = node.range;\n            node = node.parent;\n        }\n        ranges = ranges.reverse();\n        return ranges;\n    };\n    TokenSelectionSupport = __decorate([\n        __param(0, IModelService)\n    ], TokenSelectionSupport);\n    return TokenSelectionSupport;\n}());\nexport { TokenSelectionSupport };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport * as arrays from '../../../base/common/arrays.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { Range } from '../../common/core/range.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, EditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { TokenSelectionSupport } from './tokenSelectionSupport.js';\n// --- selection state machine\nvar State = /** @class */ (function () {\n    function State(editor) {\n        this.editor = editor;\n        this.next = null;\n        this.previous = null;\n        this.selection = editor.getSelection();\n    }\n    return State;\n}());\n// --- shared state between grow and shrink actions\nvar state = null;\nvar ignoreSelection = false;\n// -- action implementation\nvar SmartSelectController = /** @class */ (function () {\n    function SmartSelectController(editor, instantiationService) {\n        this.editor = editor;\n        this._tokenSelectionSupport = instantiationService.createInstance(TokenSelectionSupport);\n    }\n    SmartSelectController.get = function (editor) {\n        return editor.getContribution(SmartSelectController.ID);\n    };\n    SmartSelectController.prototype.dispose = function () {\n    };\n    SmartSelectController.prototype.getId = function () {\n        return SmartSelectController.ID;\n    };\n    SmartSelectController.prototype.run = function (forward) {\n        var _this = this;\n        var selection = this.editor.getSelection();\n        var model = this.editor.getModel();\n        // forget about current state\n        if (state) {\n            if (state.editor !== this.editor) {\n                state = null;\n            }\n        }\n        var promise = TPromise.as(null);\n        if (!state) {\n            promise = this._tokenSelectionSupport.getRangesToPosition(model.uri, selection.getStartPosition()).then(function (elements) {\n                if (arrays.isFalsyOrEmpty(elements)) {\n                    return;\n                }\n                var lastState;\n                elements.filter(function (element) {\n                    // filter ranges inside the selection\n                    var selection = _this.editor.getSelection();\n                    var range = new Range(element.range.startLineNumber, element.range.startColumn, element.range.endLineNumber, element.range.endColumn);\n                    return range.containsPosition(selection.getStartPosition()) && range.containsPosition(selection.getEndPosition());\n                }).forEach(function (element) {\n                    // create ranges\n                    var range = element.range;\n                    var state = new State(_this.editor);\n                    state.selection = new Range(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n                    if (lastState) {\n                        state.next = lastState;\n                        lastState.previous = state;\n                    }\n                    lastState = state;\n                });\n                // insert current selection\n                var editorState = new State(_this.editor);\n                editorState.next = lastState;\n                if (lastState) {\n                    lastState.previous = editorState;\n                }\n                state = editorState;\n                // listen to caret move and forget about state\n                var unhook = _this.editor.onDidChangeCursorPosition(function (e) {\n                    if (ignoreSelection) {\n                        return;\n                    }\n                    state = null;\n                    unhook.dispose();\n                });\n            });\n        }\n        return promise.then(function () {\n            if (!state) {\n                return;\n            }\n            state = forward ? state.next : state.previous;\n            if (!state) {\n                return;\n            }\n            ignoreSelection = true;\n            try {\n                _this.editor.setSelection(state.selection);\n            }\n            finally {\n                ignoreSelection = false;\n            }\n            return;\n        });\n    };\n    SmartSelectController.ID = 'editor.contrib.smartSelectController';\n    SmartSelectController = __decorate([\n        __param(1, IInstantiationService)\n    ], SmartSelectController);\n    return SmartSelectController;\n}());\nvar AbstractSmartSelect = /** @class */ (function (_super) {\n    __extends(AbstractSmartSelect, _super);\n    function AbstractSmartSelect(forward, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._forward = forward;\n        return _this;\n    }\n    AbstractSmartSelect.prototype.run = function (accessor, editor) {\n        var controller = SmartSelectController.get(editor);\n        if (controller) {\n            return controller.run(this._forward);\n        }\n        return undefined;\n    };\n    return AbstractSmartSelect;\n}(EditorAction));\nvar GrowSelectionAction = /** @class */ (function (_super) {\n    __extends(GrowSelectionAction, _super);\n    function GrowSelectionAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.smartSelect.grow',\n            label: nls.localize('smartSelect.grow', \"Expand Select\"),\n            alias: 'Expand Select',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 17 /* RightArrow */,\n                mac: { primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 17 /* RightArrow */ }\n            }\n        }) || this;\n    }\n    return GrowSelectionAction;\n}(AbstractSmartSelect));\nvar ShrinkSelectionAction = /** @class */ (function (_super) {\n    __extends(ShrinkSelectionAction, _super);\n    function ShrinkSelectionAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.smartSelect.shrink',\n            label: nls.localize('smartSelect.shrink', \"Shrink Select\"),\n            alias: 'Shrink Select',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 15 /* LeftArrow */,\n                mac: { primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 15 /* LeftArrow */ }\n            }\n        }) || this;\n    }\n    return ShrinkSelectionAction;\n}(AbstractSmartSelect));\nregisterEditorContribution(SmartSelectController);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"Dollar\"] = 0] = \"Dollar\";\n    TokenType[TokenType[\"Colon\"] = 1] = \"Colon\";\n    TokenType[TokenType[\"Comma\"] = 2] = \"Comma\";\n    TokenType[TokenType[\"CurlyOpen\"] = 3] = \"CurlyOpen\";\n    TokenType[TokenType[\"CurlyClose\"] = 4] = \"CurlyClose\";\n    TokenType[TokenType[\"Backslash\"] = 5] = \"Backslash\";\n    TokenType[TokenType[\"Forwardslash\"] = 6] = \"Forwardslash\";\n    TokenType[TokenType[\"Pipe\"] = 7] = \"Pipe\";\n    TokenType[TokenType[\"Int\"] = 8] = \"Int\";\n    TokenType[TokenType[\"VariableName\"] = 9] = \"VariableName\";\n    TokenType[TokenType[\"Format\"] = 10] = \"Format\";\n    TokenType[TokenType[\"Plus\"] = 11] = \"Plus\";\n    TokenType[TokenType[\"Dash\"] = 12] = \"Dash\";\n    TokenType[TokenType[\"QuestionMark\"] = 13] = \"QuestionMark\";\n    TokenType[TokenType[\"EOF\"] = 14] = \"EOF\";\n})(TokenType || (TokenType = {}));\nvar Scanner = /** @class */ (function () {\n    function Scanner() {\n        this.text('');\n    }\n    Scanner.isDigitCharacter = function (ch) {\n        return ch >= 48 /* Digit0 */ && ch <= 57 /* Digit9 */;\n    };\n    Scanner.isVariableCharacter = function (ch) {\n        return ch === 95 /* Underline */\n            || (ch >= 97 /* a */ && ch <= 122 /* z */)\n            || (ch >= 65 /* A */ && ch <= 90 /* Z */);\n    };\n    Scanner.prototype.text = function (value) {\n        this.value = value;\n        this.pos = 0;\n    };\n    Scanner.prototype.tokenText = function (token) {\n        return this.value.substr(token.pos, token.len);\n    };\n    Scanner.prototype.next = function () {\n        if (this.pos >= this.value.length) {\n            return { type: TokenType.EOF, pos: this.pos, len: 0 };\n        }\n        var pos = this.pos;\n        var len = 0;\n        var ch = this.value.charCodeAt(pos);\n        var type;\n        // static types\n        type = Scanner._table[ch];\n        if (typeof type === 'number') {\n            this.pos += 1;\n            return { type: type, pos: pos, len: 1 };\n        }\n        // number\n        if (Scanner.isDigitCharacter(ch)) {\n            type = TokenType.Int;\n            do {\n                len += 1;\n                ch = this.value.charCodeAt(pos + len);\n            } while (Scanner.isDigitCharacter(ch));\n            this.pos += len;\n            return { type: type, pos: pos, len: len };\n        }\n        // variable name\n        if (Scanner.isVariableCharacter(ch)) {\n            type = TokenType.VariableName;\n            do {\n                ch = this.value.charCodeAt(pos + (++len));\n            } while (Scanner.isVariableCharacter(ch) || Scanner.isDigitCharacter(ch));\n            this.pos += len;\n            return { type: type, pos: pos, len: len };\n        }\n        // format\n        type = TokenType.Format;\n        do {\n            len += 1;\n            ch = this.value.charCodeAt(pos + len);\n        } while (!isNaN(ch)\n            && typeof Scanner._table[ch] === 'undefined' // not static token\n            && !Scanner.isDigitCharacter(ch) // not number\n            && !Scanner.isVariableCharacter(ch) // not variable\n        );\n        this.pos += len;\n        return { type: type, pos: pos, len: len };\n    };\n    Scanner._table = (_a = {},\n        _a[36 /* DollarSign */] = TokenType.Dollar,\n        _a[58 /* Colon */] = TokenType.Colon,\n        _a[44 /* Comma */] = TokenType.Comma,\n        _a[123 /* OpenCurlyBrace */] = TokenType.CurlyOpen,\n        _a[125 /* CloseCurlyBrace */] = TokenType.CurlyClose,\n        _a[92 /* Backslash */] = TokenType.Backslash,\n        _a[47 /* Slash */] = TokenType.Forwardslash,\n        _a[124 /* Pipe */] = TokenType.Pipe,\n        _a[43 /* Plus */] = TokenType.Plus,\n        _a[45 /* Dash */] = TokenType.Dash,\n        _a[63 /* QuestionMark */] = TokenType.QuestionMark,\n        _a);\n    return Scanner;\n}());\nexport { Scanner };\nvar Marker = /** @class */ (function () {\n    function Marker() {\n        this._children = [];\n    }\n    Marker.prototype.appendChild = function (child) {\n        if (child instanceof Text && this._children[this._children.length - 1] instanceof Text) {\n            // this and previous child are text -> merge them\n            this._children[this._children.length - 1].value += child.value;\n        }\n        else {\n            // normal adoption of child\n            child.parent = this;\n            this._children.push(child);\n        }\n        return this;\n    };\n    Marker.prototype.replace = function (child, others) {\n        var parent = child.parent;\n        var idx = parent.children.indexOf(child);\n        var newChildren = parent.children.slice(0);\n        newChildren.splice.apply(newChildren, [idx, 1].concat(others));\n        parent._children = newChildren;\n        others.forEach(function (node) { return node.parent = parent; });\n    };\n    Object.defineProperty(Marker.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"snippet\", {\n        get: function () {\n            var candidate = this;\n            while (true) {\n                if (!candidate) {\n                    return undefined;\n                }\n                if (candidate instanceof TextmateSnippet) {\n                    return candidate;\n                }\n                candidate = candidate.parent;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.toString = function () {\n        return this.children.reduce(function (prev, cur) { return prev + cur.toString(); }, '');\n    };\n    Marker.prototype.len = function () {\n        return 0;\n    };\n    return Marker;\n}());\nexport { Marker };\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(value) {\n        var _this = _super.call(this) || this;\n        _this.value = value;\n        return _this;\n    }\n    Text.escape = function (value) {\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\n    };\n    Text.prototype.toString = function () {\n        return this.value;\n    };\n    Text.prototype.toTextmateString = function () {\n        return Text.escape(this.value);\n    };\n    Text.prototype.len = function () {\n        return this.value.length;\n    };\n    Text.prototype.clone = function () {\n        return new Text(this.value);\n    };\n    return Text;\n}(Marker));\nexport { Text };\nvar Placeholder = /** @class */ (function (_super) {\n    __extends(Placeholder, _super);\n    function Placeholder(index) {\n        var _this = _super.call(this) || this;\n        _this.index = index;\n        return _this;\n    }\n    Placeholder.compareByIndex = function (a, b) {\n        if (a.index === b.index) {\n            return 0;\n        }\n        else if (a.isFinalTabstop) {\n            return 1;\n        }\n        else if (b.isFinalTabstop) {\n            return -1;\n        }\n        else if (a.index < b.index) {\n            return -1;\n        }\n        else if (a.index > b.index) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    };\n    Object.defineProperty(Placeholder.prototype, \"isFinalTabstop\", {\n        get: function () {\n            return this.index === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Placeholder.prototype, \"choice\", {\n        get: function () {\n            return this._children.length === 1 && this._children[0] instanceof Choice\n                ? this._children[0]\n                : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Placeholder.prototype.toTextmateString = function () {\n        if (this.children.length === 0) {\n            return \"$\" + this.index;\n        }\n        else if (this.choice) {\n            return \"${\" + this.index + \"|\" + this.choice.toTextmateString() + \"|}\";\n        }\n        else {\n            return \"${\" + this.index + \":\" + this.children.map(function (child) { return child.toTextmateString(); }).join('') + \"}\";\n        }\n    };\n    Placeholder.prototype.clone = function () {\n        var ret = new Placeholder(this.index);\n        ret._children = this.children.map(function (child) { return child.clone(); });\n        return ret;\n    };\n    return Placeholder;\n}(Marker));\nexport { Placeholder };\nvar Choice = /** @class */ (function (_super) {\n    __extends(Choice, _super);\n    function Choice() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.options = [];\n        return _this;\n    }\n    Choice.prototype.appendChild = function (marker) {\n        if (marker instanceof Text) {\n            marker.parent = this;\n            this.options.push(marker);\n        }\n        return this;\n    };\n    Choice.prototype.toString = function () {\n        return this.options[0].value;\n    };\n    Choice.prototype.toTextmateString = function () {\n        return this.options\n            .map(function (option) { return option.value.replace(/\\||,/g, '\\\\$&'); })\n            .join(',');\n    };\n    Choice.prototype.len = function () {\n        return this.options[0].len();\n    };\n    Choice.prototype.clone = function () {\n        var ret = new Choice();\n        this.options.forEach(ret.appendChild, ret);\n        return ret;\n    };\n    return Choice;\n}(Marker));\nexport { Choice };\nvar Transform = /** @class */ (function (_super) {\n    __extends(Transform, _super);\n    function Transform() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Transform.prototype.resolve = function (value) {\n        var _this = this;\n        return value.replace(this.regexp, function () {\n            var ret = '';\n            for (var _i = 0, _a = _this._children; _i < _a.length; _i++) {\n                var marker = _a[_i];\n                if (marker instanceof FormatString) {\n                    var value_1 = arguments.length - 2 > marker.index ? arguments[marker.index] : '';\n                    value_1 = marker.resolve(value_1);\n                    ret += value_1;\n                }\n                else {\n                    ret += marker.toString();\n                }\n            }\n            return ret;\n        });\n    };\n    Transform.prototype.toString = function () {\n        return '';\n    };\n    Transform.prototype.toTextmateString = function () {\n        return \"/\" + Text.escape(this.regexp.source) + \"/\" + this.children.map(function (c) { return c.toTextmateString(); }) + \"/\" + (this.regexp.ignoreCase ? 'i' : '');\n    };\n    Transform.prototype.clone = function () {\n        var ret = new Transform();\n        ret.regexp = new RegExp(this.regexp.source, '' + (this.regexp.ignoreCase ? 'i' : '') + (this.regexp.global ? 'g' : ''));\n        ret._children = this.children.map(function (child) { return child.clone(); });\n        return ret;\n    };\n    return Transform;\n}(Marker));\nexport { Transform };\nvar FormatString = /** @class */ (function (_super) {\n    __extends(FormatString, _super);\n    function FormatString(index, shorthandName, ifValue, elseValue) {\n        var _this = _super.call(this) || this;\n        _this.index = index;\n        _this.shorthandName = shorthandName;\n        _this.ifValue = ifValue;\n        _this.elseValue = elseValue;\n        return _this;\n    }\n    FormatString.prototype.resolve = function (value) {\n        if (this.shorthandName === 'upcase') {\n            return !value ? '' : value.toLocaleUpperCase();\n        }\n        else if (this.shorthandName === 'downcase') {\n            return !value ? '' : value.toLocaleLowerCase();\n        }\n        else if (this.shorthandName === 'capitalize') {\n            return !value ? '' : (value[0].toLocaleUpperCase() + value.substr(1));\n        }\n        else if (Boolean(value) && typeof this.ifValue === 'string') {\n            return this.ifValue;\n        }\n        else if (!Boolean(value) && typeof this.elseValue === 'string') {\n            return this.elseValue;\n        }\n        else {\n            return value || '';\n        }\n    };\n    FormatString.prototype.toTextmateString = function () {\n        var value = '${';\n        value += this.index;\n        if (this.shorthandName) {\n            value += \":/\" + this.shorthandName;\n        }\n        else if (this.ifValue && this.elseValue) {\n            value += \":?\" + this.ifValue + \":\" + this.elseValue;\n        }\n        else if (this.ifValue) {\n            value += \":+\" + this.ifValue;\n        }\n        else if (this.elseValue) {\n            value += \":-\" + this.elseValue;\n        }\n        value += '}';\n        return value;\n    };\n    FormatString.prototype.clone = function () {\n        var ret = new FormatString(this.index, this.shorthandName, this.ifValue, this.elseValue);\n        return ret;\n    };\n    return FormatString;\n}(Marker));\nexport { FormatString };\nvar Variable = /** @class */ (function (_super) {\n    __extends(Variable, _super);\n    function Variable(name) {\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        return _this;\n    }\n    Variable.prototype.resolve = function (resolver) {\n        var value = resolver.resolve(this);\n        var firstChild = this._children[0];\n        if (firstChild instanceof Transform && this._children.length === 1) {\n            value = firstChild.resolve(value || '');\n        }\n        if (value !== undefined) {\n            this._children = [new Text(value)];\n            return true;\n        }\n        return false;\n    };\n    Variable.prototype.toTextmateString = function () {\n        if (this.children.length === 0) {\n            return \"${\" + this.name + \"}\";\n        }\n        else {\n            return \"${\" + this.name + \":\" + this.children.map(function (child) { return child.toTextmateString(); }).join('') + \"}\";\n        }\n    };\n    Variable.prototype.clone = function () {\n        var ret = new Variable(this.name);\n        ret._children = this.children.map(function (child) { return child.clone(); });\n        return ret;\n    };\n    return Variable;\n}(Marker));\nexport { Variable };\nfunction walk(marker, visitor) {\n    var stack = marker.slice();\n    while (stack.length > 0) {\n        var marker_1 = stack.shift();\n        var recurse = visitor(marker_1);\n        if (!recurse) {\n            break;\n        }\n        stack.unshift.apply(stack, marker_1.children);\n    }\n}\nvar TextmateSnippet = /** @class */ (function (_super) {\n    __extends(TextmateSnippet, _super);\n    function TextmateSnippet() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholderInfo\", {\n        get: function () {\n            if (!this._placeholders) {\n                // fill in placeholders\n                var all_1 = [];\n                var last_1;\n                this.walk(function (candidate) {\n                    if (candidate instanceof Placeholder) {\n                        all_1.push(candidate);\n                        last_1 = !last_1 || last_1.index < candidate.index ? candidate : last_1;\n                    }\n                    return true;\n                });\n                this._placeholders = { all: all_1, last: last_1 };\n            }\n            return this._placeholders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholders\", {\n        get: function () {\n            var all = this.placeholderInfo.all;\n            return all;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TextmateSnippet.prototype.offset = function (marker) {\n        var pos = 0;\n        var found = false;\n        this.walk(function (candidate) {\n            if (candidate === marker) {\n                found = true;\n                return false;\n            }\n            pos += candidate.len();\n            return true;\n        });\n        if (!found) {\n            return -1;\n        }\n        return pos;\n    };\n    TextmateSnippet.prototype.fullLen = function (marker) {\n        var ret = 0;\n        walk([marker], function (marker) {\n            ret += marker.len();\n            return true;\n        });\n        return ret;\n    };\n    TextmateSnippet.prototype.enclosingPlaceholders = function (placeholder) {\n        var ret = [];\n        var parent = placeholder.parent;\n        while (parent) {\n            if (parent instanceof Placeholder) {\n                ret.push(parent);\n            }\n            parent = parent.parent;\n        }\n        return ret;\n    };\n    TextmateSnippet.prototype.resolveVariables = function (resolver) {\n        var _this = this;\n        this.walk(function (candidate) {\n            if (candidate instanceof Variable) {\n                if (candidate.resolve(resolver)) {\n                    _this._placeholders = undefined;\n                }\n            }\n            return true;\n        });\n        return this;\n    };\n    TextmateSnippet.prototype.appendChild = function (child) {\n        this._placeholders = undefined;\n        return _super.prototype.appendChild.call(this, child);\n    };\n    TextmateSnippet.prototype.replace = function (child, others) {\n        this._placeholders = undefined;\n        return _super.prototype.replace.call(this, child, others);\n    };\n    TextmateSnippet.prototype.toTextmateString = function () {\n        return this.children.reduce(function (prev, cur) { return prev + cur.toTextmateString(); }, '');\n    };\n    TextmateSnippet.prototype.clone = function () {\n        var ret = new TextmateSnippet();\n        this._children = this.children.map(function (child) { return child.clone(); });\n        return ret;\n    };\n    TextmateSnippet.prototype.walk = function (visitor) {\n        walk(this.children, visitor);\n    };\n    return TextmateSnippet;\n}(Marker));\nexport { TextmateSnippet };\nvar SnippetParser = /** @class */ (function () {\n    function SnippetParser() {\n        this._scanner = new Scanner();\n    }\n    SnippetParser.escape = function (value) {\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\n    };\n    SnippetParser.prototype.text = function (value) {\n        return this.parse(value).toString();\n    };\n    SnippetParser.prototype.parse = function (value, insertFinalTabstop, enforceFinalTabstop) {\n        this._scanner.text(value);\n        this._token = this._scanner.next();\n        var snippet = new TextmateSnippet();\n        while (this._parse(snippet)) {\n            // nothing\n        }\n        // fill in values for placeholders. the first placeholder of an index\n        // that has a value defines the value for all placeholders with that index\n        var placeholderDefaultValues = new Map();\n        var incompletePlaceholders = [];\n        var placeholderCount = 0;\n        snippet.walk(function (marker) {\n            if (marker instanceof Placeholder) {\n                placeholderCount += 1;\n                if (marker.isFinalTabstop) {\n                    placeholderDefaultValues.set(0, undefined);\n                }\n                else if (!placeholderDefaultValues.has(marker.index) && marker.children.length > 0) {\n                    placeholderDefaultValues.set(marker.index, marker.children);\n                }\n                else {\n                    incompletePlaceholders.push(marker);\n                }\n            }\n            return true;\n        });\n        for (var _i = 0, incompletePlaceholders_1 = incompletePlaceholders; _i < incompletePlaceholders_1.length; _i++) {\n            var placeholder = incompletePlaceholders_1[_i];\n            if (placeholderDefaultValues.has(placeholder.index)) {\n                var clone = new Placeholder(placeholder.index);\n                for (var _a = 0, _b = placeholderDefaultValues.get(placeholder.index); _a < _b.length; _a++) {\n                    var child = _b[_a];\n                    clone.appendChild(child.clone());\n                }\n                snippet.replace(placeholder, [clone]);\n            }\n        }\n        if (!enforceFinalTabstop) {\n            enforceFinalTabstop = placeholderCount > 0 && insertFinalTabstop;\n        }\n        if (!placeholderDefaultValues.has(0) && enforceFinalTabstop) {\n            // the snippet uses placeholders but has no\n            // final tabstop defined -> insert at the end\n            snippet.appendChild(new Placeholder(0));\n        }\n        return snippet;\n    };\n    SnippetParser.prototype._accept = function (type, value) {\n        if (type === undefined || this._token.type === type) {\n            var ret = !value ? true : this._scanner.tokenText(this._token);\n            this._token = this._scanner.next();\n            return ret;\n        }\n        return false;\n    };\n    SnippetParser.prototype._backTo = function (token) {\n        this._scanner.pos = token.pos + token.len;\n        this._token = token;\n        return false;\n    };\n    SnippetParser.prototype._until = function (type) {\n        if (this._token.type === TokenType.EOF) {\n            return false;\n        }\n        var start = this._token;\n        while (this._token.type !== type) {\n            this._token = this._scanner.next();\n        }\n        var value = this._scanner.value.substring(start.pos, this._token.pos);\n        this._token = this._scanner.next();\n        return value;\n    };\n    SnippetParser.prototype._parse = function (marker) {\n        return this._parseEscaped(marker)\n            || this._parseTabstopOrVariableName(marker)\n            || this._parseComplexPlaceholder(marker)\n            || this._parseComplexVariable(marker)\n            || this._parseAnything(marker);\n    };\n    // \\$, \\\\, \\} -> just text\n    SnippetParser.prototype._parseEscaped = function (marker) {\n        var value;\n        if (value = this._accept(TokenType.Backslash, true)) {\n            // saw a backslash, append escaped token or that backslash\n            value = this._accept(TokenType.Dollar, true)\n                || this._accept(TokenType.CurlyClose, true)\n                || this._accept(TokenType.Backslash, true)\n                || value;\n            marker.appendChild(new Text(value));\n            return true;\n        }\n        return false;\n    };\n    // $foo -> variable, $1 -> tabstop\n    SnippetParser.prototype._parseTabstopOrVariableName = function (parent) {\n        var value;\n        var token = this._token;\n        var match = this._accept(TokenType.Dollar)\n            && (value = this._accept(TokenType.VariableName, true) || this._accept(TokenType.Int, true));\n        if (!match) {\n            return this._backTo(token);\n        }\n        parent.appendChild(/^\\d+$/.test(value)\n            ? new Placeholder(Number(value))\n            : new Variable(value));\n        return true;\n    };\n    // ${1:<children>}, ${1} -> placeholder\n    SnippetParser.prototype._parseComplexPlaceholder = function (parent) {\n        var index;\n        var token = this._token;\n        var match = this._accept(TokenType.Dollar)\n            && this._accept(TokenType.CurlyOpen)\n            && (index = this._accept(TokenType.Int, true));\n        if (!match) {\n            return this._backTo(token);\n        }\n        var placeholder = new Placeholder(Number(index));\n        if (this._accept(TokenType.Colon)) {\n            // ${1:<children>}\n            while (true) {\n                // ...} -> done\n                if (this._accept(TokenType.CurlyClose)) {\n                    parent.appendChild(placeholder);\n                    return true;\n                }\n                if (this._parse(placeholder)) {\n                    continue;\n                }\n                // fallback\n                parent.appendChild(new Text('${' + index + ':'));\n                placeholder.children.forEach(parent.appendChild, parent);\n                return true;\n            }\n        }\n        else if (placeholder.index > 0 && this._accept(TokenType.Pipe)) {\n            // ${1|one,two,three|}\n            var choice = new Choice();\n            while (true) {\n                if (this._parseChoiceElement(choice)) {\n                    if (this._accept(TokenType.Comma)) {\n                        // opt, -> more\n                        continue;\n                    }\n                    if (this._accept(TokenType.Pipe) && this._accept(TokenType.CurlyClose)) {\n                        // ..|} -> done\n                        placeholder.appendChild(choice);\n                        parent.appendChild(placeholder);\n                        return true;\n                    }\n                }\n                this._backTo(token);\n                return false;\n            }\n        }\n        else if (this._accept(TokenType.CurlyClose)) {\n            // ${1}\n            parent.appendChild(placeholder);\n            return true;\n        }\n        else {\n            // ${1 <- missing curly or colon\n            return this._backTo(token);\n        }\n    };\n    SnippetParser.prototype._parseChoiceElement = function (parent) {\n        var token = this._token;\n        var values = [];\n        while (true) {\n            if (this._token.type === TokenType.Comma || this._token.type === TokenType.Pipe) {\n                break;\n            }\n            var value = void 0;\n            if (value = this._accept(TokenType.Backslash, true)) {\n                // \\, or \\|\n                value = this._accept(TokenType.Comma, true)\n                    || this._accept(TokenType.Pipe, true)\n                    || value;\n            }\n            else {\n                value = this._accept(undefined, true);\n            }\n            if (!value) {\n                // EOF\n                this._backTo(token);\n                return false;\n            }\n            values.push(value);\n        }\n        if (values.length === 0) {\n            this._backTo(token);\n            return false;\n        }\n        parent.appendChild(new Text(values.join('')));\n        return true;\n    };\n    // ${foo:<children>}, ${foo} -> variable\n    SnippetParser.prototype._parseComplexVariable = function (parent) {\n        var name;\n        var token = this._token;\n        var match = this._accept(TokenType.Dollar)\n            && this._accept(TokenType.CurlyOpen)\n            && (name = this._accept(TokenType.VariableName, true));\n        if (!match) {\n            return this._backTo(token);\n        }\n        var variable = new Variable(name);\n        if (this._accept(TokenType.Colon)) {\n            // ${foo:<children>}\n            while (true) {\n                // ...} -> done\n                if (this._accept(TokenType.CurlyClose)) {\n                    parent.appendChild(variable);\n                    return true;\n                }\n                if (this._parse(variable)) {\n                    continue;\n                }\n                // fallback\n                parent.appendChild(new Text('${' + name + ':'));\n                variable.children.forEach(parent.appendChild, parent);\n                return true;\n            }\n        }\n        else if (this._accept(TokenType.Forwardslash)) {\n            // ${foo/<regex>/<format>/<options>}\n            if (this._parseTransform(variable)) {\n                parent.appendChild(variable);\n                return true;\n            }\n            this._backTo(token);\n            return false;\n        }\n        else if (this._accept(TokenType.CurlyClose)) {\n            // ${foo}\n            parent.appendChild(variable);\n            return true;\n        }\n        else {\n            // ${foo <- missing curly or colon\n            return this._backTo(token);\n        }\n    };\n    SnippetParser.prototype._parseTransform = function (parent) {\n        // ...<regex>/<format>/<options>}\n        var transform = new Transform();\n        var regexValue = '';\n        var regexOptions = '';\n        // (1) /regex\n        while (true) {\n            if (this._accept(TokenType.Forwardslash)) {\n                break;\n            }\n            var escaped = void 0;\n            if (escaped = this._accept(TokenType.Backslash, true)) {\n                escaped = this._accept(TokenType.Forwardslash, true) || escaped;\n                regexValue += escaped;\n                continue;\n            }\n            if (this._token.type !== TokenType.EOF) {\n                regexValue += this._accept(undefined, true);\n                continue;\n            }\n            return false;\n        }\n        // (2) /format\n        while (true) {\n            if (this._accept(TokenType.Forwardslash)) {\n                break;\n            }\n            var escaped = void 0;\n            if (escaped = this._accept(TokenType.Backslash, true)) {\n                escaped = this._accept(TokenType.Forwardslash, true) || escaped;\n                transform.appendChild(new Text(escaped));\n                continue;\n            }\n            if (this._parseFormatString(transform) || this._parseAnything(transform)) {\n                continue;\n            }\n            return false;\n        }\n        // (3) /option\n        while (true) {\n            if (this._accept(TokenType.CurlyClose)) {\n                break;\n            }\n            if (this._token.type !== TokenType.EOF) {\n                regexOptions += this._accept(undefined, true);\n                continue;\n            }\n            return false;\n        }\n        try {\n            transform.regexp = new RegExp(regexValue, regexOptions);\n        }\n        catch (e) {\n            // invalid regexp\n            return false;\n        }\n        parent.appendChild(transform);\n        return true;\n    };\n    SnippetParser.prototype._parseFormatString = function (parent) {\n        var token = this._token;\n        if (!this._accept(TokenType.Dollar)) {\n            return false;\n        }\n        var complex = false;\n        if (this._accept(TokenType.CurlyOpen)) {\n            complex = true;\n        }\n        var index = this._accept(TokenType.Int, true);\n        if (!index) {\n            this._backTo(token);\n            return false;\n        }\n        else if (!complex) {\n            // $1\n            parent.appendChild(new FormatString(Number(index)));\n            return true;\n        }\n        else if (this._accept(TokenType.CurlyClose)) {\n            // ${1}\n            parent.appendChild(new FormatString(Number(index)));\n            return true;\n        }\n        else if (!this._accept(TokenType.Colon)) {\n            this._backTo(token);\n            return false;\n        }\n        if (this._accept(TokenType.Forwardslash)) {\n            // ${1:/upcase}\n            var shorthand = this._accept(TokenType.VariableName, true);\n            if (!shorthand || !this._accept(TokenType.CurlyClose)) {\n                this._backTo(token);\n                return false;\n            }\n            else {\n                parent.appendChild(new FormatString(Number(index), shorthand));\n                return true;\n            }\n        }\n        else if (this._accept(TokenType.Plus)) {\n            // ${1:+<if>}\n            var ifValue = this._until(TokenType.CurlyClose);\n            if (ifValue) {\n                parent.appendChild(new FormatString(Number(index), undefined, ifValue, undefined));\n                return true;\n            }\n        }\n        else if (this._accept(TokenType.Dash)) {\n            // ${2:-<else>}\n            var elseValue = this._until(TokenType.CurlyClose);\n            if (elseValue) {\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\n                return true;\n            }\n        }\n        else if (this._accept(TokenType.QuestionMark)) {\n            // ${2:?<if>:<else>}\n            var ifValue = this._until(TokenType.Colon);\n            if (ifValue) {\n                var elseValue = this._until(TokenType.CurlyClose);\n                if (elseValue) {\n                    parent.appendChild(new FormatString(Number(index), undefined, ifValue, elseValue));\n                    return true;\n                }\n            }\n        }\n        else {\n            // ${1:<else>}\n            var elseValue = this._until(TokenType.CurlyClose);\n            if (elseValue) {\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\n                return true;\n            }\n        }\n        this._backTo(token);\n        return false;\n    };\n    SnippetParser.prototype._parseAnything = function (marker) {\n        if (this._token.type !== TokenType.EOF) {\n            marker.appendChild(new Text(this._scanner.tokenText(this._token)));\n            this._accept(undefined);\n            return true;\n        }\n        return false;\n    };\n    return SnippetParser;\n}());\nexport { SnippetParser };\nvar _a;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from '../../../nls.js';\nimport { basename, dirname } from '../../../base/common/paths.js';\nimport { Text } from './snippetParser.js';\nimport { getLeadingWhitespace, commonPrefixLength, isFalsyOrWhitespace, pad } from '../../../base/common/strings.js';\nexport var KnownSnippetVariableNames = Object.freeze({\n    'CURRENT_YEAR': true,\n    'CURRENT_YEAR_SHORT': true,\n    'CURRENT_MONTH': true,\n    'CURRENT_DATE': true,\n    'CURRENT_HOUR': true,\n    'CURRENT_MINUTE': true,\n    'CURRENT_SECOND': true,\n    'CURRENT_DAY_NAME': true,\n    'CURRENT_DAY_NAME_SHORT': true,\n    'CURRENT_MONTH_NAME': true,\n    'CURRENT_MONTH_NAME_SHORT': true,\n    'SELECTION': true,\n    'CLIPBOARD': true,\n    'TM_SELECTED_TEXT': true,\n    'TM_CURRENT_LINE': true,\n    'TM_CURRENT_WORD': true,\n    'TM_LINE_INDEX': true,\n    'TM_LINE_NUMBER': true,\n    'TM_FILENAME': true,\n    'TM_FILENAME_BASE': true,\n    'TM_DIRECTORY': true,\n    'TM_FILEPATH': true,\n});\nvar CompositeSnippetVariableResolver = /** @class */ (function () {\n    function CompositeSnippetVariableResolver(_delegates) {\n        this._delegates = _delegates;\n        //\n    }\n    CompositeSnippetVariableResolver.prototype.resolve = function (variable) {\n        for (var _i = 0, _a = this._delegates; _i < _a.length; _i++) {\n            var delegate = _a[_i];\n            var value = delegate.resolve(variable);\n            if (value !== void 0) {\n                return value;\n            }\n        }\n        return undefined;\n    };\n    return CompositeSnippetVariableResolver;\n}());\nexport { CompositeSnippetVariableResolver };\nvar SelectionBasedVariableResolver = /** @class */ (function () {\n    function SelectionBasedVariableResolver(_model, _selection) {\n        this._model = _model;\n        this._selection = _selection;\n        //\n    }\n    SelectionBasedVariableResolver.prototype.resolve = function (variable) {\n        var name = variable.name;\n        if (name === 'SELECTION' || name === 'TM_SELECTED_TEXT') {\n            var value = this._model.getValueInRange(this._selection) || undefined;\n            if (value && this._selection.startLineNumber !== this._selection.endLineNumber) {\n                // Selection is a multiline string which we indentation we now\n                // need to adjust. We compare the indentation of this variable\n                // with the indentation at the editor position and add potential\n                // extra indentation to the value\n                var line = this._model.getLineContent(this._selection.startLineNumber);\n                var lineLeadingWhitespace = getLeadingWhitespace(line, 0, this._selection.startColumn - 1);\n                var varLeadingWhitespace_1 = lineLeadingWhitespace;\n                variable.snippet.walk(function (marker) {\n                    if (marker === variable) {\n                        return false;\n                    }\n                    if (marker instanceof Text) {\n                        varLeadingWhitespace_1 = getLeadingWhitespace(marker.value.split(/\\r\\n|\\r|\\n/).pop());\n                    }\n                    return true;\n                });\n                var whitespaceCommonLength_1 = commonPrefixLength(varLeadingWhitespace_1, lineLeadingWhitespace);\n                value = value.replace(/(\\r\\n|\\r|\\n)(.*)/g, function (m, newline, rest) { return \"\" + newline + varLeadingWhitespace_1.substr(whitespaceCommonLength_1) + rest; });\n            }\n            return value;\n        }\n        else if (name === 'TM_CURRENT_LINE') {\n            return this._model.getLineContent(this._selection.positionLineNumber);\n        }\n        else if (name === 'TM_CURRENT_WORD') {\n            var info = this._model.getWordAtPosition({\n                lineNumber: this._selection.positionLineNumber,\n                column: this._selection.positionColumn\n            });\n            return info && info.word || undefined;\n        }\n        else if (name === 'TM_LINE_INDEX') {\n            return String(this._selection.positionLineNumber - 1);\n        }\n        else if (name === 'TM_LINE_NUMBER') {\n            return String(this._selection.positionLineNumber);\n        }\n        return undefined;\n    };\n    return SelectionBasedVariableResolver;\n}());\nexport { SelectionBasedVariableResolver };\nvar ModelBasedVariableResolver = /** @class */ (function () {\n    function ModelBasedVariableResolver(_model) {\n        this._model = _model;\n        //\n    }\n    ModelBasedVariableResolver.prototype.resolve = function (variable) {\n        var name = variable.name;\n        if (name === 'TM_FILENAME') {\n            return basename(this._model.uri.fsPath);\n        }\n        else if (name === 'TM_FILENAME_BASE') {\n            var name_1 = basename(this._model.uri.fsPath);\n            var idx = name_1.lastIndexOf('.');\n            if (idx <= 0) {\n                return name_1;\n            }\n            else {\n                return name_1.slice(0, idx);\n            }\n        }\n        else if (name === 'TM_DIRECTORY') {\n            var dir = dirname(this._model.uri.fsPath);\n            return dir !== '.' ? dir : '';\n        }\n        else if (name === 'TM_FILEPATH') {\n            return this._model.uri.fsPath;\n        }\n        return undefined;\n    };\n    return ModelBasedVariableResolver;\n}());\nexport { ModelBasedVariableResolver };\nvar ClipboardBasedVariableResolver = /** @class */ (function () {\n    function ClipboardBasedVariableResolver(_clipboardService, _selectionIdx, _selectionCount) {\n        this._clipboardService = _clipboardService;\n        this._selectionIdx = _selectionIdx;\n        this._selectionCount = _selectionCount;\n        //\n    }\n    ClipboardBasedVariableResolver.prototype.resolve = function (variable) {\n        if (variable.name !== 'CLIPBOARD' || !this._clipboardService) {\n            return undefined;\n        }\n        var text = this._clipboardService.readText();\n        if (!text) {\n            return undefined;\n        }\n        var lines = text.split(/\\r\\n|\\n|\\r/).filter(function (s) { return !isFalsyOrWhitespace(s); });\n        if (lines.length === this._selectionCount) {\n            return lines[this._selectionIdx];\n        }\n        else {\n            return text;\n        }\n    };\n    return ClipboardBasedVariableResolver;\n}());\nexport { ClipboardBasedVariableResolver };\nvar TimeBasedVariableResolver = /** @class */ (function () {\n    function TimeBasedVariableResolver() {\n    }\n    TimeBasedVariableResolver.prototype.resolve = function (variable) {\n        var name = variable.name;\n        if (name === 'CURRENT_YEAR') {\n            return String(new Date().getFullYear());\n        }\n        else if (name === 'CURRENT_YEAR_SHORT') {\n            return String(new Date().getFullYear()).slice(-2);\n        }\n        else if (name === 'CURRENT_MONTH') {\n            return pad((new Date().getMonth().valueOf() + 1), 2);\n        }\n        else if (name === 'CURRENT_DATE') {\n            return pad(new Date().getDate().valueOf(), 2);\n        }\n        else if (name === 'CURRENT_HOUR') {\n            return pad(new Date().getHours().valueOf(), 2);\n        }\n        else if (name === 'CURRENT_MINUTE') {\n            return pad(new Date().getMinutes().valueOf(), 2);\n        }\n        else if (name === 'CURRENT_SECOND') {\n            return pad(new Date().getSeconds().valueOf(), 2);\n        }\n        else if (name === 'CURRENT_DAY_NAME') {\n            return TimeBasedVariableResolver.dayNames[new Date().getDay()];\n        }\n        else if (name === 'CURRENT_DAY_NAME_SHORT') {\n            return TimeBasedVariableResolver.dayNamesShort[new Date().getDay()];\n        }\n        else if (name === 'CURRENT_MONTH_NAME') {\n            return TimeBasedVariableResolver.monthNames[new Date().getMonth()];\n        }\n        else if (name === 'CURRENT_MONTH_NAME_SHORT') {\n            return TimeBasedVariableResolver.monthNamesShort[new Date().getMonth()];\n        }\n        return undefined;\n    };\n    TimeBasedVariableResolver.dayNames = [nls.localize('Sunday', \"Sunday\"), nls.localize('Monday', \"Monday\"), nls.localize('Tuesday', \"Tuesday\"), nls.localize('Wednesday', \"Wednesday\"), nls.localize('Thursday', \"Thursday\"), nls.localize('Friday', \"Friday\"), nls.localize('Saturday', \"Saturday\")];\n    TimeBasedVariableResolver.dayNamesShort = [nls.localize('SundayShort', \"Sun\"), nls.localize('MondayShort', \"Mon\"), nls.localize('TuesdayShort', \"Tue\"), nls.localize('WednesdayShort', \"Wed\"), nls.localize('ThursdayShort', \"Thu\"), nls.localize('FridayShort', \"Fri\"), nls.localize('SaturdayShort', \"Sat\")];\n    TimeBasedVariableResolver.monthNames = [nls.localize('January', \"January\"), nls.localize('February', \"February\"), nls.localize('March', \"March\"), nls.localize('April', \"April\"), nls.localize('May', \"May\"), nls.localize('June', \"June\"), nls.localize('July', \"July\"), nls.localize('August', \"August\"), nls.localize('September', \"September\"), nls.localize('October', \"October\"), nls.localize('November', \"November\"), nls.localize('December', \"December\")];\n    TimeBasedVariableResolver.monthNamesShort = [nls.localize('JanuaryShort', \"Jan\"), nls.localize('FebruaryShort', \"Feb\"), nls.localize('MarchShort', \"Mar\"), nls.localize('AprilShort', \"Apr\"), nls.localize('MayShort', \"May\"), nls.localize('JuneShort', \"Jun\"), nls.localize('JulyShort', \"Jul\"), nls.localize('AugustShort', \"Aug\"), nls.localize('SeptemberShort', \"Sep\"), nls.localize('OctoberShort', \"Oct\"), nls.localize('NovemberShort', \"Nov\"), nls.localize('DecemberShort', \"Dec\")];\n    return TimeBasedVariableResolver;\n}());\nexport { TimeBasedVariableResolver };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './snippetSession.css';\nimport { getLeadingWhitespace } from '../../../base/common/strings.js';\nimport { TrackedRangeStickiness } from '../../common/model.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Placeholder, SnippetParser } from './snippetParser.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { Range } from '../../common/core/range.js';\nimport { groupBy } from '../../../base/common/arrays.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { SelectionBasedVariableResolver, CompositeSnippetVariableResolver, ModelBasedVariableResolver, ClipboardBasedVariableResolver, TimeBasedVariableResolver } from './snippetVariables.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nvar OneSnippet = /** @class */ (function () {\n    function OneSnippet(editor, snippet, offset) {\n        this._nestingLevel = 1;\n        this._editor = editor;\n        this._snippet = snippet;\n        this._offset = offset;\n        this._placeholderGroups = groupBy(snippet.placeholders, Placeholder.compareByIndex);\n        this._placeholderGroupsIdx = -1;\n    }\n    OneSnippet.prototype.dispose = function () {\n        if (this._placeholderDecorations) {\n            var toRemove_1 = [];\n            this._placeholderDecorations.forEach(function (handle) { return toRemove_1.push(handle); });\n            this._editor.deltaDecorations(toRemove_1, []);\n        }\n        this._placeholderGroups.length = 0;\n    };\n    OneSnippet.prototype._initDecorations = function () {\n        var _this = this;\n        if (this._placeholderDecorations) {\n            // already initialized\n            return;\n        }\n        this._placeholderDecorations = new Map();\n        var model = this._editor.getModel();\n        this._editor.changeDecorations(function (accessor) {\n            // create a decoration for each placeholder\n            for (var _i = 0, _a = _this._snippet.placeholders; _i < _a.length; _i++) {\n                var placeholder = _a[_i];\n                var placeholderOffset = _this._snippet.offset(placeholder);\n                var placeholderLen = _this._snippet.fullLen(placeholder);\n                var range = Range.fromPositions(model.getPositionAt(_this._offset + placeholderOffset), model.getPositionAt(_this._offset + placeholderOffset + placeholderLen));\n                var options = placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive;\n                var handle = accessor.addDecoration(range, options);\n                _this._placeholderDecorations.set(placeholder, handle);\n            }\n        });\n    };\n    OneSnippet.prototype.move = function (fwd) {\n        var _this = this;\n        this._initDecorations();\n        if (fwd === true && this._placeholderGroupsIdx < this._placeholderGroups.length - 1) {\n            this._placeholderGroupsIdx += 1;\n        }\n        else if (fwd === false && this._placeholderGroupsIdx > 0) {\n            this._placeholderGroupsIdx -= 1;\n        }\n        else {\n            // the selection of the current placeholder might\n            // not acurate any more -> simply restore it\n        }\n        return this._editor.getModel().changeDecorations(function (accessor) {\n            var activePlaceholders = new Set();\n            // change stickiness to always grow when typing at its edges\n            // because these decorations represent the currently active\n            // tabstop.\n            // Special case #1: reaching the final tabstop\n            // Special case #2: placeholders enclosing active placeholders\n            var selections = [];\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\n                var placeholder = _a[_i];\n                var id = _this._placeholderDecorations.get(placeholder);\n                var range = _this._editor.getModel().getDecorationRange(id);\n                selections.push(new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn));\n                accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\n                activePlaceholders.add(placeholder);\n                for (var _b = 0, _c = _this._snippet.enclosingPlaceholders(placeholder); _b < _c.length; _b++) {\n                    var enclosingPlaceholder = _c[_b];\n                    var id_1 = _this._placeholderDecorations.get(enclosingPlaceholder);\n                    accessor.changeDecorationOptions(id_1, enclosingPlaceholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\n                    activePlaceholders.add(enclosingPlaceholder);\n                }\n            }\n            // change stickness to never grow when typing at its edges\n            // so that in-active tabstops never grow\n            _this._placeholderDecorations.forEach(function (id, placeholder) {\n                if (!activePlaceholders.has(placeholder)) {\n                    accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive);\n                }\n            });\n            return selections;\n        });\n    };\n    Object.defineProperty(OneSnippet.prototype, \"isAtFirstPlaceholder\", {\n        get: function () {\n            return this._placeholderGroupsIdx <= 0 || this._placeholderGroups.length === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneSnippet.prototype, \"isAtLastPlaceholder\", {\n        get: function () {\n            return this._placeholderGroupsIdx === this._placeholderGroups.length - 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OneSnippet.prototype, \"hasPlaceholder\", {\n        get: function () {\n            return this._snippet.placeholders.length > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OneSnippet.prototype.computePossibleSelections = function () {\n        var result = new Map();\n        for (var _i = 0, _a = this._placeholderGroups; _i < _a.length; _i++) {\n            var placeholdersWithEqualIndex = _a[_i];\n            var ranges = void 0;\n            for (var _b = 0, placeholdersWithEqualIndex_1 = placeholdersWithEqualIndex; _b < placeholdersWithEqualIndex_1.length; _b++) {\n                var placeholder = placeholdersWithEqualIndex_1[_b];\n                if (placeholder.isFinalTabstop) {\n                    // ignore those\n                    break;\n                }\n                if (!ranges) {\n                    ranges = [];\n                    result.set(placeholder.index, ranges);\n                }\n                var id = this._placeholderDecorations.get(placeholder);\n                var range = this._editor.getModel().getDecorationRange(id);\n                ranges.push(range);\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(OneSnippet.prototype, \"choice\", {\n        get: function () {\n            return this._placeholderGroups[this._placeholderGroupsIdx][0].choice;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OneSnippet.prototype.merge = function (others) {\n        var _this = this;\n        var model = this._editor.getModel();\n        this._nestingLevel *= 10;\n        this._editor.changeDecorations(function (accessor) {\n            // For each active placeholder take one snippet and merge it\n            // in that the placeholder (can be many for `$1foo$1foo`). Because\n            // everything is sorted by editor selection we can simply remove\n            // elements from the beginning of the array\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\n                var placeholder = _a[_i];\n                var nested = others.shift();\n                console.assert(!nested._placeholderDecorations);\n                // Massage placeholder-indicies of the nested snippet to be\n                // sorted right after the insertion point. This ensures we move\n                // through the placeholders in the correct order\n                for (var _b = 0, _c = nested._snippet.placeholderInfo.all; _b < _c.length; _b++) {\n                    var nestedPlaceholder = _c[_b];\n                    if (nestedPlaceholder.isFinalTabstop) {\n                        nestedPlaceholder.index = placeholder.index + ((nested._snippet.placeholderInfo.last.index + 1) / _this._nestingLevel);\n                    }\n                    else {\n                        nestedPlaceholder.index = placeholder.index + (nestedPlaceholder.index / _this._nestingLevel);\n                    }\n                }\n                _this._snippet.replace(placeholder, nested._snippet.children);\n                // Remove the placeholder at which position are inserting\n                // the snippet and also remove its decoration.\n                var id = _this._placeholderDecorations.get(placeholder);\n                accessor.removeDecoration(id);\n                _this._placeholderDecorations.delete(placeholder);\n                // For each *new* placeholder we create decoration to monitor\n                // how and if it grows/shrinks.\n                for (var _d = 0, _e = nested._snippet.placeholders; _d < _e.length; _d++) {\n                    var placeholder_1 = _e[_d];\n                    var placeholderOffset = nested._snippet.offset(placeholder_1);\n                    var placeholderLen = nested._snippet.fullLen(placeholder_1);\n                    var range = Range.fromPositions(model.getPositionAt(nested._offset + placeholderOffset), model.getPositionAt(nested._offset + placeholderOffset + placeholderLen));\n                    var handle = accessor.addDecoration(range, OneSnippet._decor.inactive);\n                    _this._placeholderDecorations.set(placeholder_1, handle);\n                }\n            }\n            // Last, re-create the placeholder groups by sorting placeholders by their index.\n            _this._placeholderGroups = groupBy(_this._snippet.placeholders, Placeholder.compareByIndex);\n        });\n    };\n    OneSnippet.prototype.getEnclosingRange = function () {\n        var result;\n        var model = this._editor.getModel();\n        this._placeholderDecorations.forEach(function (decorationId) {\n            var placeholderRange = model.getDecorationRange(decorationId);\n            if (!result) {\n                result = placeholderRange;\n            }\n            else {\n                result = result.plusRange(placeholderRange);\n            }\n        });\n        return result;\n    };\n    OneSnippet._decor = {\n        active: ModelDecorationOptions.register({ stickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges, className: 'snippet-placeholder' }),\n        inactive: ModelDecorationOptions.register({ stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges, className: 'snippet-placeholder' }),\n        activeFinal: ModelDecorationOptions.register({ stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges, className: 'finish-snippet-placeholder' }),\n        inactiveFinal: ModelDecorationOptions.register({ stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges, className: 'finish-snippet-placeholder' }),\n    };\n    return OneSnippet;\n}());\nexport { OneSnippet };\nvar SnippetSession = /** @class */ (function () {\n    function SnippetSession(editor, template, overwriteBefore, overwriteAfter) {\n        if (overwriteBefore === void 0) { overwriteBefore = 0; }\n        if (overwriteAfter === void 0) { overwriteAfter = 0; }\n        this._templateMerges = [];\n        this._snippets = [];\n        this._editor = editor;\n        this._template = template;\n        this._overwriteBefore = overwriteBefore;\n        this._overwriteAfter = overwriteAfter;\n    }\n    SnippetSession.adjustWhitespace = function (model, position, template) {\n        var line = model.getLineContent(position.lineNumber);\n        var lineLeadingWhitespace = getLeadingWhitespace(line, 0, position.column - 1);\n        var templateLines = template.split(/\\r\\n|\\r|\\n/);\n        for (var i = 1; i < templateLines.length; i++) {\n            var templateLeadingWhitespace = getLeadingWhitespace(templateLines[i]);\n            templateLines[i] = model.normalizeIndentation(lineLeadingWhitespace + templateLeadingWhitespace) + templateLines[i].substr(templateLeadingWhitespace.length);\n        }\n        return templateLines.join(model.getEOL());\n    };\n    SnippetSession.adjustSelection = function (model, selection, overwriteBefore, overwriteAfter) {\n        if (overwriteBefore !== 0 || overwriteAfter !== 0) {\n            // overwrite[Before|After] is compute using the position, not the whole\n            // selection. therefore we adjust the selection around that position\n            var positionLineNumber = selection.positionLineNumber, positionColumn = selection.positionColumn;\n            var positionColumnBefore = positionColumn - overwriteBefore;\n            var positionColumnAfter = positionColumn + overwriteAfter;\n            var range = model.validateRange({\n                startLineNumber: positionLineNumber,\n                startColumn: positionColumnBefore,\n                endLineNumber: positionLineNumber,\n                endColumn: positionColumnAfter\n            });\n            selection = Selection.createWithDirection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn, selection.getDirection());\n        }\n        return selection;\n    };\n    SnippetSession.createEditsAndSnippets = function (editor, template, overwriteBefore, overwriteAfter, enforceFinalTabstop) {\n        var model = editor.getModel();\n        var edits = [];\n        var snippets = [];\n        var modelBasedVariableResolver = new ModelBasedVariableResolver(model);\n        var clipboardService = editor.invokeWithinContext(function (accessor) { return accessor.get(IClipboardService, optional); });\n        var delta = 0;\n        // know what text the overwrite[Before|After] extensions\n        // of the primary curser have selected because only when\n        // secondary selections extend to the same text we can grow them\n        var firstBeforeText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), overwriteBefore, 0));\n        var firstAfterText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), 0, overwriteAfter));\n        // sort selections by their start position but remeber\n        // the original index. that allows you to create correct\n        // offset-based selection logic without changing the\n        // primary selection\n        var indexedSelections = editor.getSelections()\n            .map(function (selection, idx) { return ({ selection: selection, idx: idx }); })\n            .sort(function (a, b) { return Range.compareRangesUsingStarts(a.selection, b.selection); });\n        for (var _i = 0, indexedSelections_1 = indexedSelections; _i < indexedSelections_1.length; _i++) {\n            var _a = indexedSelections_1[_i], selection = _a.selection, idx = _a.idx;\n            // extend selection with the `overwriteBefore` and `overwriteAfter` and then\n            // compare if this matches the extensions of the primary selection\n            var extensionBefore = SnippetSession.adjustSelection(model, selection, overwriteBefore, 0);\n            var extensionAfter = SnippetSession.adjustSelection(model, selection, 0, overwriteAfter);\n            if (firstBeforeText !== model.getValueInRange(extensionBefore)) {\n                extensionBefore = selection;\n            }\n            if (firstAfterText !== model.getValueInRange(extensionAfter)) {\n                extensionAfter = selection;\n            }\n            // merge the before and after selection into one\n            var snippetSelection = selection\n                .setStartPosition(extensionBefore.startLineNumber, extensionBefore.startColumn)\n                .setEndPosition(extensionAfter.endLineNumber, extensionAfter.endColumn);\n            // adjust the template string to match the indentation and\n            // whitespace rules of this insert location (can be different for each cursor)\n            var start = snippetSelection.getStartPosition();\n            var adjustedTemplate = SnippetSession.adjustWhitespace(model, start, template);\n            var snippet = new SnippetParser()\n                .parse(adjustedTemplate, true, enforceFinalTabstop)\n                .resolveVariables(new CompositeSnippetVariableResolver([\n                modelBasedVariableResolver,\n                new ClipboardBasedVariableResolver(clipboardService, idx, indexedSelections.length),\n                new SelectionBasedVariableResolver(model, selection),\n                new TimeBasedVariableResolver\n            ]));\n            var offset = model.getOffsetAt(start) + delta;\n            delta += snippet.toString().length - model.getValueLengthInRange(snippetSelection);\n            // store snippets with the index of their originating selection.\n            // that ensures the primiary cursor stays primary despite not being\n            // the one with lowest start position\n            edits[idx] = EditOperation.replace(snippetSelection, snippet.toString());\n            snippets[idx] = new OneSnippet(editor, snippet, offset);\n        }\n        return { edits: edits, snippets: snippets };\n    };\n    SnippetSession.prototype.dispose = function () {\n        dispose(this._snippets);\n    };\n    SnippetSession.prototype._logInfo = function () {\n        return \"template=\\\"\" + this._template + \"\\\", merged_templates=\\\"\" + this._templateMerges.join(' -> ') + \"\\\"\";\n    };\n    SnippetSession.prototype.insert = function () {\n        var _this = this;\n        var model = this._editor.getModel();\n        // make insert edit and start with first selections\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, this._template, this._overwriteBefore, this._overwriteAfter, false), edits = _a.edits, snippets = _a.snippets;\n        this._snippets = snippets;\n        var selections = model.pushEditOperations(this._editor.getSelections(), edits, function (undoEdits) {\n            if (_this._snippets[0].hasPlaceholder) {\n                return _this._move(true);\n            }\n            else {\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\n            }\n        });\n        this._editor.setSelections(selections);\n        this._editor.revealRange(selections[0]);\n    };\n    SnippetSession.prototype.merge = function (template, overwriteBefore, overwriteAfter) {\n        var _this = this;\n        if (overwriteBefore === void 0) { overwriteBefore = 0; }\n        if (overwriteAfter === void 0) { overwriteAfter = 0; }\n        this._templateMerges.push([this._snippets[0]._nestingLevel, this._snippets[0]._placeholderGroupsIdx, template]);\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, template, overwriteBefore, overwriteAfter, true), edits = _a.edits, snippets = _a.snippets;\n        this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(), edits, function (undoEdits) {\n            for (var _i = 0, _a = _this._snippets; _i < _a.length; _i++) {\n                var snippet = _a[_i];\n                snippet.merge(snippets);\n            }\n            console.assert(snippets.length === 0);\n            if (_this._snippets[0].hasPlaceholder) {\n                return _this._move(undefined);\n            }\n            else {\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\n            }\n        }));\n    };\n    SnippetSession.prototype.next = function () {\n        var newSelections = this._move(true);\n        this._editor.setSelections(newSelections);\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\n    };\n    SnippetSession.prototype.prev = function () {\n        var newSelections = this._move(false);\n        this._editor.setSelections(newSelections);\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\n    };\n    SnippetSession.prototype._move = function (fwd) {\n        var selections = [];\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\n            var snippet = _a[_i];\n            var oneSelection = snippet.move(fwd);\n            selections.push.apply(selections, oneSelection);\n        }\n        return selections;\n    };\n    Object.defineProperty(SnippetSession.prototype, \"isAtFirstPlaceholder\", {\n        get: function () {\n            return this._snippets[0].isAtFirstPlaceholder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SnippetSession.prototype, \"isAtLastPlaceholder\", {\n        get: function () {\n            return this._snippets[0].isAtLastPlaceholder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SnippetSession.prototype, \"hasPlaceholder\", {\n        get: function () {\n            return this._snippets[0].hasPlaceholder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SnippetSession.prototype, \"choice\", {\n        get: function () {\n            return this._snippets[0].choice;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SnippetSession.prototype.isSelectionWithinPlaceholders = function () {\n        if (!this.hasPlaceholder) {\n            return false;\n        }\n        var selections = this._editor.getSelections();\n        if (selections.length < this._snippets.length) {\n            // this means we started snippet mode with N\n            // selections and have M (N > M) selections.\n            // So one snippet is without selection -> cancel\n            return false;\n        }\n        var allPossibleSelections;\n        var _loop_1 = function (snippet) {\n            var possibleSelections = snippet.computePossibleSelections();\n            // for the first snippet find the placeholder (and its ranges)\n            // that contain at least one selection. for all remaining snippets\n            // the same placeholder (and their ranges) must be used.\n            if (!allPossibleSelections) {\n                allPossibleSelections = new Map();\n                possibleSelections.forEach(function (ranges, index) {\n                    ranges.sort(Range.compareRangesUsingStarts);\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\n                        var selection = selections_1[_i];\n                        if (ranges[0].containsRange(selection)) {\n                            allPossibleSelections.set(index, []);\n                            break;\n                        }\n                    }\n                });\n            }\n            if (allPossibleSelections.size === 0) {\n                return { value: false };\n            }\n            // add selections from 'this' snippet so that we know all\n            // selections for this placeholder\n            allPossibleSelections.forEach(function (array, index) {\n                array.push.apply(array, possibleSelections.get(index));\n            });\n        };\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\n            var snippet = _a[_i];\n            var state_1 = _loop_1(snippet);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        // sort selections (and later placeholder-ranges). then walk both\n        // arrays and make sure the placeholder-ranges contain the corresponding\n        // selection\n        selections.sort(Range.compareRangesUsingStarts);\n        allPossibleSelections.forEach(function (ranges, index) {\n            if (ranges.length !== selections.length) {\n                allPossibleSelections.delete(index);\n                return;\n            }\n            ranges.sort(Range.compareRangesUsingStarts);\n            for (var i = 0; i < ranges.length; i++) {\n                if (!ranges[i].containsRange(selections[i])) {\n                    allPossibleSelections.delete(index);\n                    return;\n                }\n            }\n        });\n        // from all possible selections we have deleted those\n        // that don't match with the current selection. if we don't\n        // have any left, we don't have a selection anymore\n        return allPossibleSelections.size > 0;\n    };\n    SnippetSession.prototype.getEnclosingRange = function () {\n        var result;\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\n            var snippet = _a[_i];\n            var snippetRange = snippet.getEnclosingRange();\n            if (!result) {\n                result = snippetRange;\n            }\n            else {\n                result = result.plusRange(snippetRange);\n            }\n        }\n        return result;\n    };\n    return SnippetSession;\n}());\nexport { SnippetSession };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { sequence, asWinJsPromise } from '../../../base/common/async.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { compareIgnoreCase } from '../../../base/common/strings.js';\nimport { assign } from '../../../base/common/objects.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { SuggestRegistry, SuggestTriggerKind } from '../../common/modes.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nexport var Context = {\n    Visible: new RawContextKey('suggestWidgetVisible', false),\n    MultipleSuggestions: new RawContextKey('suggestWidgetMultipleSuggestions', false),\n    MakesTextEdit: new RawContextKey('suggestionMakesTextEdit', true),\n    AcceptOnKey: new RawContextKey('suggestionSupportsAcceptOnKey', true),\n    AcceptSuggestionsOnEnter: new RawContextKey('acceptSuggestionOnEnter', true)\n};\nvar _snippetSuggestSupport;\nexport function setSnippetSuggestSupport(support) {\n    var old = _snippetSuggestSupport;\n    _snippetSuggestSupport = support;\n    return old;\n}\nexport function provideSuggestionItems(model, position, snippetConfig, onlyFrom, context) {\n    if (snippetConfig === void 0) { snippetConfig = 'bottom'; }\n    var allSuggestions = [];\n    var acceptSuggestion = createSuggesionFilter(snippetConfig);\n    position = position.clone();\n    // get provider groups, always add snippet suggestion provider\n    var supports = SuggestRegistry.orderedGroups(model);\n    // add snippets provider unless turned off\n    if (snippetConfig !== 'none' && _snippetSuggestSupport) {\n        supports.unshift([_snippetSuggestSupport]);\n    }\n    var suggestConext = context || { triggerKind: SuggestTriggerKind.Invoke };\n    // add suggestions from contributed providers - providers are ordered in groups of\n    // equal score and once a group produces a result the process stops\n    var hasResult = false;\n    var factory = supports.map(function (supports) {\n        return function () {\n            // stop when we have a result\n            if (hasResult) {\n                return undefined;\n            }\n            // for each support in the group ask for suggestions\n            return TPromise.join(supports.map(function (support) {\n                if (!isFalsyOrEmpty(onlyFrom) && onlyFrom.indexOf(support) < 0) {\n                    return undefined;\n                }\n                return asWinJsPromise(function (token) { return support.provideCompletionItems(model, position, suggestConext, token); }).then(function (container) {\n                    var len = allSuggestions.length;\n                    if (container && !isFalsyOrEmpty(container.suggestions)) {\n                        for (var _i = 0, _a = container.suggestions; _i < _a.length; _i++) {\n                            var suggestion = _a[_i];\n                            if (acceptSuggestion(suggestion)) {\n                                fixOverwriteBeforeAfter(suggestion, container);\n                                allSuggestions.push({\n                                    position: position,\n                                    container: container,\n                                    suggestion: suggestion,\n                                    support: support,\n                                    resolve: createSuggestionResolver(support, suggestion, model, position)\n                                });\n                            }\n                        }\n                    }\n                    if (len !== allSuggestions.length && support !== _snippetSuggestSupport) {\n                        hasResult = true;\n                    }\n                }, onUnexpectedExternalError);\n            }));\n        };\n    });\n    var result = sequence(factory).then(function () { return allSuggestions.sort(getSuggestionComparator(snippetConfig)); });\n    // result.then(items => {\n    // \tconsole.log(model.getWordUntilPosition(position), items.map(item => `${item.suggestion.label}, type=${item.suggestion.type}, incomplete?${item.container.incomplete}, overwriteBefore=${item.suggestion.overwriteBefore}`));\n    // \treturn items;\n    // }, err => {\n    // \tconsole.warn(model.getWordUntilPosition(position), err);\n    // });\n    return result;\n}\nfunction fixOverwriteBeforeAfter(suggestion, container) {\n    if (typeof suggestion.overwriteBefore !== 'number') {\n        suggestion.overwriteBefore = 0;\n    }\n    if (typeof suggestion.overwriteAfter !== 'number' || suggestion.overwriteAfter < 0) {\n        suggestion.overwriteAfter = 0;\n    }\n}\nfunction createSuggestionResolver(provider, suggestion, model, position) {\n    return function () {\n        if (typeof provider.resolveCompletionItem === 'function') {\n            return asWinJsPromise(function (token) { return provider.resolveCompletionItem(model, position, suggestion, token); })\n                .then(function (value) { assign(suggestion, value); });\n        }\n        return TPromise.as(void 0);\n    };\n}\nfunction createSuggesionFilter(snippetConfig) {\n    if (snippetConfig === 'none') {\n        return function (suggestion) { return suggestion.type !== 'snippet'; };\n    }\n    else {\n        return function () { return true; };\n    }\n}\nfunction defaultComparator(a, b) {\n    var ret = 0;\n    // check with 'sortText'\n    if (typeof a.suggestion.sortText === 'string' && typeof b.suggestion.sortText === 'string') {\n        ret = compareIgnoreCase(a.suggestion.sortText, b.suggestion.sortText);\n    }\n    // check with 'label'\n    if (ret === 0) {\n        ret = compareIgnoreCase(a.suggestion.label, b.suggestion.label);\n    }\n    // check with 'type' and lower snippets\n    if (ret === 0 && a.suggestion.type !== b.suggestion.type) {\n        if (a.suggestion.type === 'snippet') {\n            ret = 1;\n        }\n        else if (b.suggestion.type === 'snippet') {\n            ret = -1;\n        }\n    }\n    return ret;\n}\nfunction snippetUpComparator(a, b) {\n    if (a.suggestion.type !== b.suggestion.type) {\n        if (a.suggestion.type === 'snippet') {\n            return -1;\n        }\n        else if (b.suggestion.type === 'snippet') {\n            return 1;\n        }\n    }\n    return defaultComparator(a, b);\n}\nfunction snippetDownComparator(a, b) {\n    if (a.suggestion.type !== b.suggestion.type) {\n        if (a.suggestion.type === 'snippet') {\n            return 1;\n        }\n        else if (b.suggestion.type === 'snippet') {\n            return -1;\n        }\n    }\n    return defaultComparator(a, b);\n}\nexport function getSuggestionComparator(snippetConfig) {\n    if (snippetConfig === 'top') {\n        return snippetUpComparator;\n    }\n    else if (snippetConfig === 'bottom') {\n        return snippetDownComparator;\n    }\n    else {\n        return defaultComparator;\n    }\n}\nregisterDefaultLanguageCommand('_executeCompletionItemProvider', function (model, position, args) {\n    var result = {\n        incomplete: false,\n        suggestions: []\n    };\n    var resolving = [];\n    var maxItemsToResolve = args['maxItemsToResolve'] || 0;\n    return provideSuggestionItems(model, position).then(function (items) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (resolving.length < maxItemsToResolve) {\n                resolving.push(item.resolve());\n            }\n            result.incomplete = result.incomplete || item.container.incomplete;\n            result.suggestions.push(item.suggestion);\n        }\n    }).then(function () {\n        return TPromise.join(resolving);\n    }).then(function () {\n        return result;\n    });\n});\nvar _suggestions;\nvar _provider = new /** @class */ (function () {\n    function class_1() {\n    }\n    class_1.prototype.provideCompletionItems = function () {\n        return _suggestions && { suggestions: _suggestions };\n    };\n    return class_1;\n}());\nSuggestRegistry.register('*', _provider);\nexport function showSimpleSuggestions(editor, suggestions) {\n    setTimeout(function () {\n        _suggestions = suggestions;\n        editor.getContribution('editor.contrib.suggestController').triggerSuggest([_provider]);\n        _suggestions = undefined;\n    }, 0);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RawContextKey, IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { registerEditorContribution, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { SnippetSession } from './snippetSession.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { showSimpleSuggestions } from '../suggest/suggest.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { repeat } from '../../../base/common/strings.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nvar SnippetController2 = /** @class */ (function () {\n    function SnippetController2(_editor, _logService, contextKeyService) {\n        this._editor = _editor;\n        this._logService = _logService;\n        this._snippetListener = [];\n        this._inSnippet = SnippetController2.InSnippetMode.bindTo(contextKeyService);\n        this._hasNextTabstop = SnippetController2.HasNextTabstop.bindTo(contextKeyService);\n        this._hasPrevTabstop = SnippetController2.HasPrevTabstop.bindTo(contextKeyService);\n    }\n    SnippetController2.get = function (editor) {\n        return editor.getContribution('snippetController2');\n    };\n    SnippetController2.prototype.dispose = function () {\n        this._inSnippet.reset();\n        this._hasPrevTabstop.reset();\n        this._hasNextTabstop.reset();\n        dispose(this._session);\n    };\n    SnippetController2.prototype.getId = function () {\n        return 'snippetController2';\n    };\n    SnippetController2.prototype.insert = function (template, overwriteBefore, overwriteAfter, undoStopBefore, undoStopAfter) {\n        if (overwriteBefore === void 0) { overwriteBefore = 0; }\n        if (overwriteAfter === void 0) { overwriteAfter = 0; }\n        if (undoStopBefore === void 0) { undoStopBefore = true; }\n        if (undoStopAfter === void 0) { undoStopAfter = true; }\n        // this is here to find out more about the yet-not-understood\n        // error that sometimes happens when we fail to inserted a nested\n        // snippet\n        try {\n            this._doInsert(template, overwriteBefore, overwriteAfter, undoStopBefore, undoStopAfter);\n        }\n        catch (e) {\n            this.cancel();\n            this._logService.error(e);\n            this._logService.error('snippet_error');\n            this._logService.error('insert_template=', template);\n            this._logService.error('existing_template=', this._session ? this._session._logInfo() : '<no_session>');\n        }\n    };\n    SnippetController2.prototype._doInsert = function (template, overwriteBefore, overwriteAfter, undoStopBefore, undoStopAfter) {\n        var _this = this;\n        if (overwriteBefore === void 0) { overwriteBefore = 0; }\n        if (overwriteAfter === void 0) { overwriteAfter = 0; }\n        if (undoStopBefore === void 0) { undoStopBefore = true; }\n        if (undoStopAfter === void 0) { undoStopAfter = true; }\n        // don't listen while inserting the snippet\n        // as that is the inflight state causing cancelation\n        this._snippetListener = dispose(this._snippetListener);\n        if (undoStopBefore) {\n            this._editor.getModel().pushStackElement();\n        }\n        if (!this._session) {\n            this._modelVersionId = this._editor.getModel().getAlternativeVersionId();\n            this._session = new SnippetSession(this._editor, template, overwriteBefore, overwriteAfter);\n            this._session.insert();\n        }\n        else {\n            this._session.merge(template, overwriteBefore, overwriteAfter);\n        }\n        if (undoStopAfter) {\n            this._editor.getModel().pushStackElement();\n        }\n        this._updateState();\n        this._snippetListener = [\n            this._editor.onDidChangeModelContent(function (e) { return e.isFlush && _this.cancel(); }),\n            this._editor.onDidChangeModel(function () { return _this.cancel(); }),\n            this._editor.onDidChangeCursorSelection(function () { return _this._updateState(); })\n        ];\n    };\n    SnippetController2.prototype._updateState = function () {\n        if (!this._session) {\n            // canceled in the meanwhile\n            return;\n        }\n        if (this._modelVersionId === this._editor.getModel().getAlternativeVersionId()) {\n            // undo until the 'before' state happened\n            // and makes use cancel snippet mode\n            return this.cancel();\n        }\n        if (!this._session.hasPlaceholder) {\n            // don't listen for selection changes and don't\n            // update context keys when the snippet is plain text\n            return this.cancel();\n        }\n        if (this._session.isAtLastPlaceholder || !this._session.isSelectionWithinPlaceholders()) {\n            return this.cancel();\n        }\n        this._inSnippet.set(true);\n        this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder);\n        this._hasNextTabstop.set(!this._session.isAtLastPlaceholder);\n        this._handleChoice();\n    };\n    SnippetController2.prototype._handleChoice = function () {\n        var choice = this._session.choice;\n        if (!choice) {\n            this._currentChoice = undefined;\n            return;\n        }\n        if (this._currentChoice !== choice) {\n            this._currentChoice = choice;\n            this._editor.setSelections(this._editor.getSelections()\n                .map(function (s) { return Selection.fromPositions(s.getStartPosition()); }));\n            var first_1 = choice.options[0];\n            showSimpleSuggestions(this._editor, choice.options.map(function (option, i) {\n                // let before = choice.options.slice(0, i);\n                // let after = choice.options.slice(i);\n                return {\n                    type: 'value',\n                    label: option.value,\n                    insertText: option.value,\n                    // insertText: `\\${1|${after.concat(before).join(',')}|}$0`,\n                    // snippetType: 'textmate',\n                    sortText: repeat('a', i),\n                    overwriteAfter: first_1.value.length\n                };\n            }));\n        }\n    };\n    SnippetController2.prototype.finish = function () {\n        while (this._inSnippet.get()) {\n            this.next();\n        }\n    };\n    SnippetController2.prototype.cancel = function () {\n        this._inSnippet.reset();\n        this._hasPrevTabstop.reset();\n        this._hasNextTabstop.reset();\n        dispose(this._snippetListener);\n        dispose(this._session);\n        this._session = undefined;\n        this._modelVersionId = -1;\n    };\n    SnippetController2.prototype.prev = function () {\n        this._session.prev();\n        this._updateState();\n    };\n    SnippetController2.prototype.next = function () {\n        this._session.next();\n        this._updateState();\n    };\n    SnippetController2.prototype.getSessionEnclosingRange = function () {\n        if (this._session) {\n            return this._session.getEnclosingRange();\n        }\n        return undefined;\n    };\n    SnippetController2.InSnippetMode = new RawContextKey('inSnippetMode', false);\n    SnippetController2.HasNextTabstop = new RawContextKey('hasNextTabstop', false);\n    SnippetController2.HasPrevTabstop = new RawContextKey('hasPrevTabstop', false);\n    SnippetController2 = __decorate([\n        __param(1, ILogService),\n        __param(2, IContextKeyService)\n    ], SnippetController2);\n    return SnippetController2;\n}());\nexport { SnippetController2 };\nregisterEditorContribution(SnippetController2);\nvar CommandCtor = EditorCommand.bindToContribution(SnippetController2.get);\nregisterEditorCommand(new CommandCtor({\n    id: 'jumpToNextSnippetPlaceholder',\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasNextTabstop),\n    handler: function (ctrl) { return ctrl.next(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(30),\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2 /* Tab */\n    }\n}));\nregisterEditorCommand(new CommandCtor({\n    id: 'jumpToPrevSnippetPlaceholder',\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasPrevTabstop),\n    handler: function (ctrl) { return ctrl.prev(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(30),\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* Shift */ | 2 /* Tab */\n    }\n}));\nregisterEditorCommand(new CommandCtor({\n    id: 'leaveSnippet',\n    precondition: SnippetController2.InSnippetMode,\n    handler: function (ctrl) { return ctrl.cancel(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(30),\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\nregisterEditorCommand(new CommandCtor({\n    id: 'acceptSnippet',\n    precondition: SnippetController2.InSnippetMode,\n    handler: function (ctrl) { return ctrl.finish(); },\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from './strings.js';\nimport { LRUCache } from './map.js';\n// Combined filters\n/**\n * @returns A filter which combines the provided set\n * of filters with an or. The *first* filters that\n * matches defined the return value of the returned\n * filter.\n */\nexport function or() {\n    var filter = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        filter[_i] = arguments[_i];\n    }\n    return function (word, wordToMatchAgainst) {\n        for (var i = 0, len = filter.length; i < len; i++) {\n            var match = filter[i](word, wordToMatchAgainst);\n            if (match) {\n                return match;\n            }\n        }\n        return null;\n    };\n}\n// Prefix\nexport var matchesStrictPrefix = _matchesPrefix.bind(undefined, false);\nexport var matchesPrefix = _matchesPrefix.bind(undefined, true);\nfunction _matchesPrefix(ignoreCase, word, wordToMatchAgainst) {\n    if (!wordToMatchAgainst || wordToMatchAgainst.length < word.length) {\n        return null;\n    }\n    var matches;\n    if (ignoreCase) {\n        matches = strings.startsWithIgnoreCase(wordToMatchAgainst, word);\n    }\n    else {\n        matches = wordToMatchAgainst.indexOf(word) === 0;\n    }\n    if (!matches) {\n        return null;\n    }\n    return word.length > 0 ? [{ start: 0, end: word.length }] : [];\n}\n// Contiguous Substring\nexport function matchesContiguousSubString(word, wordToMatchAgainst) {\n    var index = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (index === -1) {\n        return null;\n    }\n    return [{ start: index, end: index + word.length }];\n}\n// Substring\nexport function matchesSubString(word, wordToMatchAgainst) {\n    return _matchesSubString(word.toLowerCase(), wordToMatchAgainst.toLowerCase(), 0, 0);\n}\nfunction _matchesSubString(word, wordToMatchAgainst, i, j) {\n    if (i === word.length) {\n        return [];\n    }\n    else if (j === wordToMatchAgainst.length) {\n        return null;\n    }\n    else {\n        if (word[i] === wordToMatchAgainst[j]) {\n            var result = null;\n            if (result = _matchesSubString(word, wordToMatchAgainst, i + 1, j + 1)) {\n                return join({ start: j, end: j + 1 }, result);\n            }\n            return null;\n        }\n        return _matchesSubString(word, wordToMatchAgainst, i, j + 1);\n    }\n}\n// CamelCase\nfunction isLower(code) {\n    return 97 /* a */ <= code && code <= 122 /* z */;\n}\nexport function isUpper(code) {\n    return 65 /* A */ <= code && code <= 90 /* Z */;\n}\nfunction isNumber(code) {\n    return 48 /* Digit0 */ <= code && code <= 57 /* Digit9 */;\n}\nfunction isWhitespace(code) {\n    return (code === 32 /* Space */\n        || code === 9 /* Tab */\n        || code === 10 /* LineFeed */\n        || code === 13 /* CarriageReturn */);\n}\nfunction isAlphanumeric(code) {\n    return isLower(code) || isUpper(code) || isNumber(code);\n}\nfunction join(head, tail) {\n    if (tail.length === 0) {\n        tail = [head];\n    }\n    else if (head.end === tail[0].start) {\n        tail[0].start = head.start;\n    }\n    else {\n        tail.unshift(head);\n    }\n    return tail;\n}\nfunction nextAnchor(camelCaseWord, start) {\n    for (var i = start; i < camelCaseWord.length; i++) {\n        var c = camelCaseWord.charCodeAt(i);\n        if (isUpper(c) || isNumber(c) || (i > 0 && !isAlphanumeric(camelCaseWord.charCodeAt(i - 1)))) {\n            return i;\n        }\n    }\n    return camelCaseWord.length;\n}\nfunction _matchesCamelCase(word, camelCaseWord, i, j) {\n    if (i === word.length) {\n        return [];\n    }\n    else if (j === camelCaseWord.length) {\n        return null;\n    }\n    else if (word[i] !== camelCaseWord[j].toLowerCase()) {\n        return null;\n    }\n    else {\n        var result = null;\n        var nextUpperIndex = j + 1;\n        result = _matchesCamelCase(word, camelCaseWord, i + 1, j + 1);\n        while (!result && (nextUpperIndex = nextAnchor(camelCaseWord, nextUpperIndex)) < camelCaseWord.length) {\n            result = _matchesCamelCase(word, camelCaseWord, i + 1, nextUpperIndex);\n            nextUpperIndex++;\n        }\n        return result === null ? null : join({ start: j, end: j + 1 }, result);\n    }\n}\n// Heuristic to avoid computing camel case matcher for words that don't\n// look like camelCaseWords.\nfunction analyzeCamelCaseWord(word) {\n    var upper = 0, lower = 0, alpha = 0, numeric = 0, code = 0;\n    for (var i = 0; i < word.length; i++) {\n        code = word.charCodeAt(i);\n        if (isUpper(code)) {\n            upper++;\n        }\n        if (isLower(code)) {\n            lower++;\n        }\n        if (isAlphanumeric(code)) {\n            alpha++;\n        }\n        if (isNumber(code)) {\n            numeric++;\n        }\n    }\n    var upperPercent = upper / word.length;\n    var lowerPercent = lower / word.length;\n    var alphaPercent = alpha / word.length;\n    var numericPercent = numeric / word.length;\n    return { upperPercent: upperPercent, lowerPercent: lowerPercent, alphaPercent: alphaPercent, numericPercent: numericPercent };\n}\nfunction isUpperCaseWord(analysis) {\n    var upperPercent = analysis.upperPercent, lowerPercent = analysis.lowerPercent;\n    return lowerPercent === 0 && upperPercent > 0.6;\n}\nfunction isCamelCaseWord(analysis) {\n    var upperPercent = analysis.upperPercent, lowerPercent = analysis.lowerPercent, alphaPercent = analysis.alphaPercent, numericPercent = analysis.numericPercent;\n    return lowerPercent > 0.2 && upperPercent < 0.8 && alphaPercent > 0.6 && numericPercent < 0.2;\n}\n// Heuristic to avoid computing camel case matcher for words that don't\n// look like camel case patterns.\nfunction isCamelCasePattern(word) {\n    var upper = 0, lower = 0, code = 0, whitespace = 0;\n    for (var i = 0; i < word.length; i++) {\n        code = word.charCodeAt(i);\n        if (isUpper(code)) {\n            upper++;\n        }\n        if (isLower(code)) {\n            lower++;\n        }\n        if (isWhitespace(code)) {\n            whitespace++;\n        }\n    }\n    if ((upper === 0 || lower === 0) && whitespace === 0) {\n        return word.length <= 30;\n    }\n    else {\n        return upper <= 5;\n    }\n}\nexport function matchesCamelCase(word, camelCaseWord) {\n    if (!camelCaseWord) {\n        return null;\n    }\n    camelCaseWord = camelCaseWord.trim();\n    if (camelCaseWord.length === 0) {\n        return null;\n    }\n    if (!isCamelCasePattern(word)) {\n        return null;\n    }\n    if (camelCaseWord.length > 60) {\n        return null;\n    }\n    var analysis = analyzeCamelCaseWord(camelCaseWord);\n    if (!isCamelCaseWord(analysis)) {\n        if (!isUpperCaseWord(analysis)) {\n            return null;\n        }\n        camelCaseWord = camelCaseWord.toLowerCase();\n    }\n    var result = null;\n    var i = 0;\n    while (i < camelCaseWord.length && (result = _matchesCamelCase(word.toLowerCase(), camelCaseWord, 0, i)) === null) {\n        i = nextAnchor(camelCaseWord, i + 1);\n    }\n    return result;\n}\n// Matches beginning of words supporting non-ASCII languages\n// If `contiguous` is true then matches word with beginnings of the words in the target. E.g. \"pul\" will match \"Git: Pull\"\n// Otherwise also matches sub string of the word with beginnings of the words in the target. E.g. \"gp\" or \"g p\" will match \"Git: Pull\"\n// Useful in cases where the target is words (e.g. command labels)\nexport function matchesWords(word, target, contiguous) {\n    if (contiguous === void 0) { contiguous = false; }\n    if (!target || target.length === 0) {\n        return null;\n    }\n    var result = null;\n    var i = 0;\n    while (i < target.length && (result = _matchesWords(word.toLowerCase(), target, 0, i, contiguous)) === null) {\n        i = nextWord(target, i + 1);\n    }\n    return result;\n}\nfunction _matchesWords(word, target, i, j, contiguous) {\n    if (i === word.length) {\n        return [];\n    }\n    else if (j === target.length) {\n        return null;\n    }\n    else if (word[i] !== target[j].toLowerCase()) {\n        return null;\n    }\n    else {\n        var result = null;\n        var nextWordIndex = j + 1;\n        result = _matchesWords(word, target, i + 1, j + 1, contiguous);\n        if (!contiguous) {\n            while (!result && (nextWordIndex = nextWord(target, nextWordIndex)) < target.length) {\n                result = _matchesWords(word, target, i + 1, nextWordIndex, contiguous);\n                nextWordIndex++;\n            }\n        }\n        return result === null ? null : join({ start: j, end: j + 1 }, result);\n    }\n}\nfunction nextWord(word, start) {\n    for (var i = start; i < word.length; i++) {\n        var c = word.charCodeAt(i);\n        if (isWhitespace(c) || (i > 0 && isWhitespace(word.charCodeAt(i - 1)))) {\n            return i;\n        }\n    }\n    return word.length;\n}\n// Fuzzy\nexport var fuzzyContiguousFilter = or(matchesPrefix, matchesCamelCase, matchesContiguousSubString);\nvar fuzzySeparateFilter = or(matchesPrefix, matchesCamelCase, matchesSubString);\nvar fuzzyRegExpCache = new LRUCache(10000); // bounded to 10000 elements\nexport function matchesFuzzy(word, wordToMatchAgainst, enableSeparateSubstringMatching) {\n    if (enableSeparateSubstringMatching === void 0) { enableSeparateSubstringMatching = false; }\n    if (typeof word !== 'string' || typeof wordToMatchAgainst !== 'string') {\n        return null; // return early for invalid input\n    }\n    // Form RegExp for wildcard matches\n    var regexp = fuzzyRegExpCache.get(word);\n    if (!regexp) {\n        regexp = new RegExp(strings.convertSimple2RegExpPattern(word), 'i');\n        fuzzyRegExpCache.set(word, regexp);\n    }\n    // RegExp Filter\n    var match = regexp.exec(wordToMatchAgainst);\n    if (match) {\n        return [{ start: match.index, end: match.index + match[0].length }];\n    }\n    // Default Filter\n    return enableSeparateSubstringMatching ? fuzzySeparateFilter(word, wordToMatchAgainst) : fuzzyContiguousFilter(word, wordToMatchAgainst);\n}\nexport function skipScore(pattern, word, patternMaxWhitespaceIgnore) {\n    pattern = pattern.toLowerCase();\n    word = word.toLowerCase();\n    var matches = [];\n    var idx = 0;\n    for (var pos = 0; pos < pattern.length; ++pos) {\n        var thisIdx = word.indexOf(pattern.charAt(pos), idx);\n        if (thisIdx >= 0) {\n            matches.push(thisIdx);\n            idx = thisIdx + 1;\n        }\n    }\n    return [matches.length, matches];\n}\n//#region --- fuzzyScore ---\nexport function createMatches(position) {\n    var ret = [];\n    if (!position) {\n        return ret;\n    }\n    var last;\n    for (var _i = 0, position_1 = position; _i < position_1.length; _i++) {\n        var pos = position_1[_i];\n        if (last && last.end === pos) {\n            last.end += 1;\n        }\n        else {\n            last = { start: pos, end: pos + 1 };\n            ret.push(last);\n        }\n    }\n    return ret;\n}\nfunction initTable() {\n    var table = [];\n    var row = [0];\n    for (var i = 1; i <= 100; i++) {\n        row.push(-i);\n    }\n    for (var i = 0; i <= 100; i++) {\n        var thisRow = row.slice(0);\n        thisRow[0] = -i;\n        table.push(thisRow);\n    }\n    return table;\n}\nvar _table = initTable();\nvar _scores = initTable();\nvar _arrows = initTable();\nvar _debug = false;\nfunction printTable(table, pattern, patternLen, word, wordLen) {\n    function pad(s, n, pad) {\n        if (pad === void 0) { pad = ' '; }\n        while (s.length < n) {\n            s = pad + s;\n        }\n        return s;\n    }\n    var ret = \" |   |\" + word.split('').map(function (c) { return pad(c, 3); }).join('|') + \"\\n\";\n    for (var i = 0; i <= patternLen; i++) {\n        if (i === 0) {\n            ret += ' |';\n        }\n        else {\n            ret += pattern[i - 1] + \"|\";\n        }\n        ret += table[i].slice(0, wordLen + 1).map(function (n) { return pad(n.toString(), 3); }).join('|') + '\\n';\n    }\n    return ret;\n}\nfunction isSeparatorAtPos(value, index) {\n    if (index < 0 || index >= value.length) {\n        return false;\n    }\n    var code = value.charCodeAt(index);\n    switch (code) {\n        case 95 /* Underline */:\n        case 45 /* Dash */:\n        case 46 /* Period */:\n        case 32 /* Space */:\n        case 47 /* Slash */:\n        case 92 /* Backslash */:\n        case 39 /* SingleQuote */:\n        case 34 /* DoubleQuote */:\n        case 58 /* Colon */:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction isWhitespaceAtPos(value, index) {\n    if (index < 0 || index >= value.length) {\n        return false;\n    }\n    var code = value.charCodeAt(index);\n    switch (code) {\n        case 32 /* Space */:\n        case 9 /* Tab */:\n            return true;\n        default:\n            return false;\n    }\n}\nexport function fuzzyScore(pattern, word, patternMaxWhitespaceIgnore) {\n    var patternLen = pattern.length > 100 ? 100 : pattern.length;\n    var wordLen = word.length > 100 ? 100 : word.length;\n    // Check for leading whitespace in the pattern and\n    // start matching just after that position. This is\n    // like `pattern = pattern.rtrim()` but doesn't create\n    // a new string\n    var patternStartPos = 0;\n    if (patternMaxWhitespaceIgnore === undefined) {\n        patternMaxWhitespaceIgnore = patternLen;\n    }\n    while (patternStartPos < patternMaxWhitespaceIgnore) {\n        if (isWhitespaceAtPos(pattern, patternStartPos)) {\n            patternStartPos += 1;\n        }\n        else {\n            break;\n        }\n    }\n    if (patternStartPos === patternLen) {\n        return [-100, []];\n    }\n    if (patternLen > wordLen) {\n        return undefined;\n    }\n    var lowPattern = pattern.toLowerCase();\n    var lowWord = word.toLowerCase();\n    var patternPos = patternStartPos;\n    var wordPos = 0;\n    // Run a simple check if the characters of pattern occur\n    // (in order) at all in word. If that isn't the case we\n    // stop because no match will be possible\n    while (patternPos < patternLen && wordPos < wordLen) {\n        if (lowPattern[patternPos] === lowWord[wordPos]) {\n            patternPos += 1;\n        }\n        wordPos += 1;\n    }\n    if (patternPos !== patternLen) {\n        return undefined;\n    }\n    // There will be a mach, fill in tables\n    for (patternPos = patternStartPos + 1; patternPos <= patternLen; patternPos++) {\n        for (wordPos = 1; wordPos <= wordLen; wordPos++) {\n            var score = -1;\n            var lowWordChar = lowWord[wordPos - 1];\n            if (lowPattern[patternPos - 1] === lowWordChar) {\n                if (wordPos === (patternPos - patternStartPos)) {\n                    // common prefix: `foobar <-> foobaz`\n                    if (pattern[patternPos - 1] === word[wordPos - 1]) {\n                        score = 7;\n                    }\n                    else {\n                        score = 5;\n                    }\n                }\n                else if (lowWordChar !== word[wordPos - 1]) {\n                    // hitting upper-case: `foo <-> forOthers`\n                    if (pattern[patternPos - 1] === word[wordPos - 1]) {\n                        score = 7;\n                    }\n                    else {\n                        score = 5;\n                    }\n                }\n                else if (isSeparatorAtPos(lowWord, wordPos - 2) || isWhitespaceAtPos(lowWord, wordPos - 2)) {\n                    // post separator: `foo <-> bar_foo`\n                    score = 5;\n                }\n                else {\n                    score = 1;\n                }\n            }\n            _scores[patternPos][wordPos] = score;\n            var diag = _table[patternPos - 1][wordPos - 1] + (score > 1 ? 1 : score);\n            var top_1 = _table[patternPos - 1][wordPos] + -1;\n            var left = _table[patternPos][wordPos - 1] + -1;\n            if (left >= top_1) {\n                // left or diag\n                if (left > diag) {\n                    _table[patternPos][wordPos] = left;\n                    _arrows[patternPos][wordPos] = 4 /* Left */;\n                }\n                else if (left === diag) {\n                    _table[patternPos][wordPos] = left;\n                    _arrows[patternPos][wordPos] = 4 /* Left */ | 2 /* Diag */;\n                }\n                else {\n                    _table[patternPos][wordPos] = diag;\n                    _arrows[patternPos][wordPos] = 2 /* Diag */;\n                }\n            }\n            else {\n                // top or diag\n                if (top_1 > diag) {\n                    _table[patternPos][wordPos] = top_1;\n                    _arrows[patternPos][wordPos] = 1 /* Top */;\n                }\n                else if (top_1 === diag) {\n                    _table[patternPos][wordPos] = top_1;\n                    _arrows[patternPos][wordPos] = 1 /* Top */ | 2 /* Diag */;\n                }\n                else {\n                    _table[patternPos][wordPos] = diag;\n                    _arrows[patternPos][wordPos] = 2 /* Diag */;\n                }\n            }\n        }\n    }\n    if (_debug) {\n        console.log(printTable(_table, pattern, patternLen, word, wordLen));\n        console.log(printTable(_arrows, pattern, patternLen, word, wordLen));\n        console.log(printTable(_scores, pattern, patternLen, word, wordLen));\n    }\n    // _bucket is an array of [PrefixArray] we use to keep\n    // track of scores and matches. After calling `_findAllMatches`\n    // the best match (if available) is the first item in the array\n    _matchesCount = 0;\n    _topScore = -100;\n    _patternStartPos = patternStartPos;\n    _findAllMatches(patternLen, wordLen, patternLen === wordLen ? 1 : 0, new LazyArray(), false);\n    if (_matchesCount === 0) {\n        return undefined;\n    }\n    return [_topScore, _topMatch.toArray()];\n}\nvar _matchesCount = 0;\nvar _topMatch;\nvar _topScore = 0;\nvar _patternStartPos = 0;\nfunction _findAllMatches(patternPos, wordPos, total, matches, lastMatched) {\n    if (_matchesCount >= 10 || total < -25) {\n        // stop when having already 10 results, or\n        // when a potential alignment as already 5 gaps\n        return;\n    }\n    var simpleMatchCount = 0;\n    while (patternPos > _patternStartPos && wordPos > 0) {\n        var score = _scores[patternPos][wordPos];\n        var arrow = _arrows[patternPos][wordPos];\n        if (arrow === 4 /* Left */) {\n            // left\n            wordPos -= 1;\n            if (lastMatched) {\n                total -= 5; // new gap penalty\n            }\n            else if (!matches.isEmpty()) {\n                total -= 1; // gap penalty after first match\n            }\n            lastMatched = false;\n            simpleMatchCount = 0;\n        }\n        else if (arrow & 2 /* Diag */) {\n            if (arrow & 4 /* Left */) {\n                // left\n                _findAllMatches(patternPos, wordPos - 1, !matches.isEmpty() ? total - 1 : total, // gap penalty after first match\n                matches.slice(), lastMatched);\n            }\n            // diag\n            total += score;\n            patternPos -= 1;\n            wordPos -= 1;\n            matches.unshift(wordPos);\n            lastMatched = true;\n            // count simple matches and boost a row of\n            // simple matches when they yield in a\n            // strong match.\n            if (score === 1) {\n                simpleMatchCount += 1;\n                if (patternPos === _patternStartPos) {\n                    // when the first match is a weak\n                    // match we discard it\n                    return undefined;\n                }\n            }\n            else {\n                // boost\n                total += 1 + (simpleMatchCount * (score - 1));\n                simpleMatchCount = 0;\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    total -= wordPos >= 3 ? 9 : wordPos * 3; // late start penalty\n    // dynamically keep track of the current top score\n    // and insert the current best score at head, the rest at tail\n    _matchesCount += 1;\n    if (total > _topScore) {\n        _topScore = total;\n        _topMatch = matches;\n    }\n}\nvar LazyArray = /** @class */ (function () {\n    function LazyArray() {\n    }\n    LazyArray.prototype.isEmpty = function () {\n        return !this._data && (!this._parent || this._parent.isEmpty());\n    };\n    LazyArray.prototype.unshift = function (n) {\n        if (!this._data) {\n            this._data = [n];\n        }\n        else {\n            this._data.unshift(n);\n        }\n    };\n    LazyArray.prototype.slice = function () {\n        var ret = new LazyArray();\n        ret._parent = this;\n        ret._parentLen = this._data ? this._data.length : 0;\n        return ret;\n    };\n    LazyArray.prototype.toArray = function () {\n        if (!this._data) {\n            return this._parent.toArray();\n        }\n        var bucket = [];\n        var element = this;\n        while (element) {\n            if (element._parent && element._parent._data) {\n                bucket.push(element._parent._data.slice(element._parent._data.length - element._parentLen));\n            }\n            element = element._parent;\n        }\n        return Array.prototype.concat.apply(this._data, bucket);\n    };\n    return LazyArray;\n}());\n//#endregion\n//#region --- graceful ---\nexport function fuzzyScoreGracefulAggressive(pattern, word, patternMaxWhitespaceIgnore) {\n    return fuzzyScoreWithPermutations(pattern, word, true, patternMaxWhitespaceIgnore);\n}\nexport function fuzzyScoreGraceful(pattern, word, patternMaxWhitespaceIgnore) {\n    return fuzzyScoreWithPermutations(pattern, word, false, patternMaxWhitespaceIgnore);\n}\nfunction fuzzyScoreWithPermutations(pattern, word, aggressive, patternMaxWhitespaceIgnore) {\n    var top = fuzzyScore(pattern, word, patternMaxWhitespaceIgnore);\n    if (top && !aggressive) {\n        // when using the original pattern yield a result we`\n        // return it unless we are aggressive and try to find\n        // a better alignment, e.g. `cno` -> `^co^ns^ole` or `^c^o^nsole`.\n        return top;\n    }\n    if (pattern.length >= 3) {\n        // When the pattern is long enough then try a few (max 7)\n        // permutations of the pattern to find a better match. The\n        // permutations only swap neighbouring characters, e.g\n        // `cnoso` becomes `conso`, `cnsoo`, `cnoos`.\n        var tries = Math.min(7, pattern.length - 1);\n        for (var patternPos = 1; patternPos < tries; patternPos++) {\n            var newPattern = nextTypoPermutation(pattern, patternPos);\n            if (newPattern) {\n                var candidate = fuzzyScore(newPattern, word, patternMaxWhitespaceIgnore);\n                if (candidate) {\n                    candidate[0] -= 3; // permutation penalty\n                    if (!top || candidate[0] > top[0]) {\n                        top = candidate;\n                    }\n                }\n            }\n        }\n    }\n    return top;\n}\nfunction nextTypoPermutation(pattern, patternPos) {\n    if (patternPos + 1 >= pattern.length) {\n        return undefined;\n    }\n    var swap1 = pattern[patternPos];\n    var swap2 = pattern[patternPos + 1];\n    if (swap1 === swap2) {\n        return undefined;\n    }\n    return pattern.slice(0, patternPos)\n        + swap2\n        + swap1\n        + pattern.slice(patternPos + 2);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { fuzzyScore, fuzzyScoreGracefulAggressive, skipScore } from '../../../base/common/filters.js';\nimport { isDisposable } from '../../../base/common/lifecycle.js';\nvar LineContext = /** @class */ (function () {\n    function LineContext() {\n    }\n    return LineContext;\n}());\nexport { LineContext };\nvar CompletionModel = /** @class */ (function () {\n    function CompletionModel(items, column, lineContext, snippetConfig) {\n        this._snippetCompareFn = CompletionModel._compareCompletionItems;\n        this._items = items;\n        this._column = column;\n        this._refilterKind = 1 /* All */;\n        this._lineContext = lineContext;\n        if (snippetConfig === 'top') {\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsUp;\n        }\n        else if (snippetConfig === 'bottom') {\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsDown;\n        }\n    }\n    CompletionModel.prototype.dispose = function () {\n        var seen = new Set();\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var container = _a[_i].container;\n            if (!seen.has(container)) {\n                seen.add(container);\n                if (isDisposable(container)) {\n                    container.dispose();\n                }\n            }\n        }\n    };\n    Object.defineProperty(CompletionModel.prototype, \"lineContext\", {\n        get: function () {\n            return this._lineContext;\n        },\n        set: function (value) {\n            if (this._lineContext.leadingLineContent !== value.leadingLineContent\n                || this._lineContext.characterCountDelta !== value.characterCountDelta) {\n                this._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? 2 /* Incr */ : 1 /* All */;\n                this._lineContext = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompletionModel.prototype, \"items\", {\n        get: function () {\n            this._ensureCachedState();\n            return this._filteredItems;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompletionModel.prototype, \"incomplete\", {\n        get: function () {\n            this._ensureCachedState();\n            return this._isIncomplete;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionModel.prototype.resolveIncompleteInfo = function () {\n        var incomplete = [];\n        var complete = [];\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (!item.container.incomplete) {\n                complete.push(item);\n            }\n            else if (incomplete.indexOf(item.support) < 0) {\n                incomplete.push(item.support);\n            }\n        }\n        return { incomplete: incomplete, complete: complete };\n    };\n    Object.defineProperty(CompletionModel.prototype, \"stats\", {\n        get: function () {\n            this._ensureCachedState();\n            return this._stats;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionModel.prototype._ensureCachedState = function () {\n        if (this._refilterKind !== 0 /* Nothing */) {\n            this._createCachedState();\n        }\n    };\n    CompletionModel.prototype._createCachedState = function () {\n        this._isIncomplete = false;\n        this._stats = { suggestionCount: 0, snippetCount: 0, textCount: 0 };\n        var _a = this._lineContext, leadingLineContent = _a.leadingLineContent, characterCountDelta = _a.characterCountDelta;\n        var word = '';\n        // incrementally filter less\n        var source = this._refilterKind === 1 /* All */ ? this._items : this._filteredItems;\n        var target = [];\n        // picks a score function based on the number of\n        // items that we have to score/filter\n        var scoreFn = source.length > 2000 ? fuzzyScore : fuzzyScoreGracefulAggressive;\n        for (var i = 0; i < source.length; i++) {\n            var item = source[i];\n            var suggestion = item.suggestion, container = item.container;\n            // collect those supports that signaled having\n            // an incomplete result\n            this._isIncomplete = this._isIncomplete || container.incomplete;\n            // 'word' is that remainder of the current line that we\n            // filter and score against. In theory each suggestion uses a\n            // different word, but in practice not - that's why we cache\n            var wordLen = suggestion.overwriteBefore + characterCountDelta - (item.position.column - this._column);\n            if (word.length !== wordLen) {\n                word = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);\n            }\n            // remember the word against which this item was\n            // scored\n            item.word = word;\n            if (wordLen === 0) {\n                // when there is nothing to score against, don't\n                // event try to do. Use a const rank and rely on\n                // the fallback-sort using the initial sort order.\n                // use a score of `-100` because that is out of the\n                // bound of values `fuzzyScore` will return\n                item.score = -100;\n                item.matches = undefined;\n            }\n            else if (typeof suggestion.filterText === 'string') {\n                // when there is a `filterText` it must match the `word`.\n                // if it matches we check with the label to compute highlights\n                // and if that doesn't yield a result we have no highlights,\n                // despite having the match\n                var match = scoreFn(word, suggestion.filterText, suggestion.overwriteBefore);\n                if (!match) {\n                    continue;\n                }\n                item.score = match[0];\n                item.matches = skipScore(word, suggestion.label)[1];\n            }\n            else {\n                // by default match `word` against the `label`\n                var match = scoreFn(word, suggestion.label, suggestion.overwriteBefore);\n                if (match) {\n                    item.score = match[0];\n                    item.matches = match[1];\n                }\n                else {\n                    continue;\n                }\n            }\n            item.idx = i;\n            target.push(item);\n            // update stats\n            this._stats.suggestionCount++;\n            switch (suggestion.type) {\n                case 'snippet':\n                    this._stats.snippetCount++;\n                    break;\n                case 'text':\n                    this._stats.textCount++;\n                    break;\n            }\n        }\n        this._filteredItems = target.sort(this._snippetCompareFn);\n        this._refilterKind = 0 /* Nothing */;\n    };\n    CompletionModel._compareCompletionItems = function (a, b) {\n        if (a.score > b.score) {\n            return -1;\n        }\n        else if (a.score < b.score) {\n            return 1;\n        }\n        else if (a.idx < b.idx) {\n            return -1;\n        }\n        else if (a.idx > b.idx) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    };\n    CompletionModel._compareCompletionItemsSnippetsDown = function (a, b) {\n        if (a.suggestion.type !== b.suggestion.type) {\n            if (a.suggestion.type === 'snippet') {\n                return 1;\n            }\n            else if (b.suggestion.type === 'snippet') {\n                return -1;\n            }\n        }\n        return CompletionModel._compareCompletionItems(a, b);\n    };\n    CompletionModel._compareCompletionItemsSnippetsUp = function (a, b) {\n        if (a.suggestion.type !== b.suggestion.type) {\n            if (a.suggestion.type === 'snippet') {\n                return -1;\n            }\n            else if (b.suggestion.type === 'snippet') {\n                return 1;\n            }\n        }\n        return CompletionModel._compareCompletionItems(a, b);\n    };\n    return CompletionModel;\n}());\nexport { CompletionModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { SuggestRegistry, SuggestTriggerKind } from '../../common/modes.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { provideSuggestionItems, getSuggestionComparator } from './suggest.js';\nimport { CompletionModel } from './completionModel.js';\nimport { CursorChangeReason } from '../../common/controller/cursorEvents.js';\nvar LineContext = /** @class */ (function () {\n    function LineContext(model, position, auto) {\n        this.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\n        this.leadingWord = model.getWordUntilPosition(position);\n        this.lineNumber = position.lineNumber;\n        this.column = position.column;\n        this.auto = auto;\n    }\n    LineContext.shouldAutoTrigger = function (editor) {\n        var model = editor.getModel();\n        if (!model) {\n            return false;\n        }\n        var pos = editor.getPosition();\n        model.tokenizeIfCheap(pos.lineNumber);\n        var word = model.getWordAtPosition(pos);\n        if (!word) {\n            return false;\n        }\n        if (word.endColumn !== pos.column) {\n            return false;\n        }\n        if (!isNaN(Number(word.word))) {\n            return false;\n        }\n        return true;\n    };\n    return LineContext;\n}());\nexport { LineContext };\nvar SuggestModel = /** @class */ (function () {\n    function SuggestModel(editor) {\n        var _this = this;\n        this._toDispose = [];\n        this._triggerRefilter = new TimeoutTimer();\n        this._onDidCancel = new Emitter();\n        this._onDidTrigger = new Emitter();\n        this._onDidSuggest = new Emitter();\n        this.onDidCancel = this._onDidCancel.event;\n        this.onDidTrigger = this._onDidTrigger.event;\n        this.onDidSuggest = this._onDidSuggest.event;\n        this._editor = editor;\n        this._state = 0 /* Idle */;\n        this._triggerAutoSuggestPromise = null;\n        this._requestPromise = null;\n        this._completionModel = null;\n        this._context = null;\n        this._currentSelection = this._editor.getSelection() || new Selection(1, 1, 1, 1);\n        // wire up various listeners\n        this._toDispose.push(this._editor.onDidChangeModel(function () {\n            _this._updateTriggerCharacters();\n            _this.cancel();\n        }));\n        this._toDispose.push(this._editor.onDidChangeModelLanguage(function () {\n            _this._updateTriggerCharacters();\n            _this.cancel();\n        }));\n        this._toDispose.push(this._editor.onDidChangeConfiguration(function () {\n            _this._updateTriggerCharacters();\n            _this._updateQuickSuggest();\n        }));\n        this._toDispose.push(SuggestRegistry.onDidChange(function () {\n            _this._updateTriggerCharacters();\n            _this._updateActiveSuggestSession();\n        }));\n        this._toDispose.push(this._editor.onDidChangeCursorSelection(function (e) {\n            _this._onCursorChange(e);\n        }));\n        this._toDispose.push(this._editor.onDidChangeModelContent(function (e) {\n            _this._refilterCompletionItems();\n        }));\n        this._updateTriggerCharacters();\n        this._updateQuickSuggest();\n    }\n    SuggestModel.prototype.dispose = function () {\n        dispose([this._onDidCancel, this._onDidSuggest, this._onDidTrigger, this._triggerCharacterListener, this._triggerRefilter]);\n        this._toDispose = dispose(this._toDispose);\n        dispose(this._completionModel);\n        this.cancel();\n    };\n    // --- handle configuration & precondition changes\n    SuggestModel.prototype._updateQuickSuggest = function () {\n        this._quickSuggestDelay = this._editor.getConfiguration().contribInfo.quickSuggestionsDelay;\n        if (isNaN(this._quickSuggestDelay) || (!this._quickSuggestDelay && this._quickSuggestDelay !== 0) || this._quickSuggestDelay < 0) {\n            this._quickSuggestDelay = 10;\n        }\n    };\n    SuggestModel.prototype._updateTriggerCharacters = function () {\n        var _this = this;\n        dispose(this._triggerCharacterListener);\n        if (this._editor.getConfiguration().readOnly\n            || !this._editor.getModel()\n            || !this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters) {\n            return;\n        }\n        var supportsByTriggerCharacter = Object.create(null);\n        for (var _i = 0, _a = SuggestRegistry.all(this._editor.getModel()); _i < _a.length; _i++) {\n            var support = _a[_i];\n            if (isFalsyOrEmpty(support.triggerCharacters)) {\n                continue;\n            }\n            for (var _b = 0, _c = support.triggerCharacters; _b < _c.length; _b++) {\n                var ch = _c[_b];\n                var array = supportsByTriggerCharacter[ch];\n                if (!array) {\n                    supportsByTriggerCharacter[ch] = [support];\n                }\n                else {\n                    array.push(support);\n                }\n            }\n        }\n        this._triggerCharacterListener = this._editor.onDidType(function (text) {\n            var lastChar = text.charAt(text.length - 1);\n            var supports = supportsByTriggerCharacter[lastChar];\n            if (supports) {\n                // keep existing items that where not computed by the\n                // supports/providers that want to trigger now\n                var items = [];\n                if (_this._completionModel) {\n                    for (var _i = 0, _a = _this._completionModel.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        if (supports.indexOf(item.support) < 0) {\n                            items.push(item);\n                        }\n                    }\n                }\n                _this.trigger({ auto: true, triggerCharacter: lastChar }, Boolean(_this._completionModel), supports, items);\n            }\n        });\n    };\n    Object.defineProperty(SuggestModel.prototype, \"state\", {\n        // --- trigger/retrigger/cancel suggest\n        get: function () {\n            return this._state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestModel.prototype.cancel = function (retrigger) {\n        if (retrigger === void 0) { retrigger = false; }\n        this._triggerRefilter.cancel();\n        if (this._triggerAutoSuggestPromise) {\n            this._triggerAutoSuggestPromise.cancel();\n            this._triggerAutoSuggestPromise = null;\n        }\n        if (this._requestPromise) {\n            this._requestPromise.cancel();\n            this._requestPromise = null;\n        }\n        this._state = 0 /* Idle */;\n        dispose(this._completionModel);\n        this._completionModel = null;\n        this._context = null;\n        this._onDidCancel.fire({ retrigger: retrigger });\n    };\n    SuggestModel.prototype._updateActiveSuggestSession = function () {\n        if (this._state !== 0 /* Idle */) {\n            if (!SuggestRegistry.has(this._editor.getModel())) {\n                this.cancel();\n            }\n            else {\n                this.trigger({ auto: this._state === 2 /* Auto */ }, true);\n            }\n        }\n    };\n    SuggestModel.prototype._onCursorChange = function (e) {\n        var _this = this;\n        var prevSelection = this._currentSelection;\n        this._currentSelection = this._editor.getSelection();\n        if (!e.selection.isEmpty()\n            || e.reason !== CursorChangeReason.NotSet\n            || (e.source !== 'keyboard' && e.source !== 'deleteLeft')) {\n            // Early exit if nothing needs to be done!\n            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n            if (this._state !== 0 /* Idle */) {\n                this.cancel();\n            }\n            return;\n        }\n        if (!SuggestRegistry.has(this._editor.getModel())) {\n            return;\n        }\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        if (this._state === 0 /* Idle */) {\n            // trigger 24x7 IntelliSense when idle, enabled, when cursor\n            // moved RIGHT, and when at a good position\n            if (this._editor.getConfiguration().contribInfo.quickSuggestions !== false\n                && (prevSelection.containsRange(this._currentSelection)\n                    || prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))) {\n                this.cancel();\n                this._triggerAutoSuggestPromise = TPromise.timeout(this._quickSuggestDelay);\n                this._triggerAutoSuggestPromise.then(function () {\n                    if (LineContext.shouldAutoTrigger(_this._editor)) {\n                        var model_1 = _this._editor.getModel();\n                        var pos = _this._editor.getPosition();\n                        if (!model_1) {\n                            return;\n                        }\n                        // validate enabled now\n                        var quickSuggestions = _this._editor.getConfiguration().contribInfo.quickSuggestions;\n                        if (quickSuggestions === false) {\n                            return;\n                        }\n                        else if (quickSuggestions === true) {\n                            // all good\n                        }\n                        else {\n                            // Check the type of the token that triggered this\n                            model_1.tokenizeIfCheap(pos.lineNumber);\n                            var lineTokens = model_1.getLineTokens(pos.lineNumber);\n                            var tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));\n                            var inValidScope = quickSuggestions.other && tokenType === 0 /* Other */\n                                || quickSuggestions.comments && tokenType === 1 /* Comment */\n                                || quickSuggestions.strings && tokenType === 2 /* String */;\n                            if (!inValidScope) {\n                                return;\n                            }\n                        }\n                        _this.trigger({ auto: true });\n                    }\n                    _this._triggerAutoSuggestPromise = null;\n                });\n            }\n        }\n    };\n    SuggestModel.prototype._refilterCompletionItems = function () {\n        var _this = this;\n        if (this._state === 0 /* Idle */) {\n            return;\n        }\n        var model = this._editor.getModel();\n        if (model) {\n            // refine active suggestion\n            this._triggerRefilter.cancelAndSet(function () {\n                var position = _this._editor.getPosition();\n                var ctx = new LineContext(model, position, _this._state === 2 /* Auto */);\n                _this._onNewContext(ctx);\n            }, 25);\n        }\n    };\n    SuggestModel.prototype.trigger = function (context, retrigger, onlyFrom, existingItems) {\n        var _this = this;\n        if (retrigger === void 0) { retrigger = false; }\n        var model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        var auto = context.auto;\n        var ctx = new LineContext(model, this._editor.getPosition(), auto);\n        // Cancel previous requests, change state & update UI\n        this.cancel(retrigger);\n        this._state = auto ? 2 /* Auto */ : 1 /* Manual */;\n        this._onDidTrigger.fire({ auto: auto });\n        // Capture context when request was sent\n        this._context = ctx;\n        // Build context for request\n        var suggestCtx;\n        if (context.triggerCharacter) {\n            suggestCtx = {\n                triggerKind: SuggestTriggerKind.TriggerCharacter,\n                triggerCharacter: context.triggerCharacter\n            };\n        }\n        else if (onlyFrom && onlyFrom.length) {\n            suggestCtx = { triggerKind: SuggestTriggerKind.TriggerForIncompleteCompletions };\n        }\n        else {\n            suggestCtx = { triggerKind: SuggestTriggerKind.Invoke };\n        }\n        this._requestPromise = provideSuggestionItems(model, this._editor.getPosition(), this._editor.getConfiguration().contribInfo.snippetSuggestions, onlyFrom, suggestCtx).then(function (items) {\n            _this._requestPromise = null;\n            if (_this._state === 0 /* Idle */) {\n                return;\n            }\n            var model = _this._editor.getModel();\n            if (!model) {\n                return;\n            }\n            if (!isFalsyOrEmpty(existingItems)) {\n                var cmpFn = getSuggestionComparator(_this._editor.getConfiguration().contribInfo.snippetSuggestions);\n                items = items.concat(existingItems).sort(cmpFn);\n            }\n            var ctx = new LineContext(model, _this._editor.getPosition(), auto);\n            dispose(_this._completionModel);\n            _this._completionModel = new CompletionModel(items, _this._context.column, {\n                leadingLineContent: ctx.leadingLineContent,\n                characterCountDelta: _this._context ? ctx.column - _this._context.column : 0\n            }, _this._editor.getConfiguration().contribInfo.snippetSuggestions);\n            _this._onNewContext(ctx);\n        }).then(null, onUnexpectedError);\n    };\n    SuggestModel.prototype._onNewContext = function (ctx) {\n        if (!this._context) {\n            // happens when 24x7 IntelliSense is enabled and still in its delay\n            return;\n        }\n        if (ctx.lineNumber !== this._context.lineNumber) {\n            // e.g. happens when pressing Enter while IntelliSense is computed\n            this.cancel();\n            return;\n        }\n        if (ctx.leadingWord.startColumn < this._context.leadingWord.startColumn) {\n            // happens when the current word gets outdented\n            this.cancel();\n            return;\n        }\n        if (ctx.column < this._context.column) {\n            // typed -> moved cursor LEFT -> retrigger if still on a word\n            if (ctx.leadingWord.word) {\n                this.trigger({ auto: this._context.auto }, true);\n            }\n            else {\n                this.cancel();\n            }\n            return;\n        }\n        if (!this._completionModel) {\n            // happens when IntelliSense is not yet computed\n            return;\n        }\n        if (ctx.column > this._context.column && this._completionModel.incomplete && ctx.leadingWord.word.length !== 0) {\n            // typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger\n            var _a = this._completionModel.resolveIncompleteInfo(), complete = _a.complete, incomplete = _a.incomplete;\n            this.trigger({ auto: this._state === 2 /* Auto */ }, true, incomplete, complete);\n        }\n        else {\n            // typed -> moved cursor RIGHT -> update UI\n            var oldLineContext = this._completionModel.lineContext;\n            var isFrozen = false;\n            this._completionModel.lineContext = {\n                leadingLineContent: ctx.leadingLineContent,\n                characterCountDelta: ctx.column - this._context.column\n            };\n            if (this._completionModel.items.length === 0) {\n                if (LineContext.shouldAutoTrigger(this._editor) && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {\n                    // retrigger when heading into a new word\n                    this.trigger({ auto: this._context.auto }, true);\n                    return;\n                }\n                if (!this._context.auto) {\n                    // freeze when IntelliSense was manually requested\n                    this._completionModel.lineContext = oldLineContext;\n                    isFrozen = this._completionModel.items.length > 0;\n                    if (isFrozen && ctx.leadingWord.word.length === 0) {\n                        // there were results before but now there aren't\n                        // and also we are not on a word anymore -> cancel\n                        this.cancel();\n                        return;\n                    }\n                }\n                else {\n                    // nothing left\n                    this.cancel();\n                    return;\n                }\n            }\n            this._onDidSuggest.fire({\n                completionModel: this._completionModel,\n                auto: this._context.auto,\n                isFrozen: isFrozen,\n            });\n        }\n    };\n    return SuggestModel;\n}());\nexport { SuggestModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './media/suggest.css';\nimport * as nls from '../../../nls.js';\nimport { createMatches } from '../../../base/common/filters.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { Emitter, chain } from '../../../base/common/event.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { isPromiseCanceledError, onUnexpectedError } from '../../../base/common/errors.js';\nimport { dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { addClass, append, $, hide, removeClass, show, toggleClass, getDomNodePagePosition, hasClass } from '../../../base/browser/dom.js';\nimport { HighlightedLabel } from '../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { List } from '../../../base/browser/ui/list/listWidget.js';\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { ContentWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { Context as SuggestContext } from './suggest.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\nimport { attachListStyler } from '../../../platform/theme/common/styler.js';\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nimport { registerColor, editorWidgetBackground, listFocusBackground, activeContrastBorder, listHighlightForeground, editorForeground, editorWidgetBorder, focusBorder, textLinkForeground, textCodeBlockBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { IStorageService, StorageScope } from '../../../platform/storage/common/storage.js';\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nvar sticky = false; // for development purposes\nvar expandSuggestionDocsByDefault = false;\nvar maxSuggestionsToShow = 12;\n/**\n * Suggest widget colors\n */\nexport var editorSuggestWidgetBackground = registerColor('editorSuggestWidget.background', { dark: editorWidgetBackground, light: editorWidgetBackground, hc: editorWidgetBackground }, nls.localize('editorSuggestWidgetBackground', 'Background color of the suggest widget.'));\nexport var editorSuggestWidgetBorder = registerColor('editorSuggestWidget.border', { dark: editorWidgetBorder, light: editorWidgetBorder, hc: editorWidgetBorder }, nls.localize('editorSuggestWidgetBorder', 'Border color of the suggest widget.'));\nexport var editorSuggestWidgetForeground = registerColor('editorSuggestWidget.foreground', { dark: editorForeground, light: editorForeground, hc: editorForeground }, nls.localize('editorSuggestWidgetForeground', 'Foreground color of the suggest widget.'));\nexport var editorSuggestWidgetSelectedBackground = registerColor('editorSuggestWidget.selectedBackground', { dark: listFocusBackground, light: listFocusBackground, hc: listFocusBackground }, nls.localize('editorSuggestWidgetSelectedBackground', 'Background color of the selected entry in the suggest widget.'));\nexport var editorSuggestWidgetHighlightForeground = registerColor('editorSuggestWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hc: listHighlightForeground }, nls.localize('editorSuggestWidgetHighlightForeground', 'Color of the match highlights in the suggest widget.'));\nvar colorRegExp = /^(#([\\da-f]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))$/i;\nfunction matchesColor(text) {\n    return text && text.match(colorRegExp) ? text : null;\n}\nfunction canExpandCompletionItem(item) {\n    if (!item) {\n        return false;\n    }\n    var suggestion = item.suggestion;\n    if (suggestion.documentation) {\n        return true;\n    }\n    return (suggestion.detail && suggestion.detail !== suggestion.label);\n}\nvar Renderer = /** @class */ (function () {\n    function Renderer(widget, editor, triggerKeybindingLabel) {\n        this.widget = widget;\n        this.editor = editor;\n        this.triggerKeybindingLabel = triggerKeybindingLabel;\n    }\n    Object.defineProperty(Renderer.prototype, \"templateId\", {\n        get: function () {\n            return 'suggestion';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Renderer.prototype.renderTemplate = function (container) {\n        var _this = this;\n        var data = Object.create(null);\n        data.disposables = [];\n        data.root = container;\n        data.icon = append(container, $('.icon'));\n        data.colorspan = append(data.icon, $('span.colorspan'));\n        var text = append(container, $('.contents'));\n        var main = append(text, $('.main'));\n        data.highlightedLabel = new HighlightedLabel(main);\n        data.disposables.push(data.highlightedLabel);\n        data.typeLabel = append(main, $('span.type-label'));\n        data.readMore = append(main, $('span.readMore'));\n        data.readMore.title = nls.localize('readMore', \"Read More...{0}\", this.triggerKeybindingLabel);\n        var configureFont = function () {\n            var configuration = _this.editor.getConfiguration();\n            var fontFamily = configuration.fontInfo.fontFamily;\n            var fontSize = configuration.contribInfo.suggestFontSize || configuration.fontInfo.fontSize;\n            var lineHeight = configuration.contribInfo.suggestLineHeight || configuration.fontInfo.lineHeight;\n            var fontSizePx = fontSize + \"px\";\n            var lineHeightPx = lineHeight + \"px\";\n            data.root.style.fontSize = fontSizePx;\n            main.style.fontFamily = fontFamily;\n            main.style.lineHeight = lineHeightPx;\n            data.icon.style.height = lineHeightPx;\n            data.icon.style.width = lineHeightPx;\n            data.readMore.style.height = lineHeightPx;\n            data.readMore.style.width = lineHeightPx;\n        };\n        configureFont();\n        chain(this.editor.onDidChangeConfiguration.bind(this.editor))\n            .filter(function (e) { return e.fontInfo || e.contribInfo; })\n            .on(configureFont, null, data.disposables);\n        return data;\n    };\n    Renderer.prototype.renderElement = function (element, index, templateData) {\n        var _this = this;\n        var data = templateData;\n        var suggestion = element.suggestion;\n        if (canExpandCompletionItem(element)) {\n            data.root.setAttribute('aria-label', nls.localize('suggestionWithDetailsAriaLabel', \"{0}, suggestion, has details\", suggestion.label));\n        }\n        else {\n            data.root.setAttribute('aria-label', nls.localize('suggestionAriaLabel', \"{0}, suggestion\", suggestion.label));\n        }\n        data.icon.className = 'icon ' + suggestion.type;\n        data.colorspan.style.backgroundColor = '';\n        if (suggestion.type === 'color') {\n            var color = matchesColor(suggestion.label) || typeof suggestion.documentation === 'string' && matchesColor(suggestion.documentation);\n            if (color) {\n                data.icon.className = 'icon customcolor';\n                data.colorspan.style.backgroundColor = color;\n            }\n        }\n        data.highlightedLabel.set(suggestion.label, createMatches(element.matches));\n        // data.highlightedLabel.set(`${suggestion.label} <${element.score}=score(${element.word}, ${suggestion.filterText || suggestion.label})>`, createMatches(element.matches));\n        data.typeLabel.textContent = (suggestion.detail || '').replace(/\\n.*$/m, '');\n        if (canExpandCompletionItem(element)) {\n            show(data.readMore);\n            data.readMore.onmousedown = function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n            };\n            data.readMore.onclick = function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this.widget.toggleDetails();\n            };\n        }\n        else {\n            hide(data.readMore);\n            data.readMore.onmousedown = null;\n            data.readMore.onclick = null;\n        }\n    };\n    Renderer.prototype.disposeTemplate = function (templateData) {\n        templateData.disposables = dispose(templateData.disposables);\n    };\n    return Renderer;\n}());\nvar SuggestionDetails = /** @class */ (function () {\n    function SuggestionDetails(container, widget, editor, markdownRenderer, triggerKeybindingLabel) {\n        var _this = this;\n        this.widget = widget;\n        this.editor = editor;\n        this.markdownRenderer = markdownRenderer;\n        this.triggerKeybindingLabel = triggerKeybindingLabel;\n        this.borderWidth = 1;\n        this.disposables = [];\n        this.el = append(container, $('.details'));\n        this.disposables.push(toDisposable(function () { return container.removeChild(_this.el); }));\n        this.body = $('.body');\n        this.scrollbar = new DomScrollableElement(this.body, {});\n        append(this.el, this.scrollbar.getDomNode());\n        this.disposables.push(this.scrollbar);\n        this.header = append(this.body, $('.header'));\n        this.close = append(this.header, $('span.close'));\n        this.close.title = nls.localize('readLess', \"Read less...{0}\", this.triggerKeybindingLabel);\n        this.type = append(this.header, $('p.type'));\n        this.docs = append(this.body, $('p.docs'));\n        this.ariaLabel = null;\n        this.configureFont();\n        chain(this.editor.onDidChangeConfiguration.bind(this.editor))\n            .filter(function (e) { return e.fontInfo; })\n            .on(this.configureFont, this, this.disposables);\n    }\n    Object.defineProperty(SuggestionDetails.prototype, \"element\", {\n        get: function () {\n            return this.el;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestionDetails.prototype.render = function (item) {\n        var _this = this;\n        this.renderDisposeable = dispose(this.renderDisposeable);\n        if (!item || !canExpandCompletionItem(item)) {\n            this.type.textContent = '';\n            this.docs.textContent = '';\n            addClass(this.el, 'no-docs');\n            this.ariaLabel = null;\n            return;\n        }\n        removeClass(this.el, 'no-docs');\n        if (typeof item.suggestion.documentation === 'string') {\n            removeClass(this.docs, 'markdown-docs');\n            this.docs.textContent = item.suggestion.documentation;\n        }\n        else {\n            addClass(this.docs, 'markdown-docs');\n            this.docs.innerHTML = '';\n            var renderedContents = this.markdownRenderer.render(item.suggestion.documentation);\n            this.renderDisposeable = renderedContents;\n            this.docs.appendChild(renderedContents.element);\n        }\n        if (item.suggestion.detail) {\n            this.type.innerText = item.suggestion.detail;\n            show(this.type);\n        }\n        else {\n            this.type.innerText = '';\n            hide(this.type);\n        }\n        this.el.style.height = this.header.offsetHeight + this.docs.offsetHeight + (this.borderWidth * 2) + 'px';\n        this.close.onmousedown = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        this.close.onclick = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            _this.widget.toggleDetails();\n        };\n        this.body.scrollTop = 0;\n        this.scrollbar.scanDomNode();\n        this.ariaLabel = strings.format('{0}\\n{1}\\n{2}', item.suggestion.label || '', item.suggestion.detail || '', item.suggestion.documentation || '');\n    };\n    SuggestionDetails.prototype.getAriaLabel = function () {\n        return this.ariaLabel;\n    };\n    SuggestionDetails.prototype.scrollDown = function (much) {\n        if (much === void 0) { much = 8; }\n        this.body.scrollTop += much;\n    };\n    SuggestionDetails.prototype.scrollUp = function (much) {\n        if (much === void 0) { much = 8; }\n        this.body.scrollTop -= much;\n    };\n    SuggestionDetails.prototype.scrollTop = function () {\n        this.body.scrollTop = 0;\n    };\n    SuggestionDetails.prototype.scrollBottom = function () {\n        this.body.scrollTop = this.body.scrollHeight;\n    };\n    SuggestionDetails.prototype.pageDown = function () {\n        this.scrollDown(80);\n    };\n    SuggestionDetails.prototype.pageUp = function () {\n        this.scrollUp(80);\n    };\n    SuggestionDetails.prototype.setBorderWidth = function (width) {\n        this.borderWidth = width;\n    };\n    SuggestionDetails.prototype.configureFont = function () {\n        var configuration = this.editor.getConfiguration();\n        var fontFamily = configuration.fontInfo.fontFamily;\n        var fontSize = configuration.contribInfo.suggestFontSize || configuration.fontInfo.fontSize;\n        var lineHeight = configuration.contribInfo.suggestLineHeight || configuration.fontInfo.lineHeight;\n        var fontSizePx = fontSize + \"px\";\n        var lineHeightPx = lineHeight + \"px\";\n        this.el.style.fontSize = fontSizePx;\n        this.type.style.fontFamily = fontFamily;\n        this.close.style.height = lineHeightPx;\n        this.close.style.width = lineHeightPx;\n    };\n    SuggestionDetails.prototype.dispose = function () {\n        this.disposables = dispose(this.disposables);\n        this.renderDisposeable = dispose(this.renderDisposeable);\n    };\n    return SuggestionDetails;\n}());\nvar SuggestWidget = /** @class */ (function () {\n    function SuggestWidget(editor, telemetryService, contextKeyService, themeService, storageService, keybindingService, modeService, openerService) {\n        var _this = this;\n        this.editor = editor;\n        this.telemetryService = telemetryService;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.ignoreFocusEvents = false;\n        this.onDidSelectEmitter = new Emitter();\n        this.onDidFocusEmitter = new Emitter();\n        this.onDidHideEmitter = new Emitter();\n        this.onDidShowEmitter = new Emitter();\n        this.onDidSelect = this.onDidSelectEmitter.event;\n        this.onDidFocus = this.onDidFocusEmitter.event;\n        this.onDidHide = this.onDidHideEmitter.event;\n        this.onDidShow = this.onDidShowEmitter.event;\n        this.maxWidgetWidth = 660;\n        this.listWidth = 330;\n        this.storageServiceAvailable = true;\n        this.expandSuggestionDocs = false;\n        var kb = keybindingService.lookupKeybinding('editor.action.triggerSuggest');\n        var triggerKeybindingLabel = !kb ? '' : \" (\" + kb.getLabel() + \")\";\n        var markdownRenderer = new MarkdownRenderer(editor, modeService, openerService);\n        this.isAuto = false;\n        this.focusedItem = null;\n        this.storageService = storageService;\n        if (this.expandDocsSettingFromStorage() === undefined) {\n            this.storageService.store('expandSuggestionDocs', expandSuggestionDocsByDefault, StorageScope.GLOBAL);\n            if (this.expandDocsSettingFromStorage() === undefined) {\n                this.storageServiceAvailable = false;\n            }\n        }\n        this.element = $('.editor-widget.suggest-widget');\n        if (!this.editor.getConfiguration().contribInfo.iconsInSuggestions) {\n            addClass(this.element, 'no-icons');\n        }\n        this.messageElement = append(this.element, $('.message'));\n        this.listElement = append(this.element, $('.tree'));\n        this.details = new SuggestionDetails(this.element, this, this.editor, markdownRenderer, triggerKeybindingLabel);\n        var renderer = new Renderer(this, this.editor, triggerKeybindingLabel);\n        this.list = new List(this.listElement, this, [renderer], {\n            useShadows: false,\n            selectOnMouseDown: true,\n            focusOnMouseDown: false,\n            openController: { shouldOpen: function () { return false; } }\n        });\n        this.toDispose = [\n            attachListStyler(this.list, themeService, {\n                listInactiveFocusBackground: editorSuggestWidgetSelectedBackground,\n                listInactiveFocusOutline: activeContrastBorder\n            }),\n            themeService.onThemeChange(function (t) { return _this.onThemeChange(t); }),\n            editor.onDidBlurEditorText(function () { return _this.onEditorBlur(); }),\n            editor.onDidLayoutChange(function () { return _this.onEditorLayoutChange(); }),\n            this.list.onSelectionChange(function (e) { return _this.onListSelection(e); }),\n            this.list.onFocusChange(function (e) { return _this.onListFocus(e); }),\n            this.editor.onDidChangeCursorSelection(function () { return _this.onCursorSelectionChanged(); })\n        ];\n        this.suggestWidgetVisible = SuggestContext.Visible.bindTo(contextKeyService);\n        this.suggestWidgetMultipleSuggestions = SuggestContext.MultipleSuggestions.bindTo(contextKeyService);\n        this.suggestionSupportsAutoAccept = SuggestContext.AcceptOnKey.bindTo(contextKeyService);\n        this.editor.addContentWidget(this);\n        this.setState(0 /* Hidden */);\n        this.onThemeChange(themeService.getTheme());\n        // TODO@Alex: this is useful, but spammy\n        // var isVisible = false;\n        // this.onDidVisibilityChange((newIsVisible) => {\n        // \tif (isVisible === newIsVisible) {\n        // \t\treturn;\n        // \t}\n        // \tisVisible = newIsVisible;\n        // \tif (isVisible) {\n        // \t\talert(nls.localize('suggestWidgetAriaVisible', \"Suggestions opened\"));\n        // \t} else {\n        // \t\talert(nls.localize('suggestWidgetAriaInvisible', \"Suggestions closed\"));\n        // \t}\n        // });\n    }\n    SuggestWidget.prototype.onCursorSelectionChanged = function () {\n        if (this.state === 0 /* Hidden */) {\n            return;\n        }\n        this.editor.layoutContentWidget(this);\n    };\n    SuggestWidget.prototype.onEditorBlur = function () {\n        var _this = this;\n        if (sticky) {\n            return;\n        }\n        this.editorBlurTimeout = TPromise.timeout(150).then(function () {\n            if (!_this.editor.isFocused()) {\n                _this.setState(0 /* Hidden */);\n            }\n        });\n    };\n    SuggestWidget.prototype.onEditorLayoutChange = function () {\n        if ((this.state === 3 /* Open */ || this.state === 5 /* Details */) && this.expandDocsSettingFromStorage()) {\n            this.expandSideOrBelow();\n        }\n    };\n    SuggestWidget.prototype.onListSelection = function (e) {\n        var _this = this;\n        if (!e.elements.length) {\n            return;\n        }\n        var item = e.elements[0];\n        var index = e.indexes[0];\n        item.resolve().then(function () {\n            _this.onDidSelectEmitter.fire({ item: item, index: index, model: _this.completionModel });\n            alert(nls.localize('suggestionAriaAccepted', \"{0}, accepted\", item.suggestion.label));\n            _this.editor.focus();\n        });\n    };\n    SuggestWidget.prototype._getSuggestionAriaAlertLabel = function (item) {\n        if (canExpandCompletionItem(item)) {\n            return nls.localize('ariaCurrentSuggestionWithDetails', \"{0}, suggestion, has details\", item.suggestion.label);\n        }\n        else {\n            return nls.localize('ariaCurrentSuggestion', \"{0}, suggestion\", item.suggestion.label);\n        }\n    };\n    SuggestWidget.prototype._ariaAlert = function (newAriaAlertLabel) {\n        if (this._lastAriaAlertLabel === newAriaAlertLabel) {\n            return;\n        }\n        this._lastAriaAlertLabel = newAriaAlertLabel;\n        if (this._lastAriaAlertLabel) {\n            alert(this._lastAriaAlertLabel);\n        }\n    };\n    SuggestWidget.prototype.onThemeChange = function (theme) {\n        var backgroundColor = theme.getColor(editorSuggestWidgetBackground);\n        if (backgroundColor) {\n            this.listElement.style.backgroundColor = backgroundColor.toString();\n            this.details.element.style.backgroundColor = backgroundColor.toString();\n            this.messageElement.style.backgroundColor = backgroundColor.toString();\n        }\n        var borderColor = theme.getColor(editorSuggestWidgetBorder);\n        if (borderColor) {\n            this.listElement.style.borderColor = borderColor.toString();\n            this.details.element.style.borderColor = borderColor.toString();\n            this.messageElement.style.borderColor = borderColor.toString();\n            this.detailsBorderColor = borderColor.toString();\n        }\n        var focusBorderColor = theme.getColor(focusBorder);\n        if (focusBorderColor) {\n            this.detailsFocusBorderColor = focusBorderColor.toString();\n        }\n        this.details.setBorderWidth(theme.type === 'hc' ? 2 : 1);\n    };\n    SuggestWidget.prototype.onListFocus = function (e) {\n        var _this = this;\n        if (this.ignoreFocusEvents) {\n            return;\n        }\n        if (!e.elements.length) {\n            if (this.currentSuggestionDetails) {\n                this.currentSuggestionDetails.cancel();\n                this.currentSuggestionDetails = null;\n                this.focusedItem = null;\n            }\n            this._ariaAlert(null);\n            return;\n        }\n        var item = e.elements[0];\n        this._ariaAlert(this._getSuggestionAriaAlertLabel(item));\n        if (item === this.focusedItem) {\n            return;\n        }\n        if (this.currentSuggestionDetails) {\n            this.currentSuggestionDetails.cancel();\n            this.currentSuggestionDetails = null;\n        }\n        var index = e.indexes[0];\n        this.suggestionSupportsAutoAccept.set(!item.suggestion.noAutoAccept);\n        this.focusedItem = item;\n        this.list.reveal(index);\n        this.currentSuggestionDetails = item.resolve()\n            .then(function () {\n            // item can have extra information, so re-render\n            _this.ignoreFocusEvents = true;\n            _this.list.splice(index, 1, [item]);\n            _this.list.setFocus([index]);\n            _this.ignoreFocusEvents = false;\n            if (_this.expandDocsSettingFromStorage()) {\n                _this.showDetails();\n            }\n            else {\n                removeClass(_this.element, 'docs-side');\n            }\n        })\n            .then(null, function (err) { return !isPromiseCanceledError(err) && onUnexpectedError(err); })\n            .then(function () { return _this.currentSuggestionDetails = null; });\n        // emit an event\n        this.onDidFocusEmitter.fire({ item: item, index: index, model: this.completionModel });\n    };\n    SuggestWidget.prototype.setState = function (state) {\n        if (!this.element) {\n            return;\n        }\n        var stateChanged = this.state !== state;\n        this.state = state;\n        toggleClass(this.element, 'frozen', state === 4 /* Frozen */);\n        switch (state) {\n            case 0 /* Hidden */:\n                hide(this.messageElement, this.details.element, this.listElement);\n                this.hide();\n                this.listHeight = 0;\n                if (stateChanged) {\n                    this.list.splice(0, this.list.length);\n                }\n                break;\n            case 1 /* Loading */:\n                this.messageElement.textContent = SuggestWidget.LOADING_MESSAGE;\n                hide(this.listElement, this.details.element);\n                show(this.messageElement);\n                removeClass(this.element, 'docs-side');\n                this.show();\n                break;\n            case 2 /* Empty */:\n                this.messageElement.textContent = SuggestWidget.NO_SUGGESTIONS_MESSAGE;\n                hide(this.listElement, this.details.element);\n                show(this.messageElement);\n                removeClass(this.element, 'docs-side');\n                this.show();\n                break;\n            case 3 /* Open */:\n                hide(this.messageElement, this.details.element);\n                show(this.listElement);\n                this.show();\n                break;\n            case 4 /* Frozen */:\n                hide(this.messageElement);\n                show(this.listElement);\n                this.show();\n                break;\n            case 5 /* Details */:\n                hide(this.messageElement);\n                show(this.details.element, this.listElement);\n                this.show();\n                this._ariaAlert(this.details.getAriaLabel());\n                break;\n        }\n    };\n    SuggestWidget.prototype.showTriggered = function (auto) {\n        var _this = this;\n        if (this.state !== 0 /* Hidden */) {\n            return;\n        }\n        this.isAuto = !!auto;\n        if (!this.isAuto) {\n            this.loadingTimeout = setTimeout(function () {\n                _this.loadingTimeout = null;\n                _this.setState(1 /* Loading */);\n            }, 50);\n        }\n    };\n    SuggestWidget.prototype.showSuggestions = function (completionModel, selectionIndex, isFrozen, isAuto) {\n        if (this.loadingTimeout) {\n            clearTimeout(this.loadingTimeout);\n            this.loadingTimeout = null;\n        }\n        this.completionModel = completionModel;\n        if (isFrozen && this.state !== 2 /* Empty */ && this.state !== 0 /* Hidden */) {\n            this.setState(4 /* Frozen */);\n            return;\n        }\n        var visibleCount = this.completionModel.items.length;\n        var isEmpty = visibleCount === 0;\n        this.suggestWidgetMultipleSuggestions.set(visibleCount > 1);\n        if (isEmpty) {\n            if (isAuto) {\n                this.setState(0 /* Hidden */);\n            }\n            else {\n                this.setState(2 /* Empty */);\n            }\n            this.completionModel = null;\n        }\n        else {\n            var stats = this.completionModel.stats;\n            stats['wasAutomaticallyTriggered'] = !!isAuto;\n            /* __GDPR__\n                \"suggestWidget\" : {\n                    \"wasAutomaticallyTriggered\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n                    \"${include}\": [\n                        \"${ICompletionStats}\",\n                        \"${EditorTelemetryData}\"\n                    ]\n                }\n            */\n            this.telemetryService.publicLog('suggestWidget', __assign({}, stats, this.editor.getTelemetryData()));\n            this.focusedItem = null;\n            this.list.splice(0, this.list.length, this.completionModel.items);\n            if (isFrozen) {\n                this.setState(4 /* Frozen */);\n            }\n            else {\n                this.setState(3 /* Open */);\n            }\n            this.list.reveal(selectionIndex, selectionIndex);\n            this.list.setFocus([selectionIndex]);\n            // Reset focus border\n            if (this.detailsBorderColor) {\n                this.details.element.style.borderColor = this.detailsBorderColor;\n            }\n        }\n    };\n    SuggestWidget.prototype.selectNextPage = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 5 /* Details */:\n                this.details.pageDown();\n                return true;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusNextPage();\n                return true;\n        }\n    };\n    SuggestWidget.prototype.selectNext = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusNext(1, true);\n                return true;\n        }\n    };\n    SuggestWidget.prototype.selectLast = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 5 /* Details */:\n                this.details.scrollBottom();\n                return true;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusLast();\n                return true;\n        }\n    };\n    SuggestWidget.prototype.selectPreviousPage = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 5 /* Details */:\n                this.details.pageUp();\n                return true;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusPreviousPage();\n                return true;\n        }\n    };\n    SuggestWidget.prototype.selectPrevious = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusPrevious(1, true);\n                return false;\n        }\n    };\n    SuggestWidget.prototype.selectFirst = function () {\n        switch (this.state) {\n            case 0 /* Hidden */:\n                return false;\n            case 5 /* Details */:\n                this.details.scrollTop();\n                return true;\n            case 1 /* Loading */:\n                return !this.isAuto;\n            default:\n                this.list.focusFirst();\n                return true;\n        }\n    };\n    SuggestWidget.prototype.getFocusedItem = function () {\n        if (this.state !== 0 /* Hidden */\n            && this.state !== 2 /* Empty */\n            && this.state !== 1 /* Loading */) {\n            return {\n                item: this.list.getFocusedElements()[0],\n                index: this.list.getFocus()[0],\n                model: this.completionModel\n            };\n        }\n        return undefined;\n    };\n    SuggestWidget.prototype.toggleDetailsFocus = function () {\n        if (this.state === 5 /* Details */) {\n            this.setState(3 /* Open */);\n            if (this.detailsBorderColor) {\n                this.details.element.style.borderColor = this.detailsBorderColor;\n            }\n        }\n        else if (this.state === 3 /* Open */ && this.expandDocsSettingFromStorage()) {\n            this.setState(5 /* Details */);\n            if (this.detailsFocusBorderColor) {\n                this.details.element.style.borderColor = this.detailsFocusBorderColor;\n            }\n        }\n        /* __GDPR__\n            \"suggestWidget:toggleDetailsFocus\" : {\n                \"${include}\": [\n                    \"${EditorTelemetryData}\"\n                ]\n            }\n        */\n        this.telemetryService.publicLog('suggestWidget:toggleDetailsFocus', this.editor.getTelemetryData());\n    };\n    SuggestWidget.prototype.toggleDetails = function () {\n        if (!canExpandCompletionItem(this.list.getFocusedElements()[0])) {\n            return;\n        }\n        if (this.expandDocsSettingFromStorage()) {\n            this.updateExpandDocsSetting(false);\n            hide(this.details.element);\n            removeClass(this.element, 'docs-side');\n            removeClass(this.element, 'docs-below');\n            this.editor.layoutContentWidget(this);\n            /* __GDPR__\n                \"suggestWidget:collapseDetails\" : {\n                    \"${include}\": [\n                        \"${EditorTelemetryData}\"\n                    ]\n                }\n            */\n            this.telemetryService.publicLog('suggestWidget:collapseDetails', this.editor.getTelemetryData());\n        }\n        else {\n            if (this.state !== 3 /* Open */ && this.state !== 5 /* Details */) {\n                return;\n            }\n            this.updateExpandDocsSetting(true);\n            this.showDetails();\n            /* __GDPR__\n                \"suggestWidget:expandDetails\" : {\n                    \"${include}\": [\n                        \"${EditorTelemetryData}\"\n                    ]\n                }\n            */\n            this.telemetryService.publicLog('suggestWidget:expandDetails', this.editor.getTelemetryData());\n        }\n    };\n    SuggestWidget.prototype.showDetails = function () {\n        this.expandSideOrBelow();\n        show(this.details.element);\n        this.details.render(this.list.getFocusedElements()[0]);\n        this.details.element.style.maxHeight = this.maxWidgetHeight + 'px';\n        // Reset margin-top that was set as Fix for #26416\n        this.listElement.style.marginTop = '0px';\n        // with docs showing up widget width/height may change, so reposition the widget\n        this.editor.layoutContentWidget(this);\n        this.adjustDocsPosition();\n        this.editor.focus();\n        this._ariaAlert(this.details.getAriaLabel());\n    };\n    SuggestWidget.prototype.show = function () {\n        var _this = this;\n        var newHeight = this.updateListHeight();\n        if (newHeight !== this.listHeight) {\n            this.editor.layoutContentWidget(this);\n            this.listHeight = newHeight;\n        }\n        this.suggestWidgetVisible.set(true);\n        this.showTimeout = TPromise.timeout(100).then(function () {\n            addClass(_this.element, 'visible');\n            _this.onDidShowEmitter.fire(_this);\n        });\n    };\n    SuggestWidget.prototype.hide = function () {\n        this.suggestWidgetVisible.reset();\n        this.suggestWidgetMultipleSuggestions.reset();\n        removeClass(this.element, 'visible');\n    };\n    SuggestWidget.prototype.hideWidget = function () {\n        clearTimeout(this.loadingTimeout);\n        this.setState(0 /* Hidden */);\n        this.onDidHideEmitter.fire(this);\n    };\n    SuggestWidget.prototype.getPosition = function () {\n        if (this.state === 0 /* Hidden */) {\n            return null;\n        }\n        return {\n            position: this.editor.getPosition(),\n            preference: [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE]\n        };\n    };\n    SuggestWidget.prototype.getDomNode = function () {\n        return this.element;\n    };\n    SuggestWidget.prototype.getId = function () {\n        return SuggestWidget.ID;\n    };\n    SuggestWidget.prototype.updateListHeight = function () {\n        var height = 0;\n        if (this.state === 2 /* Empty */ || this.state === 1 /* Loading */) {\n            height = this.unfocusedHeight;\n        }\n        else {\n            var suggestionCount = this.list.contentHeight / this.unfocusedHeight;\n            height = Math.min(suggestionCount, maxSuggestionsToShow) * this.unfocusedHeight;\n        }\n        this.element.style.lineHeight = this.unfocusedHeight + \"px\";\n        this.listElement.style.height = height + \"px\";\n        this.list.layout(height);\n        return height;\n    };\n    SuggestWidget.prototype.adjustDocsPosition = function () {\n        var lineHeight = this.editor.getConfiguration().fontInfo.lineHeight;\n        var cursorCoords = this.editor.getScrolledVisiblePosition(this.editor.getPosition());\n        var editorCoords = getDomNodePagePosition(this.editor.getDomNode());\n        var cursorX = editorCoords.left + cursorCoords.left;\n        var cursorY = editorCoords.top + cursorCoords.top + cursorCoords.height;\n        var widgetCoords = getDomNodePagePosition(this.element);\n        var widgetX = widgetCoords.left;\n        var widgetY = widgetCoords.top;\n        if (widgetX < cursorX - this.listWidth) {\n            // Widget is too far to the left of cursor, swap list and docs\n            addClass(this.element, 'list-right');\n        }\n        else {\n            removeClass(this.element, 'list-right');\n        }\n        // Compare top of the cursor (cursorY - lineheight) with widgetTop to determine if\n        // margin-top needs to be applied on list to make it appear right above the cursor\n        // Cannot compare cursorY directly as it may be a few decimals off due to zoooming\n        if (hasClass(this.element, 'docs-side')\n            && cursorY - lineHeight > widgetY\n            && this.details.element.offsetHeight > this.listElement.offsetHeight) {\n            // Fix for #26416\n            // Docs is bigger than list and widget is above cursor, apply margin-top so that list appears right above cursor\n            this.listElement.style.marginTop = this.details.element.offsetHeight - this.listElement.offsetHeight + \"px\";\n        }\n    };\n    SuggestWidget.prototype.expandSideOrBelow = function () {\n        var matches = this.element.style.maxWidth.match(/(\\d+)px/);\n        if (!matches || Number(matches[1]) < this.maxWidgetWidth) {\n            addClass(this.element, 'docs-below');\n            removeClass(this.element, 'docs-side');\n        }\n        else {\n            addClass(this.element, 'docs-side');\n            removeClass(this.element, 'docs-below');\n        }\n    };\n    Object.defineProperty(SuggestWidget.prototype, \"maxWidgetHeight\", {\n        // Heights\n        get: function () {\n            return this.unfocusedHeight * maxSuggestionsToShow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SuggestWidget.prototype, \"unfocusedHeight\", {\n        get: function () {\n            var configuration = this.editor.getConfiguration();\n            return configuration.contribInfo.suggestLineHeight || configuration.fontInfo.lineHeight;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // IDelegate\n    SuggestWidget.prototype.getHeight = function (element) {\n        return this.unfocusedHeight;\n    };\n    SuggestWidget.prototype.getTemplateId = function (element) {\n        return 'suggestion';\n    };\n    // Monaco Editor does not have a storage service\n    SuggestWidget.prototype.expandDocsSettingFromStorage = function () {\n        if (this.storageServiceAvailable) {\n            return this.storageService.getBoolean('expandSuggestionDocs', StorageScope.GLOBAL);\n        }\n        else {\n            return this.expandSuggestionDocs;\n        }\n    };\n    // Monaco Editor does not have a storage service\n    SuggestWidget.prototype.updateExpandDocsSetting = function (value) {\n        if (this.storageServiceAvailable) {\n            this.storageService.store('expandSuggestionDocs', value, StorageScope.GLOBAL);\n        }\n        else {\n            this.expandSuggestionDocs = value;\n        }\n    };\n    SuggestWidget.prototype.dispose = function () {\n        this.state = null;\n        this.suggestionSupportsAutoAccept = null;\n        this.currentSuggestionDetails = null;\n        this.focusedItem = null;\n        this.element = null;\n        this.messageElement = null;\n        this.listElement = null;\n        this.details.dispose();\n        this.details = null;\n        this.list.dispose();\n        this.list = null;\n        this.toDispose = dispose(this.toDispose);\n        if (this.loadingTimeout) {\n            clearTimeout(this.loadingTimeout);\n            this.loadingTimeout = null;\n        }\n        if (this.editorBlurTimeout) {\n            this.editorBlurTimeout.cancel();\n            this.editorBlurTimeout = null;\n        }\n        if (this.showTimeout) {\n            this.showTimeout.cancel();\n            this.showTimeout = null;\n        }\n    };\n    SuggestWidget.ID = 'editor.widget.suggestWidget';\n    SuggestWidget.LOADING_MESSAGE = nls.localize('suggestWidget.loading', \"Loading...\");\n    SuggestWidget.NO_SUGGESTIONS_MESSAGE = nls.localize('suggestWidget.noSuggestions', \"No suggestions.\");\n    SuggestWidget = __decorate([\n        __param(1, ITelemetryService),\n        __param(2, IContextKeyService),\n        __param(3, IThemeService),\n        __param(4, IStorageService),\n        __param(5, IKeybindingService),\n        __param(6, IModeService),\n        __param(7, IOpenerService)\n    ], SuggestWidget);\n    return SuggestWidget;\n}());\nexport { SuggestWidget };\nregisterThemingParticipant(function (theme, collector) {\n    var matchHighlight = theme.getColor(editorSuggestWidgetHighlightForeground);\n    if (matchHighlight) {\n        collector.addRule(\".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: \" + matchHighlight + \"; }\");\n    }\n    var foreground = theme.getColor(editorSuggestWidgetForeground);\n    if (foreground) {\n        collector.addRule(\".monaco-editor .suggest-widget { color: \" + foreground + \"; }\");\n    }\n    var link = theme.getColor(textLinkForeground);\n    if (link) {\n        collector.addRule(\".monaco-editor .suggest-widget a { color: \" + link + \"; }\");\n    }\n    var codeBackground = theme.getColor(textCodeBlockBackground);\n    if (codeBackground) {\n        collector.addRule(\".monaco-editor .suggest-widget code { background-color: \" + codeBackground + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { LRUCache, TernarySearchTree } from '../../../base/common/map.js';\nimport { IStorageService, StorageScope } from '../../../platform/storage/common/storage.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nvar Memory = /** @class */ (function () {\n    function Memory() {\n    }\n    return Memory;\n}());\nexport { Memory };\nvar NoMemory = /** @class */ (function (_super) {\n    __extends(NoMemory, _super);\n    function NoMemory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoMemory.prototype.memorize = function (model, pos, item) {\n        // no-op\n    };\n    NoMemory.prototype.select = function (model, pos, items) {\n        return 0;\n    };\n    NoMemory.prototype.toJSON = function () {\n        return undefined;\n    };\n    NoMemory.prototype.fromJSON = function () {\n        //\n    };\n    return NoMemory;\n}(Memory));\nexport { NoMemory };\nvar LRUMemory = /** @class */ (function (_super) {\n    __extends(LRUMemory, _super);\n    function LRUMemory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._cache = new LRUCache(300, .66);\n        _this._seq = 0;\n        return _this;\n    }\n    LRUMemory.prototype.memorize = function (model, pos, item) {\n        var label = item.suggestion.label;\n        var key = model.getLanguageIdentifier().language + \"/\" + label;\n        this._cache.set(key, {\n            touch: this._seq++,\n            type: item.suggestion.type,\n            insertText: item.suggestion.insertText\n        });\n    };\n    LRUMemory.prototype.select = function (model, pos, items) {\n        // in order of completions, select the first\n        // that has been used in the past\n        var word = model.getWordUntilPosition(pos).word;\n        if (word.length !== 0) {\n            return 0;\n        }\n        var lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\n        if (/\\s$/.test(lineSuffix)) {\n            return 0;\n        }\n        var res = 0;\n        var seq = -1;\n        for (var i = 0; i < items.length; i++) {\n            var suggestion = items[i].suggestion;\n            var key = model.getLanguageIdentifier().language + \"/\" + suggestion.label;\n            var item = this._cache.get(key);\n            if (item && item.touch > seq && item.type === suggestion.type && item.insertText === suggestion.insertText) {\n                seq = item.touch;\n                res = i;\n            }\n        }\n        return res;\n    };\n    LRUMemory.prototype.toJSON = function () {\n        var data = [];\n        this._cache.forEach(function (value, key) {\n            data.push([key, value]);\n        });\n        return data;\n    };\n    LRUMemory.prototype.fromJSON = function (data) {\n        this._cache.clear();\n        var seq = 0;\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var _a = data_1[_i], key = _a[0], value = _a[1];\n            value.touch = seq;\n            this._cache.set(key, value);\n        }\n        this._seq = this._cache.size;\n    };\n    return LRUMemory;\n}(Memory));\nexport { LRUMemory };\nvar PrefixMemory = /** @class */ (function (_super) {\n    __extends(PrefixMemory, _super);\n    function PrefixMemory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._trie = TernarySearchTree.forStrings();\n        _this._seq = 0;\n        return _this;\n    }\n    PrefixMemory.prototype.memorize = function (model, pos, item) {\n        var word = model.getWordUntilPosition(pos).word;\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\n        this._trie.set(key, {\n            type: item.suggestion.type,\n            insertText: item.suggestion.insertText,\n            touch: this._seq++\n        });\n    };\n    PrefixMemory.prototype.select = function (model, pos, items) {\n        var word = model.getWordUntilPosition(pos).word;\n        if (!word) {\n            return 0;\n        }\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\n        var item = this._trie.get(key);\n        if (!item) {\n            item = this._trie.findSubstr(key);\n        }\n        if (item) {\n            for (var i = 0; i < items.length; i++) {\n                var _a = items[i].suggestion, type = _a.type, insertText = _a.insertText;\n                if (type === item.type && insertText === item.insertText) {\n                    return i;\n                }\n            }\n        }\n        return 0;\n    };\n    PrefixMemory.prototype.toJSON = function () {\n        var entries = [];\n        this._trie.forEach(function (value, key) { return entries.push([key, value]); });\n        // sort by last recently used (touch), then\n        // take the top 200 item and normalize their\n        // touch\n        entries\n            .sort(function (a, b) { return -(a[1].touch - b[1].touch); })\n            .forEach(function (value, i) { return value[1].touch = i; });\n        return entries.slice(0, 200);\n    };\n    PrefixMemory.prototype.fromJSON = function (data) {\n        this._trie.clear();\n        if (data.length > 0) {\n            this._seq = data[0][1].touch + 1;\n            for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n                var _a = data_2[_i], key = _a[0], value = _a[1];\n                this._trie.set(key, value);\n            }\n        }\n    };\n    return PrefixMemory;\n}(Memory));\nexport { PrefixMemory };\nvar SuggestMemories = /** @class */ (function () {\n    function SuggestMemories(mode, _storageService) {\n        var _this = this;\n        this._storageService = _storageService;\n        this._storagePrefix = 'suggest/memories';\n        this._persistSoon = new RunOnceScheduler(function () { return _this._flush(); }, 3000);\n        this.setMode(mode);\n    }\n    SuggestMemories.prototype.setMode = function (mode) {\n        if (this._mode === mode) {\n            return;\n        }\n        this._mode = mode;\n        this._strategy = mode === 'recentlyUsedByPrefix' ? new PrefixMemory() : mode === 'recentlyUsed' ? new LRUMemory() : new NoMemory();\n        try {\n            var raw = this._storageService.get(this._storagePrefix + \"/\" + this._mode, StorageScope.WORKSPACE);\n            if (raw) {\n                this._strategy.fromJSON(JSON.parse(raw));\n            }\n        }\n        catch (e) {\n            // things can go wrong with JSON...\n        }\n    };\n    SuggestMemories.prototype.memorize = function (model, pos, item) {\n        this._strategy.memorize(model, pos, item);\n        this._persistSoon.schedule();\n    };\n    SuggestMemories.prototype.select = function (model, pos, items) {\n        return this._strategy.select(model, pos, items);\n    };\n    SuggestMemories.prototype._flush = function () {\n        var raw = JSON.stringify(this._strategy);\n        this._storageService.store(this._storagePrefix + \"/\" + this._mode, raw, StorageScope.WORKSPACE);\n    };\n    SuggestMemories = __decorate([\n        __param(1, IStorageService)\n    ], SuggestMemories);\n    return SuggestMemories;\n}());\nexport { SuggestMemories };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Range } from '../../common/core/range.js';\nimport { SnippetParser } from '../snippet/snippetParser.js';\nimport { SnippetController2 } from '../snippet/snippetController2.js';\nimport { Context as SuggestContext } from './suggest.js';\nimport { SuggestModel } from './suggestModel.js';\nimport { SuggestWidget } from './suggestWidget.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { SuggestMemories } from './suggestMemory.js';\nvar AcceptOnCharacterOracle = /** @class */ (function () {\n    function AcceptOnCharacterOracle(editor, widget, accept) {\n        var _this = this;\n        this._disposables = [];\n        this._activeAcceptCharacters = new Set();\n        this._disposables.push(widget.onDidShow(function () { return _this._onItem(widget.getFocusedItem()); }));\n        this._disposables.push(widget.onDidFocus(this._onItem, this));\n        this._disposables.push(widget.onDidHide(this.reset, this));\n        this._disposables.push(editor.onWillType(function (text) {\n            if (_this._activeItem) {\n                var ch = text[text.length - 1];\n                if (_this._activeAcceptCharacters.has(ch) && editor.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter) {\n                    accept(_this._activeItem);\n                }\n            }\n        }));\n    }\n    AcceptOnCharacterOracle.prototype._onItem = function (selected) {\n        if (!selected || isFalsyOrEmpty(selected.item.suggestion.commitCharacters)) {\n            this.reset();\n            return;\n        }\n        this._activeItem = selected;\n        this._activeAcceptCharacters.clear();\n        for (var _i = 0, _a = selected.item.suggestion.commitCharacters; _i < _a.length; _i++) {\n            var ch = _a[_i];\n            if (ch.length > 0) {\n                this._activeAcceptCharacters.add(ch[0]);\n            }\n        }\n    };\n    AcceptOnCharacterOracle.prototype.reset = function () {\n        this._activeItem = undefined;\n    };\n    AcceptOnCharacterOracle.prototype.dispose = function () {\n        dispose(this._disposables);\n    };\n    return AcceptOnCharacterOracle;\n}());\nvar SuggestController = /** @class */ (function () {\n    function SuggestController(_editor, _commandService, _contextKeyService, _instantiationService) {\n        var _this = this;\n        this._editor = _editor;\n        this._commandService = _commandService;\n        this._contextKeyService = _contextKeyService;\n        this._instantiationService = _instantiationService;\n        this._toDispose = [];\n        this._model = new SuggestModel(this._editor);\n        this._memory = _instantiationService.createInstance(SuggestMemories, this._editor.getConfiguration().contribInfo.suggestSelection);\n        this._toDispose.push(this._model.onDidTrigger(function (e) {\n            if (!_this._widget) {\n                _this._createSuggestWidget();\n            }\n            _this._widget.showTriggered(e.auto);\n        }));\n        this._toDispose.push(this._model.onDidSuggest(function (e) {\n            var index = _this._memory.select(_this._editor.getModel(), _this._editor.getPosition(), e.completionModel.items);\n            _this._widget.showSuggestions(e.completionModel, index, e.isFrozen, e.auto);\n        }));\n        this._toDispose.push(this._model.onDidCancel(function (e) {\n            if (_this._widget && !e.retrigger) {\n                _this._widget.hideWidget();\n            }\n        }));\n        // Manage the acceptSuggestionsOnEnter context key\n        var acceptSuggestionsOnEnter = SuggestContext.AcceptSuggestionsOnEnter.bindTo(_contextKeyService);\n        var updateFromConfig = function () {\n            var _a = _this._editor.getConfiguration().contribInfo, acceptSuggestionOnEnter = _a.acceptSuggestionOnEnter, suggestSelection = _a.suggestSelection;\n            acceptSuggestionsOnEnter.set(acceptSuggestionOnEnter === 'on' || acceptSuggestionOnEnter === 'smart');\n            _this._memory.setMode(suggestSelection);\n        };\n        this._toDispose.push(this._editor.onDidChangeConfiguration(function (e) { return updateFromConfig(); }));\n        updateFromConfig();\n    }\n    SuggestController.get = function (editor) {\n        return editor.getContribution(SuggestController.ID);\n    };\n    SuggestController.prototype._createSuggestWidget = function () {\n        var _this = this;\n        this._widget = this._instantiationService.createInstance(SuggestWidget, this._editor);\n        this._toDispose.push(this._widget.onDidSelect(this._onDidSelectItem, this));\n        // Wire up logic to accept a suggestion on certain characters\n        var autoAcceptOracle = new AcceptOnCharacterOracle(this._editor, this._widget, function (item) { return _this._onDidSelectItem(item); });\n        this._toDispose.push(autoAcceptOracle, this._model.onDidSuggest(function (e) {\n            if (e.completionModel.items.length === 0) {\n                autoAcceptOracle.reset();\n            }\n        }));\n        var makesTextEdit = SuggestContext.MakesTextEdit.bindTo(this._contextKeyService);\n        this._toDispose.push(this._widget.onDidFocus(function (_a) {\n            var item = _a.item;\n            var position = _this._editor.getPosition();\n            var startColumn = item.position.column - item.suggestion.overwriteBefore;\n            var endColumn = position.column;\n            var value = true;\n            if (_this._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter === 'smart'\n                && _this._model.state === 2 /* Auto */\n                && !item.suggestion.command\n                && !item.suggestion.additionalTextEdits\n                && item.suggestion.snippetType !== 'textmate'\n                && endColumn - startColumn === item.suggestion.insertText.length) {\n                var oldText = _this._editor.getModel().getValueInRange({\n                    startLineNumber: position.lineNumber,\n                    startColumn: startColumn,\n                    endLineNumber: position.lineNumber,\n                    endColumn: endColumn\n                });\n                value = oldText !== item.suggestion.insertText;\n            }\n            makesTextEdit.set(value);\n        }));\n        this._toDispose.push({\n            dispose: function () { makesTextEdit.reset(); }\n        });\n    };\n    SuggestController.prototype.getId = function () {\n        return SuggestController.ID;\n    };\n    SuggestController.prototype.dispose = function () {\n        this._toDispose = dispose(this._toDispose);\n        if (this._widget) {\n            this._widget.dispose();\n            this._widget = null;\n        }\n        if (this._model) {\n            this._model.dispose();\n            this._model = null;\n        }\n    };\n    SuggestController.prototype._onDidSelectItem = function (event) {\n        if (!event || !event.item) {\n            this._model.cancel();\n            return;\n        }\n        var _a = event.item, suggestion = _a.suggestion, position = _a.position;\n        var editorColumn = this._editor.getPosition().column;\n        var columnDelta = editorColumn - position.column;\n        if (Array.isArray(suggestion.additionalTextEdits)) {\n            this._editor.pushUndoStop();\n            this._editor.executeEdits('suggestController.additionalTextEdits', suggestion.additionalTextEdits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\n            this._editor.pushUndoStop();\n        }\n        // keep item in memory\n        this._memory.memorize(this._editor.getModel(), this._editor.getPosition(), event.item);\n        var insertText = suggestion.insertText;\n        if (suggestion.snippetType !== 'textmate') {\n            insertText = SnippetParser.escape(insertText);\n        }\n        SnippetController2.get(this._editor).insert(insertText, suggestion.overwriteBefore + columnDelta, suggestion.overwriteAfter);\n        if (!suggestion.command) {\n            // done\n            this._model.cancel();\n        }\n        else if (suggestion.command.id === TriggerSuggestAction.id) {\n            // retigger\n            this._model.trigger({ auto: true }, true);\n        }\n        else {\n            // exec command, done\n            (_b = this._commandService).executeCommand.apply(_b, [suggestion.command.id].concat(suggestion.command.arguments)).done(undefined, onUnexpectedError);\n            this._model.cancel();\n        }\n        this._alertCompletionItem(event.item);\n        var _b;\n    };\n    SuggestController.prototype._alertCompletionItem = function (_a) {\n        var suggestion = _a.suggestion;\n        var msg = nls.localize('arai.alert.snippet', \"Accepting '{0}' did insert the following text: {1}\", suggestion.label, suggestion.insertText);\n        alert(msg);\n    };\n    SuggestController.prototype.triggerSuggest = function (onlyFrom) {\n        this._model.trigger({ auto: false }, false, onlyFrom);\n        this._editor.revealLine(this._editor.getPosition().lineNumber, 0 /* Smooth */);\n        this._editor.focus();\n    };\n    SuggestController.prototype.acceptSelectedSuggestion = function () {\n        if (this._widget) {\n            var item = this._widget.getFocusedItem();\n            this._onDidSelectItem(item);\n        }\n    };\n    SuggestController.prototype.cancelSuggestWidget = function () {\n        if (this._widget) {\n            this._model.cancel();\n            this._widget.hideWidget();\n        }\n    };\n    SuggestController.prototype.selectNextSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectNext();\n        }\n    };\n    SuggestController.prototype.selectNextPageSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectNextPage();\n        }\n    };\n    SuggestController.prototype.selectLastSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectLast();\n        }\n    };\n    SuggestController.prototype.selectPrevSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectPrevious();\n        }\n    };\n    SuggestController.prototype.selectPrevPageSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectPreviousPage();\n        }\n    };\n    SuggestController.prototype.selectFirstSuggestion = function () {\n        if (this._widget) {\n            this._widget.selectFirst();\n        }\n    };\n    SuggestController.prototype.toggleSuggestionDetails = function () {\n        if (this._widget) {\n            this._widget.toggleDetails();\n        }\n    };\n    SuggestController.prototype.toggleSuggestionFocus = function () {\n        if (this._widget) {\n            this._widget.toggleDetailsFocus();\n        }\n    };\n    SuggestController.ID = 'editor.contrib.suggestController';\n    SuggestController = __decorate([\n        __param(1, ICommandService),\n        __param(2, IContextKeyService),\n        __param(3, IInstantiationService)\n    ], SuggestController);\n    return SuggestController;\n}());\nexport { SuggestController };\nvar TriggerSuggestAction = /** @class */ (function (_super) {\n    __extends(TriggerSuggestAction, _super);\n    function TriggerSuggestAction() {\n        return _super.call(this, {\n            id: TriggerSuggestAction.id,\n            label: nls.localize('suggest.trigger.label', \"Trigger Suggest\"),\n            alias: 'Trigger Suggest',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCompletionItemProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 10 /* Space */,\n                mac: { primary: 256 /* WinCtrl */ | 10 /* Space */ }\n            }\n        }) || this;\n    }\n    TriggerSuggestAction.prototype.run = function (accessor, editor) {\n        var controller = SuggestController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.triggerSuggest();\n    };\n    TriggerSuggestAction.id = 'editor.action.triggerSuggest';\n    return TriggerSuggestAction;\n}(EditorAction));\nexport { TriggerSuggestAction };\nregisterEditorContribution(SuggestController);\nregisterEditorAction(TriggerSuggestAction);\nvar weight = KeybindingsRegistry.WEIGHT.editorContrib(90);\nvar SuggestCommand = EditorCommand.bindToContribution(SuggestController.get);\nregisterEditorCommand(new SuggestCommand({\n    id: 'acceptSelectedSuggestion',\n    precondition: SuggestContext.Visible,\n    handler: function (x) { return x.acceptSelectedSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 2 /* Tab */\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'acceptSelectedSuggestionOnEnter',\n    precondition: SuggestContext.Visible,\n    handler: function (x) { return x.acceptSelectedSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, SuggestContext.AcceptSuggestionsOnEnter, SuggestContext.MakesTextEdit),\n        primary: 3 /* Enter */\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'hideSuggestWidget',\n    precondition: SuggestContext.Visible,\n    handler: function (x) { return x.cancelSuggestWidget(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectNextSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectNextSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 18 /* DownArrow */,\n        secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */],\n        mac: { primary: 18 /* DownArrow */, secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectNextPageSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectNextPageSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 12 /* PageDown */,\n        secondary: [2048 /* CtrlCmd */ | 12 /* PageDown */]\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectLastSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectLastSuggestion(); }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectPrevSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectPrevSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 16 /* UpArrow */,\n        secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */],\n        mac: { primary: 16 /* UpArrow */, secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectPrevPageSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectPrevPageSuggestion(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 11 /* PageUp */,\n        secondary: [2048 /* CtrlCmd */ | 11 /* PageUp */]\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'selectFirstSuggestion',\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\n    handler: function (c) { return c.selectFirstSuggestion(); }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'toggleSuggestionDetails',\n    precondition: SuggestContext.Visible,\n    handler: function (x) { return x.toggleSuggestionDetails(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 2048 /* CtrlCmd */ | 10 /* Space */,\n        mac: { primary: 256 /* WinCtrl */ | 10 /* Space */ }\n    }\n}));\nregisterEditorCommand(new SuggestCommand({\n    id: 'toggleSuggestionFocus',\n    precondition: SuggestContext.Visible,\n    handler: function (x) { return x.toggleSuggestionFocus(); },\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 10 /* Space */,\n        mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 10 /* Space */ }\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../nls.js';\nimport { registerEditorAction, EditorAction } from '../../browser/editorExtensions.js';\nimport { TabFocus } from '../../common/config/commonEditorConfig.js';\nvar ToggleTabFocusModeAction = /** @class */ (function (_super) {\n    __extends(ToggleTabFocusModeAction, _super);\n    function ToggleTabFocusModeAction() {\n        return _super.call(this, {\n            id: ToggleTabFocusModeAction.ID,\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\n            alias: 'Toggle Tab Key Moves Focus',\n            precondition: null,\n            kbOpts: {\n                kbExpr: null,\n                primary: 2048 /* CtrlCmd */ | 43 /* KEY_M */,\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KEY_M */ }\n            }\n        }) || this;\n    }\n    ToggleTabFocusModeAction.prototype.run = function (accessor, editor) {\n        var oldValue = TabFocus.getTabFocusMode();\n        TabFocus.setTabFocusMode(!oldValue);\n    };\n    ToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\n    return ToggleTabFocusModeAction;\n}(EditorAction));\nexport { ToggleTabFocusModeAction };\nregisterEditorAction(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as nls from '../../../nls.js';\nimport { sequence, asWinJsPromise } from '../../../base/common/async.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorContribution, EditorAction, registerEditorAction, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport { DocumentHighlightKind, DocumentHighlightProviderRegistry } from '../../common/modes.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { registerColor, editorSelectionHighlight, overviewRulerSelectionHighlightForeground, activeContrastBorder, editorSelectionHighlightBorder } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { CursorChangeReason } from '../../common/controller/cursorEvents.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { firstIndex } from '../../../base/common/arrays.js';\nimport { TrackedRangeStickiness, OverviewRulerLane } from '../../common/model.js';\nexport var editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque to not hide underlying decorations.'), true);\nexport var editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque to not hide underlying decorations.'), true);\nexport var editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nexport var editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nexport var overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque to not hide underlying decorations.'), true);\nexport var overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque to not hide underlying decorations.'), true);\nexport var ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(model, position) {\n    var orderedByScore = DocumentHighlightProviderRegistry.ordered(model);\n    var foundResult = false;\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return sequence(orderedByScore.map(function (provider) {\n        return function () {\n            if (!foundResult) {\n                return asWinJsPromise(function (token) {\n                    return provider.provideDocumentHighlights(model, position, token);\n                }).then(function (data) {\n                    if (Array.isArray(data) && data.length > 0) {\n                        foundResult = true;\n                        return data;\n                    }\n                    return undefined;\n                }, function (err) {\n                    onUnexpectedExternalError(err);\n                    return undefined;\n                });\n            }\n            return undefined;\n        };\n    })).then(function (values) {\n        return values[0];\n    });\n}\nregisterDefaultLanguageCommand('_executeDocumentHighlights', getOccurrencesAtPosition);\nvar WordHighlighter = /** @class */ (function () {\n    function WordHighlighter(editor, contextKeyService) {\n        var _this = this;\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = [];\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getConfiguration().contribInfo.occurrencesHighlight;\n        this.model = this.editor.getModel();\n        this.toUnhook = [];\n        this.toUnhook.push(editor.onDidChangeCursorPosition(function (e) {\n            if (_this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (!_this.occurrencesHighlight) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            _this._onPositionChanged(e);\n        }));\n        this.toUnhook.push(editor.onDidChangeModel(function (e) {\n            _this._stopAll();\n            _this.model = _this.editor.getModel();\n        }));\n        this.toUnhook.push(editor.onDidChangeModelContent(function (e) {\n            _this._stopAll();\n        }));\n        this.toUnhook.push(editor.onDidChangeConfiguration(function (e) {\n            var newValue = _this.editor.getConfiguration().contribInfo.occurrencesHighlight;\n            if (_this.occurrencesHighlight !== newValue) {\n                _this.occurrencesHighlight = newValue;\n                _this._stopAll();\n            }\n        }));\n        this._lastWordRange = null;\n        this._decorationIds = [];\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n    }\n    WordHighlighter.prototype.hasDecorations = function () {\n        return (this._decorationIds.length > 0);\n    };\n    WordHighlighter.prototype.restore = function () {\n        if (!this.occurrencesHighlight) {\n            return;\n        }\n        this._run();\n    };\n    WordHighlighter.prototype._getSortedHighlights = function () {\n        var _this = this;\n        return this._decorationIds\n            .map(function (id) { return _this.model.getDecorationRange(id); })\n            .sort(Range.compareRangesUsingStarts);\n    };\n    WordHighlighter.prototype.moveNext = function () {\n        var _this = this;\n        var highlights = this._getSortedHighlights();\n        var index = firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\n        var newIndex = ((index + 1) % highlights.length);\n        var dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    };\n    WordHighlighter.prototype.moveBack = function () {\n        var _this = this;\n        var highlights = this._getSortedHighlights();\n        var index = firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\n        var newIndex = ((index - 1 + highlights.length) % highlights.length);\n        var dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    };\n    WordHighlighter.prototype._removeDecorations = function () {\n        if (this._decorationIds.length > 0) {\n            // remove decorations\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\n            this._hasWordHighlights.set(false);\n        }\n    };\n    WordHighlighter.prototype._stopAll = function () {\n        this._lastWordRange = null;\n        // Remove any existing decorations\n        this._removeDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    };\n    WordHighlighter.prototype._onPositionChanged = function (e) {\n        // disabled\n        if (!this.occurrencesHighlight) {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        if (e.reason !== CursorChangeReason.Explicit) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    };\n    WordHighlighter.prototype._run = function () {\n        var _this = this;\n        // no providers for this model\n        if (!DocumentHighlightProviderRegistry.has(this.model)) {\n            this._stopAll();\n            return;\n        }\n        var editorSelection = this.editor.getSelection();\n        // ignore multiline selection\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n            this._stopAll();\n            return;\n        }\n        var lineNumber = editorSelection.startLineNumber;\n        var startColumn = editorSelection.startColumn;\n        var endColumn = editorSelection.endColumn;\n        var word = this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n        // The selection must be inside a word or surround one word at most\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n            this._stopAll();\n            return;\n        }\n        // All the effort below is trying to achieve this:\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\n        // - 250ms later after the last cursor move event, render the occurrences\n        // - no flickering!\n        var currentWordRange = new Range(lineNumber, word.startColumn, lineNumber, word.endColumn);\n        var workerRequestIsValid = this._lastWordRange && this._lastWordRange.equalsRange(currentWordRange);\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (var i = 0, len = this._decorationIds.length; !workerRequestIsValid && i < len; i++) {\n            var range = this.model.getDecorationRange(this._decorationIds[i]);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    workerRequestIsValid = true;\n                }\n            }\n        }\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            var myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            this.workerRequest = getOccurrencesAtPosition(this.model, this.editor.getPosition());\n            this.workerRequest.then(function (data) {\n                if (myRequestId === _this.workerRequestTokenId) {\n                    _this.workerRequestCompleted = true;\n                    _this.workerRequestValue = data || [];\n                    _this._beginRenderDecorations();\n                }\n            }).done();\n        }\n        this._lastWordRange = currentWordRange;\n    };\n    WordHighlighter.prototype._beginRenderDecorations = function () {\n        var _this = this;\n        var currentTime = (new Date()).getTime();\n        var minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(function () {\n                _this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    };\n    WordHighlighter.prototype.renderDecorations = function () {\n        this.renderDecorationsTimer = -1;\n        var decorations = [];\n        for (var i = 0, len = this.workerRequestValue.length; i < len; i++) {\n            var info = this.workerRequestValue[i];\n            decorations.push({\n                range: info.range,\n                options: WordHighlighter._getDecorationOptions(info.kind)\n            });\n        }\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\n        this._hasWordHighlights.set(this.hasDecorations());\n    };\n    WordHighlighter._getDecorationOptions = function (kind) {\n        if (kind === DocumentHighlightKind.Write) {\n            return this._WRITE_OPTIONS;\n        }\n        else if (kind === DocumentHighlightKind.Text) {\n            return this._TEXT_OPTIONS;\n        }\n        else {\n            return this._REGULAR_OPTIONS;\n        }\n    };\n    WordHighlighter.prototype.dispose = function () {\n        this._stopAll();\n        this.toUnhook = dispose(this.toUnhook);\n    };\n    WordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'wordHighlightStrong',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n            darkColor: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    WordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'selectionHighlight',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n            darkColor: themeColorFromId(overviewRulerSelectionHighlightForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    WordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\n        stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        className: 'wordHighlight',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerWordHighlightForeground),\n            darkColor: themeColorFromId(overviewRulerWordHighlightForeground),\n            position: OverviewRulerLane.Center\n        }\n    });\n    return WordHighlighter;\n}());\nvar WordHighlighterContribution = /** @class */ (function () {\n    function WordHighlighterContribution(editor, contextKeyService) {\n        this.wordHighligher = new WordHighlighter(editor, contextKeyService);\n    }\n    WordHighlighterContribution.get = function (editor) {\n        return editor.getContribution(WordHighlighterContribution.ID);\n    };\n    WordHighlighterContribution.prototype.getId = function () {\n        return WordHighlighterContribution.ID;\n    };\n    WordHighlighterContribution.prototype.saveViewState = function () {\n        if (this.wordHighligher.hasDecorations()) {\n            return true;\n        }\n        return false;\n    };\n    WordHighlighterContribution.prototype.moveNext = function () {\n        this.wordHighligher.moveNext();\n    };\n    WordHighlighterContribution.prototype.moveBack = function () {\n        this.wordHighligher.moveBack();\n    };\n    WordHighlighterContribution.prototype.restoreViewState = function (state) {\n        if (state) {\n            this.wordHighligher.restore();\n        }\n    };\n    WordHighlighterContribution.prototype.dispose = function () {\n        this.wordHighligher.dispose();\n    };\n    WordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\n    WordHighlighterContribution = __decorate([\n        __param(1, IContextKeyService)\n    ], WordHighlighterContribution);\n    return WordHighlighterContribution;\n}());\nvar WordHighlightNavigationAction = /** @class */ (function (_super) {\n    __extends(WordHighlightNavigationAction, _super);\n    function WordHighlightNavigationAction(next, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._isNext = next;\n        return _this;\n    }\n    WordHighlightNavigationAction.prototype.run = function (accessor, editor) {\n        var controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    };\n    return WordHighlightNavigationAction;\n}(EditorAction));\nvar NextWordHighlightAction = /** @class */ (function (_super) {\n    __extends(NextWordHighlightAction, _super);\n    function NextWordHighlightAction() {\n        return _super.call(this, true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* F7 */\n            }\n        }) || this;\n    }\n    return NextWordHighlightAction;\n}(WordHighlightNavigationAction));\nvar PrevWordHighlightAction = /** @class */ (function (_super) {\n    __extends(PrevWordHighlightAction, _super);\n    function PrevWordHighlightAction() {\n        return _super.call(this, false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 65 /* F7 */\n            }\n        }) || this;\n    }\n    return PrevWordHighlightAction;\n}(WordHighlightNavigationAction));\nregisterEditorContribution(WordHighlighterContribution);\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterThemingParticipant(function (theme, collector) {\n    var selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(\".monaco-editor .focused .selectionHighlight { background-color: \" + selectionHighlight + \"; }\");\n        collector.addRule(\".monaco-editor .selectionHighlight { background-color: \" + selectionHighlight.transparent(0.5) + \"; }\");\n    }\n    var wordHighlight = theme.getColor(editorWordHighlight);\n    if (wordHighlight) {\n        collector.addRule(\".monaco-editor .wordHighlight { background-color: \" + wordHighlight + \"; }\");\n    }\n    var wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\n    if (wordHighlightStrong) {\n        collector.addRule(\".monaco-editor .wordHighlightStrong { background-color: \" + wordHighlightStrong + \"; }\");\n    }\n    var selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\n    if (selectionHighlightBorder) {\n        collector.addRule(\".monaco-editor .selectionHighlight { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + selectionHighlightBorder + \"; box-sizing: border-box; }\");\n    }\n    var wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\n    if (wordHighlightBorder) {\n        collector.addRule(\".monaco-editor .wordHighlight { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightBorder + \"; box-sizing: border-box; }\");\n    }\n    var wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\n    if (wordHighlightStrongBorder) {\n        collector.addRule(\".monaco-editor .wordHighlightStrong { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightStrongBorder + \"; box-sizing: border-box; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { registerEditorCommand, EditorCommand } from '../../browser/editorExtensions.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { WordOperations } from '../../common/controller/cursorWordOperations.js';\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\nimport { getMapForWordSeparators } from '../../common/controller/wordCharacterClassifier.js';\nimport { CursorState } from '../../common/controller/cursorCommon.js';\nimport { CursorChangeReason } from '../../common/controller/cursorEvents.js';\nvar MoveWordCommand = /** @class */ (function (_super) {\n    __extends(MoveWordCommand, _super);\n    function MoveWordCommand(opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._inSelectionMode = opts.inSelectionMode;\n        _this._wordNavigationType = opts.wordNavigationType;\n        return _this;\n    }\n    MoveWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\n        var _this = this;\n        var config = editor.getConfiguration();\n        var wordSeparators = getMapForWordSeparators(config.wordSeparators);\n        var model = editor.getModel();\n        var selections = editor.getSelections();\n        var result = selections.map(function (sel) {\n            var inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            var outPosition = _this._move(wordSeparators, model, inPosition, _this._wordNavigationType);\n            return _this._moveTo(sel, outPosition, _this._inSelectionMode);\n        });\n        editor._getCursors().setStates('moveWordCommand', CursorChangeReason.NotSet, result.map(function (r) { return CursorState.fromModelSelection(r); }));\n        if (result.length === 1) {\n            var pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* Smooth */);\n        }\n    };\n    MoveWordCommand.prototype._moveTo = function (from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    };\n    return MoveWordCommand;\n}(EditorCommand));\nexport { MoveWordCommand };\nvar WordLeftCommand = /** @class */ (function (_super) {\n    __extends(WordLeftCommand, _super);\n    function WordLeftCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WordLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    };\n    return WordLeftCommand;\n}(MoveWordCommand));\nexport { WordLeftCommand };\nvar WordRightCommand = /** @class */ (function (_super) {\n    __extends(WordRightCommand, _super);\n    function WordRightCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WordRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    };\n    return WordRightCommand;\n}(MoveWordCommand));\nexport { WordRightCommand };\nvar CursorWordStartLeft = /** @class */ (function (_super) {\n    __extends(CursorWordStartLeft, _super);\n    function CursorWordStartLeft() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ }\n            }\n        }) || this;\n    }\n    return CursorWordStartLeft;\n}(WordLeftCommand));\nexport { CursorWordStartLeft };\nvar CursorWordEndLeft = /** @class */ (function (_super) {\n    __extends(CursorWordEndLeft, _super);\n    function CursorWordEndLeft() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordEndLeft;\n}(WordLeftCommand));\nexport { CursorWordEndLeft };\nvar CursorWordLeft = /** @class */ (function (_super) {\n    __extends(CursorWordLeft, _super);\n    function CursorWordLeft() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordLeft',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordLeft;\n}(WordLeftCommand));\nexport { CursorWordLeft };\nvar CursorWordStartLeftSelect = /** @class */ (function (_super) {\n    __extends(CursorWordStartLeftSelect, _super);\n    function CursorWordStartLeftSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ }\n            }\n        }) || this;\n    }\n    return CursorWordStartLeftSelect;\n}(WordLeftCommand));\nexport { CursorWordStartLeftSelect };\nvar CursorWordEndLeftSelect = /** @class */ (function (_super) {\n    __extends(CursorWordEndLeftSelect, _super);\n    function CursorWordEndLeftSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordEndLeftSelect;\n}(WordLeftCommand));\nexport { CursorWordEndLeftSelect };\nvar CursorWordLeftSelect = /** @class */ (function (_super) {\n    __extends(CursorWordLeftSelect, _super);\n    function CursorWordLeftSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordLeftSelect',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordLeftSelect;\n}(WordLeftCommand));\nexport { CursorWordLeftSelect };\nvar CursorWordStartRight = /** @class */ (function (_super) {\n    __extends(CursorWordStartRight, _super);\n    function CursorWordStartRight() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordStartRight;\n}(WordRightCommand));\nexport { CursorWordStartRight };\nvar CursorWordEndRight = /** @class */ (function (_super) {\n    __extends(CursorWordEndRight, _super);\n    function CursorWordEndRight() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ }\n            }\n        }) || this;\n    }\n    return CursorWordEndRight;\n}(WordRightCommand));\nexport { CursorWordEndRight };\nvar CursorWordRight = /** @class */ (function (_super) {\n    __extends(CursorWordRight, _super);\n    function CursorWordRight() {\n        return _super.call(this, {\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordRight',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordRight;\n}(WordRightCommand));\nexport { CursorWordRight };\nvar CursorWordStartRightSelect = /** @class */ (function (_super) {\n    __extends(CursorWordStartRightSelect, _super);\n    function CursorWordStartRightSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordStartRightSelect;\n}(WordRightCommand));\nexport { CursorWordStartRightSelect };\nvar CursorWordEndRightSelect = /** @class */ (function (_super) {\n    __extends(CursorWordEndRightSelect, _super);\n    function CursorWordEndRightSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ }\n            }\n        }) || this;\n    }\n    return CursorWordEndRightSelect;\n}(WordRightCommand));\nexport { CursorWordEndRightSelect };\nvar CursorWordRightSelect = /** @class */ (function (_super) {\n    __extends(CursorWordRightSelect, _super);\n    function CursorWordRightSelect() {\n        return _super.call(this, {\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: null\n        }) || this;\n    }\n    return CursorWordRightSelect;\n}(WordRightCommand));\nexport { CursorWordRightSelect };\nvar DeleteWordCommand = /** @class */ (function (_super) {\n    __extends(DeleteWordCommand, _super);\n    function DeleteWordCommand(opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        _this._wordNavigationType = opts.wordNavigationType;\n        return _this;\n    }\n    DeleteWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\n        var _this = this;\n        var config = editor.getConfiguration();\n        var wordSeparators = getMapForWordSeparators(config.wordSeparators);\n        var model = editor.getModel();\n        var selections = editor.getSelections();\n        var commands = selections.map(function (sel) {\n            var deleteRange = _this._delete(wordSeparators, model, sel, _this._whitespaceHeuristics, _this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    };\n    return DeleteWordCommand;\n}(EditorCommand));\nexport { DeleteWordCommand };\nvar DeleteWordLeftCommand = /** @class */ (function (_super) {\n    __extends(DeleteWordLeftCommand, _super);\n    function DeleteWordLeftCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DeleteWordLeftCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\n        var r = WordOperations.deleteWordLeft(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    };\n    return DeleteWordLeftCommand;\n}(DeleteWordCommand));\nexport { DeleteWordLeftCommand };\nvar DeleteWordRightCommand = /** @class */ (function (_super) {\n    __extends(DeleteWordRightCommand, _super);\n    function DeleteWordRightCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DeleteWordRightCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\n        var r = WordOperations.deleteWordRight(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        var lineCount = model.getLineCount();\n        var maxColumn = model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    };\n    return DeleteWordRightCommand;\n}(DeleteWordCommand));\nexport { DeleteWordRightCommand };\nvar DeleteWordStartLeft = /** @class */ (function (_super) {\n    __extends(DeleteWordStartLeft, _super);\n    function DeleteWordStartLeft() {\n        return _super.call(this, {\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return DeleteWordStartLeft;\n}(DeleteWordLeftCommand));\nexport { DeleteWordStartLeft };\nvar DeleteWordEndLeft = /** @class */ (function (_super) {\n    __extends(DeleteWordEndLeft, _super);\n    function DeleteWordEndLeft() {\n        return _super.call(this, {\n            whitespaceHeuristics: false,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return DeleteWordEndLeft;\n}(DeleteWordLeftCommand));\nexport { DeleteWordEndLeft };\nvar DeleteWordLeft = /** @class */ (function (_super) {\n    __extends(DeleteWordLeft, _super);\n    function DeleteWordLeft() {\n        return _super.call(this, {\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ }\n            }\n        }) || this;\n    }\n    return DeleteWordLeft;\n}(DeleteWordLeftCommand));\nexport { DeleteWordLeft };\nvar DeleteWordStartRight = /** @class */ (function (_super) {\n    __extends(DeleteWordStartRight, _super);\n    function DeleteWordStartRight() {\n        return _super.call(this, {\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return DeleteWordStartRight;\n}(DeleteWordRightCommand));\nexport { DeleteWordStartRight };\nvar DeleteWordEndRight = /** @class */ (function (_super) {\n    __extends(DeleteWordEndRight, _super);\n    function DeleteWordEndRight() {\n        return _super.call(this, {\n            whitespaceHeuristics: false,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        }) || this;\n    }\n    return DeleteWordEndRight;\n}(DeleteWordRightCommand));\nexport { DeleteWordEndRight };\nvar DeleteWordRight = /** @class */ (function (_super) {\n    __extends(DeleteWordRight, _super);\n    function DeleteWordRight() {\n        return _super.call(this, {\n            whitespaceHeuristics: true,\n            wordNavigationType: 1 /* WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ }\n            }\n        }) || this;\n    }\n    return DeleteWordRight;\n}(DeleteWordRightCommand));\nexport { DeleteWordRight };\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './accessibilityHelp.css';\nimport * as nls from '../../../../nls.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { renderFormattedText } from '../../../../base/browser/htmlContentRenderer.js';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { RawContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ToggleTabFocusModeAction } from '../../../contrib/toggleTabFocusMode/toggleTabFocusMode.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { editorWidgetBackground, widgetShadow, contrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport URI from '../../../../base/common/uri.js';\nimport * as browser from '../../../../base/browser/browser.js';\nimport { KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nvar CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE = new RawContextKey('accessibilityHelpWidgetVisible', false);\nvar AccessibilityHelpController = /** @class */ (function (_super) {\n    __extends(AccessibilityHelpController, _super);\n    function AccessibilityHelpController(editor, instantiationService) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._widget = _this._register(instantiationService.createInstance(AccessibilityHelpWidget, _this._editor));\n        return _this;\n    }\n    AccessibilityHelpController.get = function (editor) {\n        return editor.getContribution(AccessibilityHelpController.ID);\n    };\n    AccessibilityHelpController.prototype.getId = function () {\n        return AccessibilityHelpController.ID;\n    };\n    AccessibilityHelpController.prototype.show = function () {\n        this._widget.show();\n    };\n    AccessibilityHelpController.prototype.hide = function () {\n        this._widget.hide();\n    };\n    AccessibilityHelpController.ID = 'editor.contrib.accessibilityHelpController';\n    AccessibilityHelpController = __decorate([\n        __param(1, IInstantiationService)\n    ], AccessibilityHelpController);\n    return AccessibilityHelpController;\n}(Disposable));\nvar nlsNoSelection = nls.localize(\"noSelection\", \"No selection\");\nvar nlsSingleSelectionRange = nls.localize(\"singleSelectionRange\", \"Line {0}, Column {1} ({2} selected)\");\nvar nlsSingleSelection = nls.localize(\"singleSelection\", \"Line {0}, Column {1}\");\nvar nlsMultiSelectionRange = nls.localize(\"multiSelectionRange\", \"{0} selections ({1} characters selected)\");\nvar nlsMultiSelection = nls.localize(\"multiSelection\", \"{0} selections\");\nfunction getSelectionLabel(selections, charactersSelected) {\n    if (!selections || selections.length === 0) {\n        return nlsNoSelection;\n    }\n    if (selections.length === 1) {\n        if (charactersSelected) {\n            return strings.format(nlsSingleSelectionRange, selections[0].positionLineNumber, selections[0].positionColumn, charactersSelected);\n        }\n        return strings.format(nlsSingleSelection, selections[0].positionLineNumber, selections[0].positionColumn);\n    }\n    if (charactersSelected) {\n        return strings.format(nlsMultiSelectionRange, selections.length, charactersSelected);\n    }\n    if (selections.length > 0) {\n        return strings.format(nlsMultiSelection, selections.length);\n    }\n    return null;\n}\nvar AccessibilityHelpWidget = /** @class */ (function (_super) {\n    __extends(AccessibilityHelpWidget, _super);\n    function AccessibilityHelpWidget(editor, _contextKeyService, _keybindingService, _openerService) {\n        var _this = _super.call(this) || this;\n        _this._contextKeyService = _contextKeyService;\n        _this._keybindingService = _keybindingService;\n        _this._openerService = _openerService;\n        _this._editor = editor;\n        _this._isVisibleKey = CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(_this._contextKeyService);\n        _this._domNode = createFastDomNode(document.createElement('div'));\n        _this._domNode.setClassName('accessibilityHelpWidget');\n        _this._domNode.setDisplay('none');\n        _this._domNode.setAttribute('role', 'dialog');\n        _this._domNode.setAttribute('aria-hidden', 'true');\n        _this._contentDomNode = createFastDomNode(document.createElement('div'));\n        _this._contentDomNode.setAttribute('role', 'document');\n        _this._domNode.appendChild(_this._contentDomNode);\n        _this._isVisible = false;\n        _this._register(_this._editor.onDidLayoutChange(function () {\n            if (_this._isVisible) {\n                _this._layout();\n            }\n        }));\n        // Intentionally not configurable!\n        _this._register(dom.addStandardDisposableListener(_this._contentDomNode.domNode, 'keydown', function (e) {\n            if (!_this._isVisible) {\n                return;\n            }\n            if (e.equals(2048 /* CtrlCmd */ | 35 /* KEY_E */)) {\n                alert(nls.localize(\"emergencyConfOn\", \"Now changing the setting `accessibilitySupport` to 'on'.\"));\n                _this._editor.updateOptions({\n                    accessibilitySupport: 'on'\n                });\n                dom.clearNode(_this._contentDomNode.domNode);\n                _this._buildContent();\n                _this._contentDomNode.domNode.focus();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            if (e.equals(2048 /* CtrlCmd */ | 38 /* KEY_H */)) {\n                alert(nls.localize(\"openingDocs\", \"Now opening the Editor Accessibility documentation page.\"));\n                var url = _this._editor.getRawConfiguration().accessibilityHelpUrl;\n                if (typeof url === 'undefined') {\n                    url = 'https://go.microsoft.com/fwlink/?linkid=852450';\n                }\n                _this._openerService.open(URI.parse(url));\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }));\n        _this.onblur(_this._contentDomNode.domNode, function () {\n            _this.hide();\n        });\n        _this._editor.addOverlayWidget(_this);\n        return _this;\n    }\n    AccessibilityHelpWidget.prototype.dispose = function () {\n        this._editor.removeOverlayWidget(this);\n        _super.prototype.dispose.call(this);\n    };\n    AccessibilityHelpWidget.prototype.getId = function () {\n        return AccessibilityHelpWidget.ID;\n    };\n    AccessibilityHelpWidget.prototype.getDomNode = function () {\n        return this._domNode.domNode;\n    };\n    AccessibilityHelpWidget.prototype.getPosition = function () {\n        return {\n            preference: null\n        };\n    };\n    AccessibilityHelpWidget.prototype.show = function () {\n        if (this._isVisible) {\n            return;\n        }\n        this._isVisible = true;\n        this._isVisibleKey.set(true);\n        this._layout();\n        this._domNode.setDisplay('block');\n        this._domNode.setAttribute('aria-hidden', 'false');\n        this._contentDomNode.domNode.tabIndex = 0;\n        this._buildContent();\n        this._contentDomNode.domNode.focus();\n    };\n    AccessibilityHelpWidget.prototype._descriptionForCommand = function (commandId, msg, noKbMsg) {\n        var kb = this._keybindingService.lookupKeybinding(commandId);\n        if (kb) {\n            return strings.format(msg, kb.getAriaLabel());\n        }\n        return strings.format(noKbMsg, commandId);\n    };\n    AccessibilityHelpWidget.prototype._buildContent = function () {\n        var opts = this._editor.getConfiguration();\n        var selections = this._editor.getSelections();\n        var charactersSelected = 0;\n        if (selections) {\n            var model_1 = this._editor.getModel();\n            if (model_1) {\n                selections.forEach(function (selection) {\n                    charactersSelected += model_1.getValueLengthInRange(selection);\n                });\n            }\n        }\n        var text = getSelectionLabel(selections, charactersSelected);\n        if (opts.wrappingInfo.inDiffEditor) {\n            if (opts.readOnly) {\n                text += nls.localize(\"readonlyDiffEditor\", \" in a read-only pane of a diff editor.\");\n            }\n            else {\n                text += nls.localize(\"editableDiffEditor\", \" in a pane of a diff editor.\");\n            }\n        }\n        else {\n            if (opts.readOnly) {\n                text += nls.localize(\"readonlyEditor\", \" in a read-only code editor\");\n            }\n            else {\n                text += nls.localize(\"editableEditor\", \" in a code editor\");\n            }\n        }\n        switch (opts.accessibilitySupport) {\n            case 0 /* Unknown */:\n                var turnOnMessage = (platform.isMacintosh\n                    ? nls.localize(\"changeConfigToOnMac\", \"To configure the editor to be optimized for usage with a Screen Reader press Command+E now.\")\n                    : nls.localize(\"changeConfigToOnWinLinux\", \"To configure the editor to be optimized for usage with a Screen Reader press Control+E now.\"));\n                text += '\\n\\n - ' + turnOnMessage;\n                break;\n            case 2 /* Enabled */:\n                text += '\\n\\n - ' + nls.localize(\"auto_on\", \"The editor is configured to be optimized for usage with a Screen Reader.\");\n                break;\n            case 1 /* Disabled */:\n                text += '\\n\\n - ' + nls.localize(\"auto_off\", \"The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time.\");\n                text += ' ' + turnOnMessage;\n                break;\n        }\n        var NLS_TAB_FOCUS_MODE_ON = nls.localize(\"tabFocusModeOnMsg\", \"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}.\");\n        var NLS_TAB_FOCUS_MODE_ON_NO_KB = nls.localize(\"tabFocusModeOnMsgNoKb\", \"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding.\");\n        var NLS_TAB_FOCUS_MODE_OFF = nls.localize(\"tabFocusModeOffMsg\", \"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}.\");\n        var NLS_TAB_FOCUS_MODE_OFF_NO_KB = nls.localize(\"tabFocusModeOffMsgNoKb\", \"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.\");\n        if (opts.tabFocusMode) {\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, NLS_TAB_FOCUS_MODE_ON, NLS_TAB_FOCUS_MODE_ON_NO_KB);\n        }\n        else {\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, NLS_TAB_FOCUS_MODE_OFF, NLS_TAB_FOCUS_MODE_OFF_NO_KB);\n        }\n        var openDocMessage = (platform.isMacintosh\n            ? nls.localize(\"openDocMac\", \"Press Command+H now to open a browser window with more information related to editor accessibility.\")\n            : nls.localize(\"openDocWinLinux\", \"Press Control+H now to open a browser window with more information related to editor accessibility.\"));\n        text += '\\n\\n - ' + openDocMessage;\n        text += '\\n\\n' + nls.localize(\"outroMsg\", \"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape.\");\n        this._contentDomNode.domNode.appendChild(renderFormattedText(text));\n        // Per https://www.w3.org/TR/wai-aria/roles#document, Authors SHOULD provide a title or label for documents\n        this._contentDomNode.domNode.setAttribute('aria-label', text);\n    };\n    AccessibilityHelpWidget.prototype.hide = function () {\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this._isVisibleKey.reset();\n        this._domNode.setDisplay('none');\n        this._domNode.setAttribute('aria-hidden', 'true');\n        this._contentDomNode.domNode.tabIndex = -1;\n        dom.clearNode(this._contentDomNode.domNode);\n        this._editor.focus();\n    };\n    AccessibilityHelpWidget.prototype._layout = function () {\n        var editorLayout = this._editor.getLayoutInfo();\n        var w = Math.max(5, Math.min(AccessibilityHelpWidget.WIDTH, editorLayout.width - 40));\n        var h = Math.max(5, Math.min(AccessibilityHelpWidget.HEIGHT, editorLayout.height - 40));\n        this._domNode.setWidth(w);\n        this._domNode.setHeight(h);\n        var top = Math.round((editorLayout.height - h) / 2);\n        this._domNode.setTop(top);\n        var left = Math.round((editorLayout.width - w) / 2);\n        this._domNode.setLeft(left);\n    };\n    AccessibilityHelpWidget.ID = 'editor.contrib.accessibilityHelpWidget';\n    AccessibilityHelpWidget.WIDTH = 500;\n    AccessibilityHelpWidget.HEIGHT = 300;\n    AccessibilityHelpWidget = __decorate([\n        __param(1, IContextKeyService),\n        __param(2, IKeybindingService),\n        __param(3, IOpenerService)\n    ], AccessibilityHelpWidget);\n    return AccessibilityHelpWidget;\n}(Widget));\nvar ShowAccessibilityHelpAction = /** @class */ (function (_super) {\n    __extends(ShowAccessibilityHelpAction, _super);\n    function ShowAccessibilityHelpAction() {\n        return _super.call(this, {\n            id: 'editor.action.showAccessibilityHelp',\n            label: nls.localize(\"ShowAccessibilityHelpAction\", \"Show Accessibility Help\"),\n            alias: 'Show Accessibility Help',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: (browser.isIE ? 2048 /* CtrlCmd */ | 59 /* F1 */ : 512 /* Alt */ | 59 /* F1 */)\n            }\n        }) || this;\n    }\n    ShowAccessibilityHelpAction.prototype.run = function (accessor, editor) {\n        var controller = AccessibilityHelpController.get(editor);\n        if (controller) {\n            controller.show();\n        }\n    };\n    return ShowAccessibilityHelpAction;\n}(EditorAction));\nregisterEditorContribution(AccessibilityHelpController);\nregisterEditorAction(ShowAccessibilityHelpAction);\nvar AccessibilityHelpCommand = EditorCommand.bindToContribution(AccessibilityHelpController.get);\nregisterEditorCommand(new AccessibilityHelpCommand({\n    id: 'closeAccessibilityHelp',\n    precondition: CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,\n    handler: function (x) { return x.hide(); },\n    kbOpts: {\n        weight: KeybindingsRegistry.WEIGHT.editorContrib(100),\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* Escape */,\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\n    }\n}));\nregisterThemingParticipant(function (theme, collector) {\n    var widgetBackground = theme.getColor(editorWidgetBackground);\n    if (widgetBackground) {\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { background-color: \" + widgetBackground + \"; }\");\n    }\n    var widgetShadowColor = theme.getColor(widgetShadow);\n    if (widgetShadowColor) {\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\n    }\n    var hcBorder = theme.getColor(contrastBorder);\n    if (hcBorder) {\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { border: 2px solid \" + hcBorder + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './inspectTokens.css';\nimport * as nls from '../../../../nls.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { escape } from '../../../../base/common/strings.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction } from '../../../browser/editorExtensions.js';\nimport { ContentWidgetPositionPreference } from '../../../browser/editorBrowser.js';\nimport { IModeService } from '../../../common/services/modeService.js';\nimport { TokenizationRegistry, TokenMetadata } from '../../../common/modes.js';\nimport { IStandaloneThemeService } from '../../common/standaloneThemeService.js';\nimport { NULL_STATE, nullTokenize, nullTokenize2 } from '../../../common/modes/nullMode.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { registerThemingParticipant, HIGH_CONTRAST } from '../../../../platform/theme/common/themeService.js';\nimport { editorHoverBackground, editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nvar InspectTokensController = /** @class */ (function (_super) {\n    __extends(InspectTokensController, _super);\n    function InspectTokensController(editor, standaloneColorService, modeService) {\n        var _this = _super.call(this) || this;\n        _this._editor = editor;\n        _this._standaloneThemeService = standaloneColorService;\n        _this._modeService = modeService;\n        _this._widget = null;\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.stop(); }));\n        _this._register(_this._editor.onDidChangeModelLanguage(function (e) { return _this.stop(); }));\n        _this._register(TokenizationRegistry.onDidChange(function (e) { return _this.stop(); }));\n        return _this;\n    }\n    InspectTokensController.get = function (editor) {\n        return editor.getContribution(InspectTokensController.ID);\n    };\n    InspectTokensController.prototype.getId = function () {\n        return InspectTokensController.ID;\n    };\n    InspectTokensController.prototype.dispose = function () {\n        this.stop();\n        _super.prototype.dispose.call(this);\n    };\n    InspectTokensController.prototype.launch = function () {\n        if (this._widget) {\n            return;\n        }\n        if (!this._editor.getModel()) {\n            return;\n        }\n        this._widget = new InspectTokensWidget(this._editor, this._standaloneThemeService, this._modeService);\n    };\n    InspectTokensController.prototype.stop = function () {\n        if (this._widget) {\n            this._widget.dispose();\n            this._widget = null;\n        }\n    };\n    InspectTokensController.ID = 'editor.contrib.inspectTokens';\n    InspectTokensController = __decorate([\n        __param(1, IStandaloneThemeService),\n        __param(2, IModeService)\n    ], InspectTokensController);\n    return InspectTokensController;\n}(Disposable));\nvar InspectTokens = /** @class */ (function (_super) {\n    __extends(InspectTokens, _super);\n    function InspectTokens() {\n        return _super.call(this, {\n            id: 'editor.action.inspectTokens',\n            label: nls.localize('inspectTokens', \"Developer: Inspect Tokens\"),\n            alias: 'Developer: Inspect Tokens',\n            precondition: null\n        }) || this;\n    }\n    InspectTokens.prototype.run = function (accessor, editor) {\n        var controller = InspectTokensController.get(editor);\n        if (controller) {\n            controller.launch();\n        }\n    };\n    return InspectTokens;\n}(EditorAction));\nfunction renderTokenText(tokenText) {\n    var result = '';\n    for (var charIndex = 0, len = tokenText.length; charIndex < len; charIndex++) {\n        var charCode = tokenText.charCodeAt(charIndex);\n        switch (charCode) {\n            case 9 /* Tab */:\n                result += '&rarr;';\n                break;\n            case 32 /* Space */:\n                result += '&middot;';\n                break;\n            case 60 /* LessThan */:\n                result += '&lt;';\n                break;\n            case 62 /* GreaterThan */:\n                result += '&gt;';\n                break;\n            case 38 /* Ampersand */:\n                result += '&amp;';\n                break;\n            default:\n                result += String.fromCharCode(charCode);\n        }\n    }\n    return result;\n}\nfunction getSafeTokenizationSupport(languageIdentifier) {\n    var tokenizationSupport = TokenizationRegistry.get(languageIdentifier.language);\n    if (tokenizationSupport) {\n        return tokenizationSupport;\n    }\n    return {\n        getInitialState: function () { return NULL_STATE; },\n        tokenize: function (line, state, deltaOffset) { return nullTokenize(languageIdentifier.language, line, state, deltaOffset); },\n        tokenize2: function (line, state, deltaOffset) { return nullTokenize2(languageIdentifier.id, line, state, deltaOffset); }\n    };\n}\nvar InspectTokensWidget = /** @class */ (function (_super) {\n    __extends(InspectTokensWidget, _super);\n    function InspectTokensWidget(editor, standaloneThemeService, modeService) {\n        var _this = _super.call(this) || this;\n        // Editor.IContentWidget.allowEditorOverflow\n        _this.allowEditorOverflow = true;\n        _this._editor = editor;\n        _this._modeService = modeService;\n        _this._model = _this._editor.getModel();\n        _this._domNode = document.createElement('div');\n        _this._domNode.className = 'tokens-inspect-widget';\n        _this._tokenizationSupport = getSafeTokenizationSupport(_this._model.getLanguageIdentifier());\n        _this._compute(_this._editor.getPosition());\n        _this._register(_this._editor.onDidChangeCursorPosition(function (e) { return _this._compute(_this._editor.getPosition()); }));\n        _this._editor.addContentWidget(_this);\n        return _this;\n    }\n    InspectTokensWidget.prototype.dispose = function () {\n        this._editor.removeContentWidget(this);\n        _super.prototype.dispose.call(this);\n    };\n    InspectTokensWidget.prototype.getId = function () {\n        return InspectTokensWidget._ID;\n    };\n    InspectTokensWidget.prototype._compute = function (position) {\n        var data = this._getTokensAtLine(position.lineNumber);\n        var token1Index = 0;\n        for (var i = data.tokens1.length - 1; i >= 0; i--) {\n            var t = data.tokens1[i];\n            if (position.column - 1 >= t.offset) {\n                token1Index = i;\n                break;\n            }\n        }\n        var token2Index = 0;\n        for (var i = (data.tokens2.length >>> 1); i >= 0; i--) {\n            if (position.column - 1 >= data.tokens2[(i << 1)]) {\n                token2Index = i;\n                break;\n            }\n        }\n        var result = '';\n        var lineContent = this._model.getLineContent(position.lineNumber);\n        var tokenText = '';\n        if (token1Index < data.tokens1.length) {\n            var tokenStartIndex = data.tokens1[token1Index].offset;\n            var tokenEndIndex = token1Index + 1 < data.tokens1.length ? data.tokens1[token1Index + 1].offset : lineContent.length;\n            tokenText = lineContent.substring(tokenStartIndex, tokenEndIndex);\n        }\n        result += \"<h2 class=\\\"tm-token\\\">\" + renderTokenText(tokenText) + \"<span class=\\\"tm-token-length\\\">(\" + tokenText.length + \" \" + (tokenText.length === 1 ? 'char' : 'chars') + \")</span></h2>\";\n        result += \"<hr class=\\\"tokens-inspect-separator\\\" style=\\\"clear:both\\\"/>\";\n        var metadata = this._decodeMetadata(data.tokens2[(token2Index << 1) + 1]);\n        result += \"<table class=\\\"tm-metadata-table\\\"><tbody>\";\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">language</td><td class=\\\"tm-metadata-value\\\">\" + escape(metadata.languageIdentifier.language) + \"</td>\";\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">token type</td><td class=\\\"tm-metadata-value\\\">\" + this._tokenTypeToString(metadata.tokenType) + \"</td>\";\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">font style</td><td class=\\\"tm-metadata-value\\\">\" + this._fontStyleToString(metadata.fontStyle) + \"</td>\";\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">foreground</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.foreground) + \"</td>\";\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">background</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.background) + \"</td>\";\n        result += \"</tbody></table>\";\n        result += \"<hr class=\\\"tokens-inspect-separator\\\"/>\";\n        if (token1Index < data.tokens1.length) {\n            result += \"<span class=\\\"tm-token-type\\\">\" + escape(data.tokens1[token1Index].type) + \"</span>\";\n        }\n        this._domNode.innerHTML = result;\n        this._editor.layoutContentWidget(this);\n    };\n    InspectTokensWidget.prototype._decodeMetadata = function (metadata) {\n        var colorMap = TokenizationRegistry.getColorMap();\n        var languageId = TokenMetadata.getLanguageId(metadata);\n        var tokenType = TokenMetadata.getTokenType(metadata);\n        var fontStyle = TokenMetadata.getFontStyle(metadata);\n        var foreground = TokenMetadata.getForeground(metadata);\n        var background = TokenMetadata.getBackground(metadata);\n        return {\n            languageIdentifier: this._modeService.getLanguageIdentifier(languageId),\n            tokenType: tokenType,\n            fontStyle: fontStyle,\n            foreground: colorMap[foreground],\n            background: colorMap[background]\n        };\n    };\n    InspectTokensWidget.prototype._tokenTypeToString = function (tokenType) {\n        switch (tokenType) {\n            case 0 /* Other */: return 'Other';\n            case 1 /* Comment */: return 'Comment';\n            case 2 /* String */: return 'String';\n            case 4 /* RegEx */: return 'RegEx';\n        }\n        return '??';\n    };\n    InspectTokensWidget.prototype._fontStyleToString = function (fontStyle) {\n        var r = '';\n        if (fontStyle & 1 /* Italic */) {\n            r += 'italic ';\n        }\n        if (fontStyle & 2 /* Bold */) {\n            r += 'bold ';\n        }\n        if (fontStyle & 4 /* Underline */) {\n            r += 'underline ';\n        }\n        if (r.length === 0) {\n            r = '---';\n        }\n        return r;\n    };\n    InspectTokensWidget.prototype._getTokensAtLine = function (lineNumber) {\n        var stateBeforeLine = this._getStateBeforeLine(lineNumber);\n        var tokenizationResult1 = this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\n        var tokenizationResult2 = this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\n        return {\n            startState: stateBeforeLine,\n            tokens1: tokenizationResult1.tokens,\n            tokens2: tokenizationResult2.tokens,\n            endState: tokenizationResult1.endState\n        };\n    };\n    InspectTokensWidget.prototype._getStateBeforeLine = function (lineNumber) {\n        var state = this._tokenizationSupport.getInitialState();\n        for (var i = 1; i < lineNumber; i++) {\n            var tokenizationResult = this._tokenizationSupport.tokenize(this._model.getLineContent(i), state, 0);\n            state = tokenizationResult.endState;\n        }\n        return state;\n    };\n    InspectTokensWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    InspectTokensWidget.prototype.getPosition = function () {\n        return {\n            position: this._editor.getPosition(),\n            preference: [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE]\n        };\n    };\n    InspectTokensWidget._ID = 'editor.contrib.inspectTokensWidget';\n    return InspectTokensWidget;\n}(Disposable));\nregisterEditorContribution(InspectTokensController);\nregisterEditorAction(InspectTokens);\nregisterThemingParticipant(function (theme, collector) {\n    var border = theme.getColor(editorHoverBorder);\n    if (border) {\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\n        collector.addRule(\".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: \" + border + \"; }\");\n    }\n    var background = theme.getColor(editorHoverBackground);\n    if (background) {\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { background-color: \" + background + \"; }\");\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './iPadShowKeyboard.css';\nimport { dispose } from '../../../../base/common/lifecycle.js';\nimport * as browser from '../../../../base/browser/browser.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { OverlayWidgetPositionPreference } from '../../../browser/editorBrowser.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nvar IPadShowKeyboard = /** @class */ (function () {\n    function IPadShowKeyboard(editor) {\n        var _this = this;\n        this.editor = editor;\n        this.toDispose = [];\n        if (browser.isIPad) {\n            this.toDispose.push(editor.onDidChangeConfiguration(function () { return _this.update(); }));\n            this.update();\n        }\n    }\n    IPadShowKeyboard.prototype.update = function () {\n        var hasWidget = (!!this.widget);\n        var shouldHaveWidget = (!this.editor.getConfiguration().readOnly);\n        if (!hasWidget && shouldHaveWidget) {\n            this.widget = new ShowKeyboardWidget(this.editor);\n        }\n        else if (hasWidget && !shouldHaveWidget) {\n            this.widget.dispose();\n            this.widget = null;\n        }\n    };\n    IPadShowKeyboard.prototype.getId = function () {\n        return IPadShowKeyboard.ID;\n    };\n    IPadShowKeyboard.prototype.dispose = function () {\n        this.toDispose = dispose(this.toDispose);\n        if (this.widget) {\n            this.widget.dispose();\n            this.widget = null;\n        }\n    };\n    IPadShowKeyboard.ID = 'editor.contrib.iPadShowKeyboard';\n    return IPadShowKeyboard;\n}());\nexport { IPadShowKeyboard };\nvar ShowKeyboardWidget = /** @class */ (function () {\n    function ShowKeyboardWidget(editor) {\n        var _this = this;\n        this.editor = editor;\n        this._domNode = document.createElement('textarea');\n        this._domNode.className = 'iPadShowKeyboard';\n        this._toDispose = [];\n        this._toDispose.push(dom.addDisposableListener(this._domNode, 'touchstart', function (e) {\n            _this.editor.focus();\n        }));\n        this._toDispose.push(dom.addDisposableListener(this._domNode, 'focus', function (e) {\n            _this.editor.focus();\n        }));\n        this.editor.addOverlayWidget(this);\n    }\n    ShowKeyboardWidget.prototype.dispose = function () {\n        this.editor.removeOverlayWidget(this);\n        this._toDispose = dispose(this._toDispose);\n    };\n    // ----- IOverlayWidget API\n    ShowKeyboardWidget.prototype.getId = function () {\n        return ShowKeyboardWidget.ID;\n    };\n    ShowKeyboardWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    ShowKeyboardWidget.prototype.getPosition = function () {\n        return {\n            preference: OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER\n        };\n    };\n    ShowKeyboardWidget.ID = 'editor.contrib.ShowKeyboardWidget';\n    return ShowKeyboardWidget;\n}());\nregisterEditorContribution(IPadShowKeyboard);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as strings from './strings.js';\nimport * as paths from './paths.js';\nvar intlFileNameCollator;\nvar intlFileNameCollatorIsNumeric;\nexport function setFileNameComparer(collator) {\n    intlFileNameCollator = collator;\n    intlFileNameCollatorIsNumeric = collator.resolvedOptions().numeric;\n}\nexport function compareFileNames(one, other, caseSensitive) {\n    if (caseSensitive === void 0) { caseSensitive = false; }\n    if (intlFileNameCollator) {\n        var a = one || '';\n        var b = other || '';\n        var result = intlFileNameCollator.compare(a, b);\n        // Using the numeric option in the collator will\n        // make compare(`foo1`, `foo01`) === 0. We must disambiguate.\n        if (intlFileNameCollatorIsNumeric && result === 0 && a !== b) {\n            return a < b ? -1 : 1;\n        }\n        return result;\n    }\n    return noIntlCompareFileNames(one, other, caseSensitive);\n}\nvar FileNameMatch = /^(.*?)(\\.([^.]*))?$/;\nexport function noIntlCompareFileNames(one, other, caseSensitive) {\n    if (caseSensitive === void 0) { caseSensitive = false; }\n    if (!caseSensitive) {\n        one = one && one.toLowerCase();\n        other = other && other.toLowerCase();\n    }\n    var _a = extractNameAndExtension(one), oneName = _a[0], oneExtension = _a[1];\n    var _b = extractNameAndExtension(other), otherName = _b[0], otherExtension = _b[1];\n    if (oneName !== otherName) {\n        return oneName < otherName ? -1 : 1;\n    }\n    if (oneExtension === otherExtension) {\n        return 0;\n    }\n    return oneExtension < otherExtension ? -1 : 1;\n}\nexport function compareFileExtensions(one, other) {\n    if (intlFileNameCollator) {\n        var _a = extractNameAndExtension(one), oneName = _a[0], oneExtension = _a[1];\n        var _b = extractNameAndExtension(other), otherName = _b[0], otherExtension = _b[1];\n        var result = intlFileNameCollator.compare(oneExtension, otherExtension);\n        if (result === 0) {\n            // Using the numeric option in the collator will\n            // make compare(`foo1`, `foo01`) === 0. We must disambiguate.\n            if (intlFileNameCollatorIsNumeric && oneExtension !== otherExtension) {\n                return oneExtension < otherExtension ? -1 : 1;\n            }\n            // Extensions are equal, compare filenames\n            result = intlFileNameCollator.compare(oneName, otherName);\n            if (intlFileNameCollatorIsNumeric && result === 0 && oneName !== otherName) {\n                return oneName < otherName ? -1 : 1;\n            }\n        }\n        return result;\n    }\n    return noIntlCompareFileExtensions(one, other);\n}\nfunction noIntlCompareFileExtensions(one, other) {\n    var _a = extractNameAndExtension(one && one.toLowerCase()), oneName = _a[0], oneExtension = _a[1];\n    var _b = extractNameAndExtension(other && other.toLowerCase()), otherName = _b[0], otherExtension = _b[1];\n    if (oneExtension !== otherExtension) {\n        return oneExtension < otherExtension ? -1 : 1;\n    }\n    if (oneName === otherName) {\n        return 0;\n    }\n    return oneName < otherName ? -1 : 1;\n}\nfunction extractNameAndExtension(str) {\n    var match = str ? FileNameMatch.exec(str) : [];\n    return [(match && match[1]) || '', (match && match[3]) || ''];\n}\nfunction comparePathComponents(one, other, caseSensitive) {\n    if (caseSensitive === void 0) { caseSensitive = false; }\n    if (!caseSensitive) {\n        one = one && one.toLowerCase();\n        other = other && other.toLowerCase();\n    }\n    if (one === other) {\n        return 0;\n    }\n    return one < other ? -1 : 1;\n}\nexport function comparePaths(one, other, caseSensitive) {\n    if (caseSensitive === void 0) { caseSensitive = false; }\n    var oneParts = one.split(paths.nativeSep);\n    var otherParts = other.split(paths.nativeSep);\n    var lastOne = oneParts.length - 1;\n    var lastOther = otherParts.length - 1;\n    var endOne, endOther;\n    for (var i = 0;; i++) {\n        endOne = lastOne === i;\n        endOther = lastOther === i;\n        if (endOne && endOther) {\n            return compareFileNames(oneParts[i], otherParts[i], caseSensitive);\n        }\n        else if (endOne) {\n            return -1;\n        }\n        else if (endOther) {\n            return 1;\n        }\n        var result = comparePathComponents(oneParts[i], otherParts[i], caseSensitive);\n        if (result !== 0) {\n            return result;\n        }\n    }\n}\nexport function compareAnything(one, other, lookFor) {\n    var elementAName = one.toLowerCase();\n    var elementBName = other.toLowerCase();\n    // Sort prefix matches over non prefix matches\n    var prefixCompare = compareByPrefix(one, other, lookFor);\n    if (prefixCompare) {\n        return prefixCompare;\n    }\n    // Sort suffix matches over non suffix matches\n    var elementASuffixMatch = strings.endsWith(elementAName, lookFor);\n    var elementBSuffixMatch = strings.endsWith(elementBName, lookFor);\n    if (elementASuffixMatch !== elementBSuffixMatch) {\n        return elementASuffixMatch ? -1 : 1;\n    }\n    // Understand file names\n    var r = compareFileNames(elementAName, elementBName);\n    if (r !== 0) {\n        return r;\n    }\n    // Compare by name\n    return elementAName.localeCompare(elementBName);\n}\nexport function compareByPrefix(one, other, lookFor) {\n    var elementAName = one.toLowerCase();\n    var elementBName = other.toLowerCase();\n    // Sort prefix matches over non prefix matches\n    var elementAPrefixMatch = strings.startsWith(elementAName, lookFor);\n    var elementBPrefixMatch = strings.startsWith(elementBName, lookFor);\n    if (elementAPrefixMatch !== elementBPrefixMatch) {\n        return elementAPrefixMatch ? -1 : 1;\n    }\n    // Same prefix: Sort shorter matches to the top to have those on top that match more precisely\n    else if (elementAPrefixMatch && elementBPrefixMatch) {\n        if (elementAName.length < elementBName.length) {\n            return -1;\n        }\n        if (elementAName.length > elementBName.length) {\n            return 1;\n        }\n    }\n    return 0;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './keybindingLabel.css';\nimport { equals } from '../../../common/objects.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport * as dom from '../../dom.js';\nvar $ = dom.$;\nvar KeybindingLabel = /** @class */ (function () {\n    function KeybindingLabel(container, os) {\n        this.os = os;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    Object.defineProperty(KeybindingLabel.prototype, \"element\", {\n        get: function () {\n            return this.domNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KeybindingLabel.prototype.set = function (keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    };\n    KeybindingLabel.prototype.render = function () {\n        dom.clearNode(this.domNode);\n        if (this.keybinding) {\n            var _a = this.keybinding.getParts(), firstPart = _a[0], chordPart = _a[1];\n            if (firstPart) {\n                this.renderPart(this.domNode, firstPart, this.matches ? this.matches.firstPart : null);\n            }\n            if (chordPart) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', null, ' '));\n                this.renderPart(this.domNode, chordPart, this.matches ? this.matches.chordPart : null);\n            }\n            this.domNode.title = this.keybinding.getAriaLabel();\n        }\n        this.didEverRender = true;\n    };\n    KeybindingLabel.prototype.renderPart = function (parent, part, match) {\n        var modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (part.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, match && match.ctrlKey, modifierLabels.separator);\n        }\n        if (part.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, match && match.shiftKey, modifierLabels.separator);\n        }\n        if (part.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, match && match.altKey, modifierLabels.separator);\n        }\n        if (part.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, match && match.metaKey, modifierLabels.separator);\n        }\n        var keyLabel = part.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, match && match.keyCode, '');\n        }\n    };\n    KeybindingLabel.prototype.renderKey = function (parent, label, highlight, separator) {\n        dom.append(parent, $('span.monaco-keybinding-key' + (highlight ? '.highlight' : ''), null, label));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', null, separator));\n        }\n    };\n    KeybindingLabel.prototype.dispose = function () {\n        this.keybinding = null;\n    };\n    KeybindingLabel.areSame = function (a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    };\n    return KeybindingLabel;\n}());\nexport { KeybindingLabel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../../nls.js';\nimport { TPromise } from '../../../common/winjs.base.js';\nimport * as types from '../../../common/types.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\nimport * as DOM from '../../../browser/dom.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { OS } from '../../../common/platform.js';\nvar IDS = 0;\nvar QuickOpenItemAccessorClass = /** @class */ (function () {\n    function QuickOpenItemAccessorClass() {\n    }\n    QuickOpenItemAccessorClass.prototype.getItemLabel = function (entry) {\n        return entry.getLabel();\n    };\n    QuickOpenItemAccessorClass.prototype.getItemDescription = function (entry) {\n        return entry.getDescription();\n    };\n    QuickOpenItemAccessorClass.prototype.getItemPath = function (entry) {\n        var resource = entry.getResource();\n        return resource ? resource.fsPath : void 0;\n    };\n    return QuickOpenItemAccessorClass;\n}());\nexport { QuickOpenItemAccessorClass };\nexport var QuickOpenItemAccessor = new QuickOpenItemAccessorClass();\nvar QuickOpenEntry = /** @class */ (function () {\n    function QuickOpenEntry(highlights) {\n        if (highlights === void 0) { highlights = []; }\n        this.id = (IDS++).toString();\n        this.labelHighlights = highlights;\n        this.descriptionHighlights = [];\n    }\n    /**\n     * A unique identifier for the entry\n     */\n    QuickOpenEntry.prototype.getId = function () {\n        return this.id;\n    };\n    /**\n     * The label of the entry to identify it from others in the list\n     */\n    QuickOpenEntry.prototype.getLabel = function () {\n        return null;\n    };\n    /**\n     * The options for the label to use for this entry\n     */\n    QuickOpenEntry.prototype.getLabelOptions = function () {\n        return null;\n    };\n    /**\n     * The label of the entry to use when a screen reader wants to read about the entry\n     */\n    QuickOpenEntry.prototype.getAriaLabel = function () {\n        return this.getLabel();\n    };\n    /**\n     * Detail information about the entry that is optional and can be shown below the label\n     */\n    QuickOpenEntry.prototype.getDetail = function () {\n        return null;\n    };\n    /**\n     * The icon of the entry to identify it from others in the list\n     */\n    QuickOpenEntry.prototype.getIcon = function () {\n        return null;\n    };\n    /**\n     * A secondary description that is optional and can be shown right to the label\n     */\n    QuickOpenEntry.prototype.getDescription = function () {\n        return null;\n    };\n    /**\n     * A tooltip to show when hovering over the entry.\n     */\n    QuickOpenEntry.prototype.getTooltip = function () {\n        return null;\n    };\n    /**\n     * A tooltip to show when hovering over the description portion of the entry.\n     */\n    QuickOpenEntry.prototype.getDescriptionTooltip = function () {\n        return null;\n    };\n    /**\n     * An optional keybinding to show for an entry.\n     */\n    QuickOpenEntry.prototype.getKeybinding = function () {\n        return null;\n    };\n    /**\n     * A resource for this entry. Resource URIs can be used to compare different kinds of entries and group\n     * them together.\n     */\n    QuickOpenEntry.prototype.getResource = function () {\n        return null;\n    };\n    /**\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\n     */\n    QuickOpenEntry.prototype.isHidden = function () {\n        return this.hidden;\n    };\n    /**\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\n     */\n    QuickOpenEntry.prototype.setHidden = function (hidden) {\n        this.hidden = hidden;\n    };\n    /**\n     * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\n     */\n    QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\n        this.labelHighlights = labelHighlights;\n        this.descriptionHighlights = descriptionHighlights;\n        this.detailHighlights = detailHighlights;\n    };\n    /**\n     * Allows to return highlight ranges that should show up for the entry label and description.\n     */\n    QuickOpenEntry.prototype.getHighlights = function () {\n        return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\n    };\n    /**\n     * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\n     * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\n     *\n     * The context parameter provides additional context information how the run was triggered.\n     */\n    QuickOpenEntry.prototype.run = function (mode, context) {\n        return false;\n    };\n    /**\n     * Determines if this quick open entry should merge with the editor history in quick open. If set to true\n     * and the resource of this entry is the same as the resource for an editor history, it will not show up\n     * because it is considered to be a duplicate of an editor history.\n     */\n    QuickOpenEntry.prototype.mergeWithEditorHistory = function () {\n        return false;\n    };\n    return QuickOpenEntry;\n}());\nexport { QuickOpenEntry };\nvar QuickOpenEntryGroup = /** @class */ (function (_super) {\n    __extends(QuickOpenEntryGroup, _super);\n    function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\n        var _this = _super.call(this) || this;\n        _this.entry = entry;\n        _this.groupLabel = groupLabel;\n        _this.withBorder = withBorder;\n        return _this;\n    }\n    /**\n     * The label of the group or null if none.\n     */\n    QuickOpenEntryGroup.prototype.getGroupLabel = function () {\n        return this.groupLabel;\n    };\n    QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\n        this.groupLabel = groupLabel;\n    };\n    /**\n     * Whether to show a border on top of the group entry or not.\n     */\n    QuickOpenEntryGroup.prototype.showBorder = function () {\n        return this.withBorder;\n    };\n    QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\n        this.withBorder = showBorder;\n    };\n    QuickOpenEntryGroup.prototype.getLabel = function () {\n        return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getLabelOptions = function () {\n        return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getAriaLabel = function () {\n        return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getDetail = function () {\n        return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getResource = function () {\n        return this.entry ? this.entry.getResource() : _super.prototype.getResource.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getIcon = function () {\n        return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getDescription = function () {\n        return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\n    };\n    QuickOpenEntryGroup.prototype.getEntry = function () {\n        return this.entry;\n    };\n    QuickOpenEntryGroup.prototype.getHighlights = function () {\n        return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\n    };\n    QuickOpenEntryGroup.prototype.isHidden = function () {\n        return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\n    };\n    QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\n        this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\n    };\n    QuickOpenEntryGroup.prototype.setHidden = function (hidden) {\n        this.entry ? this.entry.setHidden(hidden) : _super.prototype.setHidden.call(this, hidden);\n    };\n    QuickOpenEntryGroup.prototype.run = function (mode, context) {\n        return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\n    };\n    return QuickOpenEntryGroup;\n}(QuickOpenEntry));\nexport { QuickOpenEntryGroup };\nvar NoActionProvider = /** @class */ (function () {\n    function NoActionProvider() {\n    }\n    NoActionProvider.prototype.hasActions = function (tree, element) {\n        return false;\n    };\n    NoActionProvider.prototype.getActions = function (tree, element) {\n        return TPromise.as(null);\n    };\n    NoActionProvider.prototype.hasSecondaryActions = function (tree, element) {\n        return false;\n    };\n    NoActionProvider.prototype.getSecondaryActions = function (tree, element) {\n        return TPromise.as(null);\n    };\n    NoActionProvider.prototype.getActionItem = function (tree, element, action) {\n        return null;\n    };\n    return NoActionProvider;\n}());\nvar templateEntry = 'quickOpenEntry';\nvar templateEntryGroup = 'quickOpenEntryGroup';\nvar Renderer = /** @class */ (function () {\n    function Renderer(actionProvider, actionRunner) {\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\n        if (actionRunner === void 0) { actionRunner = null; }\n        this.actionProvider = actionProvider;\n        this.actionRunner = actionRunner;\n    }\n    Renderer.prototype.getHeight = function (entry) {\n        if (entry.getDetail()) {\n            return 44;\n        }\n        return 22;\n    };\n    Renderer.prototype.getTemplateId = function (entry) {\n        if (entry instanceof QuickOpenEntryGroup) {\n            return templateEntryGroup;\n        }\n        return templateEntry;\n    };\n    Renderer.prototype.renderTemplate = function (templateId, container, styles) {\n        var entryContainer = document.createElement('div');\n        DOM.addClass(entryContainer, 'sub-content');\n        container.appendChild(entryContainer);\n        // Entry\n        var row1 = DOM.$('.quick-open-row');\n        var row2 = DOM.$('.quick-open-row');\n        var entry = DOM.$('.quick-open-entry', null, row1, row2);\n        entryContainer.appendChild(entry);\n        // Icon\n        var icon = document.createElement('span');\n        row1.appendChild(icon);\n        // Label\n        var label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true });\n        // Keybinding\n        var keybindingContainer = document.createElement('span');\n        row1.appendChild(keybindingContainer);\n        DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\n        var keybinding = new KeybindingLabel(keybindingContainer, OS);\n        // Detail\n        var detailContainer = document.createElement('div');\n        row2.appendChild(detailContainer);\n        DOM.addClass(detailContainer, 'quick-open-entry-meta');\n        var detail = new HighlightedLabel(detailContainer);\n        // Entry Group\n        var group;\n        if (templateId === templateEntryGroup) {\n            group = document.createElement('div');\n            DOM.addClass(group, 'results-group');\n            container.appendChild(group);\n        }\n        // Actions\n        DOM.addClass(container, 'actions');\n        var actionBarContainer = document.createElement('div');\n        DOM.addClass(actionBarContainer, 'primary-action-bar');\n        container.appendChild(actionBarContainer);\n        var actionBar = new ActionBar(actionBarContainer, {\n            actionRunner: this.actionRunner\n        });\n        return {\n            container: container,\n            entry: entry,\n            icon: icon,\n            label: label,\n            detail: detail,\n            keybinding: keybinding,\n            group: group,\n            actionBar: actionBar\n        };\n    };\n    Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\n        // Action Bar\n        if (this.actionProvider.hasActions(null, entry)) {\n            DOM.addClass(data.container, 'has-actions');\n        }\n        else {\n            DOM.removeClass(data.container, 'has-actions');\n        }\n        data.actionBar.context = entry; // make sure the context is the current element\n        this.actionProvider.getActions(null, entry).then(function (actions) {\n            if (data.actionBar.isEmpty() && actions && actions.length > 0) {\n                data.actionBar.push(actions, { icon: true, label: false });\n            }\n            else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\n                data.actionBar.clear();\n            }\n        });\n        // Entry group class\n        if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\n            DOM.addClass(data.container, 'has-group-label');\n        }\n        else {\n            DOM.removeClass(data.container, 'has-group-label');\n        }\n        // Entry group\n        if (entry instanceof QuickOpenEntryGroup) {\n            var group = entry;\n            var groupData = data;\n            // Border\n            if (group.showBorder()) {\n                DOM.addClass(groupData.container, 'results-group-separator');\n                groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\n            }\n            else {\n                DOM.removeClass(groupData.container, 'results-group-separator');\n                groupData.container.style.borderTopColor = null;\n            }\n            // Group Label\n            var groupLabel = group.getGroupLabel() || '';\n            groupData.group.textContent = groupLabel;\n            groupData.group.style.color = styles.pickerGroupForeground.toString();\n        }\n        // Normal Entry\n        if (entry instanceof QuickOpenEntry) {\n            var _a = entry.getHighlights(), labelHighlights = _a[0], descriptionHighlights = _a[1], detailHighlights = _a[2];\n            // Icon\n            var iconClass = entry.getIcon() ? ('quick-open-entry-icon ' + entry.getIcon()) : '';\n            data.icon.className = iconClass;\n            // Label\n            var options = entry.getLabelOptions() || Object.create(null);\n            options.matches = labelHighlights || [];\n            options.title = entry.getTooltip();\n            options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\n            options.descriptionMatches = descriptionHighlights || [];\n            data.label.setValue(entry.getLabel(), entry.getDescription(), options);\n            // Meta\n            data.detail.set(entry.getDetail(), detailHighlights);\n            // Keybinding\n            data.keybinding.set(entry.getKeybinding(), null);\n        }\n    };\n    Renderer.prototype.disposeTemplate = function (templateId, templateData) {\n        var data = templateData;\n        data.actionBar.dispose();\n        data.actionBar = null;\n        data.container = null;\n        data.entry = null;\n        data.keybinding.dispose();\n        data.keybinding = null;\n        data.detail.dispose();\n        data.detail = null;\n        data.group = null;\n        data.icon = null;\n        data.label.dispose();\n        data.label = null;\n    };\n    return Renderer;\n}());\nvar QuickOpenModel = /** @class */ (function () {\n    function QuickOpenModel(entries, actionProvider) {\n        if (entries === void 0) { entries = []; }\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\n        this._entries = entries;\n        this._dataSource = this;\n        this._renderer = new Renderer(actionProvider);\n        this._filter = this;\n        this._runner = this;\n        this._accessibilityProvider = this;\n    }\n    Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\n        get: function () { return this._entries; },\n        set: function (entries) {\n            this._entries = entries;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\n        get: function () { return this._dataSource; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\n        get: function () { return this._renderer; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\n        get: function () { return this._filter; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\n        get: function () { return this._runner; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\n        get: function () { return this._accessibilityProvider; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Adds entries that should show up in the quick open viewer.\n     */\n    QuickOpenModel.prototype.addEntries = function (entries) {\n        if (types.isArray(entries)) {\n            this._entries = this._entries.concat(entries);\n        }\n    };\n    /**\n     * Set the entries that should show up in the quick open viewer.\n     */\n    QuickOpenModel.prototype.setEntries = function (entries) {\n        if (types.isArray(entries)) {\n            this._entries = entries;\n        }\n    };\n    /**\n     * Get the entries that should show up in the quick open viewer.\n     *\n     * @visibleOnly optional parameter to only return visible entries\n     */\n    QuickOpenModel.prototype.getEntries = function (visibleOnly) {\n        if (visibleOnly) {\n            return this._entries.filter(function (e) { return !e.isHidden(); });\n        }\n        return this._entries;\n    };\n    QuickOpenModel.prototype.getId = function (entry) {\n        return entry.getId();\n    };\n    QuickOpenModel.prototype.getLabel = function (entry) {\n        return entry.getLabel();\n    };\n    QuickOpenModel.prototype.getAriaLabel = function (entry) {\n        var ariaLabel = entry.getAriaLabel();\n        if (ariaLabel) {\n            return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\n        }\n        return nls.localize('quickOpenAriaLabel', \"picker\");\n    };\n    QuickOpenModel.prototype.isVisible = function (entry) {\n        return !entry.isHidden();\n    };\n    QuickOpenModel.prototype.run = function (entry, mode, context) {\n        return entry.run(mode, context);\n    };\n    return QuickOpenModel;\n}());\nexport { QuickOpenModel };\n/**\n * A good default sort implementation for quick open entries respecting highlight information\n * as well as associated resources.\n */\nexport function compareEntries(elementA, elementB, lookFor) {\n    // Give matches with label highlights higher priority over\n    // those with only description highlights\n    var labelHighlightsA = elementA.getHighlights()[0] || [];\n    var labelHighlightsB = elementB.getHighlights()[0] || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    // Fallback to the full path if labels are identical and we have associated resources\n    var nameA = elementA.getLabel();\n    var nameB = elementB.getLabel();\n    if (nameA === nameB) {\n        var resourceA = elementA.getResource();\n        var resourceB = elementB.getResource();\n        if (resourceA && resourceB) {\n            nameA = resourceA.fsPath;\n            nameB = resourceB.fsPath;\n        }\n    }\n    return compareAnything(nameA, nameB, lookFor);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var Mode;\n(function (Mode) {\n    Mode[Mode[\"PREVIEW\"] = 0] = \"PREVIEW\";\n    Mode[Mode[\"OPEN\"] = 1] = \"OPEN\";\n    Mode[Mode[\"OPEN_IN_BACKGROUND\"] = 2] = \"OPEN_IN_BACKGROUND\";\n})(Mode || (Mode = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { TPromise } from '../../../common/winjs.base.js';\nimport { isFunction } from '../../../common/types.js';\nvar DataSource = /** @class */ (function () {\n    function DataSource(arg) {\n        this.modelProvider = isFunction(arg.getModel) ? arg : { getModel: function () { return arg; } };\n    }\n    DataSource.prototype.getId = function (tree, element) {\n        if (!element) {\n            return null;\n        }\n        var model = this.modelProvider.getModel();\n        return model === element ? '__root__' : model.dataSource.getId(element);\n    };\n    DataSource.prototype.hasChildren = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return model && model === element && model.entries.length > 0;\n    };\n    DataSource.prototype.getChildren = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return TPromise.as(model === element ? model.entries : []);\n    };\n    DataSource.prototype.getParent = function (tree, element) {\n        return TPromise.as(null);\n    };\n    return DataSource;\n}());\nexport { DataSource };\nvar AccessibilityProvider = /** @class */ (function () {\n    function AccessibilityProvider(modelProvider) {\n        this.modelProvider = modelProvider;\n    }\n    AccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return model.accessibilityProvider && model.accessibilityProvider.getAriaLabel(element);\n    };\n    AccessibilityProvider.prototype.getPosInSet = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return String(model.entries.indexOf(element) + 1);\n    };\n    AccessibilityProvider.prototype.getSetSize = function () {\n        var model = this.modelProvider.getModel();\n        return String(model.entries.length);\n    };\n    return AccessibilityProvider;\n}());\nexport { AccessibilityProvider };\nvar Filter = /** @class */ (function () {\n    function Filter(modelProvider) {\n        this.modelProvider = modelProvider;\n    }\n    Filter.prototype.isVisible = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        if (!model.filter) {\n            return true;\n        }\n        return model.filter.isVisible(element);\n    };\n    return Filter;\n}());\nexport { Filter };\nvar Renderer = /** @class */ (function () {\n    function Renderer(modelProvider, styles) {\n        this.modelProvider = modelProvider;\n        this.styles = styles;\n    }\n    Renderer.prototype.updateStyles = function (styles) {\n        this.styles = styles;\n    };\n    Renderer.prototype.getHeight = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return model.renderer.getHeight(element);\n    };\n    Renderer.prototype.getTemplateId = function (tree, element) {\n        var model = this.modelProvider.getModel();\n        return model.renderer.getTemplateId(element);\n    };\n    Renderer.prototype.renderTemplate = function (tree, templateId, container) {\n        var model = this.modelProvider.getModel();\n        return model.renderer.renderTemplate(templateId, container, this.styles);\n    };\n    Renderer.prototype.renderElement = function (tree, element, templateId, templateData) {\n        var model = this.modelProvider.getModel();\n        model.renderer.renderElement(element, templateId, templateData, this.styles);\n    };\n    Renderer.prototype.disposeTemplate = function (tree, templateId, templateData) {\n        var model = this.modelProvider.getModel();\n        model.renderer.disposeTemplate(templateId, templateData);\n    };\n    return Renderer;\n}());\nexport { Renderer };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './progressbar.css';\nimport { TPromise } from '../../../common/winjs.base.js';\nimport * as assert from '../../../common/assert.js';\nimport { $ } from '../../builder.js';\nimport * as DOM from '../../dom.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nvar css_done = 'done';\nvar css_active = 'active';\nvar css_infinite = 'infinite';\nvar css_discrete = 'discrete';\nvar css_progress_container = 'monaco-progress-container';\nvar css_progress_bit = 'progress-bit';\nvar defaultOpts = {\n    progressBarBackground: Color.fromHex('#0E70C0')\n};\n/**\n * A progress bar with support for infinite or discrete progress.\n */\nvar ProgressBar = /** @class */ (function () {\n    function ProgressBar(container, options) {\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.toUnbind = [];\n        this.workedVal = 0;\n        this.progressBarBackground = this.options.progressBarBackground;\n        this.create(container);\n    }\n    ProgressBar.prototype.create = function (container) {\n        var _this = this;\n        $(container).div({ 'class': css_progress_container }, function (builder) {\n            _this.element = builder.clone();\n            builder.div({ 'class': css_progress_bit }).on([DOM.EventType.ANIMATION_START, DOM.EventType.ANIMATION_END, DOM.EventType.ANIMATION_ITERATION], function (e) {\n                switch (e.type) {\n                    case DOM.EventType.ANIMATION_ITERATION:\n                        if (_this.animationStopToken) {\n                            _this.animationStopToken(null);\n                        }\n                        break;\n                }\n            }, _this.toUnbind);\n            _this.bit = builder.getHTMLElement();\n        });\n        this.applyStyles();\n    };\n    ProgressBar.prototype.off = function () {\n        this.bit.style.width = 'inherit';\n        this.bit.style.opacity = '1';\n        this.element.removeClass(css_active);\n        this.element.removeClass(css_infinite);\n        this.element.removeClass(css_discrete);\n        this.workedVal = 0;\n        this.totalWork = undefined;\n    };\n    /**\n     * Indicates to the progress bar that all work is done.\n     */\n    ProgressBar.prototype.done = function () {\n        return this.doDone(true);\n    };\n    /**\n     * Stops the progressbar from showing any progress instantly without fading out.\n     */\n    ProgressBar.prototype.stop = function () {\n        return this.doDone(false);\n    };\n    ProgressBar.prototype.doDone = function (delayed) {\n        var _this = this;\n        this.element.addClass(css_done);\n        // let it grow to 100% width and hide afterwards\n        if (!this.element.hasClass(css_infinite)) {\n            this.bit.style.width = 'inherit';\n            if (delayed) {\n                TPromise.timeout(200).then(function () { return _this.off(); });\n            }\n            else {\n                this.off();\n            }\n        }\n        // let it fade out and hide afterwards\n        else {\n            this.bit.style.opacity = '0';\n            if (delayed) {\n                TPromise.timeout(200).then(function () { return _this.off(); });\n            }\n            else {\n                this.off();\n            }\n        }\n        return this;\n    };\n    /**\n     * Use this mode to indicate progress that has no total number of work units.\n     */\n    ProgressBar.prototype.infinite = function () {\n        this.bit.style.width = '2%';\n        this.bit.style.opacity = '1';\n        this.element.removeClass(css_discrete);\n        this.element.removeClass(css_done);\n        this.element.addClass(css_active);\n        this.element.addClass(css_infinite);\n        return this;\n    };\n    /**\n     * Tells the progress bar the total number of work. Use in combination with workedVal() to let\n     * the progress bar show the actual progress based on the work that is done.\n     */\n    ProgressBar.prototype.total = function (value) {\n        this.workedVal = 0;\n        this.totalWork = value;\n        return this;\n    };\n    /**\n     * Finds out if this progress bar is configured with total work\n     */\n    ProgressBar.prototype.hasTotal = function () {\n        return !isNaN(this.totalWork);\n    };\n    /**\n     * Tells the progress bar that an amount of work has been completed.\n     */\n    ProgressBar.prototype.worked = function (value) {\n        assert.ok(!isNaN(this.totalWork), 'Total work not set');\n        value = Number(value);\n        assert.ok(!isNaN(value), 'Value is not a number');\n        value = Math.max(1, value);\n        this.workedVal += value;\n        this.workedVal = Math.min(this.totalWork, this.workedVal);\n        if (this.element.hasClass(css_infinite)) {\n            this.element.removeClass(css_infinite);\n        }\n        if (this.element.hasClass(css_done)) {\n            this.element.removeClass(css_done);\n        }\n        if (!this.element.hasClass(css_active)) {\n            this.element.addClass(css_active);\n        }\n        if (!this.element.hasClass(css_discrete)) {\n            this.element.addClass(css_discrete);\n        }\n        this.bit.style.width = 100 * (this.workedVal / this.totalWork) + '%';\n        return this;\n    };\n    ProgressBar.prototype.getContainer = function () {\n        return this.element.getHTMLElement();\n    };\n    ProgressBar.prototype.show = function (delay) {\n        if (typeof delay === 'number') {\n            this.element.showDelayed(delay);\n        }\n        else {\n            this.element.show();\n        }\n    };\n    ProgressBar.prototype.hide = function () {\n        this.element.hide();\n    };\n    ProgressBar.prototype.style = function (styles) {\n        this.progressBarBackground = styles.progressBarBackground;\n        this.applyStyles();\n    };\n    ProgressBar.prototype.applyStyles = function () {\n        if (this.bit) {\n            var background = this.progressBarBackground ? this.progressBarBackground.toString() : null;\n            this.bit.style.backgroundColor = background;\n        }\n    };\n    ProgressBar.prototype.dispose = function () {\n        this.toUnbind = dispose(this.toUnbind);\n    };\n    return ProgressBar;\n}());\nexport { ProgressBar };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './quickopen.css';\nimport * as nls from '../../../../nls.js';\nimport { TPromise } from '../../../common/winjs.base.js';\nimport * as platform from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport * as errors from '../../../common/errors.js';\nimport { Mode } from '../common/quickOpen.js';\nimport { Filter, Renderer, DataSource, AccessibilityProvider } from './quickOpenViewer.js';\nimport { $ } from '../../../browser/builder.js';\nimport { InputBox, MessageType } from '../../../browser/ui/inputbox/inputBox.js';\nimport Severity from '../../../common/severity.js';\nimport { Tree } from '../../tree/browser/treeImpl.js';\nimport { ProgressBar } from '../../../browser/ui/progressbar/progressbar.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { DefaultController, ClickBehavior } from '../../tree/browser/treeDefaults.js';\nimport * as DOM from '../../../browser/dom.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport { ScrollbarVisibility } from '../../../common/scrollable.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { StandardMouseEvent } from '../../../browser/mouseEvent.js';\nvar QuickOpenController = /** @class */ (function (_super) {\n    __extends(QuickOpenController, _super);\n    function QuickOpenController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QuickOpenController.prototype.onContextMenu = function (tree, element, event) {\n        if (platform.isMacintosh) {\n            return this.onLeftClick(tree, element, event); // https://github.com/Microsoft/vscode/issues/1011\n        }\n        return _super.prototype.onContextMenu.call(this, tree, element, event);\n    };\n    return QuickOpenController;\n}(DefaultController));\nexport { QuickOpenController };\nexport var HideReason;\n(function (HideReason) {\n    HideReason[HideReason[\"ELEMENT_SELECTED\"] = 0] = \"ELEMENT_SELECTED\";\n    HideReason[HideReason[\"FOCUS_LOST\"] = 1] = \"FOCUS_LOST\";\n    HideReason[HideReason[\"CANCELED\"] = 2] = \"CANCELED\";\n})(HideReason || (HideReason = {}));\nvar defaultStyles = {\n    background: Color.fromHex('#1E1E1E'),\n    foreground: Color.fromHex('#CCCCCC'),\n    pickerGroupForeground: Color.fromHex('#0097FB'),\n    pickerGroupBorder: Color.fromHex('#3F3F46'),\n    widgetShadow: Color.fromHex('#000000'),\n    progressBarBackground: Color.fromHex('#0E70C0')\n};\nvar DEFAULT_INPUT_ARIA_LABEL = nls.localize('quickOpenAriaLabel', \"Quick picker. Type to narrow down results.\");\nvar QuickOpenWidget = /** @class */ (function () {\n    function QuickOpenWidget(container, callbacks, options) {\n        this.isDisposed = false;\n        this.toUnbind = [];\n        this.container = container;\n        this.callbacks = callbacks;\n        this.options = options;\n        this.styles = options || Object.create(null);\n        mixin(this.styles, defaultStyles, false);\n        this.model = null;\n    }\n    QuickOpenWidget.prototype.getElement = function () {\n        return $(this.builder).getHTMLElement();\n    };\n    QuickOpenWidget.prototype.getModel = function () {\n        return this.model;\n    };\n    QuickOpenWidget.prototype.setCallbacks = function (callbacks) {\n        this.callbacks = callbacks;\n    };\n    QuickOpenWidget.prototype.create = function () {\n        var _this = this;\n        this.builder = $().div(function (div) {\n            // Eventing\n            div.on(DOM.EventType.KEY_DOWN, function (e) {\n                var keyboardEvent = new StandardKeyboardEvent(e);\n                if (keyboardEvent.keyCode === 9 /* Escape */) {\n                    DOM.EventHelper.stop(e, true);\n                    _this.hide(HideReason.CANCELED);\n                }\n            })\n                .on(DOM.EventType.CONTEXT_MENU, function (e) { return DOM.EventHelper.stop(e, true); }) // Do this to fix an issue on Mac where the menu goes into the way\n                .on(DOM.EventType.FOCUS, function (e) { return _this.gainingFocus(); }, null, true)\n                .on(DOM.EventType.BLUR, function (e) { return _this.loosingFocus(e); }, null, true);\n            // Progress Bar\n            _this.progressBar = new ProgressBar(div.clone(), { progressBarBackground: _this.styles.progressBarBackground });\n            _this.progressBar.hide();\n            // Input Field\n            div.div({ 'class': 'quick-open-input' }, function (inputContainer) {\n                _this.inputContainer = inputContainer;\n                _this.inputBox = new InputBox(inputContainer.getHTMLElement(), null, {\n                    placeholder: _this.options.inputPlaceHolder || '',\n                    ariaLabel: DEFAULT_INPUT_ARIA_LABEL,\n                    inputBackground: _this.styles.inputBackground,\n                    inputForeground: _this.styles.inputForeground,\n                    inputBorder: _this.styles.inputBorder,\n                    inputValidationInfoBackground: _this.styles.inputValidationInfoBackground,\n                    inputValidationInfoBorder: _this.styles.inputValidationInfoBorder,\n                    inputValidationWarningBackground: _this.styles.inputValidationWarningBackground,\n                    inputValidationWarningBorder: _this.styles.inputValidationWarningBorder,\n                    inputValidationErrorBackground: _this.styles.inputValidationErrorBackground,\n                    inputValidationErrorBorder: _this.styles.inputValidationErrorBorder\n                });\n                // ARIA\n                _this.inputElement = _this.inputBox.inputElement;\n                _this.inputElement.setAttribute('role', 'combobox');\n                _this.inputElement.setAttribute('aria-haspopup', 'false');\n                _this.inputElement.setAttribute('aria-autocomplete', 'list');\n                DOM.addDisposableListener(_this.inputBox.inputElement, DOM.EventType.KEY_DOWN, function (e) {\n                    var keyboardEvent = new StandardKeyboardEvent(e);\n                    var shouldOpenInBackground = _this.shouldOpenInBackground(keyboardEvent);\n                    // Do not handle Tab: It is used to navigate between elements without mouse\n                    if (keyboardEvent.keyCode === 2 /* Tab */) {\n                        return;\n                    }\n                    // Pass tree navigation keys to the tree but leave focus in input field\n                    else if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\n                        DOM.EventHelper.stop(e, true);\n                        _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\n                        // Position cursor at the end of input to allow right arrow (open in background)\n                        // to function immediately unless the user has made a selection\n                        if (_this.inputBox.inputElement.selectionStart === _this.inputBox.inputElement.selectionEnd) {\n                            _this.inputBox.inputElement.selectionStart = _this.inputBox.value.length;\n                        }\n                    }\n                    // Select element on Enter or on Arrow-Right if we are at the end of the input\n                    else if (keyboardEvent.keyCode === 3 /* Enter */ || shouldOpenInBackground) {\n                        DOM.EventHelper.stop(e, true);\n                        var focus_1 = _this.tree.getFocus();\n                        if (focus_1) {\n                            _this.elementSelected(focus_1, e, shouldOpenInBackground ? Mode.OPEN_IN_BACKGROUND : Mode.OPEN);\n                        }\n                    }\n                });\n                DOM.addDisposableListener(_this.inputBox.inputElement, DOM.EventType.INPUT, function (e) {\n                    _this.onType();\n                });\n            });\n            // Tree\n            _this.treeContainer = div.div({\n                'class': 'quick-open-tree'\n            }, function (div) {\n                var createTree = _this.options.treeCreator || (function (container, config, opts) { return new Tree(container, config, opts); });\n                _this.tree = createTree(div.getHTMLElement(), {\n                    dataSource: new DataSource(_this),\n                    controller: new QuickOpenController({ clickBehavior: ClickBehavior.ON_MOUSE_UP, keyboardSupport: _this.options.keyboardSupport }),\n                    renderer: (_this.renderer = new Renderer(_this, _this.styles)),\n                    filter: new Filter(_this),\n                    accessibilityProvider: new AccessibilityProvider(_this)\n                }, {\n                    twistiePixels: 11,\n                    indentPixels: 0,\n                    alwaysFocused: true,\n                    verticalScrollMode: ScrollbarVisibility.Visible,\n                    horizontalScrollMode: ScrollbarVisibility.Hidden,\n                    ariaLabel: nls.localize('treeAriaLabel', \"Quick Picker\"),\n                    keyboardSupport: _this.options.keyboardSupport,\n                    preventRootFocus: true\n                });\n                _this.treeElement = _this.tree.getHTMLElement();\n                // Handle Focus and Selection event\n                _this.toUnbind.push(_this.tree.onDidChangeFocus(function (event) {\n                    _this.elementFocused(event.focus, event);\n                }));\n                _this.toUnbind.push(_this.tree.onDidChangeSelection(function (event) {\n                    if (event.selection && event.selection.length > 0) {\n                        var mouseEvent = event.payload && event.payload.originalEvent instanceof StandardMouseEvent ? event.payload.originalEvent : void 0;\n                        var shouldOpenInBackground = mouseEvent ? _this.shouldOpenInBackground(mouseEvent) : false;\n                        _this.elementSelected(event.selection[0], event, shouldOpenInBackground ? Mode.OPEN_IN_BACKGROUND : Mode.OPEN);\n                    }\n                }));\n            }).\n                on(DOM.EventType.KEY_DOWN, function (e) {\n                var keyboardEvent = new StandardKeyboardEvent(e);\n                // Only handle when in quick navigation mode\n                if (!_this.quickNavigateConfiguration) {\n                    return;\n                }\n                // Support keyboard navigation in quick navigation mode\n                if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\n                    DOM.EventHelper.stop(e, true);\n                    _this.navigateInTree(keyboardEvent.keyCode);\n                }\n            }).\n                on(DOM.EventType.KEY_UP, function (e) {\n                var keyboardEvent = new StandardKeyboardEvent(e);\n                var keyCode = keyboardEvent.keyCode;\n                // Only handle when in quick navigation mode\n                if (!_this.quickNavigateConfiguration) {\n                    return;\n                }\n                // Select element when keys are pressed that signal it\n                var quickNavKeys = _this.quickNavigateConfiguration.keybindings;\n                var wasTriggerKeyPressed = keyCode === 3 /* Enter */ || quickNavKeys.some(function (k) {\n                    var _a = k.getParts(), firstPart = _a[0], chordPart = _a[1];\n                    if (chordPart) {\n                        return false;\n                    }\n                    if (firstPart.shiftKey && keyCode === 4 /* Shift */) {\n                        if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                            return false; // this is an optimistic check for the shift key being used to navigate back in quick open\n                        }\n                        return true;\n                    }\n                    if (firstPart.altKey && keyCode === 6 /* Alt */) {\n                        return true;\n                    }\n                    if (firstPart.ctrlKey && keyCode === 5 /* Ctrl */) {\n                        return true;\n                    }\n                    if (firstPart.metaKey && keyCode === 57 /* Meta */) {\n                        return true;\n                    }\n                    return false;\n                });\n                if (wasTriggerKeyPressed) {\n                    var focus_2 = _this.tree.getFocus();\n                    if (focus_2) {\n                        _this.elementSelected(focus_2, e);\n                    }\n                }\n            }).\n                clone();\n        })\n            // Widget Attributes\n            .addClass('monaco-quick-open-widget')\n            .build(this.container);\n        // Support layout\n        if (this.layoutDimensions) {\n            this.layout(this.layoutDimensions);\n        }\n        this.applyStyles();\n        // Allows focus to switch to next/previous entry after tab into an actionbar item\n        DOM.addDisposableListener(this.treeContainer.getHTMLElement(), DOM.EventType.KEY_DOWN, function (e) {\n            var keyboardEvent = new StandardKeyboardEvent(e);\n            // Only handle when not in quick navigation mode\n            if (_this.quickNavigateConfiguration) {\n                return;\n            }\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\n                DOM.EventHelper.stop(e, true);\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\n                _this.inputBox.inputElement.focus();\n            }\n        });\n        return this.builder.getHTMLElement();\n    };\n    QuickOpenWidget.prototype.style = function (styles) {\n        this.styles = styles;\n        this.applyStyles();\n    };\n    QuickOpenWidget.prototype.applyStyles = function () {\n        if (this.builder) {\n            var foreground = this.styles.foreground ? this.styles.foreground.toString() : null;\n            var background = this.styles.background ? this.styles.background.toString() : null;\n            var borderColor = this.styles.borderColor ? this.styles.borderColor.toString() : null;\n            var widgetShadow = this.styles.widgetShadow ? this.styles.widgetShadow.toString() : null;\n            this.builder.style('color', foreground);\n            this.builder.style('background-color', background);\n            this.builder.style('border-color', borderColor);\n            this.builder.style('border-width', borderColor ? '1px' : null);\n            this.builder.style('border-style', borderColor ? 'solid' : null);\n            this.builder.style('box-shadow', widgetShadow ? \"0 5px 8px \" + widgetShadow : null);\n        }\n        if (this.progressBar) {\n            this.progressBar.style({\n                progressBarBackground: this.styles.progressBarBackground\n            });\n        }\n        if (this.inputBox) {\n            this.inputBox.style({\n                inputBackground: this.styles.inputBackground,\n                inputForeground: this.styles.inputForeground,\n                inputBorder: this.styles.inputBorder,\n                inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\n                inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\n                inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\n                inputValidationErrorBorder: this.styles.inputValidationErrorBorder\n            });\n        }\n        if (this.tree && !this.options.treeCreator) {\n            this.tree.style(this.styles);\n        }\n        if (this.renderer) {\n            this.renderer.updateStyles(this.styles);\n        }\n    };\n    QuickOpenWidget.prototype.shouldOpenInBackground = function (e) {\n        // Keyboard\n        if (e instanceof StandardKeyboardEvent) {\n            if (e.keyCode !== 17 /* RightArrow */) {\n                return false; // only for right arrow\n            }\n            if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\n                return false; // no modifiers allowed\n            }\n            // validate the cursor is at the end of the input and there is no selection,\n            // and if not prevent opening in the background such as the selection can be changed\n            var element = this.inputBox.inputElement;\n            return element.selectionEnd === this.inputBox.value.length && element.selectionStart === element.selectionEnd;\n        }\n        // Mouse\n        return e.middleButton;\n    };\n    QuickOpenWidget.prototype.onType = function () {\n        var value = this.inputBox.value;\n        // Adjust help text as needed if present\n        if (this.helpText) {\n            if (value) {\n                this.helpText.hide();\n            }\n            else {\n                this.helpText.show();\n            }\n        }\n        // Send to callbacks\n        this.callbacks.onType(value);\n    };\n    QuickOpenWidget.prototype.navigate = function (next, quickNavigate) {\n        if (this.isVisible()) {\n            // Transition into quick navigate mode if not yet done\n            if (!this.quickNavigateConfiguration && quickNavigate) {\n                this.quickNavigateConfiguration = quickNavigate;\n                this.tree.domFocus();\n            }\n            // Navigate\n            this.navigateInTree(next ? 18 /* DownArrow */ : 16 /* UpArrow */);\n        }\n    };\n    QuickOpenWidget.prototype.navigateInTree = function (keyCode, isShift) {\n        var model = this.tree.getInput();\n        var entries = model ? model.entries : [];\n        var oldFocus = this.tree.getFocus();\n        // Normal Navigation\n        switch (keyCode) {\n            case 18 /* DownArrow */:\n                this.tree.focusNext();\n                break;\n            case 16 /* UpArrow */:\n                this.tree.focusPrevious();\n                break;\n            case 12 /* PageDown */:\n                this.tree.focusNextPage();\n                break;\n            case 11 /* PageUp */:\n                this.tree.focusPreviousPage();\n                break;\n            case 2 /* Tab */:\n                if (isShift) {\n                    this.tree.focusPrevious();\n                }\n                else {\n                    this.tree.focusNext();\n                }\n                break;\n        }\n        var newFocus = this.tree.getFocus();\n        // Support cycle-through navigation if focus did not change\n        if (entries.length > 1 && oldFocus === newFocus) {\n            // Up from no entry or first entry goes down to last\n            if (keyCode === 16 /* UpArrow */ || (keyCode === 2 /* Tab */ && isShift)) {\n                this.tree.focusLast();\n            }\n            // Down from last entry goes to up to first\n            else if (keyCode === 18 /* DownArrow */ || keyCode === 2 /* Tab */ && !isShift) {\n                this.tree.focusFirst();\n            }\n        }\n        // Reveal\n        newFocus = this.tree.getFocus();\n        if (newFocus) {\n            this.tree.reveal(newFocus).done(null, errors.onUnexpectedError);\n        }\n    };\n    QuickOpenWidget.prototype.elementFocused = function (value, event) {\n        if (!value || !this.isVisible()) {\n            return;\n        }\n        // ARIA\n        this.inputElement.setAttribute('aria-activedescendant', this.treeElement.getAttribute('aria-activedescendant'));\n        var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\n        this.model.runner.run(value, Mode.PREVIEW, context);\n    };\n    QuickOpenWidget.prototype.elementSelected = function (value, event, preferredMode) {\n        var hide = true;\n        // Trigger open of element on selection\n        if (this.isVisible()) {\n            var mode = preferredMode || Mode.OPEN;\n            var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\n            hide = this.model.runner.run(value, mode, context);\n        }\n        // Hide if command was run successfully\n        if (hide) {\n            this.hide(HideReason.ELEMENT_SELECTED);\n        }\n    };\n    QuickOpenWidget.prototype.extractKeyMods = function (event) {\n        return {\n            ctrlCmd: event && (event.ctrlKey || event.metaKey || (event.payload && event.payload.originalEvent && (event.payload.originalEvent.ctrlKey || event.payload.originalEvent.metaKey))),\n            alt: event && (event.altKey || (event.payload && event.payload.originalEvent && event.payload.originalEvent.altKey))\n        };\n    };\n    QuickOpenWidget.prototype.show = function (param, options) {\n        this.visible = true;\n        this.isLoosingFocus = false;\n        this.quickNavigateConfiguration = options ? options.quickNavigateConfiguration : void 0;\n        // Adjust UI for quick navigate mode\n        if (this.quickNavigateConfiguration) {\n            this.inputContainer.hide();\n            this.builder.show();\n            this.tree.domFocus();\n        }\n        // Otherwise use normal UI\n        else {\n            this.inputContainer.show();\n            this.builder.show();\n            this.inputBox.focus();\n        }\n        // Adjust Help text for IE\n        if (this.helpText) {\n            if (this.quickNavigateConfiguration || types.isString(param)) {\n                this.helpText.hide();\n            }\n            else {\n                this.helpText.show();\n            }\n        }\n        // Show based on param\n        if (types.isString(param)) {\n            this.doShowWithPrefix(param);\n        }\n        else {\n            this.doShowWithInput(param, options && options.autoFocus ? options.autoFocus : {});\n        }\n        // Respect selectAll option\n        if (options && options.inputSelection && !this.quickNavigateConfiguration) {\n            this.inputBox.select(options.inputSelection);\n        }\n        if (this.callbacks.onShow) {\n            this.callbacks.onShow();\n        }\n    };\n    QuickOpenWidget.prototype.doShowWithPrefix = function (prefix) {\n        this.inputBox.value = prefix;\n        this.callbacks.onType(prefix);\n    };\n    QuickOpenWidget.prototype.doShowWithInput = function (input, autoFocus) {\n        this.setInput(input, autoFocus);\n    };\n    QuickOpenWidget.prototype.setInputAndLayout = function (input, autoFocus) {\n        var _this = this;\n        this.treeContainer.style({ height: this.getHeight(input) + \"px\" });\n        this.tree.setInput(null).then(function () {\n            _this.model = input;\n            // ARIA\n            _this.inputElement.setAttribute('aria-haspopup', String(input && input.entries && input.entries.length > 0));\n            return _this.tree.setInput(input);\n        }).done(function () {\n            // Indicate entries to tree\n            _this.tree.layout();\n            // Handle auto focus\n            if (input && input.entries.some(function (e) { return _this.isElementVisible(input, e); })) {\n                _this.autoFocus(input, autoFocus);\n            }\n        }, errors.onUnexpectedError);\n    };\n    QuickOpenWidget.prototype.isElementVisible = function (input, e) {\n        if (!input.filter) {\n            return true;\n        }\n        return input.filter.isVisible(e);\n    };\n    QuickOpenWidget.prototype.autoFocus = function (input, autoFocus) {\n        var _this = this;\n        if (autoFocus === void 0) { autoFocus = {}; }\n        var entries = input.entries.filter(function (e) { return _this.isElementVisible(input, e); });\n        // First check for auto focus of prefix matches\n        if (autoFocus.autoFocusPrefixMatch) {\n            var caseSensitiveMatch = void 0;\n            var caseInsensitiveMatch = void 0;\n            var prefix = autoFocus.autoFocusPrefixMatch;\n            var lowerCasePrefix = prefix.toLowerCase();\n            for (var i = 0; i < entries.length; i++) {\n                var entry = entries[i];\n                var label = input.dataSource.getLabel(entry);\n                if (!caseSensitiveMatch && label.indexOf(prefix) === 0) {\n                    caseSensitiveMatch = entry;\n                }\n                else if (!caseInsensitiveMatch && label.toLowerCase().indexOf(lowerCasePrefix) === 0) {\n                    caseInsensitiveMatch = entry;\n                }\n                if (caseSensitiveMatch && caseInsensitiveMatch) {\n                    break;\n                }\n            }\n            var entryToFocus = caseSensitiveMatch || caseInsensitiveMatch;\n            if (entryToFocus) {\n                this.tree.setFocus(entryToFocus);\n                this.tree.reveal(entryToFocus, 0.5).done(null, errors.onUnexpectedError);\n                return;\n            }\n        }\n        // Second check for auto focus of first entry\n        if (autoFocus.autoFocusFirstEntry) {\n            this.tree.focusFirst();\n            this.tree.reveal(this.tree.getFocus()).done(null, errors.onUnexpectedError);\n        }\n        // Third check for specific index option\n        else if (typeof autoFocus.autoFocusIndex === 'number') {\n            if (entries.length > autoFocus.autoFocusIndex) {\n                this.tree.focusNth(autoFocus.autoFocusIndex);\n                this.tree.reveal(this.tree.getFocus()).done(null, errors.onUnexpectedError);\n            }\n        }\n        // Check for auto focus of second entry\n        else if (autoFocus.autoFocusSecondEntry) {\n            if (entries.length > 1) {\n                this.tree.focusNth(1);\n            }\n        }\n        // Finally check for auto focus of last entry\n        else if (autoFocus.autoFocusLastEntry) {\n            if (entries.length > 1) {\n                this.tree.focusLast();\n            }\n        }\n    };\n    QuickOpenWidget.prototype.refresh = function (input, autoFocus) {\n        var _this = this;\n        if (!this.isVisible()) {\n            return;\n        }\n        if (!input) {\n            input = this.tree.getInput();\n        }\n        if (!input) {\n            return;\n        }\n        // Apply height & Refresh\n        this.treeContainer.style({ height: this.getHeight(input) + \"px\" });\n        this.tree.refresh().done(function () {\n            // Indicate entries to tree\n            _this.tree.layout();\n            // Handle auto focus\n            if (autoFocus) {\n                var doAutoFocus = autoFocus && input && input.entries.some(function (e) { return _this.isElementVisible(input, e); });\n                if (doAutoFocus) {\n                    _this.autoFocus(input, autoFocus);\n                }\n            }\n        }, errors.onUnexpectedError);\n    };\n    QuickOpenWidget.prototype.getHeight = function (input) {\n        var _this = this;\n        var renderer = input.renderer;\n        if (!input) {\n            var itemHeight = renderer.getHeight(null);\n            return this.options.minItemsToShow ? this.options.minItemsToShow * itemHeight : 0;\n        }\n        var height = 0;\n        var preferredItemsHeight;\n        if (this.layoutDimensions && this.layoutDimensions.height) {\n            preferredItemsHeight = (this.layoutDimensions.height - 50 /* subtract height of input field (30px) and some spacing (drop shadow) to fit */) * 0.40 /* max 40% of screen */;\n        }\n        if (!preferredItemsHeight || preferredItemsHeight > QuickOpenWidget.MAX_ITEMS_HEIGHT) {\n            preferredItemsHeight = QuickOpenWidget.MAX_ITEMS_HEIGHT;\n        }\n        var entries = input.entries.filter(function (e) { return _this.isElementVisible(input, e); });\n        var maxEntries = this.options.maxItemsToShow || entries.length;\n        for (var i = 0; i < maxEntries && i < entries.length; i++) {\n            var entryHeight = renderer.getHeight(entries[i]);\n            if (height + entryHeight <= preferredItemsHeight) {\n                height += entryHeight;\n            }\n            else {\n                break;\n            }\n        }\n        return height;\n    };\n    QuickOpenWidget.prototype.hide = function (reason) {\n        if (!this.isVisible()) {\n            return;\n        }\n        this.visible = false;\n        this.builder.hide();\n        this.builder.domBlur();\n        // Clear input field and clear tree\n        this.inputBox.value = '';\n        this.tree.setInput(null);\n        // ARIA\n        this.inputElement.setAttribute('aria-haspopup', 'false');\n        // Reset Tree Height\n        this.treeContainer.style({ height: (this.options.minItemsToShow ? this.options.minItemsToShow * 22 : 0) + 'px' });\n        // Clear any running Progress\n        this.progressBar.stop().hide();\n        // Clear Focus\n        if (this.tree.isDOMFocused()) {\n            this.tree.domBlur();\n        }\n        else if (this.inputBox.hasFocus()) {\n            this.inputBox.blur();\n        }\n        // Callbacks\n        if (reason === HideReason.ELEMENT_SELECTED) {\n            this.callbacks.onOk();\n        }\n        else {\n            this.callbacks.onCancel();\n        }\n        if (this.callbacks.onHide) {\n            this.callbacks.onHide(reason);\n        }\n    };\n    QuickOpenWidget.prototype.getQuickNavigateConfiguration = function () {\n        return this.quickNavigateConfiguration;\n    };\n    QuickOpenWidget.prototype.setPlaceHolder = function (placeHolder) {\n        if (this.inputBox) {\n            this.inputBox.setPlaceHolder(placeHolder);\n        }\n    };\n    QuickOpenWidget.prototype.setValue = function (value, selectionOrStableHint) {\n        if (this.inputBox) {\n            this.inputBox.value = value;\n            if (selectionOrStableHint === null) {\n                // null means stable-selection\n            }\n            else if (Array.isArray(selectionOrStableHint)) {\n                var start = selectionOrStableHint[0], end = selectionOrStableHint[1];\n                this.inputBox.select({ start: start, end: end });\n            }\n            else {\n                this.inputBox.select();\n            }\n        }\n    };\n    QuickOpenWidget.prototype.setPassword = function (isPassword) {\n        if (this.inputBox) {\n            this.inputBox.inputElement.type = isPassword ? 'password' : 'text';\n        }\n    };\n    QuickOpenWidget.prototype.setInput = function (input, autoFocus, ariaLabel) {\n        if (!this.isVisible()) {\n            return;\n        }\n        // If the input changes, indicate this to the tree\n        if (!!this.getInput()) {\n            this.onInputChanging();\n        }\n        // Adapt tree height to entries and apply input\n        this.setInputAndLayout(input, autoFocus);\n        // Apply ARIA\n        if (this.inputBox) {\n            this.inputBox.setAriaLabel(ariaLabel || DEFAULT_INPUT_ARIA_LABEL);\n        }\n    };\n    QuickOpenWidget.prototype.onInputChanging = function () {\n        var _this = this;\n        if (this.inputChangingTimeoutHandle) {\n            clearTimeout(this.inputChangingTimeoutHandle);\n            this.inputChangingTimeoutHandle = null;\n        }\n        // when the input is changing in quick open, we indicate this as CSS class to the widget\n        // for a certain timeout. this helps reducing some hectic UI updates when input changes quickly\n        this.builder.addClass('content-changing');\n        this.inputChangingTimeoutHandle = setTimeout(function () {\n            _this.builder.removeClass('content-changing');\n        }, 500);\n    };\n    QuickOpenWidget.prototype.getInput = function () {\n        return this.tree.getInput();\n    };\n    QuickOpenWidget.prototype.showInputDecoration = function (decoration) {\n        if (this.inputBox) {\n            this.inputBox.showMessage({ type: decoration === Severity.Info ? MessageType.INFO : decoration === Severity.Warning ? MessageType.WARNING : MessageType.ERROR, content: '' });\n        }\n    };\n    QuickOpenWidget.prototype.clearInputDecoration = function () {\n        if (this.inputBox) {\n            this.inputBox.hideMessage();\n        }\n    };\n    QuickOpenWidget.prototype.focus = function () {\n        if (this.isVisible() && this.inputBox) {\n            this.inputBox.focus();\n        }\n    };\n    QuickOpenWidget.prototype.accept = function () {\n        if (this.isVisible()) {\n            var focus_3 = this.tree.getFocus();\n            if (focus_3) {\n                this.elementSelected(focus_3);\n            }\n        }\n    };\n    QuickOpenWidget.prototype.getProgressBar = function () {\n        return this.progressBar;\n    };\n    QuickOpenWidget.prototype.getInputBox = function () {\n        return this.inputBox;\n    };\n    QuickOpenWidget.prototype.setExtraClass = function (clazz) {\n        var previousClass = this.builder.getProperty('extra-class');\n        if (previousClass) {\n            this.builder.removeClass(previousClass);\n        }\n        if (clazz) {\n            this.builder.addClass(clazz);\n            this.builder.setProperty('extra-class', clazz);\n        }\n        else if (previousClass) {\n            this.builder.removeProperty('extra-class');\n        }\n    };\n    QuickOpenWidget.prototype.isVisible = function () {\n        return this.visible;\n    };\n    QuickOpenWidget.prototype.layout = function (dimension) {\n        this.layoutDimensions = dimension;\n        // Apply to quick open width (height is dynamic by number of items to show)\n        var quickOpenWidth = Math.min(this.layoutDimensions.width * 0.62 /* golden cut */, QuickOpenWidget.MAX_WIDTH);\n        if (this.builder) {\n            // quick open\n            this.builder.style({\n                width: quickOpenWidth + 'px',\n                marginLeft: '-' + (quickOpenWidth / 2) + 'px'\n            });\n            // input field\n            this.inputContainer.style({\n                width: (quickOpenWidth - 12) + 'px'\n            });\n        }\n    };\n    QuickOpenWidget.prototype.gainingFocus = function () {\n        this.isLoosingFocus = false;\n    };\n    QuickOpenWidget.prototype.loosingFocus = function (e) {\n        var _this = this;\n        if (!this.isVisible()) {\n            return;\n        }\n        var relatedTarget = e.relatedTarget;\n        if (!this.quickNavigateConfiguration && DOM.isAncestor(relatedTarget, this.builder.getHTMLElement())) {\n            return; // user clicked somewhere into quick open widget, do not close thereby\n        }\n        this.isLoosingFocus = true;\n        TPromise.timeout(0).then(function () {\n            if (!_this.isLoosingFocus) {\n                return;\n            }\n            if (_this.isDisposed) {\n                return;\n            }\n            var veto = _this.callbacks.onFocusLost && _this.callbacks.onFocusLost();\n            if (!veto) {\n                _this.hide(HideReason.FOCUS_LOST);\n            }\n        });\n    };\n    QuickOpenWidget.prototype.dispose = function () {\n        this.isDisposed = true;\n        this.toUnbind = dispose(this.toUnbind);\n        this.progressBar.dispose();\n        this.inputBox.dispose();\n        this.tree.dispose();\n    };\n    QuickOpenWidget.MAX_WIDTH = 600; // Max total width of quick open widget\n    QuickOpenWidget.MAX_ITEMS_HEIGHT = 20 * 22; // Max height of item list below input field\n    return QuickOpenWidget;\n}());\nexport { QuickOpenWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { QuickOpenWidget } from '../../../../base/parts/quickopen/browser/quickOpenWidget.js';\nimport { OverlayWidgetPositionPreference } from '../../../browser/editorBrowser.js';\nimport { attachQuickOpenStyler } from '../../../../platform/theme/common/styler.js';\nimport { foreground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nvar QuickOpenEditorWidget = /** @class */ (function () {\n    function QuickOpenEditorWidget(codeEditor, onOk, onCancel, onType, configuration, themeService) {\n        this.codeEditor = codeEditor;\n        this.themeService = themeService;\n        this.create(onOk, onCancel, onType, configuration);\n    }\n    QuickOpenEditorWidget.prototype.create = function (onOk, onCancel, onType, configuration) {\n        this.domNode = document.createElement('div');\n        this.quickOpenWidget = new QuickOpenWidget(this.domNode, {\n            onOk: onOk,\n            onCancel: onCancel,\n            onType: onType\n        }, {\n            inputPlaceHolder: null,\n            inputAriaLabel: configuration.inputAriaLabel,\n            keyboardSupport: true\n        });\n        this.styler = attachQuickOpenStyler(this.quickOpenWidget, this.themeService, {\n            pickerGroupForeground: foreground\n        });\n        this.quickOpenWidget.create();\n        this.codeEditor.addOverlayWidget(this);\n    };\n    QuickOpenEditorWidget.prototype.setInput = function (model, focus) {\n        this.quickOpenWidget.setInput(model, focus);\n    };\n    QuickOpenEditorWidget.prototype.getId = function () {\n        return QuickOpenEditorWidget.ID;\n    };\n    QuickOpenEditorWidget.prototype.getDomNode = function () {\n        return this.domNode;\n    };\n    QuickOpenEditorWidget.prototype.destroy = function () {\n        this.codeEditor.removeOverlayWidget(this);\n        this.quickOpenWidget.dispose();\n        this.styler.dispose();\n    };\n    QuickOpenEditorWidget.prototype.isVisible = function () {\n        return this.visible;\n    };\n    QuickOpenEditorWidget.prototype.show = function (value) {\n        this.visible = true;\n        var editorLayout = this.codeEditor.getLayoutInfo();\n        if (editorLayout) {\n            this.quickOpenWidget.layout(new Dimension(editorLayout.width, editorLayout.height));\n        }\n        this.quickOpenWidget.show(value);\n        this.codeEditor.layoutOverlayWidget(this);\n    };\n    QuickOpenEditorWidget.prototype.hide = function () {\n        this.visible = false;\n        this.quickOpenWidget.hide();\n        this.codeEditor.layoutOverlayWidget(this);\n    };\n    QuickOpenEditorWidget.prototype.getPosition = function () {\n        if (this.visible) {\n            return {\n                preference: OverlayWidgetPositionPreference.TOP_CENTER\n            };\n        }\n        return null;\n    };\n    QuickOpenEditorWidget.ID = 'editor.contrib.quickOpenEditorWidget';\n    return QuickOpenEditorWidget;\n}());\nexport { QuickOpenEditorWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { QuickOpenEditorWidget } from './quickOpenEditorWidget.js';\nimport { registerEditorContribution, EditorAction } from '../../../browser/editorExtensions.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nvar QuickOpenController = /** @class */ (function () {\n    function QuickOpenController(editor, themeService) {\n        this.themeService = themeService;\n        this.editor = editor;\n    }\n    QuickOpenController.get = function (editor) {\n        return editor.getContribution(QuickOpenController.ID);\n    };\n    QuickOpenController.prototype.getId = function () {\n        return QuickOpenController.ID;\n    };\n    QuickOpenController.prototype.dispose = function () {\n        // Dispose widget\n        if (this.widget) {\n            this.widget.destroy();\n            this.widget = null;\n        }\n    };\n    QuickOpenController.prototype.run = function (opts) {\n        var _this = this;\n        if (this.widget) {\n            this.widget.destroy();\n            this.widget = null;\n        }\n        // Create goto line widget\n        var onClose = function (canceled) {\n            // Clear Highlight Decorations if present\n            _this.clearDecorations();\n            // Restore selection if canceled\n            if (canceled && _this.lastKnownEditorSelection) {\n                _this.editor.setSelection(_this.lastKnownEditorSelection);\n                _this.editor.revealRangeInCenterIfOutsideViewport(_this.lastKnownEditorSelection, 0 /* Smooth */);\n            }\n            _this.lastKnownEditorSelection = null;\n            _this.editor.focus();\n        };\n        this.widget = new QuickOpenEditorWidget(this.editor, function () { return onClose(false); }, function () { return onClose(true); }, function (value) {\n            _this.widget.setInput(opts.getModel(value), opts.getAutoFocus(value));\n        }, {\n            inputAriaLabel: opts.inputAriaLabel\n        }, this.themeService);\n        // Remember selection to be able to restore on cancel\n        if (!this.lastKnownEditorSelection) {\n            this.lastKnownEditorSelection = this.editor.getSelection();\n        }\n        // Show\n        this.widget.show('');\n    };\n    QuickOpenController.prototype.decorateLine = function (range, editor) {\n        var oldDecorations = [];\n        if (this.rangeHighlightDecorationId) {\n            oldDecorations.push(this.rangeHighlightDecorationId);\n            this.rangeHighlightDecorationId = null;\n        }\n        var newDecorations = [\n            {\n                range: range,\n                options: QuickOpenController._RANGE_HIGHLIGHT_DECORATION\n            }\n        ];\n        var decorations = editor.deltaDecorations(oldDecorations, newDecorations);\n        this.rangeHighlightDecorationId = decorations[0];\n    };\n    QuickOpenController.prototype.clearDecorations = function () {\n        if (this.rangeHighlightDecorationId) {\n            this.editor.deltaDecorations([this.rangeHighlightDecorationId], []);\n            this.rangeHighlightDecorationId = null;\n        }\n    };\n    QuickOpenController.ID = 'editor.controller.quickOpenController';\n    QuickOpenController._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\n        className: 'rangeHighlight',\n        isWholeLine: true\n    });\n    QuickOpenController = __decorate([\n        __param(1, IThemeService)\n    ], QuickOpenController);\n    return QuickOpenController;\n}());\nexport { QuickOpenController };\n/**\n * Base class for providing quick open in the editor.\n */\nvar BaseEditorQuickOpenAction = /** @class */ (function (_super) {\n    __extends(BaseEditorQuickOpenAction, _super);\n    function BaseEditorQuickOpenAction(inputAriaLabel, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._inputAriaLabel = inputAriaLabel;\n        return _this;\n    }\n    BaseEditorQuickOpenAction.prototype.getController = function (editor) {\n        return QuickOpenController.get(editor);\n    };\n    BaseEditorQuickOpenAction.prototype._show = function (controller, opts) {\n        controller.run({\n            inputAriaLabel: this._inputAriaLabel,\n            getModel: function (value) { return opts.getModel(value); },\n            getAutoFocus: function (searchValue) { return opts.getAutoFocus(searchValue); }\n        });\n    };\n    return BaseEditorQuickOpenAction;\n}(EditorAction));\nexport { BaseEditorQuickOpenAction };\nregisterEditorContribution(QuickOpenController);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { DocumentSymbolProviderRegistry } from '../../common/modes.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nexport function getDocumentSymbols(model) {\n    var entries = [];\n    var promises = DocumentSymbolProviderRegistry.all(model).map(function (support) {\n        return asWinJsPromise(function (token) {\n            return support.provideDocumentSymbols(model, token);\n        }).then(function (result) {\n            if (Array.isArray(result)) {\n                entries.push.apply(entries, result);\n            }\n        }, function (err) {\n            onUnexpectedExternalError(err);\n        });\n    });\n    return TPromise.join(promises).then(function () {\n        var flatEntries = [];\n        flatten(flatEntries, entries, '');\n        flatEntries.sort(compareEntriesUsingStart);\n        return {\n            entries: flatEntries,\n        };\n    });\n}\nfunction compareEntriesUsingStart(a, b) {\n    return Range.compareRangesUsingStarts(Range.lift(a.location.range), Range.lift(b.location.range));\n}\nfunction flatten(bucket, entries, overrideContainerLabel) {\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n        var entry = entries_1[_i];\n        bucket.push({\n            kind: entry.kind,\n            location: entry.location,\n            name: entry.name,\n            containerName: entry.containerName || overrideContainerLabel\n        });\n    }\n}\nregisterLanguageCommand('_executeDocumentSymbolProvider', function (accessor, args) {\n    var resource = args.resource;\n    if (!(resource instanceof URI)) {\n        throw illegalArgument('resource');\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument('resource');\n    }\n    return getDocumentSymbols(model);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './quickOutline.css';\nimport * as nls from '../../../../nls.js';\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\nimport { Mode } from '../../../../base/parts/quickopen/common/quickOpen.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DocumentSymbolProviderRegistry, symbolKindToCssClass } from '../../../common/modes.js';\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\nimport { getDocumentSymbols } from '../../../contrib/quickOpen/quickOpen.js';\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nvar SCOPE_PREFIX = ':';\nvar SymbolEntry = /** @class */ (function (_super) {\n    __extends(SymbolEntry, _super);\n    function SymbolEntry(name, type, description, range, highlights, editor, decorator) {\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.type = type;\n        _this.description = description;\n        _this.range = range;\n        _this.setHighlights(highlights);\n        _this.editor = editor;\n        _this.decorator = decorator;\n        return _this;\n    }\n    SymbolEntry.prototype.getLabel = function () {\n        return this.name;\n    };\n    SymbolEntry.prototype.getAriaLabel = function () {\n        return nls.localize('entryAriaLabel', \"{0}, symbols\", this.name);\n    };\n    SymbolEntry.prototype.getIcon = function () {\n        return this.type;\n    };\n    SymbolEntry.prototype.getDescription = function () {\n        return this.description;\n    };\n    SymbolEntry.prototype.getType = function () {\n        return this.type;\n    };\n    SymbolEntry.prototype.getRange = function () {\n        return this.range;\n    };\n    SymbolEntry.prototype.run = function (mode, context) {\n        if (mode === Mode.OPEN) {\n            return this.runOpen(context);\n        }\n        return this.runPreview();\n    };\n    SymbolEntry.prototype.runOpen = function (context) {\n        // Apply selection and focus\n        var range = this.toSelection();\n        this.editor.setSelection(range);\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\n        this.editor.focus();\n        return true;\n    };\n    SymbolEntry.prototype.runPreview = function () {\n        // Select Outline Position\n        var range = this.toSelection();\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\n        // Decorate if possible\n        this.decorator.decorateLine(this.range, this.editor);\n        return false;\n    };\n    SymbolEntry.prototype.toSelection = function () {\n        return new Range(this.range.startLineNumber, this.range.startColumn || 1, this.range.startLineNumber, this.range.startColumn || 1);\n    };\n    return SymbolEntry;\n}(QuickOpenEntryGroup));\nexport { SymbolEntry };\nvar QuickOutlineAction = /** @class */ (function (_super) {\n    __extends(QuickOutlineAction, _super);\n    function QuickOutlineAction() {\n        return _super.call(this, nls.localize('quickOutlineActionInput', \"Type the name of an identifier you wish to navigate to\"), {\n            id: 'editor.action.quickOutline',\n            label: nls.localize('QuickOutlineAction.label', \"Go to Symbol...\"),\n            alias: 'Go to Symbol...',\n            precondition: EditorContextKeys.hasDocumentSymbolProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 45 /* KEY_O */\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 3\n            }\n        }) || this;\n    }\n    QuickOutlineAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var model = editor.getModel();\n        if (!DocumentSymbolProviderRegistry.has(model)) {\n            return null;\n        }\n        // Resolve outline\n        return getDocumentSymbols(model).then(function (result) {\n            if (result.entries.length === 0) {\n                return;\n            }\n            _this._run(editor, result.entries);\n        });\n    };\n    QuickOutlineAction.prototype._run = function (editor, result) {\n        var _this = this;\n        this._show(this.getController(editor), {\n            getModel: function (value) {\n                return new QuickOpenModel(_this.toQuickOpenEntries(editor, result, value));\n            },\n            getAutoFocus: function (searchValue) {\n                // Remove any type pattern (:) from search value as needed\n                if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n                    searchValue = searchValue.substr(SCOPE_PREFIX.length);\n                }\n                return {\n                    autoFocusPrefixMatch: searchValue,\n                    autoFocusFirstEntry: !!searchValue\n                };\n            }\n        });\n    };\n    QuickOutlineAction.prototype.symbolEntry = function (name, type, description, location, highlights, editor, decorator) {\n        return new SymbolEntry(name, type, description, Range.lift(location.range), highlights, editor, decorator);\n    };\n    QuickOutlineAction.prototype.toQuickOpenEntries = function (editor, flattened, searchValue) {\n        var controller = this.getController(editor);\n        var results = [];\n        // Convert to Entries\n        var normalizedSearchValue = searchValue;\n        if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n            normalizedSearchValue = normalizedSearchValue.substr(SCOPE_PREFIX.length);\n        }\n        for (var i = 0; i < flattened.length; i++) {\n            var element = flattened[i];\n            var label = strings.trim(element.name);\n            // Check for meatch\n            var highlights = matchesFuzzy(normalizedSearchValue, label);\n            if (highlights) {\n                // Show parent scope as description\n                var description = null;\n                if (element.containerName) {\n                    description = element.containerName;\n                }\n                // Add\n                results.push(this.symbolEntry(label, symbolKindToCssClass(element.kind), description, element.location, highlights, editor, controller));\n            }\n        }\n        // Sort properly if actually searching\n        if (searchValue) {\n            if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n                results = results.sort(this.sortScoped.bind(this, searchValue.toLowerCase()));\n            }\n            else {\n                results = results.sort(this.sortNormal.bind(this, searchValue.toLowerCase()));\n            }\n        }\n        // Mark all type groups\n        if (results.length > 0 && searchValue.indexOf(SCOPE_PREFIX) === 0) {\n            var currentType = null;\n            var currentResult = null;\n            var typeCounter = 0;\n            for (var i = 0; i < results.length; i++) {\n                var result = results[i];\n                // Found new type\n                if (currentType !== result.getType()) {\n                    // Update previous result with count\n                    if (currentResult) {\n                        currentResult.setGroupLabel(this.typeToLabel(currentType, typeCounter));\n                    }\n                    currentType = result.getType();\n                    currentResult = result;\n                    typeCounter = 1;\n                    result.setShowBorder(i > 0);\n                }\n                // Existing type, keep counting\n                else {\n                    typeCounter++;\n                }\n            }\n            // Update previous result with count\n            if (currentResult) {\n                currentResult.setGroupLabel(this.typeToLabel(currentType, typeCounter));\n            }\n        }\n        // Mark first entry as outline\n        else if (results.length > 0) {\n            results[0].setGroupLabel(nls.localize('symbols', \"symbols ({0})\", results.length));\n        }\n        return results;\n    };\n    QuickOutlineAction.prototype.typeToLabel = function (type, count) {\n        switch (type) {\n            case 'module': return nls.localize('modules', \"modules ({0})\", count);\n            case 'class': return nls.localize('class', \"classes ({0})\", count);\n            case 'interface': return nls.localize('interface', \"interfaces ({0})\", count);\n            case 'method': return nls.localize('method', \"methods ({0})\", count);\n            case 'function': return nls.localize('function', \"functions ({0})\", count);\n            case 'property': return nls.localize('property', \"properties ({0})\", count);\n            case 'variable': return nls.localize('variable', \"variables ({0})\", count);\n            case 'var': return nls.localize('variable2', \"variables ({0})\", count);\n            case 'constructor': return nls.localize('_constructor', \"constructors ({0})\", count);\n            case 'call': return nls.localize('call', \"calls ({0})\", count);\n        }\n        return type;\n    };\n    QuickOutlineAction.prototype.sortNormal = function (searchValue, elementA, elementB) {\n        var elementAName = elementA.getLabel().toLowerCase();\n        var elementBName = elementB.getLabel().toLowerCase();\n        // Compare by name\n        var r = elementAName.localeCompare(elementBName);\n        if (r !== 0) {\n            return r;\n        }\n        // If name identical sort by range instead\n        var elementARange = elementA.getRange();\n        var elementBRange = elementB.getRange();\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\n    };\n    QuickOutlineAction.prototype.sortScoped = function (searchValue, elementA, elementB) {\n        // Remove scope char\n        searchValue = searchValue.substr(SCOPE_PREFIX.length);\n        // Sort by type first if scoped search\n        var elementAType = elementA.getType();\n        var elementBType = elementB.getType();\n        var r = elementAType.localeCompare(elementBType);\n        if (r !== 0) {\n            return r;\n        }\n        // Special sort when searching in scoped mode\n        if (searchValue) {\n            var elementAName = elementA.getLabel().toLowerCase();\n            var elementBName = elementB.getLabel().toLowerCase();\n            // Compare by name\n            var r_1 = elementAName.localeCompare(elementBName);\n            if (r_1 !== 0) {\n                return r_1;\n            }\n        }\n        // Default to sort by range\n        var elementARange = elementA.getRange();\n        var elementBRange = elementB.getRange();\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\n    };\n    return QuickOutlineAction;\n}(BaseEditorQuickOpenAction));\nexport { QuickOutlineAction };\nregisterEditorAction(QuickOutlineAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport './gotoLine.css';\nimport * as nls from '../../../../nls.js';\nimport { QuickOpenEntry, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\nimport { Mode } from '../../../../base/parts/quickopen/common/quickOpen.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nvar GotoLineEntry = /** @class */ (function (_super) {\n    __extends(GotoLineEntry, _super);\n    function GotoLineEntry(line, editor, decorator) {\n        var _this = _super.call(this) || this;\n        _this.editor = editor;\n        _this.decorator = decorator;\n        _this._parseResult = _this._parseInput(line);\n        return _this;\n    }\n    GotoLineEntry.prototype._parseInput = function (line) {\n        var numbers = line.split(',').map(function (part) { return parseInt(part, 10); }).filter(function (part) { return !isNaN(part); }), position;\n        if (numbers.length === 0) {\n            position = new Position(-1, -1);\n        }\n        else if (numbers.length === 1) {\n            position = new Position(numbers[0], 1);\n        }\n        else {\n            position = new Position(numbers[0], numbers[1]);\n        }\n        var model;\n        if (isCodeEditor(this.editor)) {\n            model = this.editor.getModel();\n        }\n        else {\n            model = this.editor.getModel().modified;\n        }\n        var isValid = model.validatePosition(position).equals(position), label;\n        if (isValid) {\n            if (position.column && position.column > 1) {\n                label = nls.localize('gotoLineLabelValidLineAndColumn', \"Go to line {0} and character {1}\", position.lineNumber, position.column);\n            }\n            else {\n                label = nls.localize('gotoLineLabelValidLine', \"Go to line {0}\", position.lineNumber, position.column);\n            }\n        }\n        else if (position.lineNumber < 1 || position.lineNumber > model.getLineCount()) {\n            label = nls.localize('gotoLineLabelEmptyWithLineLimit', \"Type a line number between 1 and {0} to navigate to\", model.getLineCount());\n        }\n        else {\n            label = nls.localize('gotoLineLabelEmptyWithLineAndColumnLimit', \"Type a character between 1 and {0} to navigate to\", model.getLineMaxColumn(position.lineNumber));\n        }\n        return {\n            position: position,\n            isValid: isValid,\n            label: label\n        };\n    };\n    GotoLineEntry.prototype.getLabel = function () {\n        return this._parseResult.label;\n    };\n    GotoLineEntry.prototype.getAriaLabel = function () {\n        return nls.localize('gotoLineAriaLabel', \"Go to line {0}\", this._parseResult.label);\n    };\n    GotoLineEntry.prototype.run = function (mode, context) {\n        if (mode === Mode.OPEN) {\n            return this.runOpen();\n        }\n        return this.runPreview();\n    };\n    GotoLineEntry.prototype.runOpen = function () {\n        // No-op if range is not valid\n        if (!this._parseResult.isValid) {\n            return false;\n        }\n        // Apply selection and focus\n        var range = this.toSelection();\n        this.editor.setSelection(range);\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\n        this.editor.focus();\n        return true;\n    };\n    GotoLineEntry.prototype.runPreview = function () {\n        // No-op if range is not valid\n        if (!this._parseResult.isValid) {\n            this.decorator.clearDecorations();\n            return false;\n        }\n        // Select Line Position\n        var range = this.toSelection();\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\n        // Decorate if possible\n        this.decorator.decorateLine(range, this.editor);\n        return false;\n    };\n    GotoLineEntry.prototype.toSelection = function () {\n        return new Range(this._parseResult.position.lineNumber, this._parseResult.position.column, this._parseResult.position.lineNumber, this._parseResult.position.column);\n    };\n    return GotoLineEntry;\n}(QuickOpenEntry));\nexport { GotoLineEntry };\nvar GotoLineAction = /** @class */ (function (_super) {\n    __extends(GotoLineAction, _super);\n    function GotoLineAction() {\n        return _super.call(this, nls.localize('gotoLineActionInput', \"Type a line number, followed by an optional colon and a character number to navigate to\"), {\n            id: 'editor.action.gotoLine',\n            label: nls.localize('GotoLineAction.label', \"Go to Line...\"),\n            alias: 'Go to Line...',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */,\n                mac: { primary: 256 /* WinCtrl */ | 37 /* KEY_G */ }\n            }\n        }) || this;\n    }\n    GotoLineAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        this._show(this.getController(editor), {\n            getModel: function (value) {\n                return new QuickOpenModel([new GotoLineEntry(value, editor, _this.getController(editor))]);\n            },\n            getAutoFocus: function (searchValue) {\n                return {\n                    autoFocusFirstEntry: searchValue.length > 0\n                };\n            }\n        });\n    };\n    return GotoLineAction;\n}(BaseEditorQuickOpenAction));\nexport { GotoLineAction };\nregisterEditorAction(GotoLineAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../../nls.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\nimport { TPromise } from '../../../../base/common/winjs.base.js';\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\nimport { Mode } from '../../../../base/parts/quickopen/common/quickOpen.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as browser from '../../../../base/browser/browser.js';\nvar EditorActionCommandEntry = /** @class */ (function (_super) {\n    __extends(EditorActionCommandEntry, _super);\n    function EditorActionCommandEntry(key, highlights, action, editor) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.setHighlights(highlights);\n        _this.action = action;\n        _this.editor = editor;\n        return _this;\n    }\n    EditorActionCommandEntry.prototype.getLabel = function () {\n        return this.action.label;\n    };\n    EditorActionCommandEntry.prototype.getAriaLabel = function () {\n        return nls.localize('ariaLabelEntry', \"{0}, commands\", this.getLabel());\n    };\n    EditorActionCommandEntry.prototype.getGroupLabel = function () {\n        return this.key;\n    };\n    EditorActionCommandEntry.prototype.run = function (mode, context) {\n        var _this = this;\n        if (mode === Mode.OPEN) {\n            // Use a timeout to give the quick open widget a chance to close itself first\n            TPromise.timeout(50).done(function () {\n                // Some actions are enabled only when editor has focus\n                _this.editor.focus();\n                try {\n                    var promise = _this.action.run() || TPromise.as(null);\n                    promise.done(null, onUnexpectedError);\n                }\n                catch (error) {\n                    onUnexpectedError(error);\n                }\n            }, onUnexpectedError);\n            return true;\n        }\n        return false;\n    };\n    return EditorActionCommandEntry;\n}(QuickOpenEntryGroup));\nexport { EditorActionCommandEntry };\nvar QuickCommandAction = /** @class */ (function (_super) {\n    __extends(QuickCommandAction, _super);\n    function QuickCommandAction() {\n        return _super.call(this, nls.localize('quickCommandActionInput', \"Type the name of an action you want to execute\"), {\n            id: 'editor.action.quickCommand',\n            label: nls.localize('QuickCommandAction.label', \"Command Palette\"),\n            alias: 'Command Palette',\n            precondition: null,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: (browser.isIE ? 512 /* Alt */ | 59 /* F1 */ : 59 /* F1 */)\n            },\n            menuOpts: {}\n        }) || this;\n    }\n    QuickCommandAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        var keybindingService = accessor.get(IKeybindingService);\n        this._show(this.getController(editor), {\n            getModel: function (value) {\n                return new QuickOpenModel(_this._editorActionsToEntries(keybindingService, editor, value));\n            },\n            getAutoFocus: function (searchValue) {\n                return {\n                    autoFocusFirstEntry: true,\n                    autoFocusPrefixMatch: searchValue\n                };\n            }\n        });\n    };\n    QuickCommandAction.prototype._sort = function (elementA, elementB) {\n        var elementAName = elementA.getLabel().toLowerCase();\n        var elementBName = elementB.getLabel().toLowerCase();\n        return elementAName.localeCompare(elementBName);\n    };\n    QuickCommandAction.prototype._editorActionsToEntries = function (keybindingService, editor, searchValue) {\n        var actions = editor.getSupportedActions();\n        var entries = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            var keybind = keybindingService.lookupKeybinding(action.id);\n            if (action.label) {\n                var highlights = matchesFuzzy(searchValue, action.label);\n                if (highlights) {\n                    entries.push(new EditorActionCommandEntry(keybind ? keybind.getLabel() : '', highlights, action, editor));\n                }\n            }\n        }\n        // Sort by name\n        entries = entries.sort(this._sort);\n        return entries;\n    };\n    return QuickCommandAction;\n}(BaseEditorQuickOpenAction));\nexport { QuickCommandAction };\nregisterEditorAction(QuickCommandAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nls from '../../../../nls.js';\nimport { registerEditorAction, EditorAction } from '../../../browser/editorExtensions.js';\nimport { IStandaloneThemeService } from '../../common/standaloneThemeService.js';\nvar ToggleHighContrast = /** @class */ (function (_super) {\n    __extends(ToggleHighContrast, _super);\n    function ToggleHighContrast() {\n        var _this = _super.call(this, {\n            id: 'editor.action.toggleHighContrast',\n            label: nls.localize('toggleHighContrast', \"Toggle High Contrast Theme\"),\n            alias: 'Toggle High Contrast Theme',\n            precondition: null\n        }) || this;\n        _this._originalThemeName = null;\n        return _this;\n    }\n    ToggleHighContrast.prototype.run = function (accessor, editor) {\n        var standaloneThemeService = accessor.get(IStandaloneThemeService);\n        if (this._originalThemeName) {\n            // We must toggle back to the integrator's theme\n            standaloneThemeService.setTheme(this._originalThemeName);\n            this._originalThemeName = null;\n        }\n        else {\n            this._originalThemeName = standaloneThemeService.getTheme().themeName;\n            standaloneThemeService.setTheme('hc-black');\n        }\n    };\n    return ToggleHighContrast;\n}(EditorAction));\nregisterEditorAction(ToggleHighContrast);\n","/**\n * (1) Features\n *\n * By default all the features are included\n * but you can comment out the ones you don't\n * need if you want to limit the size.\n *\n * NOTE: Changing requires rebuilding.\n *\n */\nimport 'monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget';\nimport 'monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget';\nimport 'monaco-editor/esm/vs/editor/browser/widget/diffNavigator';\nimport 'monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching';\nimport 'monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations';\nimport 'monaco-editor/esm/vs/editor/contrib/caretOperations/transpose';\nimport 'monaco-editor/esm/vs/editor/contrib/clipboard/clipboard';\nimport 'monaco-editor/esm/vs/editor/contrib/codelens/codelensController';\nimport 'monaco-editor/esm/vs/editor/contrib/colorPicker/colorDetector';\nimport 'monaco-editor/esm/vs/editor/contrib/comment/comment';\nimport 'monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu';\nimport 'monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo';\nimport 'monaco-editor/esm/vs/editor/contrib/dnd/dnd';\nimport 'monaco-editor/esm/vs/editor/contrib/find/findController';\nimport 'monaco-editor/esm/vs/editor/contrib/folding/folding';\nimport 'monaco-editor/esm/vs/editor/contrib/format/formatActions';\nimport 'monaco-editor/esm/vs/editor/contrib/goToDeclaration/goToDeclarationCommands';\nimport 'monaco-editor/esm/vs/editor/contrib/goToDeclaration/goToDeclarationMouse';\nimport 'monaco-editor/esm/vs/editor/contrib/gotoError/gotoError';\nimport 'monaco-editor/esm/vs/editor/contrib/hover/hover';\nimport 'monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplace';\nimport 'monaco-editor/esm/vs/editor/contrib/linesOperations/linesOperations';\nimport 'monaco-editor/esm/vs/editor/contrib/links/links';\nimport 'monaco-editor/esm/vs/editor/contrib/multicursor/multicursor';\nimport 'monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints';\nimport 'monaco-editor/esm/vs/editor/contrib/referenceSearch/referenceSearch';\nimport 'monaco-editor/esm/vs/editor/contrib/rename/rename';\nimport 'monaco-editor/esm/vs/editor/contrib/smartSelect/smartSelect';\nimport 'monaco-editor/esm/vs/editor/contrib/snippet/snippetController2';\nimport 'monaco-editor/esm/vs/editor/contrib/suggest/suggestController';\nimport 'monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode';\nimport 'monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter';\nimport 'monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast';\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { startsWith } from '../../../base/common/strings.js';\nvar CodeActionKind = /** @class */ (function () {\n    function CodeActionKind(value) {\n        this.value = value;\n    }\n    CodeActionKind.prototype.contains = function (other) {\n        return this.value === other || startsWith(other, this.value + CodeActionKind.sep);\n    };\n    CodeActionKind.sep = '.';\n    CodeActionKind.Empty = new CodeActionKind('');\n    CodeActionKind.Refactor = new CodeActionKind('refactor');\n    CodeActionKind.Source = new CodeActionKind('source');\n    CodeActionKind.SourceOrganizeImports = new CodeActionKind('source.organizeImports');\n    return CodeActionKind;\n}());\nexport { CodeActionKind };\nexport var CodeActionAutoApply;\n(function (CodeActionAutoApply) {\n    CodeActionAutoApply[CodeActionAutoApply[\"IfSingle\"] = 1] = \"IfSingle\";\n    CodeActionAutoApply[CodeActionAutoApply[\"First\"] = 2] = \"First\";\n    CodeActionAutoApply[CodeActionAutoApply[\"Never\"] = 3] = \"Never\";\n})(CodeActionAutoApply || (CodeActionAutoApply = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, mergeSort, flatten } from '../../../base/common/arrays.js';\nimport { asWinJsPromise } from '../../../base/common/async.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport URI from '../../../base/common/uri.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { Range } from '../../common/core/range.js';\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { CodeActionKind } from './codeActionTrigger.js';\nexport function getCodeActions(model, range, filter) {\n    var codeActionContext = { only: filter && filter.kind ? filter.kind.value : undefined };\n    var promises = CodeActionProviderRegistry.all(model).map(function (support) {\n        return asWinJsPromise(function (token) { return support.provideCodeActions(model, range, codeActionContext, token); }).then(function (providedCodeActions) {\n            if (!Array.isArray(providedCodeActions)) {\n                return [];\n            }\n            return providedCodeActions.filter(function (action) { return isValidAction(filter, action); });\n        }, function (err) {\n            onUnexpectedExternalError(err);\n            return [];\n        });\n    });\n    return TPromise.join(promises)\n        .then(flatten)\n        .then(function (allCodeActions) { return mergeSort(allCodeActions, codeActionsComparator); });\n}\nfunction isValidAction(filter, action) {\n    if (!action) {\n        return false;\n    }\n    // Filter out actions by kind\n    if (filter && filter.kind && (!action.kind || !filter.kind.contains(action.kind))) {\n        return false;\n    }\n    // Don't return source actions unless they are explicitly requested\n    if (action.kind && CodeActionKind.Source.contains(action.kind) && (!filter || !filter.includeSourceActions)) {\n        return false;\n    }\n    return true;\n}\nfunction codeActionsComparator(a, b) {\n    var aHasDiags = !isFalsyOrEmpty(a.diagnostics);\n    var bHasDiags = !isFalsyOrEmpty(b.diagnostics);\n    if (aHasDiags) {\n        if (bHasDiags) {\n            return a.diagnostics[0].message.localeCompare(b.diagnostics[0].message);\n        }\n        else {\n            return -1;\n        }\n    }\n    else if (bHasDiags) {\n        return 1;\n    }\n    else {\n        return 0; // both have no diagnostics\n    }\n}\nregisterLanguageCommand('_executeCodeActionProvider', function (accessor, args) {\n    var resource = args.resource, range = args.range;\n    if (!(resource instanceof URI) || !Range.isIRange(range)) {\n        throw illegalArgument();\n    }\n    var model = accessor.get(IModelService).getModel(resource);\n    if (!model) {\n        throw illegalArgument();\n    }\n    return getCodeActions(model, model.validateRange(range));\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, debounceEvent } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { getCodeActions } from './codeAction.js';\nexport var SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\nvar CodeActionOracle = /** @class */ (function () {\n    function CodeActionOracle(_editor, _markerService, _signalChange, delay) {\n        if (delay === void 0) { delay = 250; }\n        var _this = this;\n        this._editor = _editor;\n        this._markerService = _markerService;\n        this._signalChange = _signalChange;\n        this._disposables = [];\n        this._disposables.push(debounceEvent(this._markerService.onMarkerChanged, function (last, cur) { return last ? last.concat(cur) : cur; }, delay / 2)(function (e) { return _this._onMarkerChanges(e); }), debounceEvent(this._editor.onDidChangeCursorPosition, function (last, cur) { return cur; }, delay)(function (e) { return _this._onCursorChange(); }));\n    }\n    CodeActionOracle.prototype.dispose = function () {\n        this._disposables = dispose(this._disposables);\n    };\n    CodeActionOracle.prototype.trigger = function (trigger) {\n        var rangeOrSelection = this._getRangeOfMarker() || this._getRangeOfSelectionUnlessWhitespaceEnclosed();\n        if (!rangeOrSelection && trigger.type === 'manual') {\n            rangeOrSelection = this._editor.getSelection();\n        }\n        return this._createEventAndSignalChange(trigger, rangeOrSelection);\n    };\n    CodeActionOracle.prototype._onMarkerChanges = function (resources) {\n        var uri = this._editor.getModel().uri;\n        for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n            var resource = resources_1[_i];\n            if (resource.toString() === uri.toString()) {\n                this.trigger({ type: 'auto' });\n                return;\n            }\n        }\n    };\n    CodeActionOracle.prototype._onCursorChange = function () {\n        this.trigger({ type: 'auto' });\n    };\n    CodeActionOracle.prototype._getRangeOfMarker = function () {\n        var selection = this._editor.getSelection();\n        var model = this._editor.getModel();\n        for (var _i = 0, _a = this._markerService.read({ resource: model.uri }); _i < _a.length; _i++) {\n            var marker = _a[_i];\n            if (Range.intersectRanges(marker, selection)) {\n                return Range.lift(marker);\n            }\n        }\n        return undefined;\n    };\n    CodeActionOracle.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed = function () {\n        var model = this._editor.getModel();\n        var selection = this._editor.getSelection();\n        if (selection.isEmpty()) {\n            var _a = selection.getPosition(), lineNumber = _a.lineNumber, column = _a.column;\n            var line = model.getLineContent(lineNumber);\n            if (line.length === 0) {\n                // empty line\n                return undefined;\n            }\n            else if (column === 1) {\n                // look only right\n                if (/\\s/.test(line[0])) {\n                    return undefined;\n                }\n            }\n            else if (column === model.getLineMaxColumn(lineNumber)) {\n                // look only left\n                if (/\\s/.test(line[line.length - 1])) {\n                    return undefined;\n                }\n            }\n            else {\n                // look left and right\n                if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\n                    return undefined;\n                }\n            }\n        }\n        return selection;\n    };\n    CodeActionOracle.prototype._createEventAndSignalChange = function (trigger, rangeOrSelection) {\n        if (!rangeOrSelection) {\n            // cancel\n            this._signalChange({\n                trigger: trigger,\n                range: undefined,\n                position: undefined,\n                actions: undefined,\n            });\n            return TPromise.as(undefined);\n        }\n        else {\n            // actual\n            var model = this._editor.getModel();\n            var range = model.validateRange(rangeOrSelection);\n            var position = rangeOrSelection instanceof Selection ? rangeOrSelection.getPosition() : rangeOrSelection.getStartPosition();\n            var actions = getCodeActions(model, range, trigger && trigger.filter);\n            this._signalChange({\n                trigger: trigger,\n                range: range,\n                position: position,\n                actions: actions\n            });\n            return actions;\n        }\n    };\n    return CodeActionOracle;\n}());\nexport { CodeActionOracle };\nvar CodeActionModel = /** @class */ (function () {\n    function CodeActionModel(editor, markerService, contextKeyService) {\n        var _this = this;\n        this._onDidChangeFixes = new Emitter();\n        this._disposables = [];\n        this._editor = editor;\n        this._markerService = markerService;\n        this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\n        this._disposables.push(this._editor.onDidChangeModel(function () { return _this._update(); }));\n        this._disposables.push(this._editor.onDidChangeModelLanguage(function () { return _this._update(); }));\n        this._disposables.push(CodeActionProviderRegistry.onDidChange(this._update, this));\n        this._update();\n    }\n    CodeActionModel.prototype.dispose = function () {\n        this._disposables = dispose(this._disposables);\n        dispose(this._codeActionOracle);\n    };\n    Object.defineProperty(CodeActionModel.prototype, \"onDidChangeFixes\", {\n        get: function () {\n            return this._onDidChangeFixes.event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CodeActionModel.prototype._update = function () {\n        var _this = this;\n        if (this._codeActionOracle) {\n            this._codeActionOracle.dispose();\n            this._codeActionOracle = undefined;\n            this._onDidChangeFixes.fire(undefined);\n        }\n        if (this._editor.getModel()\n            && CodeActionProviderRegistry.has(this._editor.getModel())\n            && !this._editor.getConfiguration().readOnly) {\n            var supportedActions = [];\n            for (var _i = 0, _a = CodeActionProviderRegistry.all(this._editor.getModel()); _i < _a.length; _i++) {\n                var provider = _a[_i];\n                if (Array.isArray(provider.providedCodeActionKinds)) {\n                    supportedActions.push.apply(supportedActions, provider.providedCodeActionKinds);\n                }\n            }\n            this._supportedCodeActions.set(supportedActions.join(' '));\n            this._codeActionOracle = new CodeActionOracle(this._editor, this._markerService, function (p) { return _this._onDidChangeFixes.fire(p); });\n            this._codeActionOracle.trigger({ type: 'auto' });\n        }\n        else {\n            this._supportedCodeActions.reset();\n        }\n    };\n    CodeActionModel.prototype.trigger = function (trigger) {\n        if (this._codeActionOracle) {\n            return this._codeActionOracle.trigger(trigger);\n        }\n        return TPromise.as(undefined);\n    };\n    return CodeActionModel;\n}());\nexport { CodeActionModel };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getDomNodePagePosition } from '../../../base/browser/dom.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { always } from '../../../base/common/async.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { Position } from '../../common/core/position.js';\nvar CodeActionContextMenu = /** @class */ (function () {\n    function CodeActionContextMenu(_editor, _contextMenuService, _onApplyCodeAction) {\n        this._editor = _editor;\n        this._contextMenuService = _contextMenuService;\n        this._onApplyCodeAction = _onApplyCodeAction;\n        this._onDidExecuteCodeAction = new Emitter();\n        this.onDidExecuteCodeAction = this._onDidExecuteCodeAction.event;\n    }\n    CodeActionContextMenu.prototype.show = function (fixes, at) {\n        var _this = this;\n        var actions = fixes.then(function (value) {\n            return value.map(function (action) {\n                return new Action(action.command ? action.command.id : action.title, action.title, undefined, true, function () {\n                    return always(_this._onApplyCodeAction(action), function () { return _this._onDidExecuteCodeAction.fire(undefined); });\n                });\n            });\n        }).then(function (actions) {\n            if (!_this._editor.getDomNode()) {\n                // cancel when editor went off-dom\n                return TPromise.wrapError(canceled());\n            }\n            return actions;\n        });\n        this._contextMenuService.showContextMenu({\n            getAnchor: function () {\n                if (Position.isIPosition(at)) {\n                    at = _this._toCoords(at);\n                }\n                return at;\n            },\n            getActions: function () { return actions; },\n            onHide: function () { _this._visible = false; },\n            autoSelectFirstItem: true\n        });\n    };\n    Object.defineProperty(CodeActionContextMenu.prototype, \"isVisible\", {\n        get: function () {\n            return this._visible;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CodeActionContextMenu.prototype._toCoords = function (position) {\n        this._editor.revealPosition(position, 1 /* Immediate */);\n        this._editor.render();\n        // Translate to absolute editor position\n        var cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\n        var editorCoords = getDomNodePagePosition(this._editor.getDomNode());\n        var x = editorCoords.left + cursorCoords.left;\n        var y = editorCoords.top + cursorCoords.top + cursorCoords.height;\n        return { x: x, y: y };\n    };\n    return CodeActionContextMenu;\n}());\nexport { CodeActionContextMenu };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport './lightBulbWidget.css';\nimport { ContentWidgetPositionPreference } from '../../browser/editorBrowser.js';\nimport { TextModel } from '../../common/model/textModel.js';\nvar LightBulbWidget = /** @class */ (function () {\n    function LightBulbWidget(editor) {\n        var _this = this;\n        this._disposables = [];\n        this._onClick = new Emitter();\n        this.onClick = this._onClick.event;\n        this._futureFixes = new CancellationTokenSource();\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'lightbulb-glyph';\n        this._editor = editor;\n        this._editor.addContentWidget(this);\n        this._disposables.push(this._editor.onDidChangeModel(function (_) { return _this._futureFixes.cancel(); }));\n        this._disposables.push(this._editor.onDidChangeModelLanguage(function (_) { return _this._futureFixes.cancel(); }));\n        this._disposables.push(this._editor.onDidChangeModelContent(function (_) {\n            // cancel when the line in question has been removed\n            if (_this._model && _this.model.position.lineNumber >= _this._editor.getModel().getLineCount()) {\n                _this._futureFixes.cancel();\n            }\n        }));\n        this._disposables.push(dom.addStandardDisposableListener(this._domNode, 'click', function (e) {\n            // Make sure that focus / cursor location is not lost when clicking widget icon\n            _this._editor.focus();\n            // a bit of extra work to make sure the menu\n            // doesn't cover the line-text\n            var _a = dom.getDomNodePagePosition(_this._domNode), top = _a.top, height = _a.height;\n            var lineHeight = _this._editor.getConfiguration().lineHeight;\n            var pad = Math.floor(lineHeight / 3);\n            if (_this._position.position.lineNumber < _this._model.position.lineNumber) {\n                pad += lineHeight;\n            }\n            _this._onClick.fire({\n                x: e.posx,\n                y: top + height + pad\n            });\n        }));\n        this._disposables.push(dom.addDisposableListener(this._domNode, 'mouseenter', function (e) {\n            if ((e.buttons & 1) !== 1) {\n                return;\n            }\n            // mouse enters lightbulb while the primary/left button\n            // is being pressed -> hide the lightbulb and block future\n            // showings until mouse is released\n            _this.hide();\n            var monitor = new GlobalMouseMoveMonitor();\n            monitor.startMonitoring(standardMouseMoveMerger, function () { }, function () {\n                monitor.dispose();\n            });\n        }));\n        this._disposables.push(this._editor.onDidChangeConfiguration(function (e) {\n            // hide when told to do so\n            if (e.contribInfo && !_this._editor.getConfiguration().contribInfo.lightbulbEnabled) {\n                _this.hide();\n            }\n        }));\n    }\n    LightBulbWidget.prototype.dispose = function () {\n        dispose(this._disposables);\n        this._editor.removeContentWidget(this);\n    };\n    LightBulbWidget.prototype.getId = function () {\n        return 'LightBulbWidget';\n    };\n    LightBulbWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    LightBulbWidget.prototype.getPosition = function () {\n        return this._position;\n    };\n    Object.defineProperty(LightBulbWidget.prototype, \"model\", {\n        get: function () {\n            return this._model;\n        },\n        set: function (value) {\n            var _this = this;\n            if (this._position && (!value.position || this._position.position.lineNumber !== value.position.lineNumber)) {\n                // hide when getting a 'hide'-request or when currently\n                // showing on another line\n                this.hide();\n            }\n            else if (this._futureFixes) {\n                // cancel pending show request in any case\n                this._futureFixes.cancel();\n            }\n            this._futureFixes = new CancellationTokenSource();\n            var token = this._futureFixes.token;\n            this._model = value;\n            this._model.actions.done(function (fixes) {\n                if (!token.isCancellationRequested && fixes && fixes.length > 0) {\n                    _this._show();\n                }\n                else {\n                    _this.hide();\n                }\n            }, function (err) {\n                _this.hide();\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LightBulbWidget.prototype, \"title\", {\n        get: function () {\n            return this._domNode.title;\n        },\n        set: function (value) {\n            this._domNode.title = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LightBulbWidget.prototype._show = function () {\n        var config = this._editor.getConfiguration();\n        if (!config.contribInfo.lightbulbEnabled) {\n            return;\n        }\n        var lineNumber = this._model.position.lineNumber;\n        var model = this._editor.getModel();\n        var tabSize = model.getOptions().tabSize;\n        var lineContent = model.getLineContent(lineNumber);\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\n        var lineHasSpace = config.fontInfo.spaceWidth * indent > 22;\n        var effectiveLineNumber = lineNumber;\n        if (!lineHasSpace) {\n            if (lineNumber > 1) {\n                effectiveLineNumber -= 1;\n            }\n            else {\n                effectiveLineNumber += 1;\n            }\n        }\n        this._position = {\n            position: { lineNumber: effectiveLineNumber, column: 1 },\n            preference: LightBulbWidget._posPref\n        };\n        this._editor.layoutContentWidget(this);\n    };\n    LightBulbWidget.prototype.hide = function () {\n        this._position = null;\n        this._model = null;\n        this._futureFixes.cancel();\n        this._editor.layoutContentWidget(this);\n    };\n    LightBulbWidget._posPref = [ContentWidgetPositionPreference.EXACT];\n    return LightBulbWidget;\n}());\nexport { LightBulbWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { TPromise } from '../../../base/common/winjs.base.js';\nimport { EditorAction, EditorCommand } from '../../browser/editorExtensions.js';\nimport { BulkEdit } from '../../browser/services/bulkEdit.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { MessageController } from '../message/messageController.js';\nimport * as nls from '../../../nls.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\nimport { IFileService } from '../../../platform/files/common/files.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { CodeActionModel, SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\nimport { CodeActionAutoApply, CodeActionKind } from './codeActionTrigger.js';\nimport { CodeActionContextMenu } from './codeActionWidget.js';\nimport { LightBulbWidget } from './lightBulbWidget.js';\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\nfunction contextKeyForSupportedActions(kind) {\n    return ContextKeyExpr.regex(SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\n}\nvar QuickFixController = /** @class */ (function () {\n    function QuickFixController(editor, markerService, contextKeyService, _commandService, contextMenuService, _keybindingService, _textModelService, _fileService) {\n        var _this = this;\n        this._commandService = _commandService;\n        this._keybindingService = _keybindingService;\n        this._textModelService = _textModelService;\n        this._fileService = _fileService;\n        this._disposables = [];\n        this._editor = editor;\n        this._model = new CodeActionModel(this._editor, markerService, contextKeyService);\n        this._codeActionContextMenu = new CodeActionContextMenu(editor, contextMenuService, function (action) { return _this._onApplyCodeAction(action); });\n        this._lightBulbWidget = new LightBulbWidget(editor);\n        this._updateLightBulbTitle();\n        this._disposables.push(this._codeActionContextMenu.onDidExecuteCodeAction(function (_) { return _this._model.trigger({ type: 'auto', filter: {} }); }), this._lightBulbWidget.onClick(this._handleLightBulbSelect, this), this._model.onDidChangeFixes(function (e) { return _this._onCodeActionsEvent(e); }), this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle, this));\n    }\n    QuickFixController.get = function (editor) {\n        return editor.getContribution(QuickFixController.ID);\n    };\n    QuickFixController.prototype.dispose = function () {\n        this._model.dispose();\n        dispose(this._disposables);\n    };\n    QuickFixController.prototype._onCodeActionsEvent = function (e) {\n        var _this = this;\n        if (e && e.trigger.filter && e.trigger.filter.kind) {\n            // Triggered for specific scope\n            // Apply if we only have one action or requested autoApply, otherwise show menu\n            e.actions.then(function (fixes) {\n                if (e.trigger.autoApply === CodeActionAutoApply.First || (e.trigger.autoApply === CodeActionAutoApply.IfSingle && fixes.length === 1)) {\n                    _this._onApplyCodeAction(fixes[0]);\n                }\n                else {\n                    _this._codeActionContextMenu.show(e.actions, e.position);\n                }\n            });\n            return;\n        }\n        if (e && e.trigger.type === 'manual') {\n            this._codeActionContextMenu.show(e.actions, e.position);\n        }\n        else if (e && e.actions) {\n            // auto magically triggered\n            // * update an existing list of code actions\n            // * manage light bulb\n            if (this._codeActionContextMenu.isVisible) {\n                this._codeActionContextMenu.show(e.actions, e.position);\n            }\n            else {\n                this._lightBulbWidget.model = e;\n            }\n        }\n        else {\n            this._lightBulbWidget.hide();\n        }\n    };\n    QuickFixController.prototype.getId = function () {\n        return QuickFixController.ID;\n    };\n    QuickFixController.prototype._handleLightBulbSelect = function (coords) {\n        this._codeActionContextMenu.show(this._lightBulbWidget.model.actions, coords);\n    };\n    QuickFixController.prototype.triggerFromEditorSelection = function (filter, autoApply) {\n        return this._model.trigger({ type: 'manual', filter: filter, autoApply: autoApply });\n    };\n    QuickFixController.prototype._updateLightBulbTitle = function () {\n        var kb = this._keybindingService.lookupKeybinding(QuickFixAction.Id);\n        var title;\n        if (kb) {\n            title = nls.localize('quickFixWithKb', \"Show Fixes ({0})\", kb.getLabel());\n        }\n        else {\n            title = nls.localize('quickFix', \"Show Fixes\");\n        }\n        this._lightBulbWidget.title = title;\n    };\n    QuickFixController.prototype._onApplyCodeAction = function (action) {\n        return __awaiter(this, void 0, TPromise, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, applyCodeAction(action, this._textModelService, this._fileService, this._commandService, this._editor)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    QuickFixController.ID = 'editor.contrib.quickFixController';\n    QuickFixController = __decorate([\n        __param(1, IMarkerService),\n        __param(2, IContextKeyService),\n        __param(3, ICommandService),\n        __param(4, IContextMenuService),\n        __param(5, IKeybindingService),\n        __param(6, ITextModelService),\n        __param(7, optional(IFileService))\n    ], QuickFixController);\n    return QuickFixController;\n}());\nexport { QuickFixController };\nexport function applyCodeAction(action, textModelService, fileService, commandService, editor) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!action.edit) return [3 /*break*/, 2];\n                    return [4 /*yield*/, BulkEdit.perform(action.edit.edits, textModelService, fileService, editor)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    if (!action.command) return [3 /*break*/, 4];\n                    return [4 /*yield*/, commandService.executeCommand.apply(commandService, [action.command.id].concat(action.command.arguments))];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction showCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {\n    var controller = QuickFixController.get(editor);\n    if (!controller) {\n        return;\n    }\n    var pos = editor.getPosition();\n    controller.triggerFromEditorSelection(filter, autoApply).then(function (codeActions) {\n        if (!codeActions || !codeActions.length) {\n            MessageController.get(editor).showMessage(notAvailableMessage, pos);\n        }\n    });\n}\nvar QuickFixAction = /** @class */ (function (_super) {\n    __extends(QuickFixAction, _super);\n    function QuickFixAction() {\n        return _super.call(this, {\n            id: QuickFixAction.Id,\n            label: nls.localize('quickfix.trigger.label', \"Quick Fix...\"),\n            alias: 'Quick Fix',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* CtrlCmd */ | 84 /* US_DOT */\n            }\n        }) || this;\n    }\n    QuickFixAction.prototype.run = function (accessor, editor) {\n        return showCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"));\n    };\n    QuickFixAction.Id = 'editor.action.quickFix';\n    return QuickFixAction;\n}(EditorAction));\nexport { QuickFixAction };\nvar CodeActionCommandArgs = /** @class */ (function () {\n    function CodeActionCommandArgs(kind, apply) {\n        this.kind = kind;\n        this.apply = apply;\n    }\n    CodeActionCommandArgs.fromUser = function (arg) {\n        if (!arg || typeof arg !== 'object') {\n            return new CodeActionCommandArgs(CodeActionKind.Empty, CodeActionAutoApply.IfSingle);\n        }\n        return new CodeActionCommandArgs(CodeActionCommandArgs.getKindFromUser(arg), CodeActionCommandArgs.getApplyFromUser(arg));\n    };\n    CodeActionCommandArgs.getApplyFromUser = function (arg) {\n        switch (typeof arg.apply === 'string' ? arg.apply.toLowerCase() : '') {\n            case 'first':\n                return CodeActionAutoApply.First;\n            case 'never':\n                return CodeActionAutoApply.Never;\n            case 'ifsingle':\n            default:\n                return CodeActionAutoApply.IfSingle;\n        }\n    };\n    CodeActionCommandArgs.getKindFromUser = function (arg) {\n        return typeof arg.kind === 'string'\n            ? new CodeActionKind(arg.kind)\n            : CodeActionKind.Empty;\n    };\n    return CodeActionCommandArgs;\n}());\nvar CodeActionCommand = /** @class */ (function (_super) {\n    __extends(CodeActionCommand, _super);\n    function CodeActionCommand() {\n        return _super.call(this, {\n            id: CodeActionCommand.Id,\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider)\n        }) || this;\n    }\n    CodeActionCommand.prototype.runEditorCommand = function (accessor, editor, userArg) {\n        var args = CodeActionCommandArgs.fromUser(userArg);\n        return showCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), { kind: args.kind, includeSourceActions: true }, args.apply);\n    };\n    CodeActionCommand.Id = 'editor.action.codeAction';\n    return CodeActionCommand;\n}(EditorCommand));\nexport { CodeActionCommand };\nvar RefactorAction = /** @class */ (function (_super) {\n    __extends(RefactorAction, _super);\n    function RefactorAction() {\n        return _super.call(this, {\n            id: RefactorAction.Id,\n            label: nls.localize('refactor.label', \"Refactor...\"),\n            alias: 'Refactor',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 48 /* KEY_R */\n            },\n            menuOpts: {\n                group: '1_modification',\n                order: 2,\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Refactor)),\n            }\n        }) || this;\n    }\n    RefactorAction.prototype.run = function (accessor, editor) {\n        return showCodeActionsForEditorSelection(editor, nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"), { kind: CodeActionKind.Refactor }, CodeActionAutoApply.Never);\n    };\n    RefactorAction.Id = 'editor.action.refactor';\n    return RefactorAction;\n}(EditorAction));\nexport { RefactorAction };\nvar SourceAction = /** @class */ (function (_super) {\n    __extends(SourceAction, _super);\n    function SourceAction() {\n        return _super.call(this, {\n            id: SourceAction.Id,\n            label: nls.localize('source.label', \"Source Action...\"),\n            alias: 'Source Action',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n            menuOpts: {\n                group: '1_modification',\n                order: 2.1,\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Source)),\n            }\n        }) || this;\n    }\n    SourceAction.prototype.run = function (accessor, editor) {\n        return showCodeActionsForEditorSelection(editor, nls.localize('editor.action.source.noneMessage', \"No source actions available\"), { kind: CodeActionKind.Source, includeSourceActions: true }, CodeActionAutoApply.Never);\n    };\n    SourceAction.Id = 'editor.action.sourceAction';\n    return SourceAction;\n}(EditorAction));\nexport { SourceAction };\nvar OrganizeImportsAction = /** @class */ (function (_super) {\n    __extends(OrganizeImportsAction, _super);\n    function OrganizeImportsAction() {\n        return _super.call(this, {\n            id: OrganizeImportsAction.Id,\n            label: nls.localize('organizeImports.label', \"Organize Imports\"),\n            alias: 'Organize Imports',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 45 /* KEY_O */\n            }\n        }) || this;\n    }\n    OrganizeImportsAction.prototype.run = function (accessor, editor) {\n        return showCodeActionsForEditorSelection(editor, nls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"), { kind: CodeActionKind.SourceOrganizeImports, includeSourceActions: true }, CodeActionAutoApply.IfSingle);\n    };\n    OrganizeImportsAction.Id = 'editor.action.organizeImports';\n    return OrganizeImportsAction;\n}(EditorAction));\nexport { OrganizeImportsAction };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { SourceAction, QuickFixController, QuickFixAction, CodeActionCommand, RefactorAction, OrganizeImportsAction } from './codeActionCommands.js';\nregisterEditorContribution(QuickFixController);\nregisterEditorAction(QuickFixAction);\nregisterEditorAction(RefactorAction);\nregisterEditorAction(SourceAction);\nregisterEditorAction(OrganizeImportsAction);\nregisterEditorCommand(new CodeActionCommand());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport './browser/controller/coreCommands.js';\nimport './browser/widget/codeEditorWidget.js';\nimport './browser/widget/diffEditorWidget.js';\nimport './browser/widget/diffNavigator.js';\nimport './contrib/bracketMatching/bracketMatching.js';\nimport './contrib/caretOperations/caretOperations.js';\nimport './contrib/caretOperations/transpose.js';\nimport './contrib/clipboard/clipboard.js';\nimport './contrib/codelens/codelensController.js';\nimport './contrib/colorPicker/colorDetector.js';\nimport './contrib/comment/comment.js';\nimport './contrib/contextmenu/contextmenu.js';\nimport './contrib/cursorUndo/cursorUndo.js';\nimport './contrib/dnd/dnd.js';\nimport './contrib/find/findController.js';\nimport './contrib/folding/folding.js';\nimport './contrib/format/formatActions.js';\nimport './contrib/goToDeclaration/goToDeclarationCommands.js';\nimport './contrib/goToDeclaration/goToDeclarationMouse.js';\nimport './contrib/gotoError/gotoError.js';\nimport './contrib/hover/hover.js';\nimport './contrib/inPlaceReplace/inPlaceReplace.js';\nimport './contrib/linesOperations/linesOperations.js';\nimport './contrib/links/links.js';\nimport './contrib/multicursor/multicursor.js';\nimport './contrib/parameterHints/parameterHints.js';\nimport './contrib/codeAction/codeActionContributions.js';\nimport './contrib/referenceSearch/referenceSearch.js';\nimport './contrib/rename/rename.js';\nimport './contrib/smartSelect/smartSelect.js';\nimport './contrib/snippet/snippetController2.js';\nimport './contrib/suggest/suggestController.js';\nimport './contrib/toggleTabFocusMode/toggleTabFocusMode.js';\nimport './contrib/wordHighlighter/wordHighlighter.js';\nimport './contrib/wordOperations/wordOperations.js';\n"],"names":["this","nls.localize","__extends","platform.isNative","browser.isEdgeOrIE","browser.isChrome","dom.addClass","dom.addDisposableListener","dom.removeClass","range","editorBrowser.ContentWidgetPositionPreference","__decorate","__param","strings.firstNonWhitespaceIndex","firstNonWhitespaceIndex","dom.getDomNodePagePosition","CursorState","escape","DOM.addStandardDisposableListener","$","dom.$","dom.append","Bal.isIE","dom.EventHelper","dom.getTotalHeight","dom.getTotalWidth","aria.alert","foreground","defaultOpts","objects.deepClone","objects.mixin","DOM.removeTabIndexAndUpdateFocus","dom.trackFocus","dom.toggleClass","strings.format","dom.getTopLeftOffset","platform.isLinux","dom.addStandardDisposableListener","dom.getComputedStyle","dom.addDisposableNonBubblingMouseOutListener","strings.escapeRegExpCharacters","MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT","RangesCollector","types.isUndefined","types.isObject","types.isNumber","types.isString","types.isArray","commonPrefixLength","strings.commonPrefixLength","commonSuffixLength","strings.commonSuffixLength","canceled","objects.equals","dom.clearNode","empty","dom.EventType","paths.dirname","dom.removeCSSRulesContainingSelector","dom.createCSSRule","defaultOptions","strings.empty","strings.escape","Renderer","__awaiter","__generator","dispose","platform.isWeb","browser.isIE","platform.isMacintosh","MessageWidget","EmptyDisposable","first","lastNonWhitespaceIndex","strings.lastNonWhitespaceIndex","strings.getLeadingWhitespace","IndentUtil.getSpaceCnt","IndentUtil.generateIndent","dom.prepend","stop","always","Node","arrays.isFalsyOrEmpty","Context","strings.startsWithIgnoreCase","join","isNumber","tail","strings.convertSimple2RegExpPattern","LineContext","SuggestContext","weight","browser.isIPad","DOM.addClass","DOM.$","DOM.removeClass","DataSource","DOM.EventType","assert.ok","DOM.EventHelper","DOM.addDisposableListener","widgetShadow","errors.onUnexpectedError","hide","DOM.isAncestor","QuickOpenController","flatten","strings.trim","pad"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAIA,AACA,IAAI,SAAS,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAaA,IAAI,mCAAmC,GAAG,aAAa,CAAC,4CAA4C,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,EAAEC,QAAY,CAAC,qCAAqC,EAAE,oDAAoD,CAAC,CAAC,CAAC;AACvQ,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvD,SAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,6BAA6B;YACjC,KAAK,EAAEA,QAAY,CAAC,yBAAyB,EAAE,eAAe,CAAC;YAC/D,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,mBAAmB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC5D,IAAI,UAAU,GAAG,yBAAyB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,UAAU,CAAC,aAAa,EAAE,CAAC;KAC9B,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzD,SAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAEA,QAAY,CAAC,6BAA6B,EAAE,mBAAmB,CAAC;YACvE,KAAK,EAAE,mBAAmB;YAC1B,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qBAAqB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC9D,IAAI,UAAU,GAAG,yBAAyB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,UAAU,CAAC,eAAe,EAAE,CAAC;KAChC,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,QAAQ,EAAE,QAAQ,EAAE;QACtC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC5B;IACD,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,IAAI,yBAAyB,kBAAkB,UAAU,MAAM,EAAE;IAC7D,SAAS,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC7C,SAAS,yBAAyB,CAAC,MAAM,EAAE;QACvC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC7B,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC;QACzB,KAAK,CAAC,YAAY,GAAG,EAAE,CAAC;QACxB,KAAK,CAAC,mBAAmB,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACvH,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC;QAClF,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;QACrC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE;YAC1D,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;;;gBAGvB,OAAO;aACV;YACD,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;SACxC,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,YAAY,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1H,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,qCAAqC,CAAC,UAAU,CAAC,EAAE;YACtE,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC7B,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;SACxC,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACzD,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC;YAClF,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAExD,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;aAC/E;YACD,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;SACxC,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,yBAAyB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC9C,OAAO,MAAM,CAAC,eAAe,CAAC,yBAAyB,CAAC,EAAE,CAAC,CAAC;KAC/D,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpD,OAAO,yBAAyB,CAAC,EAAE,CAAC;KACvC,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE;YACtE,IAAI,QAAQ,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;;YAE5C,IAAI,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC5C,IAAI,iBAAiB,GAAG,IAAI,CAAC;YAC7B,IAAI,QAAQ,EAAE;gBACV,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;oBACxC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;iBACtD;qBACI,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;oBAC7C,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;iBACtD;aACJ;iBACI;;gBAED,IAAI,WAAW,GAAG,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAClD,IAAI,WAAW,IAAI,WAAW,CAAC,KAAK,EAAE;oBAClC,iBAAiB,GAAG,WAAW,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;iBAC5D;aACJ;YACD,IAAI,iBAAiB,EAAE;gBACnB,OAAO,IAAI,SAAS,CAAC,iBAAiB,CAAC,UAAU,EAAE,iBAAiB,CAAC,MAAM,EAAE,iBAAiB,CAAC,UAAU,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAC;aACxI;YACD,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;SACpG,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9C,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;YACtD,IAAI,QAAQ,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;YAC5C,IAAI,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC5C,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,IAAI,YAAY,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,QAAQ,EAAE;gBACX,IAAI,WAAW,GAAG,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAClD,IAAI,WAAW,IAAI,WAAW,CAAC,KAAK,EAAE;oBAClC,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC;iBACvE;aACJ;YACD,IAAI,QAAQ,EAAE;gBACV,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE;oBAC7D,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW;wBAC3D,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;oBACpE,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW;wBAC5D,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC;iBACnE;qBACI;oBACD,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe;wBACnE,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;oBACpE,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe;wBACpE,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC;iBACnE;aACJ;YACD,IAAI,WAAW,IAAI,YAAY,EAAE;gBAC7B,aAAa,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,WAAW,CAAC,MAAM,EAAE,YAAY,CAAC,UAAU,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;aAC/H;SACJ,CAAC,CAAC;QACH,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9C;KACJ,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC9D,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,OAAO;SACV;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,cAAc,GAAG,EAAE,EAAE,iBAAiB,GAAG,CAAC,CAAC;QAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC/D,IAAI,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAClD,IAAI,QAAQ,EAAE;gBACV,cAAc,CAAC,iBAAiB,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,yBAAyB,CAAC,mBAAmB,EAAE,CAAC;gBACrH,cAAc,CAAC,iBAAiB,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,yBAAyB,CAAC,mBAAmB,EAAE,CAAC;aACxH;SACJ;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;KACxF,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACjE,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;;YAER,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,OAAO;SACV;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;;YAEnC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC;SACzC;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAC9C,IAAI,SAAS,GAAG,EAAE,EAAE,YAAY,GAAG,CAAC,CAAC;QACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;;gBAErB,SAAS,CAAC,YAAY,EAAE,CAAC,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;aAC5D;SACJ;;QAED,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SACpC;QACD,IAAI,OAAO,GAAG,EAAE,EAAE,UAAU,GAAG,CAAC,CAAC;QACjC,IAAI,aAAa,GAAG,CAAC,EAAE,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC;QACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAClD,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YAC5B,OAAO,aAAa,GAAG,WAAW,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC3F,aAAa,EAAE,CAAC;aACnB;YACD,IAAI,aAAa,GAAG,WAAW,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;gBACtF,OAAO,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;aACvD;iBACI;gBACD,IAAI,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;gBAC5C,OAAO,CAAC,UAAU,EAAE,CAAC,GAAG,IAAI,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;aAChE;SACJ;QACD,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;KACnC,CAAC;IACF,yBAAyB,CAAC,EAAE,GAAG,0CAA0C,CAAC;IAC1E,yBAAyB,CAAC,mBAAmB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC5E,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,eAAe;QAC1B,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,mCAAmC,CAAC;YAC5D,SAAS,EAAE,gBAAgB,CAAC,mCAAmC,CAAC;YAChE,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,OAAO,yBAAyB,CAAC;CACpC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,0BAA0B,CAAC,yBAAyB,CAAC,CAAC;AACtD,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;AAC5C,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,sBAAsB,GAAG,KAAK,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;IAC1E,IAAI,sBAAsB,EAAE;QACxB,SAAS,CAAC,OAAO,CAAC,oDAAoD,GAAG,sBAAsB,GAAG,KAAK,CAAC,CAAC;KAC5G;IACD,IAAI,kBAAkB,GAAG,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;IAClE,IAAI,kBAAkB,EAAE;QACpB,SAAS,CAAC,OAAO,CAAC,oDAAoD,GAAG,kBAAkB,GAAG,KAAK,CAAC,CAAC;KACxG;CACJ,CAAC,CAAC;;ACpRH;;;;AAIA,AAEA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,SAAS,EAAE,YAAY,EAAE;QAC/C,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;KACrC;IACD,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACrE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,aAAa,EAAE;YACvC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,WAAW,KAAK,CAAC,EAAE;YAC3C,OAAO;SACV;aACI,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;YACvF,OAAO;SACV;QACD,IAAI,UAAU,GAAG,CAAC,CAAC,wBAAwB,CAAC;QAC5C,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC;QACT,IAAI,MAAM,CAAC;QACX,IAAI,KAAK,CAAC;QACV,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;YACnD,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YACnE,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;SAChH;aACI;YACD,IAAI,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;YACzG,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YACnE,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;SAC9C;QACD,IAAI,cAAc,GAAG,IAAI,GAAG,MAAM,GAAG,KAAK,CAAC;QAC3C,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACzG,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;QAClF,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,WAAW,CAAC;QACtE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACrE,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAC9E,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SAC7E;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;ACtDL;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAIA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDE,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,CAAC,IAAI,EAAE,IAAI,EAAE;QACjC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,KAAK,CAAC;KAChB;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,QAAQ,CAAC,IAAI,CAAC,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjE;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDA,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,oCAAoC;YACxC,KAAK,EAAED,QAAY,CAAC,gBAAgB,EAAE,iBAAiB,CAAC;YACxD,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,qCAAqC;YACzC,KAAK,EAAED,QAAY,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;YAC1D,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;;AC/D3C;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAOA,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DE,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gCAAgC;YACpC,KAAK,EAAED,QAAY,CAAC,wBAAwB,EAAE,mBAAmB,CAAC;YAClE,KAAK,EAAE,mBAAmB;YAC1B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,CAAC;gBACV,GAAG,EAAE;oBACD,OAAO,EAAE,GAAG,iBAAiB,EAAE;iBAClC;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;QACtE,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC1B,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;QAClC,IAAI,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YAC7C,IAAI,cAAc,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;;gBAEzE,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;aACvB;iBACI;gBACD,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;aACvB;SACJ;aACI,IAAI,UAAU,GAAG,CAAC,EAAE;YACrB,UAAU,GAAG,UAAU,GAAG,CAAC,CAAC;YAC5B,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;SAC/C;QACD,OAAO,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC3C,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;QACvE,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC1B,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;QAClC,IAAI,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YAC7C,IAAI,eAAe,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;;gBAE1E,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;aACvB;iBACI;gBACD,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;aACvB;SACJ;aACI,IAAI,UAAU,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE;YACxC,UAAU,GAAG,UAAU,GAAG,CAAC,CAAC;YAC5B,MAAM,GAAG,CAAC,CAAC;SACd;QACD,OAAO,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC3C,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC/D,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxE,IAAI,SAAS,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;gBACtB,SAAS;aACZ;YACD,IAAI,UAAU,GAAG,SAAS,CAAC,eAAe,CAAC;YAC3C,IAAI,MAAM,GAAG,SAAS,CAAC,WAAW,CAAC;YACnC,IAAI,UAAU,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;YACpD,IAAI,UAAU,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,UAAU,KAAK,CAAC,CAAC,CAAC,EAAE;;gBAE1E,SAAS;aACZ;;;YAGD,IAAI,WAAW,GAAG,CAAC,MAAM,KAAK,UAAU;gBACpC,SAAS,CAAC,WAAW,EAAE;gBACvB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC;YACzD,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;YAC7D,IAAI,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YAC/D,IAAI,QAAQ,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC,CAAC;YACzF,IAAI,SAAS,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC,CAAC;YACxF,IAAI,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;YACnE,QAAQ,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,YAAY,EAAE,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC;SACzE;QACD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACrB,MAAM,CAAC,YAAY,EAAE,CAAC;YACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;YAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;SACzB;KACJ,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC/G7C;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAQA,IAAI,4BAA4B,GAAG,gBAAgB,CAAC;AACpD,IAAI,WAAW,IAAIG,QAAiB,IAAI,QAAQ,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/E,IAAI,YAAY,IAAIA,QAAiB,IAAI,QAAQ,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC;;AAEjF,IAAI,kCAAkC,IAAI,YAAY,IAAI,CAACC,UAAkB,CAAC,CAAC;;;;AAI/E,IAAI,aAAa,IAAID,QAAiB,KAAK,CAACE,QAAgB,IAAI,QAAQ,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC1G,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDH,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,cAAc,EAAE,IAAI,EAAE;QAC7C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,cAAc,GAAG,cAAc,CAAC;QACtC,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,QAAQ,EAAE,IAAI,EAAE;QAC/D,IAAI,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,EAAE,CAAC;;QAE5E,IAAI,aAAa,IAAI,aAAa,CAAC,SAAS,EAAE,EAAE;YAC5C,aAAa,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACjD,OAAO;SACV;QACD,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KAC7C,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC1D,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KAC7C,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDA,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG;YACT,MAAM,EAAE,iBAAiB,CAAC,cAAc;YACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;YAChC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,EAAE,cAAc,SAAS,EAAE,CAAC,IAAI,eAAe,EAAE,cAAc,EAAE;SACzG,CAAC;;;QAGF,IAAI,CAACC,QAAiB,EAAE;YACpB,MAAM,GAAG,IAAI,CAAC;SACjB;QACD,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC7B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAEF,QAAY,CAAC,4BAA4B,EAAE,KAAK,CAAC;YACxD,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE;gBACN,KAAK,EAAE,4BAA4B;gBACnC,KAAK,EAAE,CAAC;aACX;SACJ,CAAC,IAAI,IAAI,CAAC;QACX,OAAO,KAAK,CAAC;KAChB;IACD,oBAAoB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC7D,IAAI,uBAAuB,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,uBAAuB,CAAC;QAChF,IAAI,CAAC,uBAAuB,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,EAAE;YAC7D,OAAO;SACV;QACD,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;KACrD,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG;YACT,MAAM,EAAE,iBAAiB,CAAC,cAAc;YACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;YAChC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,EAAE,cAAc,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,cAAc,EAAE;SAC3G,CAAC;;;QAGF,IAAI,CAACC,QAAiB,EAAE;YACpB,MAAM,GAAG,IAAI,CAAC;SACjB;QACD,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE;YAC9B,EAAE,EAAE,mCAAmC;YACvC,KAAK,EAAEF,QAAY,CAAC,6BAA6B,EAAE,MAAM,CAAC;YAC1D,KAAK,EAAE,MAAM;YACb,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE;gBACN,KAAK,EAAE,4BAA4B;gBACnC,KAAK,EAAE,CAAC;aACX;SACJ,CAAC,IAAI,IAAI,CAAC;QACX,OAAO,KAAK,CAAC;KAChB;IACD,qBAAqB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC9D,IAAI,uBAAuB,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,uBAAuB,CAAC;QAChF,IAAI,CAAC,uBAAuB,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,EAAE;YAC7D,OAAO;SACV;QACD,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;KACrD,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG;YACT,MAAM,EAAE,iBAAiB,CAAC,cAAc;YACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;YAChC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,EAAE,cAAc,SAAS,EAAE,CAAC,IAAI,eAAe,EAAE,cAAc,EAAE;SACzG,CAAC;;;QAGF,IAAI,CAACC,QAAiB,EAAE;YACpB,MAAM,GAAG,IAAI,CAAC;SACjB;QACD,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE;YAC/B,EAAE,EAAE,oCAAoC;YACxC,KAAK,EAAEF,QAAY,CAAC,8BAA8B,EAAE,OAAO,CAAC;YAC5D,KAAK,EAAE,OAAO;YACd,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE;gBACN,KAAK,EAAE,4BAA4B;gBACnC,KAAK,EAAE,CAAC;aACX;SACJ,CAAC,IAAI,IAAI,CAAC;QACX,OAAO,KAAK,CAAC;KAChB;IACD,OAAO,sBAAsB,CAAC;CACjC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,2CAA2C,kBAAkB,UAAU,MAAM,EAAE;IAC/EC,WAAS,CAAC,2CAA2C,EAAE,MAAM,CAAC,CAAC;IAC/D,SAAS,2CAA2C,GAAG;QACnD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE;YAC7B,EAAE,EAAE,yDAAyD;YAC7D,KAAK,EAAED,QAAY,CAAC,mDAAmD,EAAE,+BAA+B,CAAC;YACzG,KAAK,EAAE,+BAA+B;YACtC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI;aAChB;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,2CAA2C,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACpF,IAAI,uBAAuB,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,uBAAuB,CAAC;QAChF,IAAI,CAAC,uBAAuB,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,EAAE;YAC7D,OAAO;SACV;QACD,WAAW,CAAC,+BAA+B,GAAG,IAAI,CAAC;QACnD,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;QAClD,WAAW,CAAC,+BAA+B,GAAG,KAAK,CAAC;KACvD,CAAC;IACF,OAAO,2CAA2C,CAAC;CACtD,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,WAAW,EAAE;IACb,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;CAC9C;AACD,IAAI,YAAY,EAAE;IACd,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;CAC/C;AACD,IAAI,aAAa,EAAE;IACf,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;CAChD;AACD,IAAI,kCAAkC,EAAE;IACpC,oBAAoB,CAAC,2CAA2C,CAAC,CAAC;CACrE;;AC/LD;;;;AAIA,AAUO,SAAS,eAAe,CAAC,KAAK,EAAE;IACnC,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI,QAAQ,GAAG,wBAAwB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACvD,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QAClK,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC5D,IAAI,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC1B,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;aACxD;SACJ;KACJ,EAAE,yBAAyB,CAAC,CAAC,EAAE,CAAC,CAAC;IAClC,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;QAC5C,OAAO,SAAS,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;;YAEtC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE;gBACjE,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE;gBACtE,OAAO,CAAC,CAAC;aACZ;iBACI,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE;gBAClE,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE;gBAClE,OAAO,CAAC,CAAC;aACZ;iBACI,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE;gBAC9D,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE;gBAC9D,OAAO,CAAC,CAAC;aACZ;iBACI;gBACD,OAAO,CAAC,CAAC;aACZ;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;CACN;AACD,uBAAuB,CAAC,0BAA0B,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAC1E,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;IACvE,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,OAAO,eAAe,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;QAChD,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAI,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YACvB,IAAI,OAAO,gBAAgB,KAAK,WAAW,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;gBACzE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC5B;iBACI,IAAI,gBAAgB,EAAE,GAAG,CAAC,EAAE;gBAC7B,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACpK;SACJ;QACD,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;KAC/B,CAAC,CAAC,IAAI,CAAC,YAAY;QAChB,OAAO,MAAM,CAAC;KACjB,CAAC,CAAC;CACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EH;;;;AAIA,AAWA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,eAAe,EAAE,QAAQ,EAAE;QACjD,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAChD;IACD,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE;QAC5D,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;YAChC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;SAC7B;aACI,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,EAAE;YAClC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;YAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;KACJ,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,mBAAmB,EAAE;QACrF,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,GAAG,GAAG,gBAAgB,IAAI,EAAE,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;QACnCK,QAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC;QACnDA,QAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC5C,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5H,IAAI,CAAC,YAAY,CAAC,IAAI,CAACC,qBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE;YAClF,IAAI,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC;YACvB,IAAI,OAAO,CAAC,OAAO,KAAK,GAAG,IAAI,OAAO,CAAC,EAAE,EAAE;gBACvC,IAAI,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBAC1C,IAAI,OAAO,EAAE;oBACT,MAAM,CAAC,KAAK,EAAE,CAAC;oBACf,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE;wBACvH,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBAClC,CAAC,CAAC;iBACN;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;KAC3B;IACD,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClD,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9B,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACxD,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QAC7F,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;QACjE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,GAAG,IAAI,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;QACzE,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;KACtC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YAClBC,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;YAC/CF,QAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;SACzC;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,OAAO,EAAE;QAC9D,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,aAAa,CAAC;YACxC,OAAO;SACV;QACD,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YACjC,IAAI,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC;YAClB,IAAI,OAAO,CAAC,EAAE,EAAE;gBACZ,IAAI,GAAG,MAAM,CAAC,mBAAmB,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC7C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;aAC/B;iBACI;gBACD,IAAI,GAAG,MAAM,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;aAC5C;YACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnB;QACD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,GAAG,CAAC;KACnB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAUG,QAAK,EAAE;QAC9D,IAAI,UAAU,GAAGA,QAAK,CAAC,eAAe,CAAC;QACvC,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,+BAA+B,CAAC,UAAU,CAAC,CAAC;QACjF,IAAI,CAAC,eAAe,GAAG;YACnB,QAAQ,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE;YACpD,UAAU,EAAE,CAACC,+BAA6C,CAAC,KAAK,CAAC;SACpE,CAAC;KACL,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC,eAAe,CAAC;KAC/B,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,+BAA+B,CAAC,CAAC;KACtE,CAAC;IACF,qBAAqB,CAAC,OAAO,GAAG,CAAC,CAAC;IAClC,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,GAAG;QACtB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;KACtC;IACD,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE,QAAQ,EAAE;QACrE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAChD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,YAAY,EAAE;QAChE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,cAAc,EAAE;QACxD,IAAI,oBAAoB,GAAG,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1G,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,oBAAoB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC7D,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7D;KACJ,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,sBAAsB,EAAE,cAAc,EAAE,mBAAmB,EAAE,cAAc,EAAE;QACjH,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnD,IAAID,QAAK,CAAC;QACV,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,YAAY,EAAE,CAAC,EAAE;YAC1C,MAAM,CAAC,aAAa,CAAC;gBACjB,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC,KAAK;gBAChC,OAAO,EAAE,sBAAsB,CAAC,KAAK;aACxC,EAAE,UAAU,EAAE,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;;YAE3D,IAAI,CAACA,QAAK,EAAE;gBACRA,QAAK,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACjD;iBACI;gBACDA,QAAK,GAAG,KAAK,CAAC,SAAS,CAACA,QAAK,EAAE,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aAC7D;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAEA,QAAK,EAAE,cAAc,EAAE,mBAAmB,CAAC,CAAC;QACpG,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAACA,QAAK,CAAC,eAAe,GAAG,CAAC,EAAE,cAAc,CAAC,CAAC;QACjF,IAAI,CAAC,WAAW,GAAG,sBAAsB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KACtD;IACD,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE,sBAAsB,EAAE;QACnE,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YAC/B,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC;SACtD;QACD,IAAI,sBAAsB,EAAE;YACxB,sBAAsB,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACvD;QACD,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;KACjC,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YAC7C,IAAIA,QAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACnC,OAAOA,QAAK,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAKA,QAAK,CAAC,OAAO,EAAE,CAAC;SACnE,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE,MAAM,EAAE;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YAC/B,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC;SACtD;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,YAAY,EAAE,CAAC,EAAE;YAC1C,MAAM,CAAC,aAAa,CAAC;gBACjB,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC,KAAK;gBAChC,OAAO,EAAE,sBAAsB,CAAC,KAAK;aACxC,EAAE,UAAU,EAAE,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;SAC9D,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,EAAE;YAClC,OAAO,IAAI,CAAC;SACf;;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;SACjF;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE;QACnD,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;KAC7C,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC3C,IAAIA,QAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,IAAIA,QAAK,EAAE;YACP,OAAOA,QAAK,CAAC,eAAe,CAAC;SAChC;QACD,OAAO,CAAC,CAAC,CAAC;KACb,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,sBAAsB,EAAE;QAC1D,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YAChB,IAAIA,QAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,IAAI,CAAC,SAAS,CAAC,eAAe,GAAGA,QAAK,CAAC,eAAe,GAAG,CAAC,CAAC;YAC3D,sBAAsB,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACpD,IAAI,CAAC,cAAc,CAAC,cAAc,CAACA,QAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SACzD;KACJ,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,kBAAkB,GAAG,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;IAClE,IAAI,kBAAkB,EAAE;QACpB,SAAS,CAAC,OAAO,CAAC,+CAA+C,GAAG,kBAAkB,GAAG,KAAK,CAAC,CAAC;KACnG;IACD,IAAI,oBAAoB,GAAG,KAAK,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;IACtE,IAAI,oBAAoB,EAAE;QACtB,SAAS,CAAC,OAAO,CAAC,yDAAyD,GAAG,oBAAoB,GAAG,gBAAgB,CAAC,CAAC;KAC1H;CACJ,CAAC,CAAC;;ACxPH;;;;AAIA,AACA,IAAI,UAAU,GAAG,CAACT,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAI,OAAO,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAWA,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,OAAO,EAAE,eAAe,EAAE,oBAAoB,EAAE;QAC1E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC;QACvE,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC;QAC/C,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1G,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAClH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAC1E,IAAI,aAAa,GAAG,KAAK,CAAC,UAAU,CAAC;YACrC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC;YACzE,IAAI,aAAa,KAAK,KAAK,CAAC,UAAU,EAAE;gBACpC,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,wBAAwB,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5F,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;IACD,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAC1D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACvD,IAAI,IAAI,CAAC,kCAAkC,EAAE;YACzC,IAAI,CAAC,kCAAkC,CAAC,MAAM,EAAE,CAAC;YACjD,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC;YAC/C,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC;YACrC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACtC;QACD,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACxD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YACtC,OAAO;SACV;QACD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,wBAAwB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC7E,IAAI,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACtB,IAAI,OAAO,QAAQ,CAAC,WAAW,KAAK,UAAU,EAAE;gBAC5C,IAAI,YAAY,GAAG,QAAQ,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;gBACtF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3C;SACJ;QACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,gBAAgB,CAAC,YAAY;YACzD,KAAK,CAAC,kBAAkB,EAAE,CAAC;SAC9B,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,SAAS,GAAG,IAAI,gBAAgB,CAAC,YAAY;YAC7C,IAAI,YAAY,GAAG,EAAE,KAAK,CAAC,mBAAmB,CAAC;YAC/C,IAAI,KAAK,CAAC,kCAAkC,EAAE;gBAC1C,KAAK,CAAC,kCAAkC,CAAC,MAAM,EAAE,CAAC;aACrD;YACD,KAAK,CAAC,kCAAkC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;YAClE,KAAK,CAAC,kCAAkC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;gBAC5D,IAAI,YAAY,KAAK,KAAK,CAAC,mBAAmB,EAAE;oBAC5C,KAAK,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;oBACrC,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;iBACzC;aACJ,EAAE,iBAAiB,CAAC,CAAC;SACzB,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACrD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YACxE,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;gBACtD,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,YAAY,EAAE;oBAClD,IAAI,SAAS,GAAG,EAAE,CAAC;oBACnB,IAAI,kBAAkB,GAAG,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;wBAClC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,kBAAkB,KAAK,IAAI,CAAC,aAAa,EAAE,EAAE;;;4BAGhE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACxB;6BACI;4BACD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;4BAC1B,kBAAkB,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;yBAC7C;qBACJ,CAAC,CAAC;oBACH,IAAI,MAAM,GAAG,IAAI,cAAc,EAAE,CAAC;oBAClC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;wBAC3B,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;wBAChC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBACrD,CAAC,CAAC;oBACH,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;iBACjC,CAAC,CAAC;aACN,CAAC,CAAC;;YAEH,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;;YAEtC,SAAS,CAAC,QAAQ,EAAE,CAAC;SACxB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YAClE,IAAI,CAAC,CAAC,gBAAgB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChD,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;aACzC;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YAClE,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;SACzC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;YACtB,OAAO,EAAE,YAAY;gBACjB,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;oBAC1B,IAAI,WAAW,GAAG,uBAAuB,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBACjE,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;wBACtD,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;4BAC9C,KAAK,CAAC,iBAAiB,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;yBACrD,CAAC,CAAC;qBACN,CAAC,CAAC;oBACH,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;iBACtC;qBACI;;oBAED,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;iBACvC;aACJ;SACJ,CAAC,CAAC;QACH,SAAS,CAAC,QAAQ,EAAE,CAAC;KACxB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,iBAAiB,EAAE,sBAAsB,EAAE;QACpG,IAAI,MAAM,GAAG,IAAI,cAAc,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/F,IAAI,iBAAiB,EAAE;YACnB,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;SACpC;QACD,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACrB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,OAAO,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,CAAC;QAC3D,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,SAAS,CAAC;QACd,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC/D,IAAI,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC;YAC/C,IAAI,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,aAAa,EAAE;;gBAElC,SAAS;aACZ;iBACI,IAAI,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,KAAK,IAAI,EAAE;;gBAEzF,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC1B;iBACI;;gBAED,SAAS,GAAG,CAAC,MAAM,CAAC,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC1B;SACJ;QACD,IAAI,WAAW,GAAG,uBAAuB,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;YACrD,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBAC9C,IAAI,aAAa,GAAG,CAAC,EAAE,WAAW,GAAG,CAAC,EAAE,MAAM,GAAG,IAAI,cAAc,EAAE,CAAC;gBACtE,OAAO,WAAW,GAAG,MAAM,CAAC,MAAM,IAAI,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE;oBACxE,IAAI,iBAAiB,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC;oBAC5E,IAAI,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,aAAa,EAAE,CAAC;oBACtE,IAAI,kBAAkB,GAAG,iBAAiB,EAAE;wBACxC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;wBACvD,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;qBAC1C;yBACI,IAAI,kBAAkB,KAAK,iBAAiB,EAAE;wBAC/C,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,MAAM,CAAC,CAAC;wBAChF,WAAW,EAAE,CAAC;wBACd,aAAa,EAAE,CAAC;qBACnB;yBACI;wBACD,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,EAAE,IAAI,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,oBAAoB,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC7N,aAAa,EAAE,CAAC;wBAChB,WAAW,EAAE,CAAC;qBACjB;iBACJ;;gBAED,OAAO,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE;oBACzC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACvD,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;iBAC1C;;gBAED,OAAO,WAAW,GAAG,MAAM,CAAC,MAAM,EAAE;oBAChC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,oBAAoB,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACzM,WAAW,EAAE,CAAC;iBACjB;gBACD,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;aACjC,CAAC,CAAC;SACN,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACrC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC;YACrC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACtC;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;YACjC,IAAI,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,OAAO,EAAE;gBACT,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACrB;SACJ,CAAC,CAAC;QACH,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,OAAO;SACV;QACD,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,CAAC,EAAE;YAC/C,IAAI,eAAe,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChD,IAAI,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,CAAC,EAAE;gBAC7C,IAAI,OAAO,OAAO,CAAC,QAAQ,CAAC,eAAe,KAAK,UAAU,EAAE;oBACxD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;wBACnC,OAAO,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;qBACzE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;wBACtB,eAAe,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;qBAC/B,CAAC,CAAC;iBACN;gBACD,eAAe,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;gBACpC,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9B,CAAC,CAAC;YACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;gBAC5C,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;aAC7C,CAAC,CAAC;SACN,CAAC,CAAC;QACH,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;YACnE,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACvC,CAAC,CAAC;KACN,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,qBAAqB,CAAC;IAChD,oBAAoB,GAAG,UAAU,CAAC;QAC9B,OAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3B,OAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,oBAAoB,CAAC,CAAC;IACzB,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,oBAAoB,CAAC,CAAC;;AC3RjD;;;;AAIA,AAQO,SAAS,SAAS,CAAC,KAAK,EAAE;IAC7B,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,SAAS,GAAG,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;IAC/D,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QACvK,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC5D,IAAI,SAAS,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC7B,MAAM,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;aAC7D;SACJ;KACJ,CAAC,CAAC,EAAE,CAAC,CAAC;IACP,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;CACvE;AACD,AAAO,SAAS,qBAAqB,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE;IAC9D,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,yBAAyB,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;CACnH;AACD,uBAAuB,CAAC,+BAA+B,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAC/E,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC7B,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,SAAS,GAAG,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;IAC/D,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QACvK,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC5D,IAAI,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;aAC1G;SACJ;KACJ,CAAC,CAAC,EAAE,CAAC,CAAC;IACP,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;CACvE,CAAC,CAAC;AACH,uBAAuB,CAAC,mCAAmC,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IACnF,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,KAAK,GAAG,IAAI,CAAC,KAAK,EAAES,QAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACrE,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAACA,QAAK,CAAC,EAAE;QACrG,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACxE,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,SAAS,GAAG;QACZ,KAAK,EAAEA,QAAK;QACZ,KAAK,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;KAC9D,CAAC;IACF,IAAI,aAAa,GAAG,EAAE,CAAC;IACvB,IAAI,SAAS,GAAG,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;IAC/D,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,yBAAyB,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QACtL,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;SACnD;KACJ,CAAC,CAAC,EAAE,CAAC,CAAC;IACP,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,aAAa,CAAC,EAAE,CAAC,CAAC;CAC9E,CAAC,CAAC;;ACvEH;;;;AAIA,IAAIE,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAWA,IAAI,cAAc,GAAG,GAAG,CAAC;AACzB,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,OAAO,EAAE,kBAAkB,EAAE,qBAAqB,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YAC7D,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;YACrC,KAAK,CAAC,cAAc,EAAE,CAAC;SAC1B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9G,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/G,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACrE,IAAI,aAAa,GAAG,KAAK,CAAC,UAAU,CAAC;YACrC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;YACrC,IAAI,aAAa,KAAK,KAAK,CAAC,UAAU,EAAE;gBACpC,IAAI,KAAK,CAAC,UAAU,EAAE;oBAClB,KAAK,CAAC,cAAc,EAAE,CAAC;iBAC1B;qBACI;oBACD,KAAK,CAAC,oBAAoB,EAAE,CAAC;iBAChC;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QACnC,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;IACD,aAAa,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC;;QAE/C,IAAI,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAChF,IAAI,gBAAgB,EAAE;YAClB,IAAI,eAAe,GAAG,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YAC1D,IAAI,eAAe,IAAI,eAAe,CAAC,QAAQ,CAAC,KAAK,SAAS,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;gBAC1F,OAAO,eAAe,CAAC,QAAQ,CAAC,CAAC;aACpC;SACJ;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,eAAe,CAAC;KACtE,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,OAAO,aAAa,CAAC,EAAE,CAAC;KAC3B,CAAC;IACF,aAAa,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAClC,OAAO,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KAC1C,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAC1D,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;;;;QAIpC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YACnC,OAAO;SACV;QACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YACxE,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;gBACxB,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBACvE,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY;oBACnC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC7B,KAAK,CAAC,YAAY,EAAE,CAAC;iBACxB,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE;YACjF,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;YACpC,KAAK,CAAC,qBAAqB,CAAC,UAAU,CAAC,CAAC;YACxC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;SAChC,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACvC,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACxD,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,UAAU,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,QAAQ;YACpD,KAAK,EAAE;gBACH,eAAe,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe;gBAClD,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW;gBAC1C,aAAa,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa;gBAC9C,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS;aACzC;YACD,OAAO,EAAE,sBAAsB,CAAC,KAAK;SACxC,EAAE,EAAE,CAAC,CAAC;QACP,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC;QACxF,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,SAAS,EAAE;QACjE,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,mBAAmB,GAAG,EAAE,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,GAAG,cAAc,EAAE,CAAC,EAAE,EAAE;YAC9E,IAAI,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;YACxG,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;YACnG,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YACrC,IAAI,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;YACnF,IAAI,GAAG,GAAG,WAAW,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE;gBAC3D,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,GAAG,EAAE;oBAChD,MAAM,EAAE;wBACJ,WAAW,EAAE,GAAG;wBAChB,MAAM,EAAE,kBAAkB;wBAC1B,MAAM,EAAE,qBAAqB;wBAC7B,KAAK,EAAE,OAAO;wBACd,MAAM,EAAE,OAAO;wBACf,eAAe,EAAE,KAAK;qBACzB;oBACD,IAAI,EAAE;wBACF,MAAM,EAAE;4BACJ,MAAM,EAAE,kBAAkB;yBAC7B;qBACJ;iBACJ,CAAC,CAAC;aACN;YACD,mBAAmB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;YAChC,WAAW,CAAC,IAAI,CAAC;gBACb,KAAK,EAAE;oBACH,eAAe,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe;oBAC7D,WAAW,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW;oBACrD,aAAa,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa;oBACzD,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS;iBACpD;gBACD,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC;aACvE,CAAC,CAAC;SACN;QACD,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;gBAC/B,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;aACzD;SACJ;QACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC;KACjG,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACvD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;QAC/E,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;QACrF,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxC,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;SACzD;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,QAAQ,EAAE;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;aACpC,qBAAqB,CAAC,KAAK,CAAC,aAAa,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;aAC9D,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAClE,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KAClD,CAAC;IACF,aAAa,CAAC,EAAE,GAAG,8BAA8B,CAAC;IAClD,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC;IACpC,aAAa,GAAGW,YAAU,CAAC;QACvBC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;KACpC,EAAE,aAAa,CAAC,CAAC;IAClB,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,aAAa,CAAC,CAAC;;ACvN1C;;;;AAIA,AAMA,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,SAAS,EAAE;QACpC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC7B;IACD,mBAAmB,CAAC,0BAA0B,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE;QACjF,IAAI,MAAM,GAAG,CAAC,EAAE;YACZ,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;QACjC,IAAI,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;QACrC,IAAI,MAAM,GAAG,YAAY,GAAG,cAAc,EAAE;YACxC,OAAO,KAAK,CAAC;SAChB;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,CAAC,EAAE,EAAE;YACnC,IAAI,KAAK,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC5C,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,KAAK,KAAK,KAAK,EAAE;gBACjB,SAAS;aACZ;YACD,IAAI,KAAK,IAAI,EAAE,YAAY,KAAK,IAAI,EAAE,YAAY,KAAK,GAAG,EAAE,KAAK,KAAK,EAAE;;gBAEpE,SAAS;aACZ;YACD,IAAI,KAAK,IAAI,EAAE,YAAY,KAAK,IAAI,EAAE,YAAY,KAAK,GAAG,EAAE,KAAK,KAAK,EAAE;;gBAEpE,SAAS;aACZ;YACD,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,gCAAgC,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE;QAC1G,IAAI,eAAe,GAAG,SAAS,CAAC,eAAe,CAAC;QAChD,IAAI,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;QACxC,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;QAC5C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;QACpC,IAAI,aAAa,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,UAAU,GAAG,MAAM,CAAC,sBAAsB,CAAC;QAC/C,IAAI,QAAQ,GAAG,MAAM,CAAC,oBAAoB,CAAC;QAC3C,IAAI,eAAe,GAAG,aAAa,CAAC,WAAW,CAAC,UAAU,EAAE,WAAW,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;QACjG,IAAI,aAAa,GAAG,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnF,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;YAChD,IAAI,eAAe,KAAK,aAAa,EAAE;gBACnC,IAAI,iBAAiB,GAAG,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;gBACpG,IAAI,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;;oBAE1C,eAAe,GAAG,CAAC,CAAC,CAAC;oBACrB,aAAa,GAAG,CAAC,CAAC,CAAC;iBACtB;aACJ;iBACI;gBACD,IAAI,wBAAwB,GAAG,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;gBAC5F,IAAI,qBAAqB,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;gBACpE,IAAI,wBAAwB,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,qBAAqB,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;;oBAEjG,eAAe,GAAG,CAAC,CAAC,CAAC;oBACrB,aAAa,GAAG,CAAC,CAAC,CAAC;iBACtB;aACJ;SACJ;QACD,IAAI,GAAG,CAAC;QACR,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;;YAEhD,IAAI,eAAe,GAAG,UAAU,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,EAAE;gBAC5D,IAAI,aAAa,CAAC,UAAU,CAAC,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,cAAc;;oBAElF,UAAU,GAAG,UAAU,GAAG,GAAG,CAAC;iBACjC;aACJ;YACD,IAAI,aAAa,GAAG,CAAC,EAAE;gBACnB,IAAI,WAAW,CAAC,UAAU,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,EAAE,cAAc;;oBAE9D,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;oBAC1B,aAAa,IAAI,CAAC,CAAC;iBACtB;aACJ;YACD,GAAG,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE,eAAe,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,aAAa,EAAE,aAAa,GAAG,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;SAC9L;aACI;YACD,GAAG,GAAG,mBAAmB,CAAC,gCAAgC,CAAC,SAAS,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;YAC5F,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,MAAM,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC;SAC3D;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,OAAO,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SAC9D;KACJ,CAAC;IACF,mBAAmB,CAAC,mCAAmC,GAAG,UAAU,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE;QACzF,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;;YAEnB,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;;YAElI,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAC3H;aACI;;YAED,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SACnJ;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,mBAAmB,CAAC,gCAAgC,GAAG,UAAU,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE;QACtF,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;;YAEnB,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,WAAW,CAAC,EAAE,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC;;YAEjG,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC;SAC9F;aACI;;YAED,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,UAAU,GAAG,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;SAC5I;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACxE,IAAI,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;QACtD,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;QAC9C,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;QACvC,IAAI,UAAU,GAAG,KAAK,CAAC,uBAAuB,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC;QAC7E,IAAI,MAAM,GAAG,6BAA6B,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACnE,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,sBAAsB,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE;;YAE3E,OAAO;SACV;QACD,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;KAClF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACxE,IAAI,qBAAqB,GAAG,MAAM,CAAC,wBAAwB,EAAE,CAAC;QAC9D,IAAI,qBAAqB,CAAC,MAAM,KAAK,CAAC,EAAE;YACpC,IAAI,uBAAuB,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACvD,IAAI,qBAAqB,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACrD,OAAO,IAAI,SAAS,CAAC,uBAAuB,CAAC,KAAK,CAAC,aAAa,EAAE,uBAAuB,CAAC,KAAK,CAAC,SAAS,EAAE,qBAAqB,CAAC,KAAK,CAAC,eAAe,EAAE,qBAAqB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;SACpM;aACI;YACD,IAAI,QAAQ,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC9C,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;YAC1E,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC;SAC5I;KACJ,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;;ACxJL;;;;AAIA,AAQA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE;QAClD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;KACzB;;;;;IAKD,kBAAkB,CAAC,8BAA8B,GAAG,UAAU,KAAK,EAAE,eAAe,EAAE,aAAa,EAAE;QACjG,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;QACvC,IAAI,UAAU,GAAG,KAAK,CAAC,uBAAuB,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACnE,IAAI,MAAM,GAAG,6BAA6B,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACnE,IAAI,UAAU,IAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,UAAU,EAAE;;YAEb,OAAO,IAAI,CAAC;SACf;QACD,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,SAAS,GAAG,aAAa,GAAG,eAAe,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;YACjF,KAAK,CAAC,CAAC,CAAC,GAAG;gBACP,MAAM,EAAE,KAAK;gBACb,UAAU,EAAE,UAAU;gBACtB,gBAAgB,EAAE,CAAC;gBACnB,gBAAgB,EAAE,UAAU,CAAC,MAAM;aACtC,CAAC;SACL;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;;;;;IAKF,kBAAkB,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE;QAC9E,IAAI,QAAQ,EAAE,sBAAsB,EAAE,mBAAmB,EAAE,CAAC,EAAE,SAAS,EAAE,UAAU,EAAE,oBAAoB,EAAE,WAAW,EAAE,mBAAmB,GAAG,IAAI,CAAC;QACnJ,IAAI,IAAI,KAAK,CAAC,eAAe;YACzB,oBAAoB,GAAG,IAAI,CAAC;SAC/B;aACI,IAAI,IAAI,KAAK,CAAC,iBAAiB;YAChC,oBAAoB,GAAG,KAAK,CAAC;SAChC;aACI;YACD,oBAAoB,GAAG,IAAI,CAAC;SAC/B;QACD,KAAK,CAAC,GAAG,CAAC,EAAE,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;YACtD,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,UAAU,GAAG,eAAe,GAAG,CAAC,CAAC;YACjC,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAC/C,sBAAsB,GAAGC,uBAA+B,CAAC,WAAW,CAAC,CAAC;YACtE,IAAI,sBAAsB,KAAK,CAAC,CAAC,EAAE;;gBAE/B,IAAI,IAAI,KAAK,CAAC,eAAe;oBACzB,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;iBAC1B;qBACI,IAAI,IAAI,KAAK,CAAC,iBAAiB;oBAChC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;iBAC1B;qBACI;oBACD,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;iBAC1B;gBACD,QAAQ,CAAC,gBAAgB,GAAG,WAAW,CAAC,MAAM,CAAC;gBAC/C,SAAS;aACZ;YACD,mBAAmB,GAAG,KAAK,CAAC;YAC5B,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,QAAQ,CAAC,gBAAgB,GAAG,sBAAsB,CAAC;YACnD,IAAI,oBAAoB,IAAI,CAAC,mBAAmB,CAAC,0BAA0B,CAAC,WAAW,EAAE,QAAQ,CAAC,UAAU,EAAE,sBAAsB,CAAC,EAAE;gBACnI,IAAI,IAAI,KAAK,CAAC,eAAe;;oBAEzB,oBAAoB,GAAG,KAAK,CAAC;iBAChC;qBACI,IAAI,IAAI,KAAK,CAAC,iBAAiB,CAEnC;qBACI;oBACD,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;iBAC1B;aACJ;YACD,IAAI,oBAAoB,EAAE;gBACtB,mBAAmB,GAAG,sBAAsB,GAAG,QAAQ,CAAC,gBAAgB,CAAC;gBACzE,IAAI,mBAAmB,GAAG,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC,KAAK,EAAE,cAAc;oBAC5G,QAAQ,CAAC,gBAAgB,IAAI,CAAC,CAAC;iBAClC;aACJ;SACJ;QACD,IAAI,IAAI,KAAK,CAAC,iBAAiB,mBAAmB,EAAE;;YAEhD,oBAAoB,GAAG,KAAK,CAAC;;YAE7B,KAAK,CAAC,GAAG,CAAC,EAAE,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;gBACtD,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;aAC3B;SACJ;QACD,OAAO;YACH,SAAS,EAAE,IAAI;YACf,oBAAoB,EAAE,oBAAoB;YAC1C,KAAK,EAAE,KAAK;SACf,CAAC;KACL,CAAC;;;;IAIF,kBAAkB,CAAC,oBAAoB,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE,aAAa,EAAE;QAC7F,IAAI,KAAK,GAAG,kBAAkB,CAAC,8BAA8B,CAAC,KAAK,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;QACrG,IAAI,KAAK,KAAK,IAAI,EAAE;YAChB,OAAO;gBACH,SAAS,EAAE,KAAK;gBAChB,oBAAoB,EAAE,KAAK;gBAC3B,KAAK,EAAE,IAAI;aACd,CAAC;SACL;QACD,OAAO,kBAAkB,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;KAChF,CAAC;;;;IAIF,kBAAkB,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE;QACnF,IAAI,GAAG,CAAC;QACR,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC3B,GAAG,GAAG,kBAAkB,CAAC,mCAAmC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;SAC/F;aACI;YACD,kBAAkB,CAAC,wBAAwB,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjG,GAAG,GAAG,kBAAkB,CAAC,gCAAgC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;SAC5F;QACD,IAAI,cAAc,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,kBAAkB,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC;QAC1E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC5C,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACpD,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE;gBAClF,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;gBAClE,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,KAAK,cAAc,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;iBAC1C;aACJ;SACJ;QACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;KACjD,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE;QAChG,IAAI,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;QACxC,IAAI,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;QACpC,IAAI,6BAA6B,GAAG,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC;QACxI,IAAI,eAAe,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,UAAU,EAAE,6BAA6B,GAAG,CAAC,CAAC,CAAC;QACvH,IAAI,aAAa,GAAG,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;QAC/G,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;YAChD,aAAa,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;YAC7G,aAAa,GAAG,eAAe,CAAC;SACnC;QACD,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;YAChD,eAAe,GAAG,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;YAC7F,eAAe,GAAG,aAAa,CAAC;SACnC;QACD,IAAI,CAAC,CAAC,OAAO,EAAE,KAAK,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,CAAC,EAAE;YACjE,eAAe,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC5E,IAAI,eAAe,KAAK,CAAC,CAAC,EAAE;gBACxB,aAAa,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;aAChH;SACJ;;;QAGD,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,UAAU,CAAC,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,cAAc;YACpI,UAAU,IAAI,GAAG,CAAC;SACrB;;QAED,IAAI,aAAa,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,EAAE,cAAc;YAC9G,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;YAC1B,aAAa,IAAI,CAAC,CAAC;SACtB;QACD,IAAI,eAAe,KAAK,CAAC,CAAC,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;YAChD,OAAO,mBAAmB,CAAC,mCAAmC,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE,eAAe,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,aAAa,EAAE,aAAa,GAAG,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;SAC/L;QACD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,kBAAkB,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE;QAC7E,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC;QACzC,IAAI,UAAU,GAAG,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACrE,IAAI,MAAM,GAAG,6BAA6B,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACnE,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,sBAAsB,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE;;YAE3E,OAAO;SACV;QACD,IAAI,UAAU,GAAG,MAAM,CAAC,sBAAsB,CAAC;QAC/C,IAAI,QAAQ,GAAG,MAAM,CAAC,oBAAoB,CAAC;QAC3C,IAAI,GAAG,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;QAC1E,IAAI,CAAC,GAAG,EAAE;YACN,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;gBACb,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC;gBAC1D,IAAIC,0BAAuB,GAAGD,uBAA+B,CAAC,WAAW,CAAC,CAAC;gBAC3E,IAAIC,0BAAuB,KAAK,CAAC,CAAC,EAAE;;oBAEhCA,0BAAuB,GAAG,WAAW,CAAC,MAAM,CAAC;iBAChD;gBACD,GAAG,GAAG,mBAAmB,CAAC,gCAAgC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAEA,0BAAuB,GAAG,CAAC,EAAE,CAAC,CAAC,eAAe,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;aAC1L;iBACI;gBACD,GAAG,GAAG,mBAAmB,CAAC,gCAAgC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,KAAK,CAAC,+BAA+B,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;aACtO;YACD,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;;gBAElB,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;aAC7C;SACJ;QACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACvD;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACvE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QACxB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,KAAK,CAAC,EAAE;YAC1D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;SAC1F;QACD,IAAI,IAAI,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC;QAC1G,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SAC7D;QACD,OAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;KACvD,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACvE,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC3B,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;SAC/D;QACD,OAAO,IAAI,SAAS,CAAC,MAAM,CAAC,wBAAwB,EAAE,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,kBAAkB,EAAE,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;KAChL,CAAC;;;;IAIF,kBAAkB,CAAC,mCAAmC,GAAG,UAAU,KAAK,EAAE,eAAe,EAAE;QACvF,IAAI,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,GAAG,EAAE,CAAC;QAC/B,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1C,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,QAAQ,CAAC,MAAM,EAAE;gBACjB,SAAS;aACZ;YACD,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,eAAe,GAAG,CAAC,EAAE,QAAQ,CAAC,gBAAgB,GAAG,CAAC,EAAE,eAAe,GAAG,CAAC,EAAE,QAAQ,CAAC,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACjL;QACD,OAAO,GAAG,CAAC;KACd,CAAC;;;;IAIF,kBAAkB,CAAC,gCAAgC,GAAG,UAAU,KAAK,EAAE,eAAe,EAAE;QACpF,IAAI,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,GAAG,EAAE,CAAC;QAC/B,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1C,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,QAAQ,CAAC,MAAM,EAAE;gBACjB,SAAS;aACZ;YACD,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,eAAe,GAAG,CAAC,EAAE,QAAQ,CAAC,gBAAgB,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC;SAC/H;QACD,OAAO,GAAG,CAAC;KACd,CAAC;;IAEF,kBAAkB,CAAC,iBAAiB,GAAG,UAAU,oBAAoB,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE;QAC/F,IAAI,KAAK,EAAE;YACP,OAAO,oBAAoB,IAAI,OAAO,IAAI,oBAAoB,GAAG,OAAO,CAAC,CAAC,CAAC;SAC9E;QACD,OAAO,oBAAoB,GAAG,UAAU,CAAC;KAC5C,CAAC;;;;IAIF,kBAAkB,CAAC,wBAAwB,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE;QAC5F,IAAI,gBAAgB,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,oBAAoB,CAAC;QAC5F,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;gBACjB,SAAS;aACZ;YACD,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;YACxD,oBAAoB,GAAG,CAAC,CAAC;YACzB,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,oBAAoB,GAAG,gBAAgB,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;gBACpG,oBAAoB,GAAG,kBAAkB,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;aAC5I;YACD,IAAI,oBAAoB,GAAG,gBAAgB,EAAE;gBACzC,gBAAgB,GAAG,oBAAoB,CAAC;aAC3C;SACJ;QACD,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC;QACpE,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;gBACjB,SAAS;aACZ;YACD,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;YACxD,oBAAoB,GAAG,CAAC,CAAC;YACzB,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,oBAAoB,GAAG,gBAAgB,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;gBACpG,oBAAoB,GAAG,kBAAkB,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;aAC5I;YACD,IAAI,oBAAoB,GAAG,gBAAgB,EAAE;gBACzC,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,GAAG,CAAC,CAAC;aACrC;iBACI;gBACD,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC;aACjC;SACJ;KACJ,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;;AC3TL;;;;AAIA,AACA,IAAIZ,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAMA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDE,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,IAAI,EAAE,IAAI,EAAE;QACnC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC1D,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,QAAQ,CAAC,IAAI,CAAC,IAAI,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;SAClF;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DA,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,eAAe;YACrC,EAAE,EAAE,2BAA2B;YAC/B,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,qBAAqB,CAAC;YAC1D,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,uBAAuB,CAAC;CAClC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,iBAAiB;YACvC,EAAE,EAAE,8BAA8B;YAClC,KAAK,EAAED,QAAY,CAAC,kBAAkB,EAAE,kBAAkB,CAAC;YAC3D,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,oBAAoB;YAC1C,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;YACjE,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,uBAAuB,CAAC;CAClC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDC,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,4BAA4B;YAChC,KAAK,EAAED,QAAY,CAAC,eAAe,EAAE,sBAAsB,CAAC;YAC5D,KAAK,EAAE,sBAAsB;YAC7B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;gBAC9C,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE,cAAc;aAC7E;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,QAAQ,CAAC,IAAI,CAAC,IAAI,mBAAmB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACzD;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;;AC3HzC;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAYA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,MAAM,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,YAAY,EAAE;QACnI,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,6BAA6B,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YAC7D,IAAI,KAAK,CAAC,6BAA6B,GAAG,CAAC,EAAE;gBACzC,KAAK,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;aAC/C;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;YACrD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,oBAAoB;;gBAEpC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,KAAK,CAAC,eAAe,EAAE,CAAC;aAC3B;SACJ,CAAC,CAAC,CAAC;KACP;IACD,qBAAqB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC1C,OAAO,MAAM,CAAC,eAAe,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;KAC3D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE;QAC1D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;;YAErB,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;gBACvF,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aAC/C;YACD,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,cAAc,EAAE;YAClD,OAAO;SACV;QACD,CAAC,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;QACzB,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,YAAY,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,aAAa,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,QAAQ,EAAE;YACjJ,OAAO;SACV;;QAED,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;;QAErB,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;YACvF,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAC/C;;QAED,IAAI,cAAc,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,QAAQ,EAAE;YAC5C,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;SAC7D;;QAED,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;KACxC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,cAAc,EAAE;QACxE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE;YAC1D,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,OAAO;SACV;;QAED,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;;QAEzC,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;SACxD;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC1D,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC9F,IAAI,MAAM,GAAG,WAAW,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAC1E,WAAW,CAAC,OAAO,EAAE,CAAC;QACtB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC5D,IAAI,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;YACzB,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC,IAAI,SAAS,EAAE,CAAC,CAAC;SAChC;QACD,MAAM,CAAC,GAAG,EAAE,CAAC;QACb,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,OAAO,EAAE,cAAc,EAAE;QACpF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,IAAI,CAAC,EAAE;;QAEzD,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC;QACxE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,KAAK,EAAE,KAAK;SACf,CAAC,CAAC;QACH,IAAI,YAAY,GAAG,cAAc,CAAC;QAClC,IAAI,CAAC,YAAY,EAAE;;YAEf,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,iBAAiB,CAAC;YAC3E,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YACtB,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;;YAEvF,IAAI,YAAY,GAAGe,sBAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC;YACzE,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;YACjD,IAAI,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC;YACrE,YAAY,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC;SACvC;;QAED,IAAI,CAAC,6BAA6B,EAAE,CAAC;QACrC,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC;YACrC,SAAS,EAAE,YAAY,EAAE,OAAO,YAAY,CAAC,EAAE;YAC/C,UAAU,EAAE,YAAY;gBACpB,OAAO,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;aAC/B;YACD,aAAa,EAAE,UAAU,MAAM,EAAE;gBAC7B,IAAI,UAAU,GAAG,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC9C,IAAI,UAAU,EAAE;oBACZ,OAAO,IAAI,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3G;gBACD,IAAI,gBAAgB,GAAG,MAAM,CAAC;gBAC9B,IAAI,OAAO,gBAAgB,CAAC,aAAa,KAAK,UAAU,EAAE;oBACtD,OAAO,gBAAgB,CAAC,aAAa,EAAE,CAAC;iBAC3C;gBACD,OAAO,IAAI,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;aACpF;YACD,aAAa,EAAE,UAAU,MAAM,EAAE;gBAC7B,OAAO,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;aACvC;YACD,MAAM,EAAE,UAAU,YAAY,EAAE;gBAC5B,KAAK,CAAC,6BAA6B,EAAE,CAAC;gBACtC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACtB,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC;oBACxB,KAAK,EAAE,eAAe;iBACzB,CAAC,CAAC;aACN;SACJ,CAAC,CAAC;KACN,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,MAAM,EAAE;QAC/D,OAAO,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,qBAAqB,CAAC,EAAE,CAAC;KACnC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClD,IAAI,IAAI,CAAC,6BAA6B,GAAG,CAAC,EAAE;YACxC,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;SAC9C;QACD,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC9C,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,4BAA4B,CAAC;IACxD,qBAAqB,GAAGJ,YAAU,CAAC;QAC/BC,SAAO,CAAC,CAAC,EAAE,mBAAmB,CAAC;QAC/BA,SAAO,CAAC,CAAC,EAAE,mBAAmB,CAAC;QAC/BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;KAC3B,EAAE,qBAAqB,CAAC,CAAC;IAC1B,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDV,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,0BAA0B,CAAC;YAC/E,KAAK,EAAE,0BAA0B;YACjC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,eAAe,EAAE;aACjC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,YAAY,GAAG,qBAAqB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACrD,YAAY,CAAC,eAAe,EAAE,CAAC;KAClC,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,0BAA0B,CAAC,qBAAqB,CAAC,CAAC;AAClD,oBAAoB,CAAC,eAAe,CAAC,CAAC;;AC1NtC;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAGA,IAAIgB,aAAW,kBAAkB,YAAY;IACzC,SAASA,cAAW,CAAC,UAAU,EAAE;QAC7B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAChC;IACDA,cAAW,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QAC5C,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;QACrC,IAAI,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;QACvC,IAAI,OAAO,KAAK,QAAQ,EAAE;YACtB,OAAO,KAAK,CAAC;SAChB;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC1D,OAAO,KAAK,CAAC;aAChB;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,OAAOA,cAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDd,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,CAAC,MAAM,EAAE;QAClC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;QAC5B,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;QACtB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QACtC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YACjD,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;YACtB,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;SAC3B,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YACxD,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;YACtB,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;SAC3B,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE;YAC3D,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,UAAU,EAAE;gBAC1C,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBACxC,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,EAAE;;oBAE9B,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;iBAC5B;aACJ;YACD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;SACzC,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,oBAAoB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACzC,OAAO,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;KAC1D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACpD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;;YAE1B,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAIc,aAAW,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;KACxD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACpD,IAAI,SAAS,GAAG,IAAIA,aAAW,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;QAC9D,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;gBAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBACjD,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC;gBAC3F,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,OAAO;aACV;SACJ;KACJ,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,qCAAqC,CAAC;IAChE,OAAO,oBAAoB,CAAC;CAC/B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,UAAU,kBAAkB,UAAU,MAAM,EAAE;IAC9Cd,WAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC9B,SAAS,UAAU,GAAG;QAClB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,YAAY;YAChB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QACtE,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC;KACjD,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,AACA,0BAA0B,CAAC,oBAAoB,CAAC,CAAC;AACjD,qBAAqB,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AClHxC;;;;AAIA,AAGA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE;QACzD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;IACD,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACvE,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SAClD;QACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;QAClK,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SACxM,EAAE;YACC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC;YACtC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa;gBAC5P,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW;gBAClF,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC9B,OAAO;SACV;QACD,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;;YAE/D,IAAI,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa;gBAC5P,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW;gBAClF,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC9B,OAAO;SACV;QACD,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;;YAE/D,IAAI,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa;gBAC5P,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW;gBAClF,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC9B,OAAO;SACV;;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;;YAExD,IAAI,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa;gBAChM,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW;gBAClF,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa;gBACnL,IAAI,CAAC,cAAc,CAAC,MAAM;gBAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;SACjC;aACI;;YAED,IAAI,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;SACxR;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACvE,OAAO,IAAI,CAAC,eAAe,CAAC;KAC/B,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;;AC9DL;;;;AAIA,AAWA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,MAAM,EAAE;QACnC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAChG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3F,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAC9B;IACD,qBAAqB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC1C,OAAO,MAAM,CAAC,eAAe,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;KAC3D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QAC3D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,EAAE;YAC9C,OAAO;SACV;QACD,IAAI,CAAC,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,EAAE;YAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,EAAE;YAC9D,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,UAAU,EAAE,MAAM;aACrB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE;QACzD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,EAAE;YAC9C,OAAO;SACV;QACD,IAAI,CAAC,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,EAAE;YAC3C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;SAChC;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,OAAO,KAAK,qBAAqB,CAAC,iBAAiB,EAAE;YAC1E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,UAAU,EAAE,SAAS;aACxB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE;QACvE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;KAC1B,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,UAAU,EAAE;QACrE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;;QAExB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,UAAU,EAAE,MAAM;SACrB,CAAC,CAAC;KACN,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE;QACvE,IAAI,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;QAC/B,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;YAC9B,IAAI,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,SAAS,CAAC,gBAAgB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3I,IAAI,kBAAkB,CAAC,MAAM,KAAK,CAAC,EAAE;gBACjC,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,CAAC,CAAC,CAAC;aAC/C;iBACI;gBACD,OAAO;aACV;SACJ;QACD,IAAI,UAAU,CAAC,KAAK,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,UAAU,EAAE,MAAM;aACrB,CAAC,CAAC;SACN;aACI;YACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,UAAU,EAAE,SAAS;aACxB,CAAC,CAAC;SACN;QACD,IAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;YACvD,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAChC;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE;QACvE,IAAI,UAAU,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,QAAQ,EAAE;YAChI,IAAI,mBAAmB,GAAG,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACjH,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;gBAC9B,IAAI,UAAU,CAAC,KAAK,CAAC,QAAQ,EAAE;oBAC3B,IAAI,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;oBACnD,IAAI,eAAe,GAAG,gBAAgB,CAAC,eAAe,EAAE,WAAW,GAAG,gBAAgB,CAAC,WAAW,CAAC;oBACnG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,SAAS,CAAC,eAAe,EAAE,WAAW,EAAE,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;iBACzI;qBACI;oBACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE;wBACtE,IAAI,SAAS,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,EAAE;4BACjD,OAAO,IAAI,SAAS,CAAC,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,MAAM,EAAE,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,MAAM,CAAC,CAAC;yBAChJ;6BACI;4BACD,OAAO,SAAS,CAAC;yBACpB;qBACJ,CAAC,CAAC;oBACH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;iBAC7C;aACJ;iBACI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,mBAAmB,CAAC;iBAC9D,CAAC,UAAU,CAAC,KAAK,CAAC,qBAAqB,CAAC,gBAAgB,CAAC;oBACtD,IAAI,CAAC,eAAe,MAAM,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;iBACpK,EAAE;gBACH,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBAC5B,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,qBAAqB,CAAC,EAAE,EAAE,IAAI,kBAAkB,CAAC,IAAI,CAAC,cAAc,EAAE,mBAAmB,EAAE,UAAU,CAAC,KAAK,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC1M,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;aAC/B;SACJ;QACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,UAAU,EAAE,MAAM;SACrB,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE;QACzD,IAAI,cAAc,GAAG,CAAC;gBACd,KAAK,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC;gBAC5F,OAAO,EAAE,qBAAqB,CAAC,mBAAmB;aACrD,CAAC,CAAC;QACP,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,cAAc,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC;KAC5D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QAC5D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;KACtF,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,MAAM,EAAE;QAC5D,OAAO,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,YAAY;YAC/C,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,aAAa,CAAC;KACrD,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,MAAM,EAAE;QAC3D,OAAO,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,mBAAmB;YACtD,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,mBAAmB;YACnD,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,uBAAuB,CAAC;KAC/D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,qBAAqB,CAAC,EAAE,CAAC;KACnC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClD,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC5C,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,4BAA4B,CAAC;IACxD,qBAAqB,CAAC,gBAAgB,GAAG,WAAW,GAAG,QAAQ,GAAG,SAAS,CAAC;IAC5E,qBAAqB,CAAC,iBAAiB,GAAG,WAAW,GAAG,CAAC,aAAa,CAAC,YAAY;IACnF,qBAAqB,CAAC,mBAAmB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACxE,SAAS,EAAE,YAAY;KAC1B,CAAC,CAAC;IACH,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,qBAAqB,CAAC,CAAC;;AC9KlD;;;;AAIA,AACA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,OAAO,EAAE,KAAK,EAAE;QACtC,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;QACzC,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,EAAE,CAAC,EAAE;QACrC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;IACD,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,CAAC,EAAE;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QACtD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;YACvB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACf;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;YACxB,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;SACpC;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC9C,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE;YAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;SACpC;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;KACpC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;KAClC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC1C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACjC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC/C,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KAC1B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACpD,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;QAC1B,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE;YAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAC3D;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;QAC1B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC/D,IAAI,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAC5B;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACjE,OAAO,QAAQ,CAAC;SACnB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;ACpFL;;;;AAIA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,MAAM,EAAE;QAC5B,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;aACI,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,KAAK,IAAI,EAAE;YAC5D,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;aACI;YACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;SACzB;KACJ;IACD,cAAc,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE;QAC9C,OAAO,IAAI,cAAc,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAChE,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,wBAAwB,EAAE;QACtE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC;SACrC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,OAAO,EAAE;QAC7D,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;YAC5B,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACrD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,KAAK,CAAC,WAAW,KAAK,IAAI,EAAE;;gBAE5B,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC;gBAC5B,SAAS;aACZ;;YAED,MAAM,IAAI,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;SACnE;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,cAAc,CAAC,WAAW,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QACxD,IAAI,UAAU,KAAK,CAAC,EAAE;YAClB,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;SACrB;QACD,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,OAAO,UAAU,GAAG,CAAC,EAAE;YACnB,IAAI,UAAU,GAAG,OAAO,CAAC,MAAM,EAAE;;gBAE7B,IAAI,KAAK,IAAI,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC;gBACxC,OAAO,KAAK,GAAG,SAAS,CAAC;aAC5B;YACD,SAAS,GAAG,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,SAAS,CAAC;YAChD,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC,CAAC;SAC5C;QACD,OAAO,GAAG,GAAG,SAAS,CAAC;KAC1B,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,WAAW,EAAE,UAAU,EAAE;QAC3C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAChC;IACD,YAAY,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACxC,OAAO,IAAI,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;KACtC,CAAC;IACF,YAAY,CAAC,UAAU,GAAG,UAAU,KAAK,EAAE;QACvC,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KACxC,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,MAAM,EAAE;QACjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;KACjC;IACD,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,WAAW,EAAE;QACjE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;KACrC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,KAAK,EAAE,WAAW,EAAE;QACrE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;KACrC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACzD,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,OAAO;SACV;QACD,IAAI,CAAC,mBAAmB,IAAI,KAAK,CAAC;KACrC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE,WAAW,EAAE;QACzE,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACrF,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;SACjC;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACjE,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;KACrC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACjD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,KAAK,CAAC,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACrF,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;SACjC;QACD,OAAO,IAAI,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC3C,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;;;;;;;;;;;;AAYL,AAAO,SAAS,kBAAkB,CAAC,aAAa,EAAE;IAC9C,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;QAC9C,OAAO,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;KACnC;IACD,IAAI,MAAM,GAAG,IAAI,mBAAmB,CAAC,aAAa,CAAC,CAAC;IACpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QACtD,IAAI,MAAM,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACzC,IAAI,MAAM,KAAK,EAAE,kBAAkB;;YAE/B,CAAC,EAAE,CAAC;YACJ,IAAI,CAAC,IAAI,GAAG,EAAE;;gBAEV,MAAM;aACT;YACD,IAAI,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;;YAE7C,QAAQ,UAAU;gBACd,KAAK,EAAE;;oBAEH,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC/B,MAAM;gBACV,KAAK,GAAG;;oBAEJ,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC/B,MAAM;gBACV,KAAK,GAAG;;oBAEJ,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC/B,MAAM;aACb;YACD,SAAS;SACZ;QACD,IAAI,MAAM,KAAK,EAAE,mBAAmB;;YAEhC,CAAC,EAAE,CAAC;YACJ,IAAI,CAAC,IAAI,GAAG,EAAE;;gBAEV,MAAM;aACT;YACD,IAAI,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC7C,IAAI,UAAU,KAAK,EAAE,mBAAmB;;gBAEpC,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9B,SAAS;aACZ;YACD,IAAI,UAAU,KAAK,EAAE,iBAAiB,UAAU,KAAK,EAAE,kBAAkB;;gBAErE,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChC,SAAS;aACZ;YACD,IAAI,EAAE,iBAAiB,UAAU,IAAI,UAAU,IAAI,EAAE,eAAe;;gBAEhE,IAAI,UAAU,GAAG,UAAU,GAAG,EAAE,cAAc;;gBAE9C,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE;oBACb,IAAI,cAAc,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACrD,IAAI,EAAE,iBAAiB,cAAc,IAAI,cAAc,IAAI,EAAE,eAAe;;;wBAGxE,CAAC,EAAE,CAAC;wBACJ,UAAU,GAAG,UAAU,GAAG,EAAE,IAAI,cAAc,GAAG,EAAE,cAAc,CAAC;wBAClE,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC5B,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;wBACzC,SAAS;qBACZ;iBACJ;gBACD,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzC,SAAS;aACZ;SACJ;KACJ;IACD,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC;CAC5B;;ACnND;;;;AAIA,AAMA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,MAAM,EAAE;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,oCAAoC,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;KACpD;IACD,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,oCAAoC,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAC9B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,oCAAoC,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;KACxC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;KACnC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SAClF;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,cAAc,CAAC;KAC9B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,gBAAgB,EAAE;QACrE,IAAI,CAAC,cAAc,GAAG,gBAAgB,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAClC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,YAAY,EAAE;QACpE,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACpD,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,OAAO,KAAK,GAAG,CAAC,CAAC;SACpB;QACD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,yBAAyB,GAAG,UAAU,YAAY,EAAE;QAC1E,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;QAC7E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,aAAa,GAAG,SAAS,CAAC,OAAO,CAAC;YACtC,IAAI,aAAa,KAAK,eAAe,CAAC,sBAAsB,IAAI,aAAa,KAAK,eAAe,CAAC,8BAA8B,EAAE;gBAC9H,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aACjD;SACJ;QACD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,SAAS,EAAE;QACjE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,sBAAsB,GAAG,IAAI,CAAC;QAClC,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,IAAI,SAAS,EAAE;YACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC1D,IAAIO,QAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7E,IAAI,SAAS,CAAC,WAAW,CAACA,QAAK,CAAC,EAAE;oBAC9B,sBAAsB,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oBAC9C,aAAa,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBACxB,MAAM;iBACT;aACJ;SACJ;QACD,IAAI,IAAI,CAAC,wBAAwB,KAAK,IAAI,IAAI,sBAAsB,KAAK,IAAI,EAAE;YAC3E,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;gBACrD,IAAI,KAAK,CAAC,wBAAwB,KAAK,IAAI,EAAE;oBACzC,cAAc,CAAC,uBAAuB,CAAC,KAAK,CAAC,wBAAwB,EAAE,eAAe,CAAC,sBAAsB,CAAC,CAAC;oBAC/G,KAAK,CAAC,wBAAwB,GAAG,IAAI,CAAC;iBACzC;gBACD,IAAI,sBAAsB,KAAK,IAAI,EAAE;oBACjC,KAAK,CAAC,wBAAwB,GAAG,sBAAsB,CAAC;oBACxD,cAAc,CAAC,uBAAuB,CAAC,KAAK,CAAC,wBAAwB,EAAE,eAAe,CAAC,8BAA8B,CAAC,CAAC;iBAC1H;gBACD,IAAI,KAAK,CAAC,2BAA2B,KAAK,IAAI,EAAE;oBAC5C,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;oBACnE,KAAK,CAAC,2BAA2B,GAAG,IAAI,CAAC;iBAC5C;gBACD,IAAI,sBAAsB,KAAK,IAAI,EAAE;oBACjC,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;oBAC9E,IAAI,GAAG,CAAC,eAAe,KAAK,GAAG,CAAC,aAAa,IAAI,GAAG,CAAC,SAAS,KAAK,CAAC,EAAE;wBAClE,IAAI,aAAa,GAAG,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC;wBAC1C,IAAI,sBAAsB,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;wBACtF,GAAG,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,WAAW,EAAE,aAAa,EAAE,sBAAsB,CAAC,CAAC;qBAChG;oBACD,KAAK,CAAC,2BAA2B,GAAG,cAAc,CAAC,aAAa,CAAC,GAAG,EAAE,eAAe,CAAC,2BAA2B,CAAC,CAAC;iBACtH;aACJ,CAAC,CAAC;SACN;QACD,OAAO,aAAa,CAAC;KACxB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,WAAW,EAAE,SAAS,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,QAAQ,EAAE;YAC/C,IAAI,kBAAkB,GAAG,eAAe,CAAC,sBAAsB,CAAC;YAChE,IAAI,sCAAsC,GAAG,EAAE,CAAC;YAChD,IAAI,WAAW,CAAC,MAAM,GAAG,IAAI,EAAE;;;gBAG3B,kBAAkB,GAAG,eAAe,CAAC,kCAAkC,CAAC;;gBAExE,IAAI,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,CAAC;gBACxD,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC;gBAClD,IAAI,mBAAmB,GAAG,MAAM,GAAG,SAAS,CAAC;gBAC7C,IAAI,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,mBAAmB,CAAC,CAAC,CAAC;;gBAEtE,IAAI,mBAAmB,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;gBAC/D,IAAI,iBAAiB,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC;gBAC3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBACpD,IAAIA,QAAK,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACjC,IAAI,iBAAiB,GAAG,eAAe,IAAIA,QAAK,CAAC,eAAe,EAAE;wBAC9D,IAAIA,QAAK,CAAC,aAAa,GAAG,iBAAiB,EAAE;4BACzC,iBAAiB,GAAGA,QAAK,CAAC,aAAa,CAAC;yBAC3C;qBACJ;yBACI;wBACD,sCAAsC,CAAC,IAAI,CAAC;4BACxC,KAAK,EAAE,IAAI,KAAK,CAAC,mBAAmB,EAAE,CAAC,EAAE,iBAAiB,EAAE,CAAC,CAAC;4BAC9D,OAAO,EAAE,eAAe,CAAC,oCAAoC;yBAChE,CAAC,CAAC;wBACH,mBAAmB,GAAGA,QAAK,CAAC,eAAe,CAAC;wBAC5C,iBAAiB,GAAGA,QAAK,CAAC,aAAa,CAAC;qBAC3C;iBACJ;gBACD,sCAAsC,CAAC,IAAI,CAAC;oBACxC,KAAK,EAAE,IAAI,KAAK,CAAC,mBAAmB,EAAE,CAAC,EAAE,iBAAiB,EAAE,CAAC,CAAC;oBAC9D,OAAO,EAAE,eAAe,CAAC,oCAAoC;iBAChE,CAAC,CAAC;aACN;;YAED,IAAI,yBAAyB,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC9D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACpD,yBAAyB,CAAC,CAAC,CAAC,GAAG;oBAC3B,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK;oBAC3B,OAAO,EAAE,kBAAkB;iBAC9B,CAAC;aACL;YACD,KAAK,CAAC,YAAY,GAAG,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,YAAY,EAAE,yBAAyB,CAAC,CAAC;;YAE9F,KAAK,CAAC,oCAAoC,GAAG,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,oCAAoC,EAAE,sCAAsC,CAAC,CAAC;;YAE3J,IAAI,KAAK,CAAC,2BAA2B,EAAE;gBACnC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;gBAC7D,KAAK,CAAC,2BAA2B,GAAG,IAAI,CAAC;aAC5C;;YAED,IAAI,KAAK,CAAC,sBAAsB,EAAE;gBAC9B,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;gBACxD,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;aACvC;YACD,IAAI,SAAS,EAAE;gBACX,KAAK,CAAC,sBAAsB,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,EAAE,eAAe,CAAC,sBAAsB,CAAC,CAAC;aAC5G;SACJ,CAAC,CAAC;KACN,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,QAAQ,EAAE;QAChE,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAChC,OAAO,IAAI,CAAC;SACf;QACD,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACjE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,GAAG,QAAQ,CAAC,UAAU,EAAE;gBAC7C,SAAS;aACZ;YACD,IAAI,CAAC,CAAC,aAAa,GAAG,QAAQ,CAAC,UAAU,EAAE;gBACvC,OAAO,CAAC,CAAC;aACZ;YACD,IAAI,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,EAAE;gBAC/B,SAAS;aACZ;YACD,OAAO,CAAC,CAAC;SACZ;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;KACtG,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,QAAQ,EAAE;QAC/D,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAChC,OAAO,IAAI,CAAC;SACf;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1D,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACjE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,UAAU,EAAE;gBAC/C,SAAS;aACZ;YACD,IAAI,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,UAAU,EAAE;gBACzC,OAAO,CAAC,CAAC;aACZ;YACD,IAAI,CAAC,CAAC,WAAW,GAAG,QAAQ,CAAC,MAAM,EAAE;gBACjC,SAAS;aACZ;YACD,OAAO,CAAC,CAAC;SACZ;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3E,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACpD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1C,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;QAClE,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SAC5C;QACD,IAAI,IAAI,CAAC,2BAA2B,EAAE;YAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;SACjD;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,eAAe,CAAC,8BAA8B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC7E,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,MAAM,EAAE,EAAE;QACV,SAAS,EAAE,kBAAkB;QAC7B,eAAe,EAAE,IAAI;QACrB,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YACzD,SAAS,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YAC7D,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,eAAe,CAAC,sBAAsB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACrE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,WAAW;QACtB,eAAe,EAAE,IAAI;QACrB,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YACzD,SAAS,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YAC7D,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,eAAe,CAAC,kCAAkC,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACjF,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,WAAW;QACtB,eAAe,EAAE,IAAI;KACxB,CAAC,CAAC;IACH,eAAe,CAAC,oCAAoC,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACnF,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YACzD,SAAS,EAAE,gBAAgB,CAAC,gCAAgC,CAAC;YAC7D,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,eAAe,CAAC,2BAA2B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC1E,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,gBAAgB;QAC3B,WAAW,EAAE,IAAI;KACpB,CAAC,CAAC;IACH,eAAe,CAAC,sBAAsB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACrE,SAAS,EAAE,WAAW;QACtB,WAAW,EAAE,IAAI;KACpB,CAAC,CAAC;IACH,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;AChRL;;;;AAIA,AAEA,IAAI,iBAAiB,kBAAkB,YAAY;IAC/C,SAAS,iBAAiB,CAAC,eAAe,EAAE,MAAM,EAAE,cAAc,EAAE;QAChE,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;QACxC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;KACzC;IACD,iBAAiB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACtE,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEzB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;gBAChD,GAAG,CAAC,IAAI,CAAC;oBACL,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;oBACxB,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;iBAClC,CAAC,CAAC;aACN;;YAED,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;gBACvB,OAAO,KAAK,CAAC,wBAAwB,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;aAC7D,CAAC,CAAC;;YAEH,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;gBACvC,IAAI,UAAU,CAAC,KAAK,CAAC,aAAa,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,IAAI,UAAU,CAAC,KAAK,CAAC,SAAS,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE;;oBAEhI,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;oBAC9D,UAAU,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;iBACrD;qBACI;oBACD,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC3B,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;iBACzB;aACJ;YACD,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,OAAO,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;aACnE;SACJ;QACD,IAAI,CAAC,yBAAyB,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAClF,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACtE,OAAO,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;KACrE,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;;ACnDL;;;;AAIA,AAcO,IAAI,2BAA2B,GAAG,IAAI,aAAa,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;AACvF,AAAO,IAAI,+BAA+B,GAAG,2BAA2B,CAAC,SAAS,EAAE,CAAC;;AAErF,AAAO,IAAI,0BAA0B,GAAG,IAAI,aAAa,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;AACtF,AAAO,IAAI,6BAA6B,GAAG,IAAI,aAAa,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;AAC5F,AAAO,IAAI,6BAA6B,GAAG;IACvC,OAAO,EAAE,GAAG,aAAa,EAAE;IAC3B,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE,cAAc;CACxE,CAAC;AACF,AAAO,IAAI,yBAAyB,GAAG;IACnC,OAAO,EAAE,GAAG,aAAa,EAAE;IAC3B,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE,cAAc;CACxE,CAAC;AACF,AAAO,IAAI,qBAAqB,GAAG;IAC/B,OAAO,EAAE,GAAG,aAAa,EAAE;IAC3B,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE,cAAc;CACxE,CAAC;AACF,AAAO,IAAI,2BAA2B,GAAG;IACrC,OAAO,EAAE,GAAG,aAAa,EAAE;IAC3B,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE,cAAc;CACxE,CAAC;AACF,AAAO,IAAI,8BAA8B,GAAG;IACxC,OAAO,EAAE,GAAG,aAAa,EAAE;CAC9B,CAAC;AACF,AAAO,IAAI,0BAA0B,GAAG;IACpC,OAAO,EAAE,GAAG,aAAa,EAAE;CAC9B,CAAC;AACF,AAAO,IAAI,QAAQ,GAAG;IAClB,eAAe,EAAE,cAAc;IAC/B,sBAAsB,EAAE,2BAA2B;IACnD,mBAAmB,EAAE,mCAAmC;IACxD,uBAAuB,EAAE,uCAAuC;IAChE,4BAA4B,EAAE,4CAA4C;IAC1E,gCAAgC,EAAE,gDAAgD;IAClF,sBAAsB,EAAE,sCAAsC;IAC9D,sBAAsB,EAAE,iBAAiB;IACzC,0BAA0B,EAAE,yBAAyB;IACrD,sBAAsB,EAAE,qBAAqB;IAC7C,kBAAkB,EAAE,iBAAiB;IACrC,wBAAwB,EAAE,uBAAuB;IACjD,gBAAgB,EAAE,0BAA0B;IAC5C,gBAAgB,EAAE,0BAA0B;IAC5C,sBAAsB,EAAE,gCAAgC;IACxD,0BAA0B,EAAE,2BAA2B;IACvD,sBAAsB,EAAE,uBAAuB;CAClD,CAAC;AACF,AAAO,IAAI,aAAa,GAAG,KAAK,CAAC;AACjC,IAAI,cAAc,GAAG,GAAG,CAAC;AACzB,IAAI,2BAA2B,kBAAkB,YAAY;IACzD,SAAS,2BAA2B,CAAC,MAAM,EAAE,KAAK,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,YAAY,EAAE,CAAC;QAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,2BAA2B,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QAC5G,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE;YACrE,IAAI,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,QAAQ;mBACrC,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,IAAI;mBACpC,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,IAAI,EAAE;gBACzC,KAAK,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;aACpE;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YACnE,IAAI,KAAK,CAAC,0BAA0B,EAAE;gBAClC,OAAO;aACV;YACD,IAAI,CAAC,CAAC,OAAO,EAAE;;gBAEX,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;aAC9B;YACD,KAAK,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;YACjE,KAAK,CAAC,2BAA2B,CAAC,QAAQ,EAAE,CAAC;SAChD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9G,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;KACjD;IACD,2BAA2B,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACnC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC9C,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QACjE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,WAAW,EAAE;;YAElB,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;;YAE1B,OAAO;SACV;QACD,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,iBAAiB,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,WAAW,EAAE;YACnG,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACpC,IAAI,KAAK,CAAC,oBAAoB,EAAE,EAAE;gBAC9B,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;gBACnC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,YAAY;oBAC9C,IAAI,CAAC,CAAC,WAAW,EAAE;wBACf,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;qBAC1D;yBACI;wBACD,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;qBAChC;iBACJ,EAAE,cAAc,CAAC,CAAC;aACtB;iBACI;gBACD,IAAI,CAAC,CAAC,WAAW,EAAE;oBACf,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;iBACxD;qBACI;oBACD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;iBAC/B;aACJ;SACJ;KACJ,CAAC;IACF,2BAA2B,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QACtE,IAAI,WAAW,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;;QAE5C,IAAI,SAAS,EAAE;YACX,WAAW,GAAG,WAAW,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;SACxD;QACD,OAAO,WAAW,CAAC;KACtB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;QACjF,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;YACrC,SAAS,GAAG,YAAY,CAAC;SAC5B;aACI;YACD,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;SAChD;QACD,IAAI,SAAS,KAAK,IAAI,EAAE;YACpB,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;;gBAEvD,SAAS,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,EAAE,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;aACnJ;SACJ;QACD,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;QACrE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC;QAC/I,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,CAAC;SAC/D;KACJ,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5D,QAAQ,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,EAAE;KACzC,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5D,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;YACrB,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;YACjD,IAAI,SAAS,EAAE;;gBAEX,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,SAAS,EAAE,CAAC,cAAc,CAAC;aAChF;YACD,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE;QAC1E,IAAI,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QACnE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAC;QAClF,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC;KAC5E,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;QAC1E,IAAI,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;eAClF,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACnD,IAAI,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,gBAAgB,IAAI,MAAM,KAAK,CAAC,EAAE;YAClC,IAAI,UAAU,KAAK,CAAC,EAAE;gBAClB,UAAU,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;aACrC;iBACI;gBACD,UAAU,EAAE,CAAC;aAChB;YACD,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;SAC/C;aACI;YACD,MAAM,EAAE,CAAC;SACZ;QACD,OAAO,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC3C,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE,UAAU,EAAE;QACnF,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,KAAK,CAAC,EAAE;QAClD,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,aAAa,EAAE;YAC9C,IAAI,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;YACnE,IAAI,cAAc,IAAI,cAAc,CAAC,OAAO,EAAE,IAAI,cAAc,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;gBAChG,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBAC1C,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;aAClE;YACD,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;aAC7C;YACD,OAAO;SACV;QACD,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACpB,OAAO;SACV;QACD,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,WAAW,GAAG,2BAA2B,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC;;QAElG,IAAI,WAAW,CAAC,cAAc,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAC/C,MAAM,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC;SACzC;;QAED,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,EAAE;YACjD,MAAM,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC;SACzC;QACD,IAAI,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,QAAQ,GAAG,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAChD,IAAI,SAAS,GAAG,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;QAC9M,IAAI,SAAS,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,SAAS,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;;YAE/F,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YAC9C,SAAS,GAAG,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;SAC7M;QACD,IAAI,CAAC,SAAS,EAAE;;YAEZ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,UAAU,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC5D,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;SAC1E;QACD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAC9C,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAChE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC;KACzE,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,KAAK,EAAE;QACzE,IAAI,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;eAClF,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACnD,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,gBAAgB,IAAI,MAAM,KAAK,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YACnE,IAAI,UAAU,KAAK,KAAK,CAAC,YAAY,EAAE,EAAE;gBACrC,UAAU,GAAG,CAAC,CAAC;aAClB;iBACI;gBACD,UAAU,EAAE,CAAC;aAChB;YACD,MAAM,GAAG,CAAC,CAAC;SACd;aACI;YACD,MAAM,EAAE,CAAC;SACZ;QACD,OAAO,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC3C,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QACtE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,aAAa,EAAE;YAC9C,IAAI,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YACjE,IAAI,cAAc,IAAI,cAAc,CAAC,OAAO,EAAE,IAAI,cAAc,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;;gBAE/F,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBACxC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;aAChE;YACD,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;aAC7C;YACD,OAAO;SACV;QACD,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QACvD,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC9C;KACJ,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE,cAAc,EAAE,SAAS,EAAE,UAAU,EAAE;QAC1G,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,KAAK,CAAC,EAAE;QAClD,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACpB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,WAAW,GAAG,2BAA2B,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC;;QAElG,IAAI,WAAW,CAAC,cAAc,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC9C,KAAK,GAAG,WAAW,CAAC,gBAAgB,EAAE,CAAC;SAC1C;;QAED,IAAI,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,EAAE;YAChD,KAAK,GAAG,WAAW,CAAC,gBAAgB,EAAE,CAAC;SAC1C;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,QAAQ,GAAG,IAAI,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAChD,IAAI,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,cAAc,CAAC,CAAC;QACnN,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,SAAS,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;;YAE5G,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YAC9C,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,cAAc,CAAC,CAAC;SAClN;QACD,IAAI,CAAC,SAAS,EAAE;;YAEZ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,UAAU,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC5D,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,EAAE,EAAE,cAAc,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;SAChG;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAChE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,cAAc,EAAE,CAAC,CAAC;KACvE,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACnE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACrB,OAAO,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;SACxD;QACD,OAAO,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KACpE,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;YACrB,OAAO;SACV;QACD,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC/C,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,gBAAgB,EAAE,EAAE,cAAc,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;QAC/G,IAAI,SAAS,EAAE;YACX,IAAI,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;gBAExC,IAAI,aAAa,GAAG,cAAc,CAAC,kBAAkB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACzE,IAAI,OAAO,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;gBAC3D,IAAI,CAAC,qBAAqB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;gBAC/C,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,eAAe,EAAE,SAAS,CAAC,WAAW,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1H,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACvB;iBACI;gBACD,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;gBAC/D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aAC9C;SACJ;KACJ,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,SAAS,EAAE,cAAc,EAAE,gBAAgB,EAAE;QACxG,IAAI,WAAW,GAAG,2BAA2B,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC;QAClG,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC;KAClP,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC3D,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;YACrB,OAAO;SACV;QACD,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,aAAa,EAAE;;YAEjE,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;aACI;YACD,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACxB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACjE,IAAI,YAAY,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC;QACzL,IAAI,UAAU,GAAG,YAAY,CAAC,kBAAkB,EAAE,CAAC;QACnD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAI,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC;QACnC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE;YACxB,IAAI,GAAG,GAAG,GAAG,CAAC;YACd,IAAI,WAAW,CAAC,UAAU,EAAE;gBACxB,GAAG,IAAI,GAAG,CAAC;aACd;YACD,IAAI,WAAW,CAAC,MAAM,EAAE;gBACpB,GAAG,IAAI,GAAG,CAAC;aACd;YACD,WAAW,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;SACrD;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;QACvD,IAAI,cAAc,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC/C,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC/C,IAAI,UAAU,CAAC;QACf,IAAI,cAAc,CAAC,sBAAsB,EAAE;YACvC,UAAU,GAAG,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,YAAY;gBACpD,OAAO,cAAc,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;aACvD,CAAC,CAAC;SACN;aACI;YACD,UAAU,GAAG,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;SACxF;QACD,IAAI,OAAO,GAAG,IAAI,oCAAoC,CAAC,cAAc,EAAE,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC;QAChH,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;KACrD,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,SAAS,EAAE;QAC5E,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;;QAE/C,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,cAAc,CAAC,sBAAsB,EAAE,UAAU,8BAA8B,CAAC;QAC3H,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAChD,cAAc,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;SAC7E;QACD,IAAI,OAAO,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAChI,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;KACrD,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACjE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;YACrB,OAAO;SACV;QACD,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;;QAEjD,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE,UAAU,8BAA8B,CAAC;QAC3F,IAAI,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;;QAE7J,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,GAAG,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE;gBAClC,UAAU,GAAG,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC9F,MAAM;aACT;SACJ;QACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;KAC1C,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,MAAM,EAAE,OAAO,EAAE;QACrF,IAAI;YACA,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SAC/B;gBACO;YACJ,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;SAC3C;KACJ,CAAC;IACF,OAAO,2BAA2B,CAAC;CACtC,EAAE,CAAC,CAAC;;AC/bL;;;;AAIA,AAGA,SAAS,oBAAoB,CAAC,QAAQ,EAAE,KAAK,EAAE;IAC3C,IAAI,QAAQ,KAAK,CAAC,aAAa;QAC3B,OAAO,IAAI,CAAC;KACf;IACD,IAAI,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,KAAK,CAAC;KAChB;IACD,OAAO,KAAK,CAAC;CAChB;AACD,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,GAAG;QACxB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,CAAC,cAAc;QACvC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,kBAAkB,GAAG,CAAC,cAAc;QACzC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,kBAAkB,GAAG,CAAC,cAAc;QACzC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,yBAAyB,GAAG,IAAI,OAAO,EAAE,CAAC;KAClD;IACD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE;QAC9D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;QAC/C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,eAAe,EAAE;QAC/D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,cAAc,CAAC,EAAE;QAChD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,EAAE;QAC5D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE;QAC7C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,mBAAmB,EAAE;QACnE,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,kBAAkB,CAAC,EAAE;QACpD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,EAAE;QACzD,GAAG,EAAE,YAAY,EAAE,OAAO,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE;QACvF,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE;QAC3D,GAAG,EAAE,YAAY,EAAE,OAAO,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;QAC3F,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE;QAC3D,GAAG,EAAE,YAAY,EAAE,OAAO,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;QAC3F,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,eAAe,EAAE;QAC/D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;QAC1C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,iBAAiB,EAAE;QACjE,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;QAC5C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,iBAAiB,EAAE;QACjE,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;QAC5C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,EAAE;QAC7D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE;QAC9C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,iBAAiB,EAAE;QACjE,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAE;QAClD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE;QAC9D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;QAC/C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE;QAC9D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;QAC/C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,0BAA0B,EAAE;QAC1E,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,EAAE;QACjE,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;KAChD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,eAAe,EAAE,YAAY,EAAE,YAAY,EAAE;QAChG,IAAI,WAAW,GAAG;YACd,UAAU,EAAE,KAAK;YACjB,aAAa,EAAE,KAAK;YACpB,YAAY,EAAE,KAAK;YACnB,aAAa,EAAE,KAAK;YACpB,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,KAAK;YACxB,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,KAAK;YAChB,SAAS,EAAE,KAAK;YAChB,WAAW,EAAE,KAAK;YAClB,eAAe,EAAE,KAAK;YACtB,YAAY,EAAE,KAAK;YACnB,YAAY,EAAE,KAAK;SACtB,CAAC;QACF,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,YAAY,KAAK,CAAC,EAAE;YACpB,eAAe,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,eAAe,GAAG,YAAY,EAAE;YAChC,eAAe,GAAG,YAAY,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,gBAAgB,KAAK,eAAe,EAAE;YAC3C,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;YACxC,WAAW,CAAC,eAAe,GAAG,IAAI,CAAC;YACnC,gBAAgB,GAAG,IAAI,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,aAAa,KAAK,YAAY,EAAE;YACrC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;YAClC,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC;YAChC,gBAAgB,GAAG,IAAI,CAAC;SAC3B;QACD,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;YACrC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,EAAE;gBACtD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;gBAClC,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC;gBAChC,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,IAAI,gBAAgB,EAAE;YAClB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACpD;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE,UAAU,EAAE,aAAa,EAAE;QAC/E,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,IAAI,CAAC,EAAE;QACvD,IAAI,WAAW,GAAG;YACd,UAAU,EAAE,UAAU;YACtB,aAAa,EAAE,aAAa;YAC5B,YAAY,EAAE,KAAK;YACnB,aAAa,EAAE,KAAK;YACpB,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,KAAK;YACxB,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,KAAK;YAChB,SAAS,EAAE,KAAK;YAChB,WAAW,EAAE,KAAK;YAClB,eAAe,EAAE,KAAK;YACtB,YAAY,EAAE,KAAK;YACnB,YAAY,EAAE,KAAK;SACtB,CAAC;QACF,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC;QACvC,IAAI,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5C,IAAI,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC;QAC3C,IAAI,OAAO,QAAQ,CAAC,YAAY,KAAK,WAAW,EAAE;YAC9C,IAAI,IAAI,CAAC,aAAa,KAAK,QAAQ,CAAC,YAAY,EAAE;gBAC9C,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC;gBAC3C,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC;gBAChC,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,IAAI,OAAO,QAAQ,CAAC,aAAa,KAAK,WAAW,EAAE;YAC/C,IAAI,IAAI,CAAC,cAAc,KAAK,QAAQ,CAAC,aAAa,EAAE;gBAChD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC;gBAC7C,WAAW,CAAC,aAAa,GAAG,IAAI,CAAC;gBACjC,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,IAAI,OAAO,QAAQ,CAAC,UAAU,KAAK,WAAW,EAAE;YAC5C,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,CAAC,UAAU,EAAE;gBAC1C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC;gBACvC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;gBAC9B,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,IAAI,OAAO,QAAQ,CAAC,iBAAiB,KAAK,WAAW,EAAE;YACnD,IAAI,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,iBAAiB,EAAE;gBACxD,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,iBAAiB,CAAC;gBACrD,WAAW,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBACrC,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,IAAI,OAAO,QAAQ,CAAC,OAAO,KAAK,WAAW,EAAE;YACzC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;SACpC;QACD,IAAI,OAAO,QAAQ,CAAC,SAAS,KAAK,WAAW,EAAE;YAC3C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC;SACxC;QACD,IAAI,OAAO,QAAQ,CAAC,SAAS,KAAK,WAAW,EAAE;YAC3C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC;SACxC;QACD,IAAI,OAAO,QAAQ,CAAC,WAAW,KAAK,WAAW,EAAE;YAC7C,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,WAAW,CAAC,EAAE;gBAC7D,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,WAAW,CAAC;gBACzC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC;gBAC/B,gBAAgB,GAAG,IAAI,CAAC;aAC3B;SACJ;;QAED,IAAI,CAAC,gBAAgB,IAAI,OAAO,QAAQ,CAAC,eAAe,KAAK,WAAW,GAAG,QAAQ,CAAC,eAAe,GAAG,CAAC,cAAc,CAAC;QACtH,IAAI,CAAC,kBAAkB,IAAI,OAAO,QAAQ,CAAC,iBAAiB,KAAK,WAAW,GAAG,QAAQ,CAAC,iBAAiB,GAAG,CAAC,cAAc,CAAC;QAC5H,IAAI,CAAC,kBAAkB,IAAI,OAAO,QAAQ,CAAC,iBAAiB,KAAK,WAAW,GAAG,QAAQ,CAAC,iBAAiB,GAAG,CAAC,cAAc,CAAC;QAC5H,IAAI,mBAAmB,KAAK,IAAI,CAAC,OAAO,EAAE;YACtC,gBAAgB,GAAG,IAAI,CAAC;YACxB,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,sBAAsB,KAAK,IAAI,CAAC,SAAS,EAAE;YAC3C,gBAAgB,GAAG,IAAI,CAAC;YACxB,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC;SAChC;QACD,IAAI,qBAAqB,KAAK,IAAI,CAAC,SAAS,EAAE;YAC1C,gBAAgB,GAAG,IAAI,CAAC;YACxB,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC;SAChC;QACD,IAAI,gBAAgB,EAAE;YAClB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACpD;KACJ,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;ACjPL;;;;AAIA,AAEO,IAAI,iBAAiB,GAAG,eAAe,CAAC,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNnE;;;;AAIA,AACA,IAAI,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,MAAM,EAAE;QACzB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;KACpB;IACD,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KAC1C,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,AACO,IAAI,gBAAgB,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;;AChBrD;;;;;;AAMA,IAAI,gBAAgB,CAAC;AACrB,AACC,CAAC,SAAS,IAAI,EAAE;AACjB,AACA;;;;;AAKA,IAAI,KAAK,GAAG;EACV,OAAO,EAAE,MAAM;EACf,IAAI,EAAE,mBAAmB;EACzB,MAAM,EAAE,IAAI;EACZ,EAAE,EAAE,wDAAwD;EAC5D,OAAO,EAAE,uCAAuC;EAChD,OAAO,EAAE,IAAI;EACb,UAAU,EAAE,yCAAyC;EACrD,IAAI,EAAE,+DAA+D;EACrE,IAAI,EAAE,8EAA8E;EACpF,GAAG,EAAE,kFAAkF;EACvF,KAAK,EAAE,IAAI;EACX,QAAQ,EAAE,mCAAmC;EAC7C,SAAS,EAAE,4DAA4D;EACvE,IAAI,EAAE,SAAS;CAChB,CAAC;;AAEF,KAAK,CAAC,MAAM,GAAG,uBAAuB,CAAC;AACvC,KAAK,CAAC,MAAM,GAAG,+DAA+D,CAAC;AAC/E,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;GACxB,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC;GAC9B,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC;GAC9B,QAAQ,EAAE,CAAC;;AAEd,KAAK,CAAC,MAAM,GAAG,iBAAiB,CAAC;AACjC,KAAK,CAAC,IAAI,GAAG,4CAA4C,CAAC;AAC1D,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;GAChC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC;GAC9B,QAAQ,EAAE,CAAC;;AAEd,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;GAC1B,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC;GAC9B,OAAO,CAAC,IAAI,EAAE,iEAAiE,CAAC;GAChF,OAAO,CAAC,KAAK,EAAE,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;GAClD,QAAQ,EAAE,CAAC;;AAEd,KAAK,CAAC,IAAI,GAAG,QAAQ;IACjB,oDAAoD;IACpD,qDAAqD;IACrD,wDAAwD,CAAC;;AAE7D,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;GAC1B,OAAO,CAAC,SAAS,EAAE,iBAAiB,CAAC;GACrC,OAAO,CAAC,QAAQ,EAAE,sBAAsB,CAAC;GACzC,OAAO,CAAC,SAAS,EAAE,6CAA6C,CAAC;GACjE,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC;GAC3B,QAAQ,EAAE,CAAC;;AAEd,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;GACpC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC;GACvB,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC;GACjC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC;GACnC,OAAO,CAAC,KAAK,EAAE,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC;GAChC,QAAQ,EAAE,CAAC;;AAEd,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;GACtC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC;GACrC,QAAQ,EAAE,CAAC;;;;;;AAMd,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;;;;;;AAMhC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,MAAM,EAAE;EAClC,MAAM,EAAE,8DAA8D;EACtE,SAAS,EAAE,GAAG;EACd,OAAO,EAAE,uCAAuC;CACjD,CAAC,CAAC;;AAEH,KAAK,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;GACxC,OAAO,CAAC,KAAK,EAAE,KAAK;MACjB,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,GAAG;MACnD,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,GAAG,CAAC;GACjD,QAAQ,EAAE,CAAC;;;;;;AAMd,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,EAAE;EAClC,OAAO,EAAE,+DAA+D;EACxE,KAAK,EAAE,2DAA2D;CACnE,CAAC,CAAC;;;;;;AAMH,SAAS,KAAK,CAAC,OAAO,EAAE;EACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;EACjB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;EACvB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC;EAC1C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;;EAE1B,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;IACpB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;MACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;KAC3B,MAAM;MACL,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;KACxB;GACF;CACF;;;;;;AAMD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;;AAMpB,KAAK,CAAC,GAAG,GAAG,SAAS,GAAG,EAAE,OAAO,EAAE;EACjC,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;EAC/B,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;CACvB,CAAC;;;;;;AAMF,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,SAAS,GAAG,EAAE;EAClC,GAAG,GAAG,GAAG;KACN,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC;KACzB,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;KACtB,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;KACvB,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;;EAE5B,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;CAC9B,CAAC;;;;;;AAMF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,GAAG,EAAE,GAAG,EAAE;EACzC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;EAChC,IAAI,IAAI;MACJ,KAAK;MACL,GAAG;MACH,IAAI;MACJ,CAAC;MACD,IAAI;MACJ,KAAK;MACL,CAAC;MACD,GAAG;MACH,CAAC;MACD,SAAS,CAAC;;EAEd,OAAO,GAAG,EAAE;;IAEV,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACtC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;UACf,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;OACJ;KACF;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;MACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;YACxB,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;YACvB,GAAG;OACR,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACrC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;QACZ,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;OACnB,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACtC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,SAAS;QACf,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM;QACpB,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;OACb,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MAC/C,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;MAEnC,IAAI,GAAG;QACL,IAAI,EAAE,OAAO;QACb,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC1D,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;QACvD,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;OAC7C,CAAC;;MAEF,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UACnC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;SACzB,MAAM,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;SAC1B,MAAM,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UAC1C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;SACxB,MAAM;UACL,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SACtB;OACF;;MAED,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;OAC/C;;MAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;MAEvB,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACjC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,IAAI;OACX,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACzC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;MAEnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,kBAAkB;OACzB,CAAC,CAAC;;MAEH,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;;;;;MAKrC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;;MAErB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,gBAAgB;OACvB,CAAC,CAAC;;MAEH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;MACd,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;MAE5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,YAAY;QAClB,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,SAAS,GAAG,CAAC,IAAI,GAAG,EAAE;OAC9B,CAAC,CAAC;;;MAGH,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;;MAEpC,IAAI,GAAG,KAAK,CAAC;MACb,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;MACf,CAAC,GAAG,CAAC,CAAC;;MAEN,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACjB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;;;;QAId,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACpB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;;;;QAI9C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;UACxB,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC;UACrB,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;cACzB,IAAI,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,OAAO,GAAG,KAAK,GAAG,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC;cACzD,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;SACnC;;;;QAID,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;UAC1C,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACrC,IAAI,IAAI,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;YACpD,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;YACxC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;WACX;SACF;;;;;QAKD,KAAK,GAAG,IAAI,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;UACf,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC;UAC7C,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC;SAC1B;;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;UACf,IAAI,EAAE,KAAK;cACP,kBAAkB;cAClB,iBAAiB;SACtB,CAAC,CAAC;;;QAGH,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;;QAExB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;UACf,IAAI,EAAE,eAAe;SACtB,CAAC,CAAC;OACJ;;MAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,UAAU;OACjB,CAAC,CAAC;;MAEH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;YACvB,WAAW;YACX,MAAM;QACV,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS;cACtB,GAAG,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC;QACpE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;OACb,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MAC3C,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;MAC5D,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;MAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;QAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG;UACvB,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;UACZ,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;SACd,CAAC;OACH;MACD,SAAS;KACV;;;IAGD,IAAI,GAAG,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MAC7C,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;MAEnC,IAAI,GAAG;QACL,IAAI,EAAE,OAAO;QACb,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC1D,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;QACvD,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;OACxD,CAAC;;MAEF,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UACnC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;SACzB,MAAM,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;SAC1B,MAAM,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;UAC1C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;SACxB,MAAM;UACL,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SACtB;OACF;;MAED,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;WAC1B,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC;WAC/B,KAAK,CAAC,QAAQ,CAAC,CAAC;OACpB;;MAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;MAEvB,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACvC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,SAAS;QACf,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;QAC7B,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;OACb,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MACjD,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI;YAC3C,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACnB,GAAG,CAAC,CAAC,CAAC;OACX,CAAC,CAAC;MACH,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;;MAEnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACf,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;OACb,CAAC,CAAC;MACH,SAAS;KACV;;IAED,IAAI,GAAG,EAAE;MACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KAChE;GACF;;EAED,OAAO,IAAI,CAAC,MAAM,CAAC;CACpB,CAAC;;;;;;AAMF,IAAI,MAAM,GAAG;EACX,MAAM,EAAE,6BAA6B;EACrC,QAAQ,EAAE,qCAAqC;EAC/C,GAAG,EAAE,IAAI;EACT,GAAG,EAAE,8EAA8E;EACnF,IAAI,EAAE,yBAAyB;EAC/B,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,6CAA6C;EACrD,MAAM,EAAE,gDAAgD;EACxD,EAAE,EAAE,+DAA+D;EACnE,IAAI,EAAE,mCAAmC;EACzC,EAAE,EAAE,kBAAkB;EACtB,GAAG,EAAE,IAAI;EACT,IAAI,EAAE,uCAAuC;CAC9C,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,8BAA8B,CAAC;AAChD,MAAM,CAAC,MAAM,GAAG,8IAA8I,CAAC;;AAE/J,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;GACpC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC;GACjC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC;GAC/B,QAAQ,GAAE;;AAEb,MAAM,CAAC,OAAO,GAAG,mDAAmD,CAAC;AACrE,MAAM,CAAC,KAAK,GAAG,gDAAgD,CAAC;;AAEhE,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;GAC5B,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC;GACjC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC;GAC7B,QAAQ,EAAE,CAAC;;AAEd,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;GAClC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC;GACjC,QAAQ,EAAE,CAAC;;;;;;AAMd,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;;;;;;AAMlC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE;EACzC,MAAM,EAAE,gEAAgE;EACxE,EAAE,EAAE,0DAA0D;CAC/D,CAAC,CAAC;;;;;;AAMH,MAAM,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE;EACpC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,QAAQ,EAAE;EAC5D,GAAG,EAAE,IAAI,CAAC,kEAAkE,CAAC;KAC1E,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC;KAC/B,QAAQ,EAAE;EACb,UAAU,EAAE,wEAAwE;EACpF,GAAG,EAAE,yBAAyB;EAC9B,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;KACpB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;KACpB,OAAO,CAAC,GAAG,EAAE,gEAAgE,CAAC;KAC9E,QAAQ,EAAE;CACd,CAAC,CAAC;;;;;;AAMH,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE;EACpC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,EAAE;EACnD,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,EAAE;CAC5D,CAAC,CAAC;;;;;;AAMH,SAAS,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE;EACnC,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC;EAC1C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;EACnB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;EAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,QAAQ,EAAE,CAAC;EACxD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;;EAErC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;IACf,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;GAC9D;;EAED,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;IACpB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;MACvB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;KAC5B,MAAM;MACL,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC;KACzB;GACF,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;IAChC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC;GAC9B;CACF;;;;;;AAMD,WAAW,CAAC,KAAK,GAAG,MAAM,CAAC;;;;;;AAM3B,WAAW,CAAC,MAAM,GAAG,SAAS,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;EACjD,IAAI,MAAM,GAAG,IAAI,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EAC7C,OAAO,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;CAC3B,CAAC;;;;;;AAMF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,GAAG,EAAE;EAC3C,IAAI,GAAG,GAAG,EAAE;MACR,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,GAAG,CAAC;;EAER,OAAO,GAAG,EAAE;;IAEV,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACrC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;MACd,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACvC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAClB,IAAI,GAAGQ,SAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC;OACzB,MAAM;QACL,IAAI,GAAGA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,IAAI,CAAC;OACb;MACD,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;MAC5C,SAAS;KACV;;;IAGD,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MACpD,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAClB,IAAI,GAAGA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC;OACzB,MAAM;QACL,IAAI,GAAGA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE;UACrB,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC;SACzB,MAAM;UACL,IAAI,GAAG,IAAI,CAAC;SACb;OACF;MACD,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;MAC5C,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MAClC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;QACxC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;OACpB,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;QAChD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;OACrB;MACD,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ;UACxB,IAAI,CAAC,OAAO,CAAC,SAAS;YACpB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC9BA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;UAChB,GAAG,CAAC,CAAC,EAAC;MACV,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;MACnB,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;QAC1B,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;QACZ,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;OACd,CAAC,CAAC;MACH,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;MACpB,SAAS;KACV;;;IAGD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;YAC/B,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;MAC1C,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;MAC/C,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;MACtC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QACvB,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAChC,SAAS;OACV;MACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;MACnB,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;MAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;MACpB,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACrC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACjC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvD,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAACA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;MAC3D,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACjC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;MAC1B,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MAClC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9C,SAAS;KACV;;;IAGD,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;MACnC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;MACnC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAACA,SAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5D,SAAS;KACV;;IAED,IAAI,GAAG,EAAE;MACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KAChE;GACF;;EAED,OAAO,GAAG,CAAC;CACZ,CAAC;;;;;;AAMF,WAAW,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,GAAG,EAAE,IAAI,EAAE;EACrD,IAAI,IAAI,GAAGA,SAAM,CAAC,IAAI,CAAC,IAAI,CAAC;MACxB,KAAK,GAAG,IAAI,CAAC,KAAK,GAAGA,SAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;;EAEnD,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG;MAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACpD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,EAAEA,SAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACtD,CAAC;;;;;;AAMF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,SAAS,IAAI,EAAE;EACjD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,IAAI,CAAC;EAC3C,OAAO,IAAI;;KAER,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC;;KAEzB,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC;;KAExB,OAAO,CAAC,yBAAyB,EAAE,UAAU,CAAC;;KAE9C,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;;KAEvB,OAAO,CAAC,8BAA8B,EAAE,UAAU,CAAC;;KAEnD,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;;KAEvB,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;CAChC,CAAC;;;;;;AAMF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;EAC5C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC;EACtC,IAAI,GAAG,GAAG,EAAE;MACR,CAAC,GAAG,IAAI,CAAC,MAAM;MACf,CAAC,GAAG,CAAC;MACL,EAAE,CAAC;;EAEP,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IACjB,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,EAAE;MACvB,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KAC5B;IACD,GAAG,IAAI,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC;GACxB;;EAED,OAAO,GAAG,CAAC;CACZ,CAAC;;;;;;AAMF,SAAS,QAAQ,CAAC,OAAO,EAAE;EACzB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;CAC9B;;AAED,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;EACtD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;IAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7C,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,EAAE;MAC/B,OAAO,GAAG,IAAI,CAAC;MACf,IAAI,GAAG,GAAG,CAAC;KACZ;GACF;;EAED,IAAI,CAAC,IAAI,EAAE;IACT,OAAO,aAAa;SACf,OAAO,GAAG,IAAI,GAAGA,SAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,iBAAiB,CAAC;GACvB;;EAED,OAAO,oBAAoB;MACvB,IAAI,CAAC,OAAO,CAAC,UAAU;MACvBA,SAAM,CAAC,IAAI,EAAE,IAAI,CAAC;MAClB,IAAI;OACH,OAAO,GAAG,IAAI,GAAGA,SAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;MACrC,mBAAmB,CAAC;CACzB,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,KAAK,EAAE;EAC9C,OAAO,gBAAgB,GAAG,KAAK,GAAG,iBAAiB,CAAC;CACrD,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;EACvC,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE;EACtD,OAAO,IAAI;MACP,KAAK;MACL,OAAO;MACP,IAAI,CAAC,OAAO,CAAC,YAAY;MACzB,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;MACzC,IAAI;MACJ,IAAI;MACJ,KAAK;MACL,KAAK;MACL,KAAK,CAAC;CACX,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,EAAE,GAAG,WAAW;EACjC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,SAAS,GAAG,QAAQ,CAAC;CAClD,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;EACvD,IAAI,IAAI,GAAG,OAAO,GAAG,IAAI,GAAG,IAAI;MAC5B,QAAQ,GAAG,CAAC,OAAO,IAAI,KAAK,KAAK,CAAC,KAAK,UAAU,GAAG,KAAK,GAAG,GAAG,IAAI,EAAE,CAAC;EAC1E,OAAO,GAAG,GAAG,IAAI,GAAG,QAAQ,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;CACnE,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE;EAC3C,OAAO,MAAM,GAAG,IAAI,GAAG,SAAS,CAAC;CAClC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE;EAC5C,OAAO,KAAK,GAAG,IAAI,GAAG,QAAQ,CAAC;CAChC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,MAAM,EAAE,IAAI,EAAE;EAChD,OAAO,WAAW;MACd,WAAW;MACX,MAAM;MACN,YAAY;MACZ,WAAW;MACX,IAAI;MACJ,YAAY;MACZ,YAAY,CAAC;CAClB,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,OAAO,EAAE;EAC9C,OAAO,QAAQ,GAAG,OAAO,GAAG,SAAS,CAAC;CACvC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG,SAAS,OAAO,EAAE,KAAK,EAAE;EACtD,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC;EACtC,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK;MACjB,GAAG,GAAG,IAAI,GAAG,qBAAqB,GAAG,KAAK,CAAC,KAAK,GAAG,IAAI;MACvD,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC;EACrB,OAAO,GAAG,GAAG,OAAO,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;CAC5C,CAAC;;;AAGF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;EACzC,OAAO,UAAU,GAAG,IAAI,GAAG,WAAW,CAAC;CACxC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,EAAE,GAAG,SAAS,IAAI,EAAE;EACrC,OAAO,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC;CAChC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE;EAC3C,OAAO,QAAQ,GAAG,IAAI,GAAG,SAAS,CAAC;CACpC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,EAAE,GAAG,WAAW;EACjC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,GAAG,MAAM,CAAC;CAC9C,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,SAAS,IAAI,EAAE;EACtC,OAAO,OAAO,GAAG,IAAI,GAAG,QAAQ,CAAC;CAClC,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;EACpD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;IACzB,IAAI;MACF,IAAI,IAAI,GAAG,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC1C,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;SACtB,WAAW,EAAE,CAAC;KAClB,CAAC,OAAO,CAAC,EAAE;MACV,OAAO,IAAI,CAAC;KACb;IACD,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;MACvG,OAAO,IAAI,CAAC;KACb;GACF;EACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;IAC5D,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;GAC/C;EACD,IAAI,GAAG,GAAG,WAAW,GAAG,IAAI,GAAG,GAAG,CAAC;EACnC,IAAI,KAAK,EAAE;IACT,GAAG,IAAI,UAAU,GAAG,KAAK,GAAG,GAAG,CAAC;GACjC;EACD,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;EAC3B,OAAO,GAAG,CAAC;CACZ,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;EACrD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;IAC5D,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;GAC/C;EACD,IAAI,GAAG,GAAG,YAAY,GAAG,IAAI,GAAG,SAAS,GAAG,IAAI,GAAG,GAAG,CAAC;EACvD,IAAI,KAAK,EAAE;IACT,GAAG,IAAI,UAAU,GAAG,KAAK,GAAG,GAAG,CAAC;GACjC;EACD,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,GAAG,GAAG,CAAC;EACvC,OAAO,GAAG,CAAC;CACZ,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;EACvC,OAAO,IAAI,CAAC;CACb,CAAC;;;;;;;AAOF,SAAS,YAAY,GAAG,EAAE;;;;AAI1B,YAAY,CAAC,SAAS,CAAC,MAAM;AAC7B,YAAY,CAAC,SAAS,CAAC,EAAE;AACzB,YAAY,CAAC,SAAS,CAAC,QAAQ;AAC/B,YAAY,CAAC,SAAS,CAAC,GAAG;AAC1B,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE;EAC5C,OAAO,IAAI,CAAC;EACb;;AAED,YAAY,CAAC,SAAS,CAAC,IAAI;AAC3B,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;EACzD,OAAO,EAAE,GAAG,IAAI,CAAC;EAClB;;AAED,YAAY,CAAC,SAAS,CAAC,EAAE,GAAG,WAAW;EACrC,OAAO,EAAE,CAAC;EACX;;;;;;AAMD,SAAS,MAAM,CAAC,OAAO,EAAE;EACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;EACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;EAClB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC;EAC1C,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,QAAQ,EAAE,CAAC;EAChE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;EACtC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;CACtC;;;;;;AAMD,MAAM,CAAC,KAAK,GAAG,SAAS,GAAG,EAAE,OAAO,EAAE;EACpC,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;EACjC,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;CAC1B,CAAC;;;;;;AAMF,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,GAAG,EAAE;EACrC,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;;EAEvD,IAAI,CAAC,UAAU,GAAG,IAAI,WAAW;IAC/B,GAAG,CAAC,KAAK;IACT,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,IAAI,YAAY,EAAE,CAAC,CAAC;GACxD,CAAC;EACF,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC;;EAE5B,IAAI,GAAG,GAAG,EAAE,CAAC;EACb,OAAO,IAAI,CAAC,IAAI,EAAE,EAAE;IAClB,GAAG,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;GACnB;;EAED,OAAO,GAAG,CAAC;CACZ,CAAC;;;;;;AAMF,MAAM,CAAC,SAAS,CAAC,IAAI,GAAG,WAAW;EACjC,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;CACvC,CAAC;;;;;;AAMF,MAAM,CAAC,SAAS,CAAC,IAAI,GAAG,WAAW;EACjC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;CACjD,CAAC;;;;;;AAMF,MAAM,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW;EACtC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;;EAE3B,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,MAAM,EAAE;IAClC,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;GACjC;;EAED,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;CACjC,CAAC;;;;;;AAMF,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,WAAW;EAChC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI;IACrB,KAAK,OAAO,EAAE;MACZ,OAAO,EAAE,CAAC;KACX;IACD,KAAK,IAAI,EAAE;MACT,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;KAC3B;IACD,KAAK,SAAS,EAAE;MACd,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO;QAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,KAAK;QAChB,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACtD;IACD,KAAK,MAAM,EAAE;MACX,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI;QACvC,IAAI,CAAC,KAAK,CAAC,IAAI;QACf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KACvB;IACD,KAAK,OAAO,EAAE;MACZ,IAAI,MAAM,GAAG,EAAE;UACX,IAAI,GAAG,EAAE;UACT,CAAC;UACD,GAAG;UACH,IAAI;UACJ,CAAC,CAAC;;;MAGN,IAAI,GAAG,EAAE,CAAC;MACV,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC7C,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS;UAC7B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;UACxC,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;SAC7C,CAAC;OACH;MACD,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;MAEvC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC5C,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;QAE1B,IAAI,GAAG,EAAE,CAAC;QACV,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;UAC/B,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS;YAC7B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1B,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;WAC9C,CAAC;SACH;;QAED,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;OACtC;MACD,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KAC1C;IACD,KAAK,kBAAkB,EAAE;MACvB,IAAI,GAAG,EAAE,CAAC;;MAEV,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,gBAAgB,EAAE;QAC5C,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;OACpB;;MAED,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;KACvC;IACD,KAAK,YAAY,EAAE;MACjB,IAAI,GAAG,EAAE,CAAC;MACV,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO;UAC5B,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;;MAE7B,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,UAAU,EAAE;QACtC,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;OACpB;;MAED,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KACjD;IACD,KAAK,iBAAiB,EAAE;MACtB,IAAI,GAAG,EAAE,CAAC;;MAEV,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,eAAe,EAAE;QAC3C,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,MAAM;YAC9B,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,GAAG,EAAE,CAAC;OAChB;;MAED,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrC;IACD,KAAK,kBAAkB,EAAE;MACvB,IAAI,GAAG,EAAE,CAAC;;MAEV,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,eAAe,EAAE;QAC3C,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;OACpB;;MAED,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrC;IACD,KAAK,MAAM,EAAE;MACX,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;UAChD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;UACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;MACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACjC;IACD,KAAK,WAAW,EAAE;MAChB,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;KACrE;IACD,KAAK,MAAM,EAAE;MACX,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;KAClD;GACF;CACF,CAAC;;;;;;AAMF,SAASA,SAAM,CAAC,IAAI,EAAE,MAAM,EAAE;EAC5B,OAAO,IAAI;KACR,OAAO,CAAC,CAAC,MAAM,GAAG,cAAc,GAAG,IAAI,EAAE,OAAO,CAAC;KACjD,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;KACrB,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;KACrB,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;KACvB,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;CAC3B;;AAED,SAAS,QAAQ,CAAC,IAAI,EAAE;;EAEtB,OAAO,IAAI,CAAC,OAAO,CAAC,4CAA4C,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE;IAC/E,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;IACpB,IAAI,CAAC,KAAK,OAAO,EAAE,OAAO,GAAG,CAAC;IAC9B,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACvB,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG;UACtB,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;UACjD,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1C;IACD,OAAO,EAAE,CAAC;GACX,CAAC,CAAC;CACJ;;AAED,SAAS,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE;EACxB,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;EACrB,GAAG,GAAG,GAAG,IAAI,EAAE,CAAC;EAChB,OAAO;IACL,OAAO,EAAE,SAAS,IAAI,EAAE,GAAG,EAAE;MAC3B,GAAG,GAAG,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC;MACxB,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;MACxC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;MACjC,OAAO,IAAI,CAAC;KACb;IACD,QAAQ,EAAE,WAAW;MACnB,OAAO,IAAI,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;KAC/B;GACF,CAAC;CACH;;AAED,SAAS,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE;EAC9B,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;;;;IAIzB,IAAI,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;MACjC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;KACnC,MAAM;MACL,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;KACnD;GACF;EACD,IAAI,GAAG,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;;EAE5B,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;IAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC;GAC7C,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACjC,OAAO,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC;GACxD,MAAM;IACL,OAAO,IAAI,GAAG,IAAI,CAAC;GACpB;CACF;AACD,IAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,IAAI,oBAAoB,GAAG,+BAA+B,CAAC;;AAE3D,SAAS,IAAI,GAAG,EAAE;AAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;AAEjB,SAAS,KAAK,CAAC,GAAG,EAAE;EAClB,IAAI,CAAC,GAAG,CAAC;MACL,MAAM;MACN,GAAG,CAAC;;EAER,OAAO,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAChC,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IACtB,KAAK,GAAG,IAAI,MAAM,EAAE;MAClB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE;QACrD,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;OACxB;KACF;GACF;;EAED,OAAO,GAAG,CAAC;CACZ;;;;;;AAMD,SAAS,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE;;EAElC,IAAI,OAAO,GAAG,KAAK,WAAW,IAAI,GAAG,KAAK,IAAI,EAAE;IAC9C,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;GACnE;EACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;IAC3B,MAAM,IAAI,KAAK,CAAC,uCAAuC;QACnD,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,mBAAmB,CAAC,CAAC;GAChE;;EAED,IAAI,QAAQ,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;IACzC,IAAI,CAAC,QAAQ,EAAE;MACb,QAAQ,GAAG,GAAG,CAAC;MACf,GAAG,GAAG,IAAI,CAAC;KACZ;;IAED,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,IAAI,EAAE,CAAC,CAAC;;IAE5C,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS;QACzB,MAAM;QACN,OAAO;QACP,CAAC,GAAG,CAAC,CAAC;;IAEV,IAAI;MACF,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAC;KAC7B,CAAC,OAAO,CAAC,EAAE;MACV,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;KACpB;;IAED,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;;IAExB,IAAI,IAAI,GAAG,SAAS,GAAG,EAAE;MACvB,IAAI,GAAG,EAAE;QACP,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;QAC1B,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;OACtB;;MAED,IAAI,GAAG,CAAC;;MAER,IAAI;QACF,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;OACjC,CAAC,OAAO,CAAC,EAAE;QACV,GAAG,GAAG,CAAC,CAAC;OACT;;MAED,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;;MAE1B,OAAO,GAAG;UACN,QAAQ,CAAC,GAAG,CAAC;UACb,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KACzB,CAAC;;IAEF,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;MACtC,OAAO,IAAI,EAAE,CAAC;KACf;;IAED,OAAO,GAAG,CAAC,SAAS,CAAC;;IAErB,IAAI,CAAC,OAAO,EAAE,OAAO,IAAI,EAAE,CAAC;;IAE5B,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MAC7B,CAAC,SAAS,KAAK,EAAE;QACf,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;UACzB,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,CAAC;SAC5B;QACD,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,SAAS,GAAG,EAAE,IAAI,EAAE;UAC3D,IAAI,GAAG,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;UAC1B,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,IAAI,EAAE;YACvC,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,CAAC;WAC5B;UACD,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;UAClB,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;UACrB,EAAE,OAAO,IAAI,IAAI,EAAE,CAAC;SACrB,CAAC,CAAC;OACJ,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KACf;;IAED,OAAO;GACR;EACD,IAAI;IACF,IAAI,GAAG,EAAE,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IAC/C,OAAO,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;GAC/C,CAAC,OAAO,CAAC,EAAE;IACV,CAAC,CAAC,OAAO,IAAI,6DAA6D,CAAC;IAC3E,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE;MACnC,OAAO,gCAAgC;UACnCA,SAAM,CAAC,CAAC,CAAC,OAAO,GAAG,EAAE,EAAE,IAAI,CAAC;UAC5B,QAAQ,CAAC;KACd;IACD,MAAM,CAAC,CAAC;GACT;CACF;;;;;;AAMD,MAAM,CAAC,OAAO;AACd,MAAM,CAAC,UAAU,GAAG,SAAS,GAAG,EAAE;EAChC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;EAC5B,OAAO,MAAM,CAAC;CACf,CAAC;;AAEF,MAAM,CAAC,QAAQ,GAAG;EAChB,GAAG,EAAE,IAAI;EACT,MAAM,EAAE,IAAI;EACZ,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,KAAK;EACf,QAAQ,EAAE,KAAK;EACf,SAAS,EAAE,IAAI;EACf,MAAM,EAAE,IAAI;EACZ,UAAU,EAAE,KAAK;EACjB,MAAM,EAAE,KAAK;EACb,SAAS,EAAE,IAAI;EACf,UAAU,EAAE,OAAO;EACnB,WAAW,EAAE,KAAK;EAClB,YAAY,EAAE,EAAE;EAChB,QAAQ,EAAE,IAAI,QAAQ,EAAE;EACxB,KAAK,EAAE,KAAK;EACZ,OAAO,EAAE,IAAI;CACd,CAAC;;;;;;AAMF,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;AACvB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;;AAE7B,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC3B,MAAM,CAAC,YAAY,GAAG,YAAY,CAAC;;AAEnC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;AACrB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;;AAEzB,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;AACjC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC;;AAExC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC;;AAEtB,gBAAgB,GAAG,MAAM,CAAC;;CAEzB,EAAE,IAAI,CAACjB,SAAI,CAAC,CAAC;;;;;;;;;;;AAWd,AAAO,IAAI,MAAM,GAAG,gBAAgB,CAAC;AACrC,AAAO,IAAI,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;AAC5C,AAAO,IAAI,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;AAC5C,AAAO,IAAI,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC;AAChD,AAAO,IAAI,YAAY,GAAG,gBAAgB,CAAC,YAAY,CAAC;AACxD,AAAO,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;AAC1C,AAAO,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;AAC1C,AAAO,IAAI,WAAW,GAAG,gBAAgB,CAAC,WAAW,CAAC;AACtD,AAAO,IAAI,WAAW,GAAG,gBAAgB,CAAC,WAAW,CAAC;AACtD,AAAO,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;oBACtB;;AC73CpB;;;;AAIA,AAMA,SAAS,aAAa,CAAC,OAAO,EAAE;IAC5B,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC;IAC9C,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC9C,IAAI,OAAO,CAAC,SAAS,EAAE;QACnB,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;KACzC;IACD,OAAO,OAAO,CAAC;CAClB;AACD,AAAO,SAAS,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE;IACtC,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;IACzC,IAAI,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACrC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;IAC3B,OAAO,OAAO,CAAC;CAClB;AACD,AAAO,SAAS,mBAAmB,CAAC,aAAa,EAAE,OAAO,EAAE;IACxD,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;IACzC,IAAI,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACrC,oBAAoB,CAAC,OAAO,EAAE,kBAAkB,CAAC,aAAa,CAAC,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;IACxF,OAAO,OAAO,CAAC;CAClB;;;;AAID,AAAO,SAAS,cAAc,CAAC,QAAQ,EAAE,OAAO,EAAE;IAC9C,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;IACzC,IAAI,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;;;IAGrC,IAAI,eAAe,CAAC;IACpB,IAAI,aAAa,GAAG,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,eAAe,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC9E,IAAI,QAAQ,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;IACrC,QAAQ,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;QAC1C,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,IAAI,EAAE;YACN,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;YACtE,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnB,IAAI,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,UAAU,EAAE;gBACZ,IAAI,gBAAgB,GAAG,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACvD,IAAI,eAAe,GAAG,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACrD,IAAI,MAAM,IAAI,gBAAgB,IAAI,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,IAAI,KAAK,IAAI,eAAe,IAAI,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,cAAc,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChD,IAAI,aAAa,EAAE;oBACf,UAAU,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;iBAC9C;gBACD,IAAI,cAAc,EAAE;oBAChB,UAAU,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,GAAG,IAAI,CAAC,CAAC;iBAChD;aACJ;SACJ;QACD,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,IAAI,EAAE;YACN,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,EAAE;YACN,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;SAC3C;QACD,IAAI,KAAK,EAAE;YACP,UAAU,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;SAC9C;QACD,IAAI,UAAU,CAAC,MAAM,EAAE;YACnB,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SAC9C;QACD,OAAO,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;KAC/C,CAAC;IACF,QAAQ,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;;QAEzC,IAAI,IAAI,KAAK,IAAI,EAAE;YACf,IAAI,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;SACtC;QACD,KAAK,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;QACrC,IAAI,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI;eACF,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC;gBAChC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;;YAEtD,OAAO,IAAI,CAAC;SACf;aACI;YACD,OAAO,4BAA4B,GAAG,IAAI,GAAG,aAAa,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,IAAI,GAAG,MAAM,CAAC;SACxG;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE;QACjC,OAAO,KAAK,GAAG,IAAI,GAAG,MAAM,CAAC;KAChC,CAAC;IACF,IAAI,OAAO,CAAC,iBAAiB,EAAE;QAC3B,QAAQ,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE,IAAI,EAAE;YAClC,IAAI,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;YAGlD,IAAI,EAAE,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC;YACnC,IAAI,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;gBACrE,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,GAAG,OAAO,CAAC,aAAa,CAAC,kBAAkB,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC;gBAClE,IAAI,IAAI,EAAE;oBACN,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;iBAC7B;aACJ,CAAC,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE;;aAEvB,CAAC,CAAC;YACH,IAAI,OAAO,CAAC,uBAAuB,EAAE;gBACjC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;aACjD;YACD,OAAO,kCAAkC,GAAG,EAAE,GAAG,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;SACpF,CAAC;KACL;IACD,IAAI,OAAO,CAAC,aAAa,EAAE;QACvB,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAACkB,6BAAiC,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,KAAK,EAAE;YACzG,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC1B,IAAI,MAAM,CAAC,OAAO,KAAK,GAAG,EAAE;gBACxB,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;gBAC9B,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,KAAK,GAAG,EAAE;oBACnC,OAAO;iBACV;aACJ;YACD,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,IAAI,EAAE;gBACN,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aAC/C;SACJ,CAAC,CAAC,CAAC;KACP;IACD,IAAI,aAAa,GAAG;QAChB,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,QAAQ;KACrB,CAAC;IACF,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;IAC1D,eAAe,EAAE,CAAC;IAClB,OAAO,OAAO,CAAC;CAClB;;AAED,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,MAAM,EAAE;QAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;KAClB;IACD,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QACrC,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;KAC3C,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACtC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,OAAO,IAAI,CAAC;KACf,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACtC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,SAAS,oBAAoB,CAAC,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE;IAC5D,IAAI,KAAK,CAAC;IACV,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,aAAa;QAChC,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;KACrD;SACI,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,aAAa;QACrC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;KACvC;SACI,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,gBAAgB;QACxC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;KACvC;SACI,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,iBAAiB,aAAa,EAAE;QACxD,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACpC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;QACb,aAAa,CAAC,YAAY,CAAC,IAAI,CAACA,6BAAiC,CAAC,CAAC,EAAE,OAAO,EAAE,UAAU,KAAK,EAAE;YAC3F,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC;SACzD,CAAC,CAAC,CAAC;QACJ,KAAK,GAAG,CAAC,CAAC;KACb;SACI,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,gBAAgB;QACxC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KACxC;SACI,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,aAAa;QACrC,KAAK,GAAG,OAAO,CAAC;KACnB;IACD,IAAI,OAAO,KAAK,KAAK,EAAE;QACnB,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KAC9B;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;QAClC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;YAC3C,oBAAoB,CAAC,KAAK,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;SACzD,CAAC,CAAC;KACN;CACJ;AACD,SAAS,kBAAkB,CAAC,OAAO,EAAE;IACjC,IAAI,IAAI,GAAG;QACP,IAAI,EAAE,CAAC;QACP,QAAQ,EAAE,EAAE;KACf,CAAC;IACF,IAAI,eAAe,GAAG,CAAC,CAAC;IACxB,IAAI,OAAO,GAAG,IAAI,CAAC;IACnB,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,MAAM,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;IACvC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;QAClB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,mBAAmB,IAAI,IAAI,KAAK,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC;QAC9F,IAAI,mBAAmB,EAAE;YACrB,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,mBAAmB,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,MAAM,CAAC,IAAI,EAAE,EAAE;YACrE,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,IAAI,OAAO,CAAC,IAAI,KAAK,CAAC,aAAa;gBAC/B,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;aACzB;YACD,IAAI,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;YAC/B,IAAI,OAAO,CAAC,IAAI,KAAK,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,CAAC,iBAAiB,IAAI,KAAK,CAAC,mBAAmB,EAAE;gBAC5F,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;aACzB;iBACI;gBACD,IAAI,UAAU,GAAG;oBACb,IAAI,EAAE,IAAI;oBACV,QAAQ,EAAE,EAAE;iBACf,CAAC;gBACF,IAAI,IAAI,KAAK,CAAC,eAAe;oBACzB,UAAU,CAAC,KAAK,GAAG,eAAe,CAAC;oBACnC,eAAe,EAAE,CAAC;iBACrB;gBACD,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAClC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACpB,OAAO,GAAG,UAAU,CAAC;aACxB;SACJ;aACI,IAAI,IAAI,KAAK,IAAI,EAAE;YACpB,IAAI,OAAO,CAAC,IAAI,KAAK,CAAC,aAAa;gBAC/B,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;aACzB;YACD,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAClB,IAAI,EAAE,CAAC;aACV,CAAC,CAAC;SACN;aACI;YACD,IAAI,OAAO,CAAC,IAAI,KAAK,CAAC,aAAa;gBAC/B,IAAI,WAAW,GAAG;oBACd,IAAI,EAAE,CAAC;oBACP,OAAO,EAAE,IAAI;iBAChB,CAAC;gBACF,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACnC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACpB,OAAO,GAAG,WAAW,CAAC;aACzB;iBACI;gBACD,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC;aAC3B;SACJ;KACJ;IACD,IAAI,OAAO,CAAC,IAAI,KAAK,CAAC,aAAa;QAC/B,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;KACzB;AACL,AAGA,IAAI,OAAO,IAAI,CAAC;CACf;AACD,SAAS,WAAW,CAAC,IAAI,EAAE;IACvB,OAAO,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe;CAClD;AACD,SAAS,aAAa,CAAC,IAAI,EAAE;IACzB,QAAQ,IAAI;QACR,KAAK,GAAG;YACJ,OAAO,CAAC,YAAY;QACxB,KAAK,GAAG;YACJ,OAAO,CAAC,eAAe;QAC3B,KAAK,GAAG;YACJ,OAAO,CAAC,cAAc;QAC1B,KAAK,GAAG;YACJ,OAAO,CAAC,mBAAmB;QAC/B;YACI,OAAO,CAAC,eAAe;KAC9B;CACJ;;AC1RD;;;;AAIA,AACA,IAAIhB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAYA,IAAImB,GAAC,GAAGC,CAAK,CAAC;AACd,AAAO,IAAI,WAAW,CAAC;AACvB,CAAC,UAAU,WAAW,EAAE;IACpB,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;IAC9C,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC;IACpD,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;CACnD,EAAE,WAAW,KAAK,WAAW,GAAG,EAAE,CAAC,CAAC,CAAC;AACtC,IAAI,WAAW,GAAG;IACd,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACzC,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACzC,yBAAyB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACnD,6BAA6B,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACvD,4BAA4B,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACtD,gCAAgC,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IAC1D,0BAA0B,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACpD,8BAA8B,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;CAC3D,CAAC;AACF,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5ClB,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,CAAC,SAAS,EAAE,mBAAmB,EAAE,OAAO,EAAE;QACvD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QACrB,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QACpD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7C,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAC1D,KAAK,CAAC,iBAAiB,GAAG,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC;QACzD,KAAK,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAChD,KAAK,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/C,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QACzC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;QAC1B,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC;QACpD,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,EAAE,CAAC;QAChD,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QACtD,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QACtD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAC9C,KAAK,CAAC,yBAAyB,GAAG,KAAK,CAAC,OAAO,CAAC,yBAAyB,CAAC;QAC1E,KAAK,CAAC,6BAA6B,GAAG,KAAK,CAAC,OAAO,CAAC,6BAA6B,CAAC;QAClF,KAAK,CAAC,4BAA4B,GAAG,KAAK,CAAC,OAAO,CAAC,4BAA4B,CAAC;QAChF,KAAK,CAAC,gCAAgC,GAAG,KAAK,CAAC,OAAO,CAAC,gCAAgC,CAAC;QACxF,KAAK,CAAC,0BAA0B,GAAG,KAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC;QAC5E,KAAK,CAAC,8BAA8B,GAAG,KAAK,CAAC,OAAO,CAAC,8BAA8B,CAAC;QACpF,IAAI,KAAK,CAAC,OAAO,CAAC,iBAAiB,EAAE;YACjC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC;SACjE;QACD,KAAK,CAAC,OAAO,GAAGmB,MAAU,CAAC,SAAS,EAAEF,GAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;QAClE,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,GAAG,UAAU,GAAG,OAAO,CAAC;QAClE,IAAI,OAAO,GAAGE,MAAU,CAAC,KAAK,CAAC,OAAO,EAAEF,GAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QACvD,KAAK,CAAC,KAAK,GAAGE,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC;QACzD,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAClD,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAE,OAAOb,QAAY,CAAC,KAAK,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC;QACnG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAE,OAAOE,WAAe,CAAC,KAAK,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC;QACrG,IAAI,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE;YAC9B,KAAK,CAAC,MAAM,GAAGa,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,YAAY,CAAC,CAAC,CAAC;SACvD;aACI;YACD,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI,MAAM,CAAC;YAChD,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;SAC3C;QACD,IAAI,KAAK,CAAC,SAAS,EAAE;YACjB,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;SAC3D;QACD,IAAI,KAAK,CAAC,WAAW,EAAE;YACnB,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;SAC3C;QACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1E,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAClE,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;;QAEpE,IAAI,KAAK,CAAC,WAAW,IAAIG,IAAQ,EAAE;YAC/B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;gBACpCC,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC9B,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;aACvB,CAAC,CAAC;SACN;QACD,UAAU,CAAC,YAAY;YACnB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBACd,OAAO;aACV;YACD,KAAK,CAAC,YAAY,EAAE,CAAC;SACxB,EAAE,CAAC,CAAC,CAAC;;QAEN,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE;YACvB,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YAChE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;SAC7E;QACD,KAAK,CAAC,WAAW,EAAE,CAAC;QACpB,OAAO,KAAK,CAAC;KAChB;IACD,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpC,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,WAAW,EAAE;QACvD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;YACpD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC;SAClC;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QAC/C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aACzD;iBACI;gBACD,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;aAC5C;SACJ;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAc,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC;SACrB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE;QAC/C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;SAC3B;QACD,GAAG,EAAE,UAAU,QAAQ,EAAE;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,QAAQ,EAAE;gBAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC;gBAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE;QAChD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,YAAY,KAAK,IAAI,GAAGC,cAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;SAC5F;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;KACtB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAClC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KACrB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACtC,OAAO,QAAQ,CAAC,aAAa,KAAK,IAAI,CAAC,KAAK,CAAC;KAChD,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,UAAUf,QAAK,EAAE;QACzC,IAAIA,QAAK,KAAK,KAAK,CAAC,EAAE,EAAEA,QAAK,GAAG,IAAI,CAAC,EAAE;QACvC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACpB,IAAIA,QAAK,EAAE;YACP,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAACA,QAAK,CAAC,KAAK,EAAEA,QAAK,CAAC,GAAG,CAAC,CAAC;SACxD;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;KAC1C,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QAC/C,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;aACI;YACD,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE;QAC/C,GAAG,EAAE,YAAY;YACb,OAAOgB,aAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACxC;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;SACzC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE,KAAK,EAAE;QACvD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvBjB,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACtCA,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACtCA,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACzCA,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACvCF,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,GAAG,YAAY,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;;QAEhF,IAAI,SAAS,CAAC;QACd,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,CAAC,KAAK,EAAE;YACpC,SAAS,GAAGL,QAAY,CAAC,mBAAmB,EAAE,YAAY,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;SAChF;aACI,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,CAAC,OAAO,EAAE;YAC3C,SAAS,GAAGA,QAAY,CAAC,qBAAqB,EAAE,cAAc,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;SACpF;aACI;YACD,SAAS,GAAGA,QAAY,CAAC,kBAAkB,EAAE,WAAW,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;SAC9E;QACDyB,KAAU,CAAC,SAAS,CAAC,CAAC;QACtB,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,KAAK,EAAE;YAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACzC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpBlB,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACtCA,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACzCA,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACvCF,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC1C,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5D,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACtC,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACvC,IAAI,QAAQ,EAAE;gBACV,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;gBACvD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;aAC9B;iBACI,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;gBACrD,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;gBAClD,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;SACJ;QACD,OAAO,CAAC,QAAQ,CAAC;KACpB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE;QAC/C,QAAQ,IAAI;YACR,KAAK,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,yBAAyB,EAAE,UAAU,EAAE,IAAI,CAAC,6BAA6B,EAAE,CAAC;YACzH,KAAK,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,4BAA4B,EAAE,UAAU,EAAE,IAAI,CAAC,gCAAgC,EAAE,CAAC;YAClI,SAAS,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,0BAA0B,EAAE,UAAU,EAAE,IAAI,CAAC,8BAA8B,EAAE,CAAC;SAChH;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE;QAC9C,QAAQ,IAAI;YACR,KAAK,WAAW,CAAC,IAAI,EAAE,OAAO,MAAM,CAAC;YACrC,KAAK,WAAW,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC;YAC3C,SAAS,OAAO,OAAO,CAAC;SAC3B;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC1C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAC5C,OAAO;SACV;QACD,IAAI,GAAG,CAAC;QACR,IAAI,MAAM,GAAG,YAAY,EAAE,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,GAAGmB,aAAiB,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAC/F,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;QACpB,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC;YACrC,SAAS,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,EAAE;YAChD,eAAe,EAAE,eAAe,CAAC,KAAK;YACtC,MAAM,EAAE,UAAU,SAAS,EAAE;gBACzB,GAAG,GAAGJ,MAAU,CAAC,SAAS,EAAEF,GAAC,CAAC,4BAA4B,CAAC,CAAC,CAAC;gBAC7D,MAAM,EAAE,CAAC;gBACT,IAAI,aAAa,GAAG;oBAChB,MAAM,EAAE,IAAI;oBACZ,SAAS,EAAE,yBAAyB;iBACvC,CAAC;gBACF,IAAI,WAAW,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa;sBACxC,mBAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC;sBACzD,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,CAAC;gBACxDb,QAAY,CAAC,WAAW,EAAE,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClE,IAAI,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACrD,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;gBAC5F,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,GAAG,YAAY,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC/Ee,MAAU,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;gBAC7B,OAAO,IAAI,CAAC;aACf;YACD,MAAM,EAAE,MAAM;SACjB,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC1C,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE;YACpD,OAAO;SACV;QACD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;QACpB,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;KAC9C,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC3C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE;YACvB,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC;SACrC;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC1C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC;QAC3C,IAAI,YAAY,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACtD,IAAI,MAAM,GAAG,YAAY,KAAK,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAC5C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,KAAK,GAAG,MAAM,CAAC;QACzC,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QACzC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,6BAA6B,GAAG,MAAM,CAAC,6BAA6B,CAAC;QAC1E,IAAI,CAAC,yBAAyB,GAAG,MAAM,CAAC,yBAAyB,CAAC;QAClE,IAAI,CAAC,gCAAgC,GAAG,MAAM,CAAC,gCAAgC,CAAC;QAChF,IAAI,CAAC,4BAA4B,GAAG,MAAM,CAAC,4BAA4B,CAAC;QACxE,IAAI,CAAC,8BAA8B,GAAG,MAAM,CAAC,8BAA8B,CAAC;QAC5E,IAAI,CAAC,0BAA0B,GAAG,MAAM,CAAC,0BAA0B,CAAC;QACpE,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACzC,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,UAAU,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC/E,IAAIM,aAAU,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC/E,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACnE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAGA,aAAU,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,CAAC;YAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAGA,aAAU,CAAC;YACpC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;YACvD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,OAAO,GAAG,IAAI,CAAC;YACzD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;SAC3C;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QACD,IAAI,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,IAAI,CAAC,YAAY,GAAGH,cAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,cAAc,KAAK,IAAI,CAAC,YAAY,EAAE;YACtC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACnD;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC,MAAM,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9XX;;;;AAIA,AACA,IAAItB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAKA,IAAI4B,aAAW,GAAG;IACd,uBAAuB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;CACpD,CAAC;AACF,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5C1B,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,CAAC,IAAI,EAAE;QACpB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG2B,SAAiB,CAAC,IAAI,CAAC,CAAC;QACtCC,KAAa,CAAC,KAAK,CAAC,KAAK,EAAEF,aAAW,EAAE,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;QACvC,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,KAAK,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;QACxC,KAAK,CAAC,OAAO,CAAC,SAAS,GAAG,yBAAyB,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,GAAG,IAAI,KAAK,CAAC,QAAQ,GAAG,SAAS,GAAG,WAAW,CAAC,CAAC;QACrI,KAAK,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC3B,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAC/C,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnE,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC5D,KAAK,CAAC,WAAW,EAAE,CAAC;QACpB,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,EAAE,EAAE;YACvC,KAAK,CAAC,OAAO,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;YAChC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,EAAE,CAAC,cAAc,EAAE,CAAC;SACvB,CAAC,CAAC;QACH,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,aAAa,EAAE;YACpD,IAAI,aAAa,CAAC,OAAO,KAAK,EAAE,gBAAgB,aAAa,CAAC,OAAO,KAAK,CAAC,cAAc;gBACrF,KAAK,CAAC,OAAO,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;gBAChC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC3B,aAAa,CAAC,cAAc,EAAE,CAAC;gBAC/B,OAAO;aACV;YACD,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE;gBACvB,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;aACxC;SACJ,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE;QACjD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,CAAC;SAChE;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE;QACjD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,GAAG,EAAE,UAAU,YAAY,EAAE;YACzB,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACjE,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;aACzC;iBACI;gBACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;aAC5C;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnC,OAAO,CAAC,kBAAkB,CAAC,cAAc,CAAC,eAAe,EAAE,kBAAkB;KAChF,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QACzC,IAAI,MAAM,CAAC,uBAAuB,EAAE;YAChC,IAAI,CAAC,KAAK,CAAC,uBAAuB,GAAG,MAAM,CAAC,uBAAuB,CAAC;SACvE;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACzC,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,QAAQ,EAAE,GAAG,aAAa,CAAC;SACxJ;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;KAC7D,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrCG,4BAAgC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;KAC5D,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC,MAAM,CAAC,CAAC,CAAC;;AC3GX;;;;AAIA,AACA,IAAI7B,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAGA,IAAI,iCAAiC,GAAGC,QAAY,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;AACtF,IAAI,6BAA6B,GAAGA,QAAY,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;AACzF,IAAI,wBAAwB,GAAGA,QAAY,CAAC,kBAAkB,EAAE,wBAAwB,CAAC,CAAC;AAC1F,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,CAAC,IAAI,EAAE;QACjC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,uBAAuB;YACxC,KAAK,EAAE,iCAAiC,GAAG,IAAI,CAAC,WAAW;YAC3D,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,qBAAqB,CAAC;CAChC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACb,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDA,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,CAAC,IAAI,EAAE;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,mBAAmB;YACpC,KAAK,EAAE,6BAA6B,GAAG,IAAI,CAAC,WAAW;YACvD,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,kBAAkB,CAAC;CAC7B,CAAC,QAAQ,CAAC,CAAC,CAAC;AACb,AACA,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDA,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,CAAC,IAAI,EAAE;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,cAAc;YAC/B,KAAK,EAAE,wBAAwB,GAAG,IAAI,CAAC,WAAW;YAClD,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,aAAa,CAAC;CACxB,CAAC,QAAQ,CAAC,CAAC,CAAC;;AChEb;;;;AAIA,AACA,IAAIA,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAOA,IAAI,iBAAiB,GAAGC,QAAY,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;AAC9D,IAAI,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CC,WAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7B,SAAS,SAAS,CAAC,MAAM,EAAE,mBAAmB,EAAE,OAAO,EAAE;QACrD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAC1D,KAAK,CAAC,iBAAiB,GAAG,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC;QACzD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAClD,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;QACzC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QACpD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7C,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;QACrC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;QACrC,KAAK,CAAC,uBAAuB,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAC/D,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC,uBAAuB,CAAC,KAAK,CAAC;QACnE,KAAK,CAAC,yBAAyB,GAAG,CAAC,CAAC;QACpC,KAAK,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAChD,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,GAAG,CAAC;QACnC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC;QAC9C,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,iBAAiB,CAAC;QACjD,KAAK,CAAC,uBAAuB,GAAG,OAAO,CAAC,uBAAuB,CAAC;QAChE,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;QAChD,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;QAChD,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QACxC,KAAK,CAAC,yBAAyB,GAAG,OAAO,CAAC,yBAAyB,CAAC;QACpE,KAAK,CAAC,6BAA6B,GAAG,OAAO,CAAC,6BAA6B,CAAC;QAC5E,KAAK,CAAC,4BAA4B,GAAG,OAAO,CAAC,4BAA4B,CAAC;QAC1E,KAAK,CAAC,gCAAgC,GAAG,OAAO,CAAC,gCAAgC,CAAC;QAClF,KAAK,CAAC,0BAA0B,GAAG,OAAO,CAAC,0BAA0B,CAAC;QACtE,KAAK,CAAC,8BAA8B,GAAG,OAAO,CAAC,8BAA8B,CAAC;QAC9E,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;QAC3B,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,wBAAwB,IAAI,EAAE,EAAE,OAAO,CAAC,qBAAqB,IAAI,EAAE,EAAE,OAAO,CAAC,gBAAgB,IAAI,EAAE,CAAC,CAAC;QAChI,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;YACjB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SACrC;QACD,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAChG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5F,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3F,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACpG,OAAO,KAAK,CAAC;KAChB;IACD,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACrCM,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;KAC/B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtCF,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;KAChC,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QAChD,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;aACI;YACD,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;KACJ,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpC,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAClB,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,QAAQ,EAAE;QAC/C,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAC7C,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;KAC9B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC5C,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,KAAK,EAAE;YAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;SAC/B;KACJ,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC1C,IAAI,CAAC,uBAAuB,GAAG,MAAM,CAAC,uBAAuB,CAAC;QAC9D,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,6BAA6B,GAAG,MAAM,CAAC,6BAA6B,CAAC;QAC1E,IAAI,CAAC,yBAAyB,GAAG,MAAM,CAAC,yBAAyB,CAAC;QAClE,IAAI,CAAC,gCAAgC,GAAG,MAAM,CAAC,gCAAgC,CAAC;QAChF,IAAI,CAAC,4BAA4B,GAAG,MAAM,CAAC,4BAA4B,CAAC;QACxE,IAAI,CAAC,8BAA8B,GAAG,MAAM,CAAC,8BAA8B,CAAC;QAC5E,IAAI,CAAC,0BAA0B,GAAG,MAAM,CAAC,0BAA0B,CAAC;QACpE,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC1C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,cAAc,GAAG;gBACjB,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;aACxD,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YACjC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YACtC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YACzC,IAAI,cAAc,GAAG;gBACjB,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,6BAA6B,EAAE,IAAI,CAAC,6BAA6B;gBACjE,yBAAyB,EAAE,IAAI,CAAC,yBAAyB;gBACzD,gCAAgC,EAAE,IAAI,CAAC,gCAAgC;gBACvE,4BAA4B,EAAE,IAAI,CAAC,4BAA4B;gBAC/D,8BAA8B,EAAE,IAAI,CAAC,8BAA8B;gBACnE,0BAA0B,EAAE,IAAI,CAAC,0BAA0B;aAC9D,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;SACvC;KACJ,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACrC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAC1B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;KACzB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;KACrC,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;KAClC,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QACjD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACvC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;KAC7B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC5C,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,EAAE,CAAC;KACnB,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACnD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC9B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACnDE,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,IAAI,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,yBAAyB,GAAG,CAAC,GAAG,IAAI,CAAC,yBAAyB,CAAC;QACpEF,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,IAAI,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC;KAC/E,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC5C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QAC/F,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC;KAC3B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,wBAAwB,EAAE,qBAAqB,EAAE,gBAAgB,EAAE;QAC5G,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAC7CA,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,EAAE;YAChF,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,EAAE;YACnC,SAAS,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;YAC3B,iBAAiB,EAAE;gBACf,UAAU,EAAE,IAAI,CAAC,UAAU,IAAI,IAAI;aACtC;YACD,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,6BAA6B,EAAE,IAAI,CAAC,6BAA6B;YACjE,yBAAyB,EAAE,IAAI,CAAC,yBAAyB;YACzD,gCAAgC,EAAE,IAAI,CAAC,gCAAgC;YACvE,4BAA4B,EAAE,IAAI,CAAC,4BAA4B;YAC/D,8BAA8B,EAAE,IAAI,CAAC,8BAA8B;YACnE,0BAA0B,EAAE,IAAI,CAAC,0BAA0B;SAC9D,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC;YAC1C,WAAW,EAAE,gBAAgB;YAC7B,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,EAAE;oBACd,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;iBAC1B;gBACD,KAAK,CAAC,aAAa,EAAE,CAAC;gBACtB,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;YACD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC;YACpD,WAAW,EAAE,qBAAqB;YAClC,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,EAAE;oBACd,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;iBAC1B;gBACD,KAAK,CAAC,aAAa,EAAE,CAAC;gBACtB,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;YACD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,qBAAqB,CAAC;YAC1D,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,EAAE;oBACd,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;iBAC1B;gBACD,KAAK,CAAC,aAAa,EAAE,CAAC;gBACtB,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;YACD,SAAS,EAAE,UAAU,CAAC,EAAE;gBACpB,KAAK,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACzC;YACD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACxD,CAAC,CAAC,CAAC;;QAEJ,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACxF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;YAC1C,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,iBAAiB,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,kBAAkB,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE;gBACvG,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;gBACpD,IAAI,KAAK,IAAI,CAAC,EAAE;oBACZ,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC;oBACtB,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,kBAAkB,EAAE;wBACnC,QAAQ,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC;qBAC3C;yBACI,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE;wBACvC,IAAI,KAAK,KAAK,CAAC,EAAE;4BACb,QAAQ,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;yBACjC;6BACI;4BACD,QAAQ,GAAG,KAAK,GAAG,CAAC,CAAC;yBACxB;qBACJ;oBACD,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE;wBAC9B,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;qBACzB;yBACI,IAAI,QAAQ,IAAI,CAAC,EAAE;wBACpB,OAAO,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;qBAC7B;oBACDiB,WAAe,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;iBACrC;aACJ;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,QAAQ,CAAC,SAAS,GAAG,UAAU,CAAC;QAChC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACjD,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC9C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KACtC,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACvC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC5B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;QACjD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;KACtC,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC3C,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;KAC/B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC9C,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;KAC/B,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,SAAS,CAAC,aAAa,GAAG,cAAc,CAAC;IACzC,OAAO,SAAS,CAAC;CACpB,CAAC,MAAM,CAAC,CAAC,CAAC;;AC9SX;;;;AAIA,AACA,IAAIrB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAeA,IAAI,oBAAoB,GAAGC,QAAY,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AAC9D,IAAI,0BAA0B,GAAGA,QAAY,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;AAC1E,IAAI,4BAA4B,GAAGA,QAAY,CAAC,2BAA2B,EAAE,gBAAgB,CAAC,CAAC;AAC/F,IAAI,wBAAwB,GAAGA,QAAY,CAAC,uBAAuB,EAAE,YAAY,CAAC,CAAC;AACnF,IAAI,+BAA+B,GAAGA,QAAY,CAAC,2BAA2B,EAAE,mBAAmB,CAAC,CAAC;AACrG,IAAI,mBAAmB,GAAGA,QAAY,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;AACrE,IAAI,uBAAuB,GAAGA,QAAY,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;AACvE,IAAI,6BAA6B,GAAGA,QAAY,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;AACnF,IAAI,qBAAqB,GAAGA,QAAY,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;AAC3E,IAAI,yBAAyB,GAAGA,QAAY,CAAC,wBAAwB,EAAE,aAAa,CAAC,CAAC;AACtF,IAAI,iCAAiC,GAAGA,QAAY,CAAC,2BAA2B,EAAE,qBAAqB,CAAC,CAAC;AACzG,IAAI,6BAA6B,GAAGA,QAAY,CAAC,yBAAyB,EAAE,8FAA8F,EAAE,aAAa,CAAC,CAAC;AAC3L,IAAI,oBAAoB,GAAGA,QAAY,CAAC,uBAAuB,EAAE,YAAY,CAAC,CAAC;AAC/E,IAAI,cAAc,GAAGA,QAAY,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;AACnE,IAAI,yBAAyB,GAAG,GAAG,CAAC;AACpC,IAAI,UAAU,GAAG,GAAG,CAAC;AACrB,IAAI,qBAAqB,GAAG,UAAU,GAAG,EAAE,CAAC;AAC5C,IAAI,wBAAwB,GAAG,qBAAqB,CAAC;AACrD,IAAI,uBAAuB,GAAG,EAAE,CAAC;AACjC,IAAI,uBAAuB,GAAG,EAAE,kCAAkC,uBAAuB,GAAG,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,iBAAiB,CAAC,GAAG,CAAC,aAAa;AAC/J,IAAI,sBAAsB,GAAG,EAAE,CAAC;AAChC,IAAI,wBAAwB,GAAG,EAAE,CAAC;AAClC,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,eAAe,EAAE;QACzC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,UAAU,GAAG,sBAAsB,CAAC;QACzC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,oBAAoB,CAAC;KACjD;IACD,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,UAAU,kBAAkB,UAAU,MAAM,EAAE;IAC9CC,WAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC9B,SAAS,UAAU,CAAC,UAAU,EAAE,UAAU,EAAE,KAAK,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,YAAY,EAAE;QACxH,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;QAC/B,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;QAC/B,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,KAAK,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;QACjD,KAAK,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;QAC7C,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,KAAK,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAChC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1G,KAAK,CAAC,aAAa,EAAE,CAAC;QACtB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,qBAAqB,EAAE,CAAC;QAC9B,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACpE,IAAI,CAAC,CAAC,QAAQ,EAAE;gBACZ,IAAI,KAAK,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,EAAE;;oBAE/C,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;iBAC5D;gBACD,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;YACD,IAAI,CAAC,CAAC,UAAU,EAAE;gBACd,KAAK,CAAC,qBAAqB,EAAE,CAAC;aACjC;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,0BAA0B,CAAC,YAAY;YACrE,IAAI,KAAK,CAAC,UAAU,EAAE;gBAClB,KAAK,CAAC,gCAAgC,EAAE,CAAC;aAC5C;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,YAAY;YAC3D,IAAI,KAAK,CAAC,UAAU,EAAE;gBAClB,IAAI,gBAAgB,GAAG,KAAK,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBAC/D,IAAI,gBAAgB,IAAI,gBAAgB,KAAK,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE;oBACpE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;oBAC9D,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;iBAC7B;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,iBAAiB,GAAG,0BAA0B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC/E,KAAK,CAAC,iBAAiB,GAAG,KAAK,CAAC,SAAS,CAAC8B,UAAc,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;QAClG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,YAAY;YAC3D,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClC,KAAK,CAAC,kBAAkB,EAAE,CAAC;SAC9B,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,CAAC,YAAY;YAC1D,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SACtC,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,oBAAoB,GAAG,6BAA6B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACrF,KAAK,CAAC,oBAAoB,GAAG,KAAK,CAAC,SAAS,CAACA,UAAc,CAAC,KAAK,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;QAClG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,oBAAoB,CAAC,UAAU,CAAC,YAAY;YAC9D,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACrC,KAAK,CAAC,kBAAkB,EAAE,CAAC;SAC9B,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,oBAAoB,CAAC,SAAS,CAAC,YAAY;YAC7D,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SACzC,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAC1C,KAAK,CAAC,SAAS,GAAG,IAAI,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAC5C,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3C,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3E,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YAC5D,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACnB,OAAO;aACV;YACD,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,EAAE;gBACjC,OAAO;aACV;YACD,KAAK,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBAClD,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACvC,KAAK,CAAC,WAAW,GAAG,SAAS,CAAC;aACjC,CAAC,CAAC;SACN,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YAC7D,IAAI,CAAC,CAAC,gBAAgB,EAAE;gBACpB,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,OAAO;aACV;;YAED,UAAU,CAAC,YAAY;gBACnB,KAAK,CAAC,eAAe,EAAE,CAAC;aAC3B,EAAE,CAAC,CAAC,CAAC;SACT,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;;IAED,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACrC,OAAO,UAAU,CAAC,EAAE,CAAC;KACxB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC1C,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC3C,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;gBACH,UAAU,EAAE,+BAA+B,CAAC,gBAAgB;aAC/D,CAAC;SACL;QACD,OAAO,IAAI,CAAC;KACf,CAAC;;IAEF,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QAChD,IAAI,CAAC,CAAC,YAAY,EAAE;YAChB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACnD,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,CAAC,aAAa,EAAE;YACjB,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;SAC3D;QACD,IAAI,CAAC,CAAC,UAAU,EAAE;YACd,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBACxB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aACtB;iBACI;gBACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACpB;SACJ;QACD,IAAI,CAAC,CAAC,iBAAiB,EAAE;YACrB,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE;gBAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;oBAC1E,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;oBAC7D,IAAI,CAAC,cAAc,EAAE,CAAC;iBACzB;aACJ;iBACI;gBACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;oBACxB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;iBACzB;aACJ;SACJ;QACD,IAAI,CAAC,CAAC,OAAO,EAAE;YACX,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,CAAC,SAAS,EAAE;YACb,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SACxD;QACD,IAAI,CAAC,CAAC,SAAS,EAAE;YACb,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,CAAC,WAAW,EAAE;YACf,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;gBACzB,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,IAAI,CAAC;aAC5C;iBACI;gBACD,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,KAAK,CAAC;aAC7C;YACD,IAAI,CAAC,gCAAgC,EAAE,CAAC;SAC3C;QACD,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,eAAe,EAAE;YACvD,IAAI,cAAc,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,CAAC,CAAC,CAAC;YAC7FC,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;YAC7D,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;QACD,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,EAAE;YAClC,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QACnD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,uBAAuB,GAAG,IAAI,CAAC;QACnE,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,aAAa,EAAE;YAC3C,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,6BAA6B,CAAC;SAC5D;aACI;YACD,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;SACjC;;QAED,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;YAC/B,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SACjE;QACD,IAAI,KAAK,CAAC;QACV,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,EAAE;YAC9B,IAAI,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACpD,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,aAAa,EAAE;gBAC3C,YAAY,IAAI,GAAG,CAAC;aACvB;YACD,IAAI,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YAC1D,IAAI,eAAe,KAAK,GAAG,EAAE;gBACzB,eAAe,GAAG,GAAG,CAAC;aACzB;YACD,KAAK,GAAGC,MAAc,CAAC,oBAAoB,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC;SAC/E;aACI;YACD,KAAK,GAAG,cAAc,CAAC;SAC1B;QACD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;QAC/D,uBAAuB,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;KAC/F,CAAC;;;;;;IAMF,UAAU,CAAC,SAAS,CAAC,gCAAgC,GAAG,YAAY;QAChE,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QAChD,IAAI,WAAW,GAAG,SAAS,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,IAAI,SAAS,CAAC,WAAW,KAAK,SAAS,CAAC,SAAS,IAAI,KAAK,CAAC;QAC/I,IAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;QAClD,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,KAAK,SAAS,IAAI,WAAW,CAAC,CAAC,CAAC;KACvF,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAC9C,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC5E,IAAI,CAAC,gCAAgC,EAAE,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,mBAAmB,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,mBAAmB,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,mBAAmB,CAAC,CAAC;QACjE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,IAAI,mBAAmB,CAAC,CAAC;QAC9F,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,IAAI,mBAAmB,CAAC,CAAC;QACjGD,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACrE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC3D,IAAI,UAAU,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC;QAC/D,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,CAAC;KACpE,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAChD,IAAI,WAAW,GAAG,SAAS,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,IAAI,SAAS,CAAC,WAAW,KAAK,SAAS,CAAC,SAAS,IAAI,KAAK,CAAC;YAC/I,IAAI,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,EAAE;gBACzF,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,IAAI,CAAC;aAC5C;iBACI;gBACD,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,KAAK,CAAC;aAC7C;YACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,UAAU,CAAC,YAAY;gBACnB3B,QAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;gBACxC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;aACvD,EAAE,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC3C,IAAI,qBAAqB,GAAG,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B,IAAI,SAAS,EAAE;gBACjG,IAAI,YAAY,GAAGS,sBAA0B,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC;gBAC7E,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,0BAA0B,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC;gBAC5F,IAAI,SAAS,GAAG,YAAY,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC;gBACrD,IAAI,QAAQ,GAAG,WAAW,CAAC,GAAG,CAAC;gBAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;oBACtC,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,eAAe,EAAE;wBACrD,qBAAqB,GAAG,KAAK,CAAC;qBACjC;oBACD,IAAI,gBAAgB,GAAGoB,gBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;oBAChE,IAAI,SAAS,GAAG,gBAAgB,EAAE;wBAC9B,qBAAqB,GAAG,KAAK,CAAC;qBACjC;oBACD,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,0BAA0B,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;oBACxF,IAAI,OAAO,GAAG,YAAY,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;oBACjD,IAAI,OAAO,GAAG,gBAAgB,EAAE;wBAC5B,qBAAqB,GAAG,KAAK,CAAC;qBACjC;iBACJ;aACJ;YACD,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;SAC7C;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,cAAc,EAAE;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB3B,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YAClD,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;aAC5B;YACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC3C,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBACjD,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,EAAE;oBACjC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBACvC,KAAK,CAAC,WAAW,GAAG,SAAS,CAAC;oBAC9B,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;iBACjG;aACJ,CAAC,CAAC;SACN;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;YAChC,OAAO;SACV;QACD,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;YACjD,IAAI,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE;gBAChC,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,wBAAwB,CAAC;aACzD;iBACI;gBACD,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,sBAAsB,CAAC;aACvD;YACD,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;;YAEtD,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;SACjG,CAAC,CAAC;KACN,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,YAAY,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE,YAAY,GAAG,IAAI,CAAC,EAAE;QACrD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;YACjD,IAAI,gBAAgB,GAAG,sBAAsB,CAAC;YAC9C,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,EAAE;gBACjC,IAAI,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE;oBAChC,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,wBAAwB,CAAC;oBACtD,gBAAgB,GAAG,wBAAwB,GAAG,sBAAsB,CAAC;iBACxE;qBACI;oBACD,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,sBAAsB,CAAC;oBACpD,gBAAgB,GAAG,sBAAsB,GAAG,wBAAwB,CAAC;iBACxE;gBACD,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;aAC1C;iBACI;gBACD,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,sBAAsB,CAAC;aACvD;YACD,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACtD,IAAI,YAAY,EAAE;gBACd,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,GAAG,gBAAgB,CAAC,CAAC;aACvF;SACJ,CAAC,CAAC;KACN,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QAChD,IAAI,WAAW,GAAG;YACd,uBAAuB,EAAE,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YAChE,eAAe,EAAE,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC;YAChD,eAAe,EAAE,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC;YAChD,WAAW,EAAE,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC;YACxC,6BAA6B,EAAE,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC;YAC5E,yBAAyB,EAAE,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC;YACpE,gCAAgC,EAAE,KAAK,CAAC,QAAQ,CAAC,gCAAgC,CAAC;YAClF,4BAA4B,EAAE,KAAK,CAAC,QAAQ,CAAC,4BAA4B,CAAC;YAC1E,8BAA8B,EAAE,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC;YAC9E,0BAA0B,EAAE,KAAK,CAAC,QAAQ,CAAC,0BAA0B,CAAC;SACzE,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;KAC5C,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACrD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC;QACvE,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC;QAC/E,IAAI,mBAAmB,GAAG,KAAK,CAAC;QAChC,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,WAAW,GAAGiB,aAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnD,IAAI,WAAW,GAAG,yBAAyB,EAAE;;gBAEzC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,WAAW,GAAG,EAAE,GAAG,YAAY,GAAG,EAAE,GAAG,IAAI,CAAC;gBAC3E,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAGA,aAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;gBACjH,OAAO;aACV;SACJ;QACD,IAAI,yBAAyB,GAAG,EAAE,GAAG,YAAY,IAAI,WAAW,EAAE;YAC9D,iBAAiB,GAAG,IAAI,CAAC;SAC5B;QACD,IAAI,yBAAyB,GAAG,EAAE,GAAG,YAAY,GAAG,uBAAuB,IAAI,WAAW,EAAE;YACxF,gBAAgB,GAAG,IAAI,CAAC;SAC3B;QACD,IAAI,yBAAyB,GAAG,EAAE,GAAG,YAAY,GAAG,uBAAuB,IAAI,WAAW,GAAG,EAAE,EAAE;YAC7F,mBAAmB,GAAG,IAAI,CAAC;SAC9B;QACDQ,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,uBAAuB,EAAE,mBAAmB,CAAC,CAAC;QAC7EA,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,oBAAoB,EAAE,gBAAgB,CAAC,CAAC;QACvEA,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,gBAAgB,IAAI,CAAC,mBAAmB,EAAE;;YAE3C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,WAAW,GAAG,EAAE,GAAG,YAAY,GAAG,EAAE,GAAG,IAAI,CAAC;SAC9E;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,cAAc,GAAGR,aAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC9E,IAAI,cAAc,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,cAAc,GAAG,IAAI,CAAC;aAC1E;SACJ;KACJ,CAAC;;IAEF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;;QAEzB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;KAC3B,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACjD,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;;QAE/B,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;KACjC,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACpD,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;KAC1C,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QAClD,IAAI,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE;YACnC,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAChD,IAAI,SAAS,CAAC,SAAS,KAAK,CAAC,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,eAAe,EAAE;gBAClF,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;aACxE;YACD,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;YAC5C,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;gBACvD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,YAAY,CAAC,EAAE;;oBAE7C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC;iBACxD;aACJ;SACJ;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,CAAC,EAAE;;QAEtD,IAAI,CAAC,CAAC,YAAY,EAAE;YAChB,CAAC,CAAC,eAAe,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,CAAC,EAAE;QACpD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE;YACzB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;YAC7F,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,eAAe,CAAC,aAAa,EAAE;YAC5C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;YACjG,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE;YACvB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;aACjC;iBACI;gBACD,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;aAC1C;YACD,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,iBAAiB,EAAE,iBAAiB,EAAE;YACnD,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YACzB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,CAAC,EAAE;QACvD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE;YACzB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,iBAAiB,CAAC,aAAa,EAAE;YAC9C,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;YAC9B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE;YACvB,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;YACvC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,eAAe,CAAC,WAAW,EAAE;YAC1C,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,iBAAiB,EAAE,iBAAiB,EAAE;YACnD,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YACzB,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,OAAO;SACV;KACJ,CAAC;;IAEF,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,IAAI,EAAE;QACxD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE;QACzD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,IAAI,EAAE;QAC1D,OAAO,GAAG,CAAC;KACd,CAAC;;IAEF,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,QAAQ,EAAE;QAC3D,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAC5D,IAAI,CAAC,EAAE,EAAE;YACL,OAAO,EAAE,CAAC;SACb;QACD,OAAO,IAAI,GAAG,EAAE,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;KACrC,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,EAAE;YAC5E,KAAK,EAAE,qBAAqB;YAC5B,KAAK,EAAE,oBAAoB;YAC3B,WAAW,EAAE,0BAA0B;YACvC,wBAAwB,EAAE,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,0BAA0B,CAAC;YACvF,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,sBAAsB,CAAC;YAChF,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,kBAAkB,CAAC;YACvE,UAAU,EAAE,UAAU,KAAK,EAAE;gBACzB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;oBACpB,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE;oBAC9B,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI;AACpB,AAEA;oBACoB,OAAO,IAAI,CAAC;iBACf;gBACD,OAAO,CAAC,EAAE;oBACN,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;iBACjC;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY;YAC/C,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,KAAK,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;SAC5E,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,YAAY;YACzD,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;gBAChB,OAAO,EAAE,KAAK,CAAC,UAAU,CAAC,QAAQ,EAAE;gBACpC,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;gBAC3C,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,gBAAgB,EAAE;aACjD,EAAE,IAAI,CAAC,CAAC;SACZ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,UAAU,CAAC,EAAE;YAC/D,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,eAAe,CAAC,WAAW,EAAE;gBAC1C,IAAI,KAAK,CAAC,iBAAiB,EAAE;oBACzB,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;oBAC/B,CAAC,CAAC,cAAc,EAAE,CAAC;iBACtB;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,IAAIW,OAAgB,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACxG;QACD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,cAAc,CAAC;QAC9C,IAAI,CAAC,mBAAmB,EAAE,CAAC;;QAE3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAC5C,KAAK,EAAE,4BAA4B,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YAChG,SAAS,EAAE,UAAU;YACrB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;aACrG;SACJ,CAAC,CAAC,CAAC;;QAEJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAC5C,KAAK,EAAE,wBAAwB,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,mBAAmB,CAAC;YACxF,SAAS,EAAE,MAAM;YACjB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;aACjG;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,QAAQ,CAAC,SAAS,GAAG,WAAW,CAAC;QACjC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC9C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC5C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;;QAE5C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,cAAc,CAAC;YAC1D,MAAM,EAAE,QAAQ;YAChB,KAAK,EAAE,+BAA+B,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,wBAAwB,CAAC;YACpG,QAAQ,EAAE,YAAY;gBAClB,IAAI,KAAK,CAAC,oBAAoB,CAAC,OAAO,EAAE;oBACpC,IAAI,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;oBACjD,IAAI,SAAS,CAAC,SAAS,KAAK,CAAC,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,eAAe,EAAE;wBAClF,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;qBACxE;oBACD,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;wBACtB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC;qBACzD;iBACJ;qBACI;oBACD,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;iBACpD;aACJ;SACJ,CAAC,CAAC,CAAC;;QAEJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAC7C,KAAK,EAAE,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,sBAAsB,CAAC;YACtF,SAAS,EAAE,UAAU;YACrB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,KAAK,CAAC,CAAC;aACxE;YACD,SAAS,EAAE,UAAU,CAAC,EAAE;gBACpB,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE;oBACvB,IAAI,KAAK,CAAC,iBAAiB,EAAE;wBACzB,IAAI,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE;4BAC/B,KAAK,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;yBAC7B;6BACI;4BACD,KAAK,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;yBAC7B;wBACD,CAAC,CAAC,cAAc,EAAE,CAAC;qBACtB;iBACJ;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC7C,OAAO,QAAQ,CAAC;KACnB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;QACzC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,wBAAwB,GAAG,IAAI,CAAC;QAC3D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,QAAQ,CAAC,YAAY,EAAE,IAAI,EAAE;YACpE,SAAS,EAAE,uBAAuB;YAClC,WAAW,EAAE,6BAA6B;SAC7C,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAACC,6BAAiC,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,SAAS,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3J,IAAI,CAAC,SAAS,CAACA,6BAAiC,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE;YACvG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;SAC/E,CAAC,CAAC,CAAC;;QAEJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAC/C,KAAK,EAAE,qBAAqB,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAClF,SAAS,EAAE,SAAS;YACpB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;aAC/B;YACD,SAAS,EAAE,UAAU,CAAC,EAAE;gBACpB,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,eAAe,CAAC,WAAW,EAAE;oBAC1C,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;oBACxB,CAAC,CAAC,cAAc,EAAE,CAAC;iBACtB;aACJ;SACJ,CAAC,CAAC,CAAC;;QAEJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAClD,KAAK,EAAE,yBAAyB,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YACtF,SAAS,EAAE,aAAa;YACxB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;aAClC;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,WAAW,CAAC,SAAS,GAAG,cAAc,CAAC;QACvC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACtC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAClD,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACrD,OAAO,WAAW,CAAC;KACtB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC7C,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;;QAErC,IAAI,WAAW,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;;QAE3C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YACrD,KAAK,EAAE,iCAAiC;YACxC,SAAS,EAAE,aAAa;YACxB,SAAS,EAAE,YAAY;gBACnB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC5E,IAAI,KAAK,CAAC,iBAAiB,EAAE;oBACzB,KAAK,CAAC,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;iBAClE;gBACD,KAAK,CAAC,aAAa,EAAE,CAAC;aACzB;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACrE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;;QAE3D,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,2BAA2B,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;QAElD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,yBAAyB,GAAG,IAAI,CAAC;QAC7D,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,EAAE,CAAC;KACrB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC1C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE,WAAW,EAAE,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,aAAa,GAAG,yBAAyB,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;YACpD,aAAa,GAAGZ,aAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;SACrD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,GAAG,EAAE;YACvD,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;YACtB,IAAI,KAAK,GAAG,aAAa,GAAG,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC;YACtD,IAAI,KAAK,GAAG,yBAAyB,EAAE;;gBAEnC,OAAO;aACV;YACD,IAAI,aAAa,GAAG,KAAK,GAAG,uBAAuB,CAAC;YACpD,IAAI,QAAQ,GAAG,UAAU,CAACa,gBAAoB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC9E,IAAI,KAAK,GAAG,QAAQ,EAAE;gBAClB,OAAO;aACV;YACD,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;YAC1C,IAAI,KAAK,CAAC,iBAAiB,EAAE;gBACzB,KAAK,CAAC,gBAAgB,CAAC,KAAK,GAAG,aAAa,CAAC;aAChD;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,UAAU,CAAC,EAAE,GAAG,2BAA2B,CAAC;IAC5C,OAAO,UAAU,CAAC;CACrB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDpC,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,CAAC,IAAI,EAAE;QAC1B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC;QAC7C,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;QACzC,KAAK,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC5B,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAClD,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC;QAClC,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,CAAC;QACvC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,WAAW,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC7D,KAAK,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QAC9B,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC/C,KAAK,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC;;QAEjC,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC;QAC1C,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QAC3B,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC5C,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACzC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;YACzC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;SAC1B,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;SACjC;QACD,GAAG,EAAE,UAAU,QAAQ,EAAE;YACrB,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,QAAQ,CAAC;SACrC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACzC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;KAC1B,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC1C,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;KAC9C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;KAClC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QACrD,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;SAC7B;aACI;YACD,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;SAC9B;KACJ,CAAC;IACF,cAAc,CAAC,QAAQ,GAAG,CAAC,CAAC;IAC5B,OAAO,cAAc,CAAC;CACzB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDA,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,CAAC,IAAI,EAAE;QACxB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;QACzC,KAAK,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC5B,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;QAC7D,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC9C,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC7D,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;YACvC,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YACxB,CAAC,CAAC,cAAc,EAAE,CAAC;SACtB,CAAC,CAAC;QACH,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;YACzC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,aAAa,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE;gBACrD,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;gBACxB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,OAAO;aACV;YACD,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE;gBACvB,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aAC5B;SACJ,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,EAAE;QACrD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC3C,QAAQ,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,CAAC,EAAE;KACxC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACvC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;KACzB,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QACnD+B,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,EAAE,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7C,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE;QACrD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;KACnE,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,SAAS,EAAE,YAAY,EAAE;QACpEA,WAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;KAC3D,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA;AACA,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,sBAAsB,GAAG,UAAU,QAAQ,EAAE,KAAK,EAAE;QACpD,IAAI,KAAK,EAAE;YACP,SAAS,CAAC,OAAO,CAAC,iBAAiB,GAAG,QAAQ,GAAG,uBAAuB,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;SAC7F;KACJ,CAAC;IACF,sBAAsB,CAAC,YAAY,EAAE,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC,CAAC;IAC/E,sBAAsB,CAAC,mBAAmB,EAAE,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;IAC7E,sBAAsB,CAAC,YAAY,EAAE,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC,CAAC;IAC/E,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;IAC9D,sBAAsB,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;IACzD,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACrD,IAAI,iBAAiB,EAAE;QACnB,SAAS,CAAC,OAAO,CAAC,sDAAsD,GAAG,iBAAiB,GAAG,KAAK,CAAC,CAAC;KACzG;IACD,IAAI,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IAC9E,IAAI,wBAAwB,EAAE;QAC1B,SAAS,CAAC,OAAO,CAAC,0CAA0C,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC,GAAG,GAAG,GAAG,wBAAwB,GAAG,6BAA6B,CAAC,CAAC;KAC/K;IACD,IAAI,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;IAC5D,IAAI,eAAe,EAAE;QACjB,SAAS,CAAC,OAAO,CAAC,uDAAuD,GAAG,eAAe,GAAG,2CAA2C,CAAC,CAAC;KAC9I;IACD,IAAI,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IAC9E,IAAI,wBAAwB,EAAE;QAC1B,SAAS,CAAC,OAAO,CAAC,0CAA0C,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC,GAAG,GAAG,GAAG,wBAAwB,GAAG,KAAK,CAAC,CAAC;KACvJ;IACD,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IAC9C,IAAI,QAAQ,EAAE;QACV,SAAS,CAAC,OAAO,CAAC,kDAAkD,GAAG,QAAQ,GAAG,KAAK,CAAC,CAAC;KAC5F;IACD,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;IAC5C,IAAI,KAAK,EAAE;QACP,SAAS,CAAC,OAAO,CAAC,gEAAgE,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;KACvG;IACD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAChD,IAAI,MAAM,EAAE;QACR,SAAS,CAAC,OAAO,CAAC,+DAA+D,GAAG,MAAM,GAAG,8CAA8C,CAAC,CAAC;KAChJ;CACJ,CAAC,CAAC;;AC/6BH;;;;AAIA,AACA,IAAI/B,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAQA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDE,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE,iBAAiB,EAAE,YAAY,EAAE;QACvE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;QACrG,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,KAAK,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;QAC7C,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,mBAAmB,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACtC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC;QAClC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;QACpD,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QACnD,IAAI,4BAA4B,GAAG,YAAY,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;QAC7F,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,qBAAqB,CAAC;YAC5D,WAAW,EAAE,KAAK,CAAC,mBAAmB,CAAC,QAAQ,CAAC,0BAA0B,CAAC;YAC3E,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,SAAS;YACjC,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;oBAChB,SAAS,EAAE,KAAK,CAAC,aAAa,CAAC,OAAO;iBACzC,EAAE,KAAK,CAAC,CAAC;aACb;YACD,uBAAuB,EAAE,4BAA4B;SACxD,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACxD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC;YACtD,WAAW,EAAE,KAAK,CAAC,mBAAmB,CAAC,QAAQ,CAAC,sBAAsB,CAAC;YACvE,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,SAAS;YACjC,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;oBAChB,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO;iBACtC,EAAE,KAAK,CAAC,CAAC;aACb;YACD,uBAAuB,EAAE,4BAA4B;SACxD,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACrD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC;YAC5C,WAAW,EAAE,KAAK,CAAC,mBAAmB,CAAC,QAAQ,CAAC,kBAAkB,CAAC;YACnE,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO;YAC/B,QAAQ,EAAE,UAAU,WAAW,EAAE;gBAC7B,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;oBAChB,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;iBAC/B,EAAE,KAAK,CAAC,CAAC;aACb;YACD,uBAAuB,EAAE,4BAA4B;SACxD,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAC/D,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,CAAC,OAAO,EAAE;gBACX,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;gBAC3C,gBAAgB,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBACb,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;gBAClD,gBAAgB,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBACb,KAAK,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;gBACrD,gBAAgB,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,IAAI,gBAAgB,EAAE;gBAC9C,KAAK,CAAC,kBAAkB,EAAE,CAAC;aAC9B;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAACqC,wCAA4C,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5H,KAAK,CAAC,SAAS,CAAChC,qBAAyB,CAAC,KAAK,CAAC,QAAQ,EAAE,WAAW,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvH,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3C,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3E,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,QAAQ,EAAE;QAClE,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAC5D,IAAI,CAAC,EAAE,EAAE;YACL,OAAO,EAAE,CAAC;SACb;QACD,OAAO,IAAI,GAAG,EAAE,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;KACrC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC9C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;;IAEF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,OAAO,iBAAiB,CAAC,EAAE,CAAC;KAC/B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAClD,OAAO;YACH,UAAU,EAAE,+BAA+B,CAAC,gBAAgB;SAC/D,CAAC;KACL,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC3D,IAAI,CAAC,kBAAkB,EAAE,CAAC;KAC7B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACzD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC7B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAClD,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC7B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACnD,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;KAC3B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;KACzC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;KACxC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,WAAW,GAAG,EAAE,uBAAuB,EAAE,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,EAAE,CAAC;QACvF,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;KACjC,CAAC;IACF,iBAAiB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IAC1D,OAAO,iBAAiB,CAAC;CAC5B,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;IAC9D,IAAI,gBAAgB,EAAE;QAClB,SAAS,CAAC,OAAO,CAAC,wDAAwD,GAAG,gBAAgB,GAAG,KAAK,CAAC,CAAC;KAC1G;IACD,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACrD,IAAI,iBAAiB,EAAE;QACnB,SAAS,CAAC,OAAO,CAAC,4DAA4D,GAAG,iBAAiB,GAAG,KAAK,CAAC,CAAC;KAC/G;IACD,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IAC9C,IAAI,QAAQ,EAAE;QACV,SAAS,CAAC,OAAO,CAAC,wDAAwD,GAAG,QAAQ,GAAG,KAAK,CAAC,CAAC;KAClG;CACJ,CAAC,CAAC;;AC1KH;;;;AAIA,AACA,IAAIL,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAmBO,SAAS,wBAAwB,CAAC,MAAM,EAAE;IAC7C,IAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;;IAEtC,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;QACvD,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;YACrB,IAAI,cAAc,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACvF,IAAI,cAAc,EAAE;gBAChB,OAAO,cAAc,CAAC,IAAI,CAAC;aAC9B;SACJ;aACI;YACD,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;SACvD;KACJ;IACD,OAAO,IAAI,CAAC;CACf;AACD,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDE,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,CAAC,MAAM,EAAE,iBAAiB,EAAE,cAAc,EAAE,gBAAgB,EAAE;QACvF,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,kBAAkB,GAAG,2BAA2B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACjF,KAAK,CAAC,eAAe,GAAG,cAAc,CAAC;QACvC,KAAK,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;QAC3C,KAAK,CAAC,qBAAqB,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;QAC/C,KAAK,CAAC,wBAAwB,GAAG,IAAI,gBAAgB,EAAE,CAAC;QACxD,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,gBAAgB,EAAE,CAAC,CAAC;QACvD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1G,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACpB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY;YACvD,IAAI,iBAAiB,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC9E,KAAK,CAAC,YAAY,EAAE,CAAC;YACrB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;gBAChB,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,EAAE,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC;gBAC9F,SAAS,EAAE,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,EAAE,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC;gBAC9F,OAAO,EAAE,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,EAAE,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC;aAC7F,EAAE,KAAK,CAAC,CAAC;YACV,IAAI,iBAAiB,EAAE;gBACnB,KAAK,CAAC,MAAM,CAAC;oBACT,kBAAkB,EAAE,KAAK;oBACzB,6BAA6B,EAAE,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B;oBACvH,mCAAmC,EAAE,KAAK;oBAC1C,WAAW,EAAE,CAAC;oBACd,aAAa,EAAE,KAAK;iBACvB,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,oBAAoB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACzC,OAAO,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;KAC1D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACtD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QAC1D,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,YAAY,EAAE;YACnC,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,CAAC,UAAU,EAAE;YACd,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBACxB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aACrC;iBACI;gBACD,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;QACD,IAAI,CAAC,CAAC,YAAY,EAAE;YAChB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACtD;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE;QACzD,IAAI,CAAC,CAAC,OAAO,EAAE;YACX,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;SACnG;QACD,IAAI,CAAC,CAAC,SAAS,EAAE;YACb,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;SACvG;QACD,IAAI,CAAC,CAAC,SAAS,EAAE;YACb,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;SACvG;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACxD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YACf,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,EAAE,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YAC7G,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,EAAE,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YAC7G,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,EAAE,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;SAC1G,EAAE,KAAK,CAAC,CAAC;KACb,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC/D,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACtE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACxD,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;YAC1B,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SAC/D;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,wBAAwB,CAAC;KACxC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACzD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YACf,UAAU,EAAE,KAAK;YACjB,WAAW,EAAE,IAAI;SACpB,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QAC7D,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;KACpE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC1D,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;KACpE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACrD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC;KAChE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;SACnD;aACI;YACD,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAC5C,IAAI,SAAS,CAAC,SAAS,KAAK,CAAC,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,eAAe,EAAE;gBAClF,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;aACxE;YACD,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC;aACxD;SACJ;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,YAAY,EAAE;QACrE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACrB,YAAY,GAAGsC,sBAA8B,CAAC,YAAY,CAAC,CAAC;SAC/D;QACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,EAAE,KAAK,CAAC,CAAC;KAC7D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;;KAEjE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QACpD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;;YAE1B,OAAO;SACV;QACD,IAAI,YAAY,GAAG;YACf,UAAU,EAAE,IAAI;SACnB,CAAC;QACF,IAAI,IAAI,CAAC,6BAA6B,EAAE;YACpC,IAAI,qBAAqB,GAAG,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACnE,IAAI,qBAAqB,EAAE;gBACvB,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;oBACrB,YAAY,CAAC,YAAY,GAAGA,sBAA8B,CAAC,qBAAqB,CAAC,CAAC;iBACrF;qBACI;oBACD,YAAY,CAAC,YAAY,GAAG,qBAAqB,CAAC;iBACrD;aACJ;SACJ;QACD,IAAI,CAAC,YAAY,CAAC,YAAY,IAAI,IAAI,CAAC,mCAAmC,EAAE;YACxE,IAAI,qBAAqB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACvD,IAAI,qBAAqB,EAAE;gBACvB,YAAY,CAAC,YAAY,GAAG,qBAAqB,CAAC;aACrD;SACJ;;QAED,IAAI,IAAI,CAAC,kBAAkB,EAAE;YACzB,YAAY,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACzC;aACI,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,EAAE;YACrC,YAAY,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAC1C;QACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,IAAI,CAAC,MAAM,GAAG,IAAI,2BAA2B,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SAC5E;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QACnD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACrB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACzD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACzD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACpD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;YACzB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC1D,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC9D,IAAI,YAAY,GAAG,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,CAAC;QAC5D,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;SACpE;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC1D,IAAI,QAAQ,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,CAAC;QACpD,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;SAChE;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QAC7D,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB;eACjE,IAAI,CAAC,iBAAiB;eACtB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,oBAAoB,EAAE,EAAE;YACpD,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;SAChD;QACD,OAAO,EAAE,CAAC;KACb,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,IAAI,EAAE;QACjE,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB;eACjE,IAAI,CAAC,iBAAiB;eACtB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,oBAAoB,EAAE,EAAE;YACpD,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC9C;KACJ,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,+BAA+B,CAAC;IAC1D,oBAAoB,GAAG7B,YAAU,CAAC;QAC9BC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;KAChC,EAAE,oBAAoB,CAAC,CAAC;IACzB,OAAO,oBAAoB,CAAC;CAC/B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDV,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,CAAC,MAAM,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,aAAa,EAAE,cAAc,EAAE,gBAAgB,EAAE;QAC1I,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,kBAAkB,EAAE,cAAc,EAAE,gBAAgB,CAAC,IAAI,IAAI,CAAC;QACpG,KAAK,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAChD,KAAK,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC9C,KAAK,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC9C,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,OAAO,KAAK,CAAC;KAChB;IACD,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QAC9C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QACD,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,0BAA0B;YAChD,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;SACpC;aACI,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,uBAAuB;YAClD,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;SACjC;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACxD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;YACxB,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;SACvC;aACI;YACD,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,EAAE,CAAC;SAClD;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACrD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QAC/K,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;KAC3I,CAAC;IACF,cAAc,GAAGS,YAAU,CAAC;QACxBC,SAAO,CAAC,CAAC,EAAE,mBAAmB,CAAC;QAC/BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,iBAAiB,CAAC,CAAC;KAC1C,EAAE,cAAc,CAAC,CAAC;IACnB,OAAO,cAAc,CAAC;CACzB,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDV,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,eAAe;YAC5B,KAAK,EAAED,QAAY,CAAC,iBAAiB,EAAE,MAAM,CAAC;YAC9C,KAAK,EAAE,MAAM;YACb,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,KAAK,CAAC;gBACb,kBAAkB,EAAE,KAAK;gBACzB,6BAA6B,EAAE,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B;gBACvG,mCAAmC,EAAE,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB;gBACnG,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,4BAA4B,kBAAkB,UAAU,MAAM,EAAE;IAChEC,WAAS,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;IAChD,SAAS,4BAA4B,GAAG;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,sBAAsB;YACnC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,qBAAqB,CAAC;YAC1E,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI;gBACb,GAAG,EAAE;oBACD,OAAO,EAAE,IAAI,iBAAiB,EAAE;iBACnC;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,4BAA4B,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACrE,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,KAAK,CAAC;gBACb,kBAAkB,EAAE,KAAK;gBACzB,6BAA6B,EAAE,IAAI;gBACnC,mCAAmC,EAAE,KAAK;gBAC1C,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;YACH,UAAU,CAAC,mBAAmB,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,CAAC;SACtE;KACJ,CAAC;IACF,OAAO,4BAA4B,CAAC;CACvC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,UAAU,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACtC,UAAU,CAAC,KAAK,CAAC;gBACb,kBAAkB,EAAE,KAAK;gBACzB,6BAA6B,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,KAAK,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B;gBAC5J,mCAAmC,EAAE,IAAI;gBACzC,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACzB;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDA,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,mBAAmB;YAChC,KAAK,EAAED,QAAY,CAAC,qBAAqB,EAAE,WAAW,CAAC;YACvD,KAAK,EAAE,WAAW;YAClB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,EAAE;gBACX,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,EAAE,cAAc,SAAS,EAAE,CAAC,EAAE,UAAU,EAAE;aAClF;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,mBAAmB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QACvD,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;KACvC,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,uBAAuB;YACpC,KAAK,EAAED,QAAY,CAAC,yBAAyB,EAAE,eAAe,CAAC;YAC/D,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,eAAe,EAAE;gBAC9B,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE,cAAc,SAAS,EAAE,CAAC,IAAI,eAAe,EAAE,UAAU,EAAE;aACxH;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,uBAAuB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QAC3D,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;KACvC,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DC,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACjE,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAI,qBAAqB,GAAG,wBAAwB,CAAC,MAAM,CAAC,CAAC;QAC7D,IAAI,qBAAqB,EAAE;YACvB,UAAU,CAAC,eAAe,CAAC,qBAAqB,CAAC,CAAC;SACrD;QACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACxB,UAAU,CAAC,KAAK,CAAC;gBACb,kBAAkB,EAAE,KAAK;gBACzB,6BAA6B,EAAE,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B;gBACvG,mCAAmC,EAAE,KAAK;gBAC1C,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACzB;KACJ,CAAC;IACF,OAAO,wBAAwB,CAAC;CACnC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,4BAA4B,kBAAkB,UAAU,MAAM,EAAE;IAChEA,WAAS,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;IAChD,SAAS,4BAA4B,GAAG;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,4BAA4B;YACzC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,qBAAqB,CAAC;YAC1E,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,4BAA4B,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QAChE,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;KACvC,CAAC;IACF,OAAO,4BAA4B,CAAC;CACvC,CAAC,wBAAwB,CAAC,CAAC,CAAC;AAC7B,AACA,IAAI,gCAAgC,kBAAkB,UAAU,MAAM,EAAE;IACpEC,WAAS,CAAC,gCAAgC,EAAE,MAAM,CAAC,CAAC;IACpD,SAAS,gCAAgC,GAAG;QACxC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,gCAAgC;YAC7C,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,yBAAyB,CAAC;YAClF,KAAK,EAAE,yBAAyB;YAChC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,gCAAgC,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QACpE,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;KACvC,CAAC;IACF,OAAO,gCAAgC,CAAC;CAC3C,CAAC,wBAAwB,CAAC,CAAC,CAAC;AAC7B,AACA,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,sBAAsB;YACnC,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,SAAS,CAAC;YAC9C,KAAK,EAAE,SAAS;YAChB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE,cAAc;aACxE;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC/D,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC,QAAQ,EAAE;YACpC,OAAO;SACV;QACD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,gBAAgB,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;;QAE7C,IAAI,6BAA6B,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE;YAC3D,gBAAgB,CAAC,eAAe,KAAK,gBAAgB,CAAC,aAAa,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B,CAAC;QACpJ,IAAI,eAAe,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC;;;QAGzD,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,eAAe,IAAI,6BAA6B;YACjE,CAAC,2BAA2B,CAAC,sBAAsB;QACvD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,KAAK,CAAC;gBACb,kBAAkB,EAAE,IAAI;gBACxB,6BAA6B,EAAE,6BAA6B;gBAC5D,mCAAmC,EAAE,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B;gBAC7G,WAAW,EAAE,WAAW;gBACxB,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,sBAAsB;YACnC,KAAK,EAAED,QAAY,CAAC,wBAAwB,EAAE,qBAAqB,CAAC;YACpE,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,2BAA2B;YACzC,MAAM,EAAE;gBACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnD,MAAM,EAAE,cAAc,CAAC,GAAG,CAAC,0BAA0B,EAAE,iBAAiB,CAAC,KAAK,CAAC;gBAC/E,OAAO,EAAE,0BAA0B,CAAC,OAAO;gBAC3C,GAAG,EAAE,0BAA0B,CAAC,GAAG;gBACnC,GAAG,EAAE,0BAA0B,CAAC,GAAG;gBACnC,KAAK,EAAE,0BAA0B,CAAC,KAAK;aAC1C;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QAC1D,OAAO,UAAU,CAAC,gBAAgB,EAAE,CAAC;KACxC,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,0BAA0B,kBAAkB,UAAU,MAAM,EAAE;IAC9DC,WAAS,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;IAC9C,SAAS,0BAA0B,GAAG;QAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,QAAQ,CAAC,0BAA0B;YACvC,KAAK,EAAED,QAAY,CAAC,4BAA4B,EAAE,yBAAyB,CAAC;YAC5E,KAAK,EAAE,8BAA8B;YACrC,YAAY,EAAE,2BAA2B;YACzC,MAAM,EAAE;gBACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnD,MAAM,EAAE,cAAc,CAAC,GAAG,CAAC,0BAA0B,EAAE,iBAAiB,CAAC,KAAK,CAAC;gBAC/E,OAAO,EAAE,8BAA8B,CAAC,OAAO;gBAC/C,GAAG,EAAE,8BAA8B,CAAC,GAAG;gBACvC,GAAG,EAAE,8BAA8B,CAAC,GAAG;gBACvC,KAAK,EAAE,8BAA8B,CAAC,KAAK;aAC9C;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,0BAA0B,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QAC9D,OAAO,UAAU,CAAC,oBAAoB,EAAE,CAAC;KAC5C,CAAC;IACF,OAAO,0BAA0B,CAAC;CACrC,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,0BAA0B,CAAC,cAAc,CAAC,CAAC;AAC3C,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,oBAAoB,CAAC,4BAA4B,CAAC,CAAC;AACnD,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,4BAA4B,CAAC,CAAC;AACnD,oBAAoB,CAAC,gCAAgC,CAAC,CAAC;AACvD,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,0BAA0B,CAAC,CAAC;AACjD,IAAI,WAAW,GAAG,aAAa,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;AAC7E,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,sBAAsB;IACnC,YAAY,EAAE,2BAA2B;IACzC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE;IACrD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,0BAA0B;IACvC,YAAY,EAAE,IAAI;IAClB,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,mBAAmB,EAAE,CAAC,EAAE;IACzD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,6BAA6B,CAAC,OAAO;QAC9C,GAAG,EAAE,6BAA6B,CAAC,GAAG;QACtC,GAAG,EAAE,6BAA6B,CAAC,GAAG;QACtC,KAAK,EAAE,6BAA6B,CAAC,KAAK;KAC7C;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,sBAAsB;IACnC,YAAY,EAAE,IAAI;IAClB,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,gBAAgB,EAAE,CAAC,EAAE;IACtD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,yBAAyB,CAAC,OAAO;QAC1C,GAAG,EAAE,yBAAyB,CAAC,GAAG;QAClC,GAAG,EAAE,yBAAyB,CAAC,GAAG;QAClC,KAAK,EAAE,yBAAyB,CAAC,KAAK;KACzC;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,kBAAkB;IAC/B,YAAY,EAAE,IAAI;IAClB,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC,EAAE;IACjD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,qBAAqB,CAAC,OAAO;QACtC,GAAG,EAAE,qBAAqB,CAAC,GAAG;QAC9B,GAAG,EAAE,qBAAqB,CAAC,GAAG;QAC9B,KAAK,EAAE,qBAAqB,CAAC,KAAK;KACrC;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,wBAAwB;IACrC,YAAY,EAAE,IAAI;IAClB,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,iBAAiB,EAAE,CAAC,EAAE;IACvD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,2BAA2B,CAAC,OAAO;QAC5C,GAAG,EAAE,2BAA2B,CAAC,GAAG;QACpC,GAAG,EAAE,2BAA2B,CAAC,GAAG;QACpC,KAAK,EAAE,2BAA2B,CAAC,KAAK;KAC3C;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,gBAAgB;IAC7B,YAAY,EAAE,2BAA2B;IACzC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE;IAC7C,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;KACtD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,gBAAgB;IAC7B,YAAY,EAAE,2BAA2B;IACzC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,UAAU,EAAE,CAAC,EAAE;IAChD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,CAAC;KAClD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,QAAQ,CAAC,sBAAsB;IACnC,YAAY,EAAE,2BAA2B;IACzC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,gBAAgB,EAAE,CAAC,EAAE;IACtD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACnD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,GAAG,aAAa,CAAC;KAC7B;CACJ,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC5uBJ;;;;AAIA,AACO,IAAI,mBAAmB,GAAG,MAAM,CAAC;AACxC,AAAO,IAAI,eAAe,GAAG,QAAQ,CAAC;AACtC,IAAI,WAAW,GAAG,UAAU,CAAC;AAC7B,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,YAAY,EAAE,UAAU,EAAE,KAAK,EAAE;QACrD,IAAI,YAAY,CAAC,MAAM,KAAK,UAAU,CAAC,MAAM,IAAI,YAAY,CAAC,MAAM,GAAG,mBAAmB,EAAE;YACxF,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;SAC9D;QACD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;IACD,cAAc,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YACxB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,eAAe,GAAG,EAAE,CAAC;YACzB,IAAI,YAAY,GAAG,UAAU,eAAe,EAAE,aAAa,EAAE;gBACzD,IAAI,KAAK,GAAG,eAAe,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACxD,OAAO,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,eAAe,IAAI,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,aAAa,CAAC;aAC/G,CAAC;YACF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC3D,IAAI,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5C,IAAI,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,eAAe,GAAG,eAAe,IAAI,aAAa,GAAG,eAAe,EAAE;oBACtE,MAAM,IAAI,KAAK,CAAC,mDAAmD,GAAG,eAAe,CAAC,CAAC;iBAC1F;gBACD,OAAO,eAAe,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,aAAa,CAAC,EAAE;oBAChF,eAAe,CAAC,GAAG,EAAE,CAAC;iBACzB;gBACD,IAAI,WAAW,GAAG,eAAe,CAAC,MAAM,GAAG,CAAC,GAAG,eAAe,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChG,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,eAAe,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,EAAE,CAAC,CAAC;gBACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,aAAa,IAAI,CAAC,WAAW,GAAG,MAAM,KAAK,EAAE,CAAC,CAAC;aACxE;SACJ;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;SACpC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE;QAC3D,OAAO,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;KACtD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QACzD,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;KACpD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAChD,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;KACpD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC5C,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;KACxB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,UAAU,GAAG,CAAC,KAAK,GAAG,EAAE,IAAI,CAAC,CAAC;QAClC,IAAI,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC;QACrB,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC;KAChE,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC/D,IAAI,UAAU,GAAG,CAAC,KAAK,GAAG,EAAE,IAAI,CAAC,CAAC;QAClC,IAAI,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC;QACrB,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QAC7C,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;SACzD;aACI;YACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,GAAG,KAAK,GAAG,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC;SAC1D;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QACjD,OAAO,IAAI,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KACzC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,WAAW,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,WAAW,MAAM,EAAE,CAAC,CAAC;QACnH,IAAI,MAAM,KAAK,mBAAmB,EAAE;YAChC,OAAO,CAAC,CAAC,CAAC;SACb;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,IAAI,EAAE;QACvD,OAAO,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;KACzF,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE;QACjD,IAAI,GAAG,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAC9C,IAAI,IAAI,KAAK,CAAC,EAAE;YACZ,OAAO,CAAC,CAAC,CAAC;SACb;QACD,OAAO,GAAG,GAAG,IAAI,EAAE;YACf,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;YACvC,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;gBACrC,IAAI,GAAG,GAAG,CAAC;aACd;iBACI;gBACD,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aACjB;SACJ;QACD,OAAO,GAAG,GAAG,CAAC,CAAC;KAClB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACjD,IAAI,aAAa,IAAI,IAAI,EAAE;gBACvB,OAAO,KAAK,CAAC;aAChB;YACD,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YACnC,OAAO,KAAK,KAAK,CAAC,CAAC,EAAE;gBACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;oBAC5B,OAAO,KAAK,CAAC;iBAChB;gBACD,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aACtC;SACJ;QACD,OAAO,CAAC,CAAC,CAAC;KACb,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC5C,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;SACzH;QACD,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACzB,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,MAAM,EAAE,KAAK,EAAE;QAClC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;IACD,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,iBAAiB,EAAE;QAC9D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,eAAe,EAAE;QAC5D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACnD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC;SACrB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACjD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC9C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAUQ,QAAK,EAAE;QACnD,OAAOA,QAAK,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,IAAIA,QAAK,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC;KACrG,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,UAAU,EAAE;QACzD,OAAO,IAAI,CAAC,eAAe,IAAI,UAAU,IAAI,UAAU,IAAI,IAAI,CAAC,aAAa,CAAC;KACjF,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,UAAU,EAAE;QACtD,OAAO,IAAI,CAAC,eAAe,GAAG,UAAU,IAAI,UAAU,IAAI,IAAI,CAAC,aAAa,CAAC;KAChF,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;;ACzLL;;;;AAIA,AAEA,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,SAAS,EAAE,kBAAkB,EAAE;QACjD,IAAI,CAAC,mBAAmB,GAAG,IAAI,OAAO,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;KAC/B;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,EAAE;QACrD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;QAC1C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,aAAa,EAAE;QACzD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3D,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,WAAW,EAAE;QACvD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;QAC5C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,eAAe,EAAE;QAC3D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,cAAc,CAAC,EAAE;QAChD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,YAAY,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,OAAO,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACjB,OAAO;SACV;QACD,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,UAAU,QAAQ,EAAE;YAC3D,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC/D,IAAI,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;gBAC3B,IAAI,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC;gBAC/B,IAAI,kBAAkB,GAAG,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;gBAC3D,IAAI,kBAAkB,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,EAAE;oBACtD,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;oBACrC,IAAI,gBAAgB,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;oBAC1D,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;oBACrD,QAAQ,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,KAAK,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,CAAC,CAAC;iBACzH;aACJ;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,oBAAoB,EAAE,OAAO,EAAE,CAAC,CAAC;KACjF,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,UAAU,EAAE,iBAAiB,EAAE;QACrE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,iBAAiB,KAAK,KAAK,CAAC,EAAE,EAAE,iBAAiB,GAAG,EAAE,CAAC,EAAE;QAC7D,IAAI,oBAAoB,GAAG,EAAE,CAAC;QAC9B,IAAI,SAAS,GAAG,UAAU,eAAe,EAAE,aAAa,EAAE;YACtD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,mBAAmB,GAAG,iBAAiB,EAAE,EAAE,GAAG,mBAAmB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC7F,IAAI,iBAAiB,GAAG,mBAAmB,CAAC,EAAE,CAAC,CAAC;gBAChD,IAAI,eAAe,GAAG,iBAAiB,IAAI,iBAAiB,IAAI,aAAa,EAAE;oBAC3E,OAAO,IAAI,CAAC;iBACf;aACJ;YACD,OAAO,KAAK,CAAC;SAChB,CAAC;QACF,IAAI,SAAS,GAAG,UAAU,KAAK,EAAE,WAAW,EAAE;YAC1C,IAAI,eAAe,GAAG,UAAU,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAC3D,IAAI,WAAW,IAAI,SAAS,CAAC,eAAe,EAAE,UAAU,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC/E,WAAW,GAAG,KAAK,CAAC;aACvB;YACD,UAAU,CAAC,YAAY,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;YAC5C,IAAI,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;YACnE,IAAI,eAAe,GAAG;gBAClB,eAAe,EAAE,eAAe;gBAChC,WAAW,EAAE,SAAS;gBACtB,aAAa,EAAE,eAAe;gBAC9B,SAAS,EAAE,SAAS;aACvB,CAAC;YACF,oBAAoB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,KAAK,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;SAC9H,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,aAAa,GAAG,YAAY;YAC5B,OAAO,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC9B,IAAI,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAChD,CAAC,EAAE,CAAC;gBACJ,IAAI,WAAW,EAAE;oBACb,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;aACJ;YACD,OAAO,CAAC,CAAC,CAAC;SACb,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,cAAc,GAAG,aAAa,EAAE,CAAC;QACrC,OAAO,cAAc,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE;;YAEnD,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7F,IAAI,QAAQ,EAAE;gBACV,IAAI,wBAAwB,GAAG,QAAQ,CAAC,eAAe,CAAC;gBACxD,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,KAAK,QAAQ,CAAC,WAAW,EAAE;oBACrF,OAAO,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE;wBAC1B,IAAI,eAAe,GAAG,UAAU,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;wBACvD,IAAI,wBAAwB,IAAI,eAAe,EAAE;4BAC7C,SAAS,CAAC,CAAC,EAAE,wBAAwB,KAAK,eAAe,CAAC,CAAC;4BAC3D,CAAC,EAAE,CAAC;yBACP;6BACI;4BACD,MAAM;yBACT;qBACJ;iBACJ;aACJ;YACD,cAAc,GAAG,aAAa,EAAE,CAAC;SACpC;QACD,OAAO,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE;YAC1B,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACpB,CAAC,EAAE,CAAC;SACP;QACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,CAAC;QACvH,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;KAClD,CAAC;;;;IAIF,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC5C,IAAI,eAAe,GAAG,EAAE,CAAC;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;gBAC9B,IAAIA,QAAK,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7E,IAAIA,QAAK,EAAE;oBACP,IAAI,eAAe,GAAGA,QAAK,CAAC,eAAe,CAAC;oBAC5C,IAAI,aAAa,GAAGA,QAAK,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;oBAClH,eAAe,CAAC,IAAI,CAAC,EAAE,eAAe,EAAE,eAAe,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC,CAAC;iBAC5F;aACJ;SACJ;QACD,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,OAAO,eAAe,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACnD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACvB,OAAO;SACV;QACD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAIA,QAAK,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAACA,QAAK,CAAC,eAAe,CAAC,CAAC;YACzD,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;gBAC/B,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACzB;SACJ;QACD,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;KACtC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;KAC5E,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,UAAU,EAAE,MAAM,EAAE;QACvE,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,OAAO,KAAK,IAAI,CAAC,EAAE;gBACf,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC5C,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;oBACnC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACxB;gBACD,KAAK,EAAE,CAAC;gBACR,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;aAC/B;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE;QAC3D,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,KAAK,IAAI,CAAC,EAAE;gBACZ,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxC;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;QAChE,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,UAAU,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;QAC/C,IAAI,UAAU,GAAG,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC;QACxC,IAAI,KAAK,GAAG,MAAM,GAAG,MAAM,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;QAChD,IAAI,aAAa,GAAG,MAAM,GAAG,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC;QACrE,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1D,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACxC,IAAI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,aAAa,EAAE;gBACrD,IAAI,UAAU,EAAE;oBACZ,OAAO,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;wBACrF,UAAU,CAAC,GAAG,EAAE,CAAC;qBACpB;oBACD,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACzB,IAAI,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,MAAM,CAAC,EAAE;wBACpC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBACxB;iBACJ;qBACI,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE;oBACjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACxB;aACJ;iBACI;gBACD,MAAM;aACT;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA;;;;;;AAMA,AAAO,SAAS,0BAA0B,CAAC,YAAY,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE;IACtF,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,EAAE;IACrD,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;QACvC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,aAAa,GAAG,WAAW,EAAE,EAAE,GAAG,aAAa,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC3E,IAAI,UAAU,GAAG,aAAa,CAAC,EAAE,CAAC,CAAC;YACnC,IAAI,MAAM,GAAG,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;YACtD,IAAI,MAAM,EAAE;gBACR,IAAI,MAAM,CAAC,WAAW,KAAK,UAAU,EAAE;oBACnC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACzB;gBACD,IAAI,MAAM,GAAG,CAAC,EAAE;oBACZ,IAAI,aAAa,GAAG,YAAY,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,KAAK,UAAU,IAAI,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC1I,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;iBAChD;aACJ;SACJ;KACJ;SACI;QACD,IAAI,aAAa,GAAG,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,KAAK,UAAU,IAAI,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;QACxI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;KAChD;IACD,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;CAC9C;;;;;;;AAOD,AAAO,SAAS,wBAAwB,CAAC,YAAY,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE;IACpF,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,aAAa,GAAG,WAAW,EAAE,EAAE,GAAG,aAAa,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC3E,IAAI,UAAU,GAAG,aAAa,CAAC,EAAE,CAAC,CAAC;QACnC,IAAI,OAAO,GAAG,YAAY,CAAC,mBAAmB,CAAC,UAAU,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE,EAAE,OAAO,MAAM,CAAC,WAAW,KAAK,UAAU,IAAI,KAAK,IAAI,MAAM,CAAC,EAAE,CAAC,CAAC;QACtJ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;KAC1C;IACD,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;CAC9C;;;;;;;AAOD,AAAO,SAAS,uBAAuB,CAAC,YAAY,EAAE,SAAS,EAAE,UAAU,EAAE,kBAAkB,EAAE;IAC7F,IAAI,MAAM,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE,EAAE,OAAO,KAAK,KAAK,SAAS,IAAI,MAAM,CAAC,WAAW,KAAK,UAAU,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IAC9L,IAAI,QAAQ,GAAG,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC3D,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;CAC9C;;;;;AAKD,AAAO,SAAS,gCAAgC,CAAC,YAAY,EAAE,MAAM,EAAE,UAAU,EAAE;IAC/E,IAAI,WAAW,GAAG,YAAY,CAAC,SAAS,CAAC;IACzC,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC;IACnC,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAI,UAAU,KAAK,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,eAAe,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YACpD,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,EAAE;gBAC1D,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;aACtC;SACJ;KACJ;IACD,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;CAC9C;;;;;AAKD,AAAO,SAAS,uBAAuB,CAAC,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE;IACpE,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC;IACnC,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAI,UAAU,KAAK,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACtE,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SACtC;KACJ;IACD,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;CAC9C;;ACrTD;;;;AAIA,AAEA,IAAI,yBAAyB,kBAAkB,YAAY;IACvD,SAAS,yBAAyB,CAAC,MAAM,EAAE;QACvC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;KACvC;IACD,yBAAyB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,WAAW,EAAE;QAC7E,IAAI,WAAW,EAAE;YACb,OAAO,yBAAyB,CAAC,2BAA2B,CAAC;SAChE;aACI,IAAI,IAAI,CAAC,uBAAuB,EAAE;YACnC,OAAO,yBAAyB,CAAC,oCAAoC,CAAC;SACzE;aACI;YACD,OAAO,yBAAyB,CAAC,0BAA0B,CAAC;SAC/D;KACJ,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,cAAc,EAAE,cAAc,EAAE;QAC7F,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;KACvE,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,QAAQ,EAAE;QACxE,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;KAClD,CAAC;IACF,yBAAyB,CAAC,2BAA2B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACpF,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,qBAAqB,EAAE,eAAe;QACtC,yBAAyB,EAAE,mBAAmB;KACjD,CAAC,CAAC;IACH,yBAAyB,CAAC,oCAAoC,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC7F,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,yBAAyB,EAAE,SAAS;KACvC,CAAC,CAAC;IACH,yBAAyB,CAAC,0BAA0B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACnF,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,yBAAyB,EAAE,6BAA6B;KAC3D,CAAC,CAAC;IACH,OAAO,yBAAyB,CAAC;CACpC,EAAE,CAAC,CAAC;;AC1CL;;;;AAIA,AAGA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,KAAK,EAAE;QAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,mBAAmB,GAAG,IAAI,OAAO,EAAE,CAAC;QACzC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,CAAC;QACpG,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE;YACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;KACJ;IACD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,EAAE;QAC7D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3D,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE;QAC9D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;QAC/C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,gBAAgB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACxD,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAC;QAC1C,IAAI,gBAAgB,GAAG,CAAC,CAAC,CAAC;QAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;QACxC,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;gBACxB,SAAS;aACZ;YACD,IAAI,eAAe,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACvD,IAAI,aAAa,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC/C,IAAI,kBAAkB,IAAI,eAAe,IAAI,aAAa,IAAI,gBAAgB,EAAE;;gBAE5E,SAAS;aACZ;YACD,IAAI,CAAC,iBAAiB,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,eAAe,KAAK,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,aAAa,KAAK,aAAa,EAAE;;gBAE3K,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3C,CAAC,EAAE,CAAC;aACP;iBACI;gBACD,iBAAiB,GAAG,IAAI,CAAC;gBACzB,cAAc,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC;aACxE;YACD,kBAAkB,GAAG,eAAe,CAAC;YACrC,gBAAgB,GAAG,aAAa,CAAC;SACpC;QACD,IAAI,iBAAiB,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YACpD,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;SAC1C;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7C,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAI,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,CAAC,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE;gBACxC,OAAO,KAAK,CAAC;aAChB;YACD,YAAY,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC;SAC9E;QACD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,QAAQ,EAAE,eAAe,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,CAAC;KACxI,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,cAAc,EAAE;QACrE,IAAI,CAAC,aAAa,GAAG,cAAc,CAAC;QACpC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KACjD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;KACxC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;QAClD,OAAO,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,IAAI,CAAC;KACvD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,UAAU,EAAE;QAChE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;QAC/C,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAI,UAAU,GAAG,UAAU,IAAI,EAAE;YAC7B,IAAI,CAAC,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE;gBAC1C,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;aACpD;YACD,IAAI,SAAS,EAAE;gBACX,OAAO,SAAS,CAAC,eAAe,GAAG,CAAC,CAAC;aACxC;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,iBAAiB,GAAG,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;YAC9D,IAAI,iBAAiB,EAAE;gBACnB,SAAS,GAAG,SAAS,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,WAAW,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC3G,UAAU,GAAG,IAAI,CAAC;aACrB;YACD,IAAI,eAAe,GAAG,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAC1D,IAAI,eAAe,EAAE;gBACjB,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE,WAAW,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;gBACrG,UAAU,GAAG,IAAI,CAAC;aACrB;YACD,UAAU,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;SAC7B;QACD,OAAO,UAAU,CAAC;KACrB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACrD;QACD,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC5B,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;SACrC;KACJ,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,SAAS,QAAQ,CAAC,IAAI,EAAEA,QAAK,EAAE;IAC3B,OAAO,IAAI,IAAIA,QAAK,CAAC,eAAe,IAAI,IAAI,IAAIA,QAAK,CAAC,aAAa,CAAC;CACvE;AACD,SAAS,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE;IAC7B,IAAI,CAAC,GAAG,iBAAiB,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,GAAG,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACzF,IAAI,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,EAAE;QAC3C,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC;KACpB;IACD,OAAO,IAAI,CAAC;CACf;;ACjJD;;;;AAIA,AAKA,IAAI,oCAAoC,GAAG,IAAI,CAAC;AAChD,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,GAAG;KAC9B;IACD,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,WAAW,EAAE,gBAAgB,EAAE;QAC7E,IAAI,YAAY,GAAG,6BAA6B,CAAC,eAAe,CAAC,WAAW,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC;QACzG,IAAI,OAAO,GAAG,YAAY,IAAI,YAAY,CAAC,OAAO,CAAC;QACnD,IAAI,OAAO,GAAG,YAAY,IAAI,YAAY,CAAC,OAAO,CAAC;QACnD,OAAO,QAAQ,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;KACpE,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;AACL,AACA;AACA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,kBAAkB,EAAE;QACzC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;KACjD;IACD,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,eAAe,EAAE,aAAa,EAAE,MAAM,EAAE;QACtF,IAAI,eAAe,GAAG,eAAe,IAAI,aAAa,GAAG,eAAe,EAAE;YACtE,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,aAAa,CAAC;QACxC,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,MAAM,GAAG,IAAI,EAAE;YACf,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChF;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;QACxD,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE;;YAE1C,IAAI,YAAY,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACjD,IAAI,UAAU,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE;gBACpD,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACxC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aACvC;YACD,OAAO,IAAI,cAAc,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;SACvD;aACI;YACD,IAAI,OAAO,GAAG,CAAC,CAAC;YAChB,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,EAAE;oBACH,IAAI,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,mBAAmB,EAAE;wBACxC,SAAS,GAAG,CAAC,CAAC;wBACd,MAAM;qBACT;oBACD,OAAO,IAAI,CAAC,CAAC;iBAChB;aACJ;YACD,IAAI,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC;;YAEzC,IAAI,YAAY,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;YAC5C,IAAI,UAAU,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1C,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC/C,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;gBACnD,IAAI,MAAM,GAAG,SAAS,CAAC,kBAAkB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;gBAChE,IAAI,MAAM,GAAG,SAAS,EAAE;oBACpB,YAAY,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;oBAC7B,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACpC,CAAC,EAAE,CAAC;iBACP;aACJ;YACD,OAAO,IAAI,cAAc,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;SACvD;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;AACL,AACO,SAAS,aAAa,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,kBAAkB,EAAE;IACvE,IAAI,kBAAkB,KAAK,KAAK,CAAC,EAAE,EAAE,kBAAkB,GAAG,oCAAoC,CAAC,EAAE;IACjG,IAAI,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC;IACzC,IAAI,MAAM,GAAG,IAAI,eAAe,CAAC,kBAAkB,CAAC,CAAC;IACrD,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC;IACrB,IAAI,OAAO,EAAE;QACT,OAAO,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;KACzF;IACD,IAAI,eAAe,GAAG,EAAE,CAAC;IACzB,eAAe,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IACpF,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE;QACpD,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,MAAM,GAAG,SAAS,CAAC,kBAAkB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAChE,IAAI,QAAQ,GAAG,eAAe,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3D,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE;YACf,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;;gBAE7B,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;aACxB;YACD,SAAS;SACZ;QACD,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;QACf,IAAI,OAAO,KAAK,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE;;YAE7C,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;;gBAEN,IAAI,CAAC,GAAG,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;gBACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACxC,CAAC,EAAE,CAAC;iBACP;gBACD,IAAI,CAAC,GAAG,CAAC,EAAE;oBACP,eAAe,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC/B,QAAQ,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;;oBAE9B,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;oBAChD,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;oBACxB,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;oBACzB,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;oBACrB,SAAS;iBACZ,AAGA;aACJ;iBACI;gBACD,eAAe,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC/D,SAAS;aACZ;SACJ;QACD,IAAI,QAAQ,CAAC,MAAM,GAAG,MAAM,EAAE;;YAE1B,GAAG;gBACC,eAAe,CAAC,GAAG,EAAE,CAAC;gBACtB,QAAQ,GAAG,eAAe,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aAC1D,QAAQ,QAAQ,CAAC,MAAM,GAAG,MAAM,EAAE;;YAEnC,IAAI,aAAa,GAAG,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC;YACtC,IAAI,aAAa,GAAG,IAAI,IAAI,CAAC,EAAE;gBAC3B,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;aACnD;SACJ;QACD,IAAI,QAAQ,CAAC,MAAM,KAAK,MAAM,EAAE;YAC5B,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;SACxB;aACI;;YAED,eAAe,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;SACvE;KACJ;IACD,OAAO,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;CACvC;;AC7JD;;;;AAIA,AAKA,IAAIgC,sCAAoC,GAAG,IAAI,CAAC;AAChD,IAAI,cAAc,GAAG;IACjB,SAAS,EAAEA,sCAAoC;CAClD,CAAC;AACF,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,SAAS,EAAE;QACpC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;IACD,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,iBAAiB,EAAE;QACxE,OAAO,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACxF,IAAI,MAAM,EAAE;gBACR,IAAI,GAAG,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC;gBACjC,OAAO,GAAG,CAAC;aACd;YACD,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;KACN,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;AACL,AACA,SAAS,mBAAmB,CAAC,SAAS,EAAE,KAAK,EAAE,iBAAiB,EAAE;IAC9D,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,aAAa,CAAC,QAAQ,CAAC,oBAAoB,CAAC,KAAK,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACrJ,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;QACnD,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAI,iBAAiB,CAAC,uBAAuB,EAAE;YAC3C,OAAO,IAAI,CAAC;SACf;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACvB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;oBAC3B,SAAS,GAAG,EAAE,CAAC;iBAClB;gBACD,IAAI,MAAM,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;gBAClC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBAC5D,IAAI,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;oBACrB,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,EAAE;wBACnD,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;qBACzE;iBACJ;aACJ;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,EAAE,yBAAyB,CAAC,CAAC;CACjC;AACD,IAAIC,iBAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,kBAAkB,EAAE;QACzC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;KACjD;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,eAAe,EAAE,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE;QAC1F,IAAI,eAAe,GAAG,eAAe,IAAI,aAAa,GAAG,eAAe,EAAE;YACtE,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,aAAa,CAAC;QACxC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,YAAY,CAAC;QAC1C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,YAAY,GAAG,EAAE,EAAE;YACnB,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9F;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACnD,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1C,IAAI,YAAY,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACjD,IAAI,UAAU,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE;gBACnC,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACxC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aACvC;YACD,OAAO,IAAI,cAAc,CAAC,YAAY,EAAE,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SACpE;aACI;YACD,IAAI,OAAO,GAAG,CAAC,CAAC;YAChB,IAAI,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACtD,IAAI,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE;oBACH,IAAI,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,mBAAmB,EAAE;wBACxC,QAAQ,GAAG,CAAC,CAAC;wBACb,MAAM;qBACT;oBACD,OAAO,IAAI,CAAC,CAAC;iBAChB;aACJ;YACD,IAAI,YAAY,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;YAC5C,IAAI,UAAU,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,KAAK,GAAG,QAAQ,EAAE;oBAClB,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;oBACxC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACpC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC1B,CAAC,EAAE,CAAC;iBACP;aACJ;YACD,OAAO,IAAI,cAAc,CAAC,YAAY,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;SAC9D;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;AACL,AACO,SAAS,cAAc,CAAC,SAAS,EAAE;IACtC,IAAI,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;QAC1C,IAAI,IAAI,GAAG,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QAC/B,IAAI,IAAI,KAAK,CAAC,EAAE;YACZ,IAAI,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;SAC5B;QACD,OAAO,IAAI,CAAC;KACf,CAAC,CAAC;IACH,IAAI,SAAS,GAAG,IAAIA,iBAAe,CAACD,sCAAoC,CAAC,CAAC;IAC1E,IAAI,GAAG,GAAG,IAAI,CAAC;IACf,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC5D,IAAI,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;QACzB,IAAI,CAAC,GAAG,EAAE;YACN,GAAG,GAAG,KAAK,CAAC;YACZ,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC1F;aACI;YACD,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,EAAE;gBACzB,IAAI,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,EAAE;oBACtB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACnB,GAAG,GAAG,KAAK,CAAC;oBACZ,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC1F;qBACI,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,EAAE;oBAC5B,GAAG;wBACC,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;qBACxB,QAAQ,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,EAAE;oBACvC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACnB,GAAG,GAAG,KAAK,CAAC;oBACZ,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC1F;aACJ;SACJ;KACJ;IACD,OAAO,SAAS,CAAC,cAAc,EAAE,CAAC;CACrC;;AC3JD;;;;AAIA,AACA,IAAIvC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAiBO,IAAI,EAAE,GAAG,wBAAwB,CAAC;AACzC,IAAI,iBAAiB,kBAAkB,YAAY;IAC/C,SAAS,iBAAiB,CAAC,MAAM,EAAE;QAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC;QACrE,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,mBAAmB,KAAK,WAAW,CAAC;QAC/G,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,eAAe,KAAK,aAAa,CAAC;QACzG,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,yBAAyB,GAAG,IAAI,yBAAyB,CAAC,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,yBAAyB,CAAC,uBAAuB,GAAG,IAAI,CAAC,wBAAwB,CAAC;QACvF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,4BAA4B,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,wBAAwB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9H,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACxE,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,IAAI,YAAY,GAAG,KAAK,CAAC,UAAU,CAAC;gBACpC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC;gBACvE,IAAI,YAAY,KAAK,KAAK,CAAC,UAAU,EAAE;oBACnC,KAAK,CAAC,cAAc,EAAE,CAAC;iBAC1B;gBACD,IAAI,sBAAsB,GAAG,KAAK,CAAC,wBAAwB,CAAC;gBAC5D,KAAK,CAAC,wBAAwB,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,mBAAmB,KAAK,WAAW,CAAC;gBACjH,IAAI,sBAAsB,KAAK,KAAK,CAAC,wBAAwB,EAAE;oBAC3D,KAAK,CAAC,yBAAyB,CAAC,uBAAuB,GAAG,KAAK,CAAC,wBAAwB,CAAC;oBACzF,KAAK,CAAC,qBAAqB,EAAE,CAAC;iBACjC;gBACD,IAAI,sBAAsB,GAAG,KAAK,CAAC,oBAAoB,CAAC;gBACxD,KAAK,CAAC,oBAAoB,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,eAAe,KAAK,aAAa,CAAC;gBAC3G,IAAI,sBAAsB,KAAK,KAAK,CAAC,oBAAoB,EAAE;oBACvD,KAAK,CAAC,wBAAwB,EAAE,CAAC;iBACpC;aACJ;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAC9F,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;IACD,iBAAiB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACtC,OAAO,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;KACrC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,OAAO,EAAE,CAAC;KACb,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC9C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACxD,CAAC;;;;IAIF,iBAAiB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,yBAAyB,EAAE,EAAE;YACjE,OAAO,EAAE,CAAC;SACb;QACD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;YAC7H,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,SAAS,EAAE,KAAK,CAAC,YAAY,EAAE,EAAE,CAAC;SAClF;QACD,OAAO,KAAK,CAAC,CAAC;KACjB,CAAC;;;;IAIF,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,yBAAyB,EAAE,EAAE;YACjE,OAAO;SACV;QACD,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC,SAAS,KAAK,KAAK,CAAC,YAAY,EAAE,EAAE;YAC/E,OAAO;SACV;;QAED,IAAI,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE;YAC5D,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;gBAChD,IAAI,YAAY,EAAE;oBACd,YAAY,CAAC,YAAY,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;iBACrD;aACJ,CAAC,CAAC;SACN;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,yBAAyB,EAAE,EAAE;;YAEjE,OAAO;SACV;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAChE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAChD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,KAAK,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvH,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,sBAAsB,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QACtG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qCAAqC,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACtH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,uBAAuB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1H,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;YACrB,OAAO,EAAE,YAAY;gBACjB,IAAI,KAAK,CAAC,oBAAoB,EAAE;oBAC5B,KAAK,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;oBACpC,KAAK,CAAC,oBAAoB,GAAG,IAAI,CAAC;iBACrC;gBACD,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;gBAC/B,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC7B,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC1B,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBACjC,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC9B,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACpC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;aAC9B;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACvD,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrB,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBAC3B,IAAI,gBAAgB,GAAG,4BAA4B,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBACzF,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,MAAM,GAAG,IAAI,mBAAmB,CAAC,gBAAgB,CAAC,GAAG,IAAI,mBAAmB,EAAE,CAAC;aACxH;iBACI;gBACD,IAAI,CAAC,aAAa,GAAG,IAAI,mBAAmB,EAAE,CAAC;aAClD;SACJ;QACD,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC,mBAAmB,CAAC;KACnC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBAC3B,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;gBACnC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;aACpC;YACD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY;gBAChE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;oBACrB,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,oBAAoB,GAAG,KAAK,CAAC,oBAAoB,GAAG,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC3K,OAAO,oBAAoB,CAAC,IAAI,CAAC,UAAU,aAAa,EAAE;oBACtD,IAAI,aAAa,IAAI,oBAAoB,KAAK,KAAK,CAAC,oBAAoB,EAAE;;wBAEtE,IAAI,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;wBAC9C,IAAI,oBAAoB,GAAG,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;wBACxG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,aAAa,EAAE,oBAAoB,CAAC,CAAC;qBAClE;oBACD,OAAO,KAAK,CAAC,YAAY,CAAC;iBAC7B,CAAC,CAAC;aACN,CAAC,CAAC;SACN;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,YAAY,EAAE;QACxE,IAAI,YAAY,CAAC,MAAM,EAAE;YACrB,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;YAC7C,IAAI,UAAU,EAAE;gBACZ,IAAI,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;oBACpD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;iBACzC;aACJ;SACJ;QACD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;KAC5C,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;QAC9D,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE;YACnC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC;SAC1C;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;YAChD,IAAI,YAAY,EAAE;gBACd,IAAI,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;gBAC9C,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,IAAI,QAAQ,GAAG,EAAE,CAAC;oBAClB,IAAI,OAAO,GAAG,UAAU,SAAS,EAAE;wBAC/B,IAAI,UAAU,GAAG,SAAS,CAAC,wBAAwB,CAAC;wBACpD,IAAI,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;4BAC7C,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC,mBAAmB,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,IAAI,UAAU,GAAG,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;yBACzJ;qBACJ,CAAC;oBACF,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;wBACxE,IAAI,SAAS,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;wBACjC,OAAO,CAAC,SAAS,CAAC,CAAC;qBACtB;oBACD,IAAI,QAAQ,CAAC,MAAM,EAAE;wBACjB,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;wBAC3C,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;qBAC7C;iBACJ;aACJ;SACJ,CAAC,CAAC;KACN,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,CAAC,EAAE;QACzD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAIS,QAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAACA,QAAK,EAAE;YAClC,OAAO;SACV;QACD,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,EAAE;YAC9C,OAAO;SACV;QACD,IAAI,WAAW,GAAG,KAAK,CAAC;QACxB,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI;YACjB,KAAK,eAAe,CAAC,uBAAuB;gBACxC,IAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;gBAC3B,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;;gBAEjF,IAAI,aAAa,IAAI,EAAE,EAAE;oBACrB,OAAO;iBACV;gBACD,WAAW,GAAG,IAAI,CAAC;gBACnB,MAAM;YACV,KAAK,eAAe,CAAC,aAAa,EAAE;gBAChC,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE;oBACnC,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;oBAC7B,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;wBACtB,MAAM;qBACT;iBACJ;gBACD,OAAO;aACV;YACD,KAAK,eAAe,CAAC,YAAY,EAAE;gBAC/B,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE;oBACnC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;oBACnC,IAAI,KAAK,IAAIA,QAAK,CAAC,WAAW,KAAK,KAAK,CAAC,gBAAgB,CAACA,QAAK,CAAC,eAAe,CAAC,EAAE;wBAC9E,MAAM;qBACT;iBACJ;gBACD,OAAO;aACV;YACD;gBACI,OAAO;SACd;QACD,IAAI,CAAC,aAAa,GAAG,EAAE,UAAU,EAAEA,QAAK,CAAC,eAAe,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;KACxF,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrB,OAAO;SACV;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;QAC/C,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QACjD,IAAIA,QAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QAC3B,IAAI,CAACA,QAAK,IAAIA,QAAK,CAAC,eAAe,KAAK,UAAU,EAAE;YAChD,OAAO;SACV;QACD,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,uBAAuB,EAAE;gBAC3D,OAAO;aACV;SACJ;aACI;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAIA,QAAK,CAAC,WAAW,KAAK,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;gBAC1D,OAAO;aACV;SACJ;QACD,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;YAChD,IAAI,YAAY,EAAE;gBACd,IAAI,MAAM,GAAG,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;gBACtD,IAAI,MAAM,IAAI,MAAM,CAAC,eAAe,KAAK,UAAU,EAAE;oBACjD,IAAI,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC;oBACvC,IAAI,WAAW,IAAI,aAAa,EAAE;wBAC9B,IAAI,QAAQ,GAAG,CAAC,MAAM,CAAC,CAAC;wBACxB,IAAI,CAAC,CAAC,KAAK,CAAC,YAAY,IAAI,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE;4BAC1C,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,WAAW,KAAK,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;yBAClI;wBACD,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;wBAC3C,KAAK,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;qBACvD;iBACJ;aACJ;SACJ,CAAC,CAAC;KACN,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE;QACrD,IAAI,CAAC,MAAM,CAAC,uCAAuC,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC;KACjF,CAAC;IACF,iBAAiB,CAAC,mBAAmB,GAAG,IAAI,CAAC;IAC7C,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDP,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,GAAG;QACrB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QACzE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,iBAAiB,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,iBAAiB,EAAE;YACpB,OAAO;SACV;QACD,IAAI,mBAAmB,GAAG,iBAAiB,CAAC,eAAe,EAAE,CAAC;QAC9D,IAAI,mBAAmB,EAAE;YACrB,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YACvC,OAAO,mBAAmB,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;gBACpD,IAAI,YAAY,EAAE;oBACd,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;oBAC5D,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC;iBACtE;aACJ,CAAC,CAAC;SACN;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE;QACzD,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,OAAO,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;KACvF,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE,MAAM,EAAE;QAC7D,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;YAC7B,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;SAClE;QACD,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;KACxC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;KACzD,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,SAAS,0BAA0B,CAAC,IAAI,EAAE;IACtC,IAAI,CAACyC,WAAiB,CAAC,IAAI,CAAC,EAAE;QAC1B,IAAI,CAACC,QAAc,CAAC,IAAI,CAAC,EAAE;YACvB,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,CAACD,WAAiB,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAACE,QAAc,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE;YAC/E,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAACF,WAAiB,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAACG,QAAc,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;YACrF,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAACH,WAAiB,CAAC,WAAW,CAAC,cAAc,CAAC,KAAK,CAACI,OAAa,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,KAAK,CAACF,QAAc,CAAC,CAAC,EAAE;YACrJ,OAAO,KAAK,CAAC;SAChB;KACJ;IACD,OAAO,IAAI,CAAC;CACf;AACD,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChD3C,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,GAAG;QACpB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,eAAe;YACnB,KAAK,EAAED,QAAY,CAAC,oBAAoB,EAAE,QAAQ,CAAC;YACnD,KAAK,EAAE,QAAQ;YACf,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;gBACnD,GAAG,EAAE;oBACD,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE;iBACnD;aACJ;YACD,WAAW,EAAE;gBACT,WAAW,EAAE,kCAAkC;gBAC/C,IAAI,EAAE;oBACF;wBACI,IAAI,EAAE,wBAAwB;wBAC9B,WAAW,EAAE,gaAAga;wBAC7a,UAAU,EAAE,0BAA0B;qBACzC;iBACJ;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE;QACrF,IAAI,MAAM,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;QACtC,IAAI,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpD,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;YACjC,wBAAwB,CAAC,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;SACtE;aACI;YACD,0BAA0B,CAAC,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;SACxE;KACJ,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,0BAA0B;YAC9B,KAAK,EAAED,QAAY,CAAC,+BAA+B,EAAE,oBAAoB,CAAC;YAC1E,KAAK,EAAE,oBAAoB;YAC3B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,+BAA+B;aAChH;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,uBAAuB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE;QAChG,0BAA0B,CAAC,YAAY,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;KACpG,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,UAAU,kBAAkB,UAAU,MAAM,EAAE;IAC9CC,WAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC9B,SAAS,UAAU,GAAG;QAClB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,aAAa;YACjB,KAAK,EAAED,QAAY,CAAC,kBAAkB,EAAE,MAAM,CAAC;YAC/C,KAAK,EAAE,MAAM;YACb,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;gBACnD,GAAG,EAAE;oBACD,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE;iBACnD;aACJ;YACD,WAAW,EAAE;gBACT,WAAW,EAAE,gCAAgC;gBAC7C,IAAI,EAAE;oBACF;wBACI,IAAI,EAAE,sBAAsB;wBAC5B,WAAW,EAAE,kZAAkZ;wBAC/Z,UAAU,EAAE,0BAA0B;qBACzC;iBACJ;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE;QACnF,IAAI,MAAM,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;QACtC,IAAI,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpD,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;YACjC,wBAAwB,CAAC,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;SACrE;aACI;YACD,0BAA0B,CAAC,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;SACvE;KACJ,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,wBAAwB;YAC5B,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,kBAAkB,CAAC;YACtE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,8BAA8B;aAC/G;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qBAAqB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QACxF,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAClD,0BAA0B,CAAC,YAAY,EAAE,IAAI,EAAE,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;KACnF,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,0BAA0B,kBAAkB,UAAU,MAAM,EAAE;IAC9DC,WAAS,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;IAC9C,SAAS,0BAA0B,GAAG;QAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,6BAA6B;YACjC,KAAK,EAAED,QAAY,CAAC,4BAA4B,EAAE,yBAAyB,CAAC;YAC5E,KAAK,EAAE,yBAAyB;YAChC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,gBAAgB;aACjG;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,0BAA0B,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QAC7F,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YACjC,uBAAuB,CAAC,YAAY,EAAE,gBAAgB,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SAC/E;aACI;YACD,IAAI,QAAQ,GAAG,6BAA6B,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC;YACvG,IAAI,QAAQ,IAAI,QAAQ,CAAC,sBAAsB,EAAE;gBAC7C,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,GAAG,sBAAsB,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAAC;gBAC3F,gCAAgC,CAAC,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;aAChE;SACJ;KACJ,CAAC;IACF,OAAO,0BAA0B,CAAC;CACrC,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,6BAA6B;YACjC,KAAK,EAAED,QAAY,CAAC,4BAA4B,EAAE,kBAAkB,CAAC;YACrE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,oBAAoB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QACvF,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YACjC,uBAAuB,CAAC,YAAY,EAAE,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SAC9E;aACI;YACD,IAAI,YAAY,GAAG,6BAA6B,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC;YAC/G,IAAI,YAAY,IAAI,YAAY,CAAC,OAAO,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE;gBACpE,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpD,gCAAgC,CAAC,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;aAChE;SACJ;KACJ,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,oBAAoB,CAAC;YACzE,KAAK,EAAE,oBAAoB;YAC3B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QACzF,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YACjC,uBAAuB,CAAC,YAAY,EAAE,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SAC/E;aACI;YACD,IAAI,YAAY,GAAG,6BAA6B,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC;YAC/G,IAAI,YAAY,IAAI,YAAY,CAAC,OAAO,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE;gBACpE,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpD,gCAAgC,CAAC,YAAY,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;aACjE;SACJ;KACJ,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDC,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,GAAG;QACrB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gBAAgB;YACpB,KAAK,EAAED,QAAY,CAAC,qBAAqB,EAAE,UAAU,CAAC;YACtD,KAAK,EAAE,UAAU;YACjB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QAChF,0BAA0B,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;KAClD,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,kBAAkB;YACtB,KAAK,EAAED,QAAY,CAAC,uBAAuB,EAAE,YAAY,CAAC;YAC1D,KAAK,EAAE,YAAY;YACnB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QAClF,0BAA0B,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;KACnD,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,eAAe,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACpD,OAAO,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;KACrE,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE;QAClF,uBAAuB,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;KACtG,CAAC;IACF,eAAe,CAAC,SAAS,GAAG,kBAAkB,CAAC;IAC/C,eAAe,CAAC,EAAE,GAAG,UAAU,KAAK,EAAE,EAAE,OAAO,eAAe,CAAC,SAAS,GAAG,KAAK,CAAC,EAAE,CAAC;IACpF,OAAO,eAAe,CAAC;CAC1B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,0BAA0B,CAAC,iBAAiB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,YAAY,CAAC,CAAC;AACnC,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,UAAU,CAAC,CAAC;AACjC,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;AAC5C,oBAAoB,CAAC,aAAa,CAAC,CAAC;AACpC,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,oBAAoB,CAAC,0BAA0B,CAAC,CAAC;AACjD,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;AAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;IACzB,gCAAgC,CAAC,IAAI,eAAe,CAAC;QACjD,EAAE,EAAE,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;QACzB,KAAK,EAAED,QAAY,CAAC,uBAAuB,EAAE,gBAAgB,EAAE,CAAC,CAAC;QACjE,KAAK,EAAE,aAAa,GAAG,CAAC;QACxB,YAAY,EAAE,IAAI;QAClB,MAAM,EAAE;YACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;YACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,kBAAkB,EAAE,eAAe,CAAC,CAAC,CAAC;SACpG;KACJ,CAAC,CAAC,CAAC;CACP;;AC5oBD;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AASA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDE,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,CAAC,OAAO,EAAE;QAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,IAAI,GAAG,eAAe,CAAC,IAAI,CAAC;QAClC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACxB,OAAO,KAAK,CAAC;KAChB;IACD,eAAe,CAAC,IAAI,GAAG,OAAO,CAAC;IAC/B,OAAO,eAAe,CAAC;CAC1B,CAAC,KAAK,CAAC,CAAC,CAAC;AACV,AACO,SAAS,+BAA+B,CAAC,KAAK,EAAEO,QAAK,EAAE,OAAO,EAAE;IACnE,IAAI,SAAS,GAAG,2CAA2C,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC3E,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,OAAO,QAAQ,CAAC,SAAS,CAAC,IAAI,eAAe,EAAE,CAAC,CAAC;KACpD;IACD,IAAI,MAAM,CAAC;IACX,OAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QAC9C,OAAO,YAAY;YACf,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;gBACzB,OAAO,SAAS,CAAC;aACpB;YACD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,mCAAmC,CAAC,KAAK,EAAEA,QAAK,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;gBACjJ,MAAM,GAAG,KAAK,CAAC;aAClB,EAAE,yBAAyB,CAAC,CAAC;SACjC,CAAC;KACL,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;CAC5C;AACD,AAAO,SAAS,0BAA0B,CAAC,KAAK,EAAE,OAAO,EAAE;IACvD,IAAI,SAAS,GAAG,sCAAsC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;IAEtE,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,OAAO,+BAA+B,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,EAAE,EAAE,OAAO,CAAC,CAAC;KACrF;IACD,IAAI,MAAM,CAAC;IACX,OAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QAC9C,OAAO,YAAY;YACf,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;gBACzB,OAAO,SAAS,CAAC;aACpB;YACD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,8BAA8B,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;gBACrI,MAAM,GAAG,KAAK,CAAC;aAClB,EAAE,yBAAyB,CAAC,CAAC;SACjC,CAAC;KACL,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;CAC5C;AACD,AAAO,SAAS,wBAAwB,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE;IACnE,IAAI,OAAO,GAAG,oCAAoC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACrE,IAAI,CAAC,OAAO,EAAE;QACV,OAAO,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;KACjC;IACD,IAAI,OAAO,CAAC,2BAA2B,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;QACrD,OAAO,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;KACjC;IACD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;QACnC,OAAO,OAAO,CAAC,4BAA4B,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KACpF,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,yBAAyB,CAAC,CAAC;CAClE;AACD,uBAAuB,CAAC,6BAA6B,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAC7E,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAEA,QAAK,GAAG,IAAI,CAAC,KAAK,EAAE,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACzE,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAACA,QAAK,CAAC,EAAE;QACtD,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD,OAAO,+BAA+B,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAACA,QAAK,CAAC,EAAE,OAAO,CAAC,CAAC;CAC7E,CAAC,CAAC;AACH,uBAAuB,CAAC,gCAAgC,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAChF,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACrD,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD,OAAO,0BAA0B,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;CACrD,CAAC,CAAC;AACH,8BAA8B,CAAC,8BAA8B,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC5F,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACzC,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;QACxB,MAAM,eAAe,CAAC,IAAI,CAAC,CAAC;KAC/B;IACD,OAAO,wBAAwB,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;CACjE,CAAC,CAAC;;AC/GH;;;;AAIA,AAIA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,KAAK,EAAE,gBAAgB,EAAE;QACpD,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;IACD,qBAAqB,CAAC,eAAe,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;QAC7D,IAAI,MAAM,GAAG,SAAS,CAAC;QACvB,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAI,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YACvB,IAAI,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,EAAE;gBAC9B,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;aACrB;YACD,IAAI,IAAI,CAAC,KAAK,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;gBAC7C,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1B;SACJ;QACD,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YAC5B,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,OAAO,WAAW,CAAC;KACtB,CAAC;IACF,qBAAqB,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjD,IAAI,GAAG,GAAG,IAAI,qBAAqB,CAAC,KAAK,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAClE,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,cAAc,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;QACjD,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,qBAAqB,CAAC,sBAAsB,GAAG,UAAU,MAAM,EAAE,IAAI,EAAE;QACnE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,cAAc,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC/C,OAAO,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;KAChD,CAAC;IACF,qBAAqB,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,qBAAqB,CAAC,sBAAsB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;;YAEtF,MAAM,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9I;aACI;YACD,MAAM,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAClJ;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QAC1E,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACrD,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;;YAElB,IAAI,QAAQ,GAAG,qBAAqB,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC3D,IAAI,QAAQ,KAAK,IAAI,EAAE;gBACnB,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/D;SACJ;QACD,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,EAAE;YAC5F,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,KAAK,IAAI,CAAC,iBAAiB,CAAC,SAAS;gBACrE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,KAAK,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE;gBAC/E,cAAc,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;aAC5E;iBACI,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,IAAI,CAAC,iBAAiB,CAAC,WAAW;gBAC1E,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,KAAK,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE;gBAC/E,cAAc,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;aAC7E;SACJ;QACD,IAAI,CAAC,cAAc,EAAE;YACjB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACtE;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QAC1E,OAAO,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACxD,CAAC;IACF,qBAAqB,CAAC,kBAAkB,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;QAC9D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;KAChE,CAAC;;;;;;;;;IASF,qBAAqB,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;QACpD,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;KACnG,CAAC;IACF,qBAAqB,CAAC,SAAS,GAAG,UAAU,SAAS,EAAE,QAAQ,EAAE,oBAAoB,EAAE,KAAK,EAAE;QAC1F,IAAI,WAAW,GAAG,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;;QAEnD,IAAIuC,qBAAkB,GAAGC,kBAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;;QAE3E,IAAID,qBAAkB,KAAK,WAAW,CAAC,MAAM,IAAIA,qBAAkB,KAAK,QAAQ,CAAC,MAAM,EAAE;YACrF,OAAO,IAAI,CAAC;SACf;QACD,IAAIA,qBAAkB,GAAG,CAAC,EAAE;;YAExB,IAAI,gBAAgB,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,EAAE,EAAEA,qBAAkB,CAAC,CAAC;YAC9F,SAAS,GAAG,IAAI,KAAK,CAAC,gBAAgB,CAAC,UAAU,EAAE,gBAAgB,CAAC,MAAM,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;YAC1H,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAACA,qBAAkB,CAAC,CAAC;YAClD,WAAW,GAAG,WAAW,CAAC,MAAM,CAACA,qBAAkB,CAAC,CAAC;SACxD;;QAED,IAAIE,qBAAkB,GAAGC,kBAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAC3E,IAAID,qBAAkB,GAAG,CAAC,EAAE;;YAExB,IAAI,cAAc,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE,CAACA,qBAAkB,CAAC,CAAC;YAC3F,SAAS,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,eAAe,EAAE,SAAS,CAAC,WAAW,EAAE,cAAc,CAAC,UAAU,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC;YAC1H,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAGA,qBAAkB,CAAC,CAAC;YACvE,WAAW,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,GAAGA,qBAAkB,CAAC,CAAC;SACnF;QACD,OAAO;YACH,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,SAAS;YAChB,gBAAgB,EAAE,oBAAoB;SACzC,CAAC;KACL,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;;AClIL;;;;AAIA,AACA,IAAIhD,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAmBA,SAAS,oBAAoB,CAAC,KAAK,EAAE;IACjC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC7D,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;QACf,OAAO;KACV;IACD,IAAIS,QAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACnCA,QAAK,GAAG,KAAK,CAAC,SAAS,CAACA,QAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;KAClD;IACD,IAAI,eAAe,GAAGA,QAAK,CAAC,eAAe,EAAE,aAAa,GAAGA,QAAK,CAAC,aAAa,CAAC;IACjF,IAAI,eAAe,KAAK,aAAa,EAAE;QACnC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,KAAK,CAACR,QAAY,CAAC,QAAQ,EAAE,oCAAoC,EAAE,eAAe,CAAC,CAAC,CAAC;SACxF;aACI;YACD,KAAK,CAACA,QAAY,CAAC,QAAQ,EAAE,uCAAuC,EAAE,KAAK,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC;SACzG;KACJ;SACI;QACD,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,KAAK,CAACA,QAAY,CAAC,QAAQ,EAAE,kDAAkD,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC,CAAC;SACrH;aACI;YACD,KAAK,CAACA,QAAY,CAAC,QAAQ,EAAE,qDAAqD,EAAE,KAAK,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC,CAAC;SACtI;KACJ;CACJ;AACD,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,MAAM,EAAE,aAAa,EAAE;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,oCAAoC,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;KAChG;IACD,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACxC,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;QAE7C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,YAAY,EAAE;YAC1D,OAAO;SACV;;QAED,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;YACzB,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;;QAEnC,IAAI,OAAO,GAAG,oCAAoC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,2BAA2B,EAAE;YAClD,OAAO;SACV;;QAED,IAAI,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;QACtC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,2BAA2B,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC7E,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAChB,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE;YACxD,IAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACpD,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;gBAChC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC;aACpD;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,EAAE,EAAE;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YACxC,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,EAAEmD,WAAQ,GAAG,KAAK,CAAC;;;;QAI3F,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YAC1D,IAAI,CAAC,CAAC,OAAO,EAAE;;;gBAGXA,WAAQ,GAAG,IAAI,CAAC;gBAChB,MAAM,CAAC,OAAO,EAAE,CAAC;gBACjB,OAAO;aACV;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAClD,IAAI,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,MAAM,CAAC,KAAK,CAAC,aAAa,IAAI,QAAQ,CAAC,UAAU,EAAE;;oBAEnDA,WAAQ,GAAG,IAAI,CAAC;oBAChB,MAAM,CAAC,OAAO,EAAE,CAAC;oBACjB,OAAO;iBACV;aACJ;SACJ,CAAC,CAAC;QACH,IAAI,SAAS,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QACnC,wBAAwB,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE;YAC1C,OAAO,EAAE,SAAS,CAAC,OAAO;YAC1B,YAAY,EAAE,SAAS,CAAC,YAAY;SACvC,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACrB,OAAO,KAAK,CAAC,aAAa,CAAC,uBAAuB,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SACxE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACrB,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,IAAIA,WAAQ,IAAI,cAAc,CAAC,KAAK,CAAC,EAAE;gBACnC,OAAO;aACV;YACD,qBAAqB,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC5D,oBAAoB,CAAC,KAAK,CAAC,CAAC;SAC/B,EAAE,UAAU,GAAG,EAAE;YACd,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,MAAM,GAAG,CAAC;SACb,CAAC,CAAC;KACN,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACvC,OAAO,YAAY,CAAC,EAAE,CAAC;KAC1B,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAChD,CAAC;IACF,YAAY,CAAC,EAAE,GAAG,2BAA2B,CAAC;IAC9C,YAAY,GAAGzC,YAAU,CAAC;QACtBC,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,YAAY,CAAC,CAAC;IACjB,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,MAAM,EAAE,aAAa,EAAE;QAC1C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,2CAA2C,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;KACvG;IACD,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;QAE7C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,aAAa,EAAE;YAC3D,OAAO;SACV;;QAED,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;YACzB,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;;QAEnC,IAAI,OAAO,GAAG,2CAA2C,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,mCAAmC,EAAE;YAC1D,OAAO;SACV;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,UAAUH,QAAK,EAAE;YAC1D,KAAK,CAAC,OAAO,CAACA,QAAK,CAAC,CAAC;SACxB,CAAC,CAAC,CAAC;KACP,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAUA,QAAK,EAAE;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YACxC,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,EAAE,GAAG,KAAK,CAAC,UAAU,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;QAClF,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,eAAe,CAAC,gBAAgB,CAAC;QAC3E,+BAA+B,CAAC,KAAK,EAAEA,QAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YAClH,OAAO,KAAK,CAAC,aAAa,CAAC,uBAAuB,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SACxE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,cAAc,CAAC,KAAK,CAAC,EAAE;gBACxD,OAAO;aACV;YACD,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YACnD,oBAAoB,CAAC,KAAK,CAAC,CAAC;SAC/B,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,OAAO,aAAa,CAAC,EAAE,CAAC;KAC3B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAChD,CAAC;IACF,aAAa,CAAC,EAAE,GAAG,8BAA8B,CAAC;IAClD,aAAa,GAAGE,YAAU,CAAC;QACvBC,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,aAAa,CAAC,CAAC;IAClB,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDV,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,oBAAoB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACvD,IAAI,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC7D,IAAI,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,EAAE;YACpB,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;SAC9B;;QAED,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,MAAM,EAAE,CAAC,eAAe,CAAC,gBAAgB,CAAC;;QAEtE,OAAO,iBAAiB,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,aAAa,CAAC,uBAAuB,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YAClJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,cAAc,CAAC,KAAK,CAAC,EAAE;gBAClD,OAAO;aACV;YACD,qBAAqB,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC7C,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC5B,MAAM,CAAC,KAAK,EAAE,CAAC;SAClB,EAAE,UAAU,GAAG,EAAE;YACd,IAAI,GAAG,YAAY,KAAK,IAAI,GAAG,CAAC,IAAI,KAAK,eAAe,CAAC,IAAI,EAAE;gBAC3D,KAAK,CAAC,sBAAsB,CAAC,mBAAmB,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CAAC,QAAQ,CAAC,CAAC;aACzG;iBACI;gBACD,MAAM,GAAG,CAAC;aACb;SACJ,CAAC,CAAC;KACN,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,mBAAmB,EAAE,QAAQ,EAAE;QAC7F,mBAAmB,CAAC,IAAI,CAACD,QAAY,CAAC,aAAa,EAAE,kDAAkD,EAAE,QAAQ,CAAC,CAAC,CAAC;KACvH,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,8BAA8B;YAClC,KAAK,EAAED,QAAY,CAAC,sBAAsB,EAAE,iBAAiB,CAAC;YAC9D,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;;gBAE9C,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE,cAAc;aAC7E;YACD,QAAQ,EAAE;gBACN,IAAI,EAAE,iBAAiB,CAAC,6BAA6B;gBACrD,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,oBAAoB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;QACnE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,EAAE,GAAG,KAAK,CAAC,UAAU,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;QAClF,OAAO,0BAA0B,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC,CAAC;KAC9F,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,mBAAmB,EAAE,QAAQ,EAAE;QAC7F,mBAAmB,CAAC,IAAI,CAACA,QAAY,CAAC,qBAAqB,EAAE,2DAA2D,EAAE,QAAQ,CAAC,CAAC,CAAC;KACxI,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAED,QAAY,CAAC,uBAAuB,EAAE,kBAAkB,CAAC;YAChE,KAAK,EAAE,aAAa;YACpB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,oBAAoB,CAAC;YACpG,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;YACD,QAAQ,EAAE;gBACN,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,sCAAsC,EAAE,iBAAiB,CAAC,oBAAoB,CAAC;gBAC1H,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,IAAI;aACd;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qBAAqB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;QACpE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,EAAE,GAAG,KAAK,CAAC,UAAU,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;QAClF,OAAO,+BAA+B,CAAC,KAAK,EAAE,MAAM,CAAC,YAAY,EAAE,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC,CAAC;KAC1H,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,mBAAmB,EAAE,QAAQ,EAAE;QAC9F,mBAAmB,CAAC,IAAI,CAACA,QAAY,CAAC,sBAAsB,EAAE,4DAA4D,EAAE,QAAQ,CAAC,CAAC,CAAC;KAC1I,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,0BAA0B,CAAC,YAAY,CAAC,CAAC;AACzC,0BAA0B,CAAC,aAAa,CAAC,CAAC;AAC1C,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;;;AAG5C,gBAAgB,CAAC,eAAe,CAAC,sBAAsB,EAAE,UAAU,QAAQ,EAAE;IACzE,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,EAAE,CAAC;IACrE,IAAI,MAAM,EAAE;QACR,OAAO,mBAAmB,UAAU,MAAM,EAAE;YACxCC,WAAS,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC3B,SAAS,OAAO,GAAG;gBACf,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC;aACxC;YACD,OAAO,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;gBACtD,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC9B,IAAI,eAAe,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;gBAC5C,IAAI,EAAE,GAAG,KAAK,CAAC,UAAU,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;gBAClF,OAAO,eAAe,CAAC,OAAO,EAAE;sBAC1B,0BAA0B,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC;sBACnF,+BAA+B,CAAC,KAAK,EAAE,eAAe,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC,CAAC;aACnH,CAAC;YACF,OAAO,OAAO,CAAC;SAClB,CAAC,oBAAoB,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KACpD;IACD,OAAO,SAAS,CAAC;CACpB,CAAC,CAAC;;AC1WH;;;;AAIA,AAOA,SAAS,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IACxD,IAAI,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;IAEvC,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,GAAG,EAAE;QACjD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;YACnC,OAAO,OAAO,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;SACpD,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE;YAC9B,yBAAyB,CAAC,GAAG,CAAC,CAAC;YAC/B,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;SACzB,IAAI,CAAC,OAAO,CAAC;SACb,IAAI,CAAC,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CAChG;AACD,AAAO,SAAS,wBAAwB,CAAC,KAAK,EAAE,QAAQ,EAAE;IACtD,OAAO,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,0BAA0B,EAAE,UAAU,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;QAC3G,OAAO,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;KAC7D,CAAC,CAAC;CACN;AACD,AAAO,SAAS,4BAA4B,CAAC,KAAK,EAAE,QAAQ,EAAE;IAC1D,OAAO,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,8BAA8B,EAAE,UAAU,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;QAC/G,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;KACjE,CAAC,CAAC;CACN;AACD,AAAO,SAAS,4BAA4B,CAAC,KAAK,EAAE,QAAQ,EAAE;IAC1D,OAAO,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,8BAA8B,EAAE,UAAU,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;QAC/G,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;KACjE,CAAC,CAAC;CACN;AACD,8BAA8B,CAAC,4BAA4B,EAAE,wBAAwB,CAAC,CAAC;AACvF,8BAA8B,CAAC,gCAAgC,EAAE,4BAA4B,CAAC,CAAC;AAC/F,8BAA8B,CAAC,gCAAgC,EAAE,4BAA4B,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3C/F;;;;AAIA,AAMA,IAAI0B,aAAW,GAAG;IACd,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACzC,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;CAC5C,CAAC;AACF,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,SAAS,EAAE,OAAO,EAAE;QACpC,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC9C,KAAK,CAAC,IAAI,CAAC,OAAO,EAAEA,aAAW,EAAE,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;QACpD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;QACpD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,KAAK,CAAC;QACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;KAC1C;IACD,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC7C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,WAAW,EAAE;QACzD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,WAAW,EAAE;QACzD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACtC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC3C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC3C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,UAAU,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC/E,IAAID,aAAU,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC/E,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACnE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAGA,aAAU,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;YACvD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,OAAO,GAAG,IAAI,CAAC;YACzD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;SAC3C;KACJ,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC9DL;;;;AAIA,AACO,SAAS,cAAc,CAAC,IAAI,EAAE;IACjC,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;CACvB;AACD,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,SAAS,EAAE;QAC7B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;KAC/B;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,EAAE;QAClD,GAAG,EAAE,UAAU,IAAI,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,cAAc,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;SAC1D;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;;ACpBL;;;;AAIA,AAIA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,SAAS,EAAE;QACjC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,0BAA0B,CAAC;QACpD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACvC;IACD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,EAAE;QACzD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE;QACzD,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,EAAE,CAAC,EAAE;QAC/C,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,GAAG,EAAE,CAAC;SACb;QACD,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI0B,MAAc,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE;YACzF,OAAO;SACV;QACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC5B,UAAU,GAAG,EAAE,CAAC;SACnB;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC5CC,SAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,WAAW,GAAG,EAAE,EAAE,SAAS,EAAE,GAAG,GAAG,CAAC,CAAC;QACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC7C,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,SAAS,CAAC,GAAG,KAAK,SAAS,CAAC,KAAK,EAAE;gBACnC,SAAS;aACZ;YACD,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,EAAE;gBACvB,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC3B,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC5E,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC5B,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;aACvB;YACD,WAAW,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YAC7C,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACtF,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC5B,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;SACvB;QACD,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACxB,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3B,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3D,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC7B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;KAC1B,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;ACrEL;;;;AAIA,AACA,IAAIpD,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAMA,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,QAAQ,EAAE;QAC7B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC5B;IACD,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,EAAE;QAC1D,GAAG,EAAE,UAAU,OAAO,EAAE;YACpB,IAAI,IAAI,CAAC,QAAQ,IAAI,OAAO,KAAK,IAAI,CAAC,YAAY,EAAE;gBAChD,OAAO;aACV;YACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC;SACvC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,WAAW,EAAE;QACxD,GAAG,EAAE,UAAU,SAAS,EAAE;YACtB,IAAI,IAAI,CAAC,QAAQ,IAAI,SAAS,KAAK,IAAI,CAAC,UAAU,EAAE;gBAChD,OAAO;aACV;YACD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;SACvC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,OAAO,EAAE;QACpD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,EAAE;gBACxC,OAAO;aACV;YACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;aAC/B;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;aAC1C;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,OAAO,EAAE;QACpD,GAAG,EAAE,UAAUuD,QAAK,EAAE;YAClB,IAAI,IAAI,CAAC,QAAQ,IAAIA,QAAK,KAAK,IAAI,CAAC,MAAM,EAAE;gBACxC,OAAO;aACV;YACD,IAAI,CAAC,MAAM,GAAGA,QAAK,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAGA,QAAK,GAAG,GAAG,GAAG,IAAI,CAAC;SACvD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;KACxB,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,IAAI,SAAS,kBAAkB,YAAY;IACvC,SAAS,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE;QACnC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAClC,MAAU,CAAC,SAAS,EAAED,CAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,yBAAyB,GAAG,IAAI,aAAa,CAACC,MAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAED,CAAK,CAAC,0CAA0C,CAAC,CAAC,CAAC,CAAC;QACxI,IAAI,OAAO,IAAI,OAAO,CAAC,iBAAiB,EAAE;YACtC,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAACC,MAAU,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAED,CAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SACpH;aACI;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAACC,MAAU,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAED,CAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SACjH;QACD,IAAI,OAAO,IAAI,OAAO,CAAC,4BAA4B,EAAE;YACjD,IAAI,CAAC,sBAAsB,GAAG,YAAY,EAAE,OAAO,IAAI,gBAAgB,CAACC,MAAU,CAAC,KAAK,CAAC,yBAAyB,CAAC,OAAO,EAAED,CAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SACpK;aACI;YACD,IAAI,CAAC,sBAAsB,GAAG,YAAY,EAAE,OAAO,IAAI,aAAa,CAACC,MAAU,CAAC,KAAK,CAAC,yBAAyB,CAAC,OAAO,EAAED,CAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SACjK;KACJ;IACD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;SAC/B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QAC9C,OAAO,kBAAkB,CAAC;YACtBb,qBAAyB,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAEiD,SAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SAC/H,CAAC,CAAC;KACN,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE;QAClE,IAAI,OAAO,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACpC,IAAI,OAAO,EAAE;YACT,IAAI,OAAO,CAAC,YAAY,EAAE;gBACtB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC;aACrD;YACD,IAAI,OAAO,CAAC,MAAM,EAAE;gBAChB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1B;SACJ;QACD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,IAAI,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;QACnE,IAAI,IAAI,CAAC,SAAS,YAAY,gBAAgB,EAAE;YAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE,EAAE,OAAO,GAAG,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;SACvE;aACI;YACD,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,IAAI,EAAE,CAAC;SAC5C;QACD,IAAI,WAAW,IAAI,IAAI,CAAC,eAAe,EAAE;YACrC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;aACxD;YACD,IAAI,IAAI,CAAC,eAAe,YAAY,gBAAgB,EAAE;gBAClD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE,EAAE,OAAO,GAAG,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC,CAAC;gBAC3F,IAAI,OAAO,IAAI,OAAO,CAAC,gBAAgB,EAAE;oBACrC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,gBAAgB,CAAC;iBACjE;qBACI;oBACD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;iBACzD;aACJ;iBACI;gBACD,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,WAAW,IAAI,EAAE,CAAC;gBACrD,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,OAAO,IAAI,OAAO,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBACjG,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,CAAC,WAAW,CAAC;aAC7C;SACJ;KACJ,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;SAClC;KACJ,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CtD,WAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7B,SAAS,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;QACpD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;QACjD,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACxC,OAAO,KAAK,CAAC;KAChB;IACD,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;QAC9D,IAAI,MAAM,GAAGuD,OAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,MAAM,IAAI,MAAM,KAAK,GAAG,GAAG,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACvI,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,CAAC,SAAS,CAAC,CAAC,CAAC;;AChLd;;;;AAIA,AACA,IAAIvD,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAUA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DE,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,CAAC,UAAU,EAAE,OAAO,EAAE,YAAY,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,cAAc,EAAE,iBAAiB,EAAE,YAAY,EAAE,mBAAmB,EAAE;QAChL,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,YAAY,CAAC,mBAAmB,EAAE,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,cAAc,EAAE,iBAAiB,EAAE,YAAY,EAAE,mBAAmB,CAAC,IAAI,IAAI,CAAC;QACrM,KAAK,CAAC,aAAa,GAAG,YAAY,CAAC;QACnC,KAAK,CAAC,iBAAiB,GAAG,OAAO,CAAC;;QAElC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,CAAC,CAAC;QACpE,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxH,OAAO,KAAK,CAAC;KAChB;IACD,wBAAwB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC7D,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,6BAA6B,GAAG,UAAU,CAAC,EAAE;QAC5E,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC,CAAC;QACpF,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACrE,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE;QACrE4B,KAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACrE,CAAC;IACF,wBAAwB,GAAGnB,YAAU,CAAC;QAClCC,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;QACjCA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,wBAAwB,CAAC,CAAC;IAC7B,OAAO,wBAAwB,CAAC;CACnC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DV,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,CAAC,UAAU,EAAE,OAAO,EAAE,YAAY,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,YAAY,EAAE,mBAAmB,EAAE;QACrL,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,YAAY,CAAC,mBAAmB,EAAE,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,YAAY,EAAE,mBAAmB,CAAC,IAAI,IAAI,CAAC;QAC1M,KAAK,CAAC,aAAa,GAAG,YAAY,CAAC;QACnC,KAAK,CAAC,iBAAiB,GAAG,OAAO,CAAC;;QAElC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,CAAC,CAAC;QACpE,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxH,OAAO,KAAK,CAAC;KAChB;IACD,wBAAwB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAC7D,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,6BAA6B,GAAG,UAAU,CAAC,EAAE;QAC5E,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC,CAAC;QACpF,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACrE,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE;QACrE4B,KAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACrE,CAAC;IACF,wBAAwB,GAAGnB,YAAU,CAAC;QAClCC,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;QAChCA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;QACjCA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,wBAAwB,CAAC,CAAC;IAC7B,OAAO,wBAAwB,CAAC;CACnC,CAAC,gBAAgB,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClGrB;;;;AAIA,AAWA,IAAI,YAAY,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACpD,IAAI,cAAc,GAAG;IACjB,SAAS,EAAE,IAAI;IACf,SAAS,EAAE,IAAI;IACf,SAAS,EAAE,EAAE;IACb,UAAU,EAAE,YAAY;IACxB,UAAU,EAAE,YAAY;IACxB,mBAAmB,EAAE,KAAK;CAC7B,CAAC;AACF,IAAI,SAAS,GAAG,8BAA8B,CAAC;AAC/C,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,YAAY,EAAE,gBAAgB,EAAE;QAC5G,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;KAC7C;IACD,gBAAgB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,GAAG,EAAE;QACrD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;KAC3B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE;QAC5D,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;KAClC,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,EAAE,EAAE,OAAO,EAAE;QACxC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;KAC3B;IACD,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,GAAG,CAAC;KACnB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,KAAK,kBAAkB,YAAY;IACnC,SAAS,KAAK,CAAC,OAAO,EAAE;QACpB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAC7C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;;KAE1B;IACD,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClC,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ8C,gCAAoC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACxD,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;QAC5C,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE;QAC7C,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;gBACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,KAAK,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACvCA,gCAAoC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrDC,aAAiB,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,EAAE,uEAAuE,GAAG,IAAI,CAAC,MAAM,GAAG,kBAAkB,GAAG,IAAI,CAAC,OAAO,GAAG,eAAe,GAAG,IAAI,CAAC,OAAO,GAAG,oBAAoB,GAAG,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC;KACpQ,CAAC;IACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC,CAAC;KACzN,CAAC;IACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC/B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;KACxD,CAAC;IACF,KAAK,CAAC,YAAY,GAAG,IAAI,WAAW,CAAC,oBAAoB,CAAC,CAAC;IAC3D,OAAO,KAAK,CAAC;CAChB,EAAE,CAAC,CAAC;AACL,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE;QACjC,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG9B,SAAiB,CAAC,OAAO,CAAC,CAAC;QAC1CC,KAAa,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC5B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;SACrD;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAU,IAAI,EAAE;YACjE,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;YACzC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YACvD,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACzB,CAAC,CAAC,CAAC;KACP;IACD,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3B,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBAC5C,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBACxC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;aAC1B,CAAC,CAAC;SACN;QACD,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;KAC/B,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACtCxB,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;QAC1CA,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/CA,QAAY,CAAC,IAAI,CAAC,SAAS,EAAE,uBAAuB,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACvC;QACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC3C,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;SAC/C;QACD,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;SAC/C;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC5C,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,GAAG,UAAU,CAAC;SACvD;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;YACpD,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC;SAClC;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE;QAC7C,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC;KACvE,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;;QAE5C,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE;YACjD,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE;QACjD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;KACvC,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;QACvD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;QAC1C,IAAI,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC,yBAAyB,EAAE,CAAC;QAChE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,eAAe,GAAG,IAAI,CAAC;QACrD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;KAC7B,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,UAAU,EAAE;QACpD,GAAG,EAAE,YAAY;YACb,IAAI,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,EAAE,EAAE;gBACL,OAAO,SAAS,CAAC;aACpB;YACD,IAAIG,QAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;YAC1D,IAAI,CAACA,QAAK,EAAE;gBACR,OAAO,SAAS,CAAC;aACpB;YACD,OAAOA,QAAK,CAAC,gBAAgB,EAAE,CAAC;SACnC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE,aAAa,EAAE;QAC7D,IAAIA,QAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC;cAChC,UAAU;cACV,IAAI,KAAK,CAAC,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;QACpG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,CAACA,QAAK,EAAE,aAAa,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,EAAE,KAAK,EAAEA,QAAK,EAAE,OAAO,EAAE,sBAAsB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KAC5I,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACpC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBAC5C,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aAC3C,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;SACtB;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QACzD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;QAC3D,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YAC7C,MAAM,IAAI,CAAC,GAAG,WAAW,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YAChD,MAAM,IAAI,CAAC,GAAG,cAAc,CAAC;SAChC;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE,aAAa,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,QAAQ,GAAG;YACX,UAAU,EAAE,KAAK,CAAC,eAAe;YACjC,MAAM,EAAE,KAAK,CAAC,WAAW;SAC5B,CAAC;QACF,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAC7C,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;;QAE3D,IAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpD,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC1C,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;;QAE3D,IAAI,gBAAgB,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE,CAAC;QAC9E,IAAI,aAAa,IAAI,gBAAgB,EAAE;YACnC,aAAa,GAAG,gBAAgB,CAAC;SACpC;QACD,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,cAAc,GAAG,CAAC,CAAC;;QAEvB,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,WAAW,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC9B;;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;SAC/C;;QAED,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;YAC5C,IAAI,KAAK,CAAC,SAAS,EAAE;gBACjB,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aAC3C;YACD,IAAI,KAAK,CAAC,cAAc,EAAE;gBACtB,KAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBACvD,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;aAC/B;YACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,CAAC;YACpC,KAAK,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAAC,eAAe,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,aAAa,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;YAClO,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACvD,KAAK,CAAC,cAAc,GAAG,IAAI,qBAAqB,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAChG,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;SACvD,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,cAAc,CAAC;YACjF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,GAAG,IAAI,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,GAAG,OAAO,GAAG,IAAI,CAAC;SAC3D;QACD,IAAI,eAAe,GAAG,aAAa,GAAG,UAAU,GAAG,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACpF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,WAAW,GAAG,IAAI,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,eAAe,GAAG,IAAI,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE;YACnC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACnC;;QAED,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;QAC7G,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;KACrC,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,UAAU,EAAE;QACpD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC;KACtD,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,SAAS,EAAE,cAAc,EAAE;QACpE,IAAI,cAAc,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SACnD;QACDH,QAAY,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;KAC3C,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,YAAY,EAAE;;KAEvD,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;;KAEvE,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,gBAAgB,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,KAAK,gBAAgB,EAAE;YACnD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU,QAAQ,EAAE;gBAC5C,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,gBAAgB,CAAC;gBACjD,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aAC3C,CAAC,CAAC;SACN;KACJ,CAAC;;IAEF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,WAAW,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC;QACzF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC5B,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;YAC5D,IAAI,KAAK,CAAC,SAAS,EAAE;gBACjB,IAAI,GAAG;oBACH,MAAM,EAAE,CAAC,CAAC,MAAM;oBAChB,aAAa,EAAE,KAAK,CAAC,SAAS,CAAC,aAAa;iBAC/C,CAAC;aACL;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY;YACzD,IAAI,GAAG,SAAS,CAAC;SACpB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,GAAG,EAAE;YAC/D,IAAI,IAAI,EAAE;gBACN,IAAI,SAAS,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;gBAC1F,IAAI,gBAAgB,GAAG,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACpF,IAAI,gBAAgB,GAAG,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC;gBAC7D,IAAI,gBAAgB,GAAG,CAAC,IAAI,gBAAgB,GAAG,EAAE,EAAE;oBAC/C,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;iBACrC;aACJ;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACrD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACpD,OAAO,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC,CAAC;KACvF,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,sBAAsB,GAAG,YAAY;QACtD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAC7C,OAAO,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,YAAY,CAAC;KACrD,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;;AC3XL;;;;AAIA,AACA,IAAIJ,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAcO,IAAI,WAAW,CAAC;AACvB,CAAC,UAAU,WAAW,EAAE;IACpB,WAAW,CAAC,YAAY,GAAG,IAAI,aAAa,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;IAC9E,WAAW,CAAC,eAAe,GAAG,WAAW,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;CACtE,EAAE,WAAW,KAAK,WAAW,GAAG,EAAE,CAAC,CAAC,CAAC;AACtC,AAAO,SAAS,cAAc,CAAC,QAAQ,EAAE;IACrC,IAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,EAAE,CAAC;IACrE,IAAI,MAAM,YAAY,wBAAwB,EAAE;QAC5C,OAAO,MAAM,CAAC,eAAe,EAAE,CAAC;KACnC;IACD,OAAO,MAAM,CAAC;CACjB;AACD,IAAI4D,gBAAc,GAAG;IACjB,qBAAqB,EAAE,KAAK,CAAC,KAAK;IAClC,mBAAmB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IAC7C,qBAAqB,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;CACpD,CAAC;AACF,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClD1D,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE;QACrC,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;QACzC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;QACvD,KAAK,CAAC,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;QAClC4B,KAAa,CAAC,KAAK,CAAC,OAAO,EAAE8B,gBAAc,EAAE,KAAK,CAAC,CAAC;QACpD,OAAO,KAAK,CAAC;KAChB;IACD,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3C,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/B,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,YAAY,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SACjC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC/C,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC3B,IAAI,MAAM,CAAC,qBAAqB,EAAE;YAC9B,OAAO,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;SAChE;QACD,IAAI,MAAM,CAAC,mBAAmB,EAAE;YAC5B,OAAO,CAAC,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,CAAC;SAC5D;QACD,IAAI,MAAM,CAAC,qBAAqB,EAAE;YAC9B,OAAO,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;SAChE;QACD,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KAC7C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAChD,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC3B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;SACtF;QACD,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;SAC7E;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;SACjF;QACD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;SACvE;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,SAAS,EAAE;QAC3D,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,GAAGzC,GAAC,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,YAAY,GAAGA,GAAC,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC5C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,SAAS,EAAE;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,YAAY,GAAGA,GAAC,CAAC,iBAAiB,CAAC;YACnC,EAAE,CAACqC,SAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACxE,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;YAC3B,cAAc,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAGrC,GAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;QAClF,IAAI,CAAC,iBAAiB,GAAGA,GAAC,CAAC,cAAc,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;QACnF,IAAI,CAAC,YAAY,GAAGA,GAAC,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;QAC3E,IAAI,gBAAgB,GAAGA,GAAC,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1E,IAAI,gBAAgB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACnD,IAAI,CAAC,gBAAgB,GAAG,IAAI,SAAS,CAAC,gBAAgB,CAAC,cAAc,EAAE,EAAE,gBAAgB,CAAC,CAAC;QAC3F,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC9C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,gBAAgB,EAAElB,QAAY,CAAC,aAAa,EAAE,OAAO,CAAC,EAAE,uBAAuB,EAAE,IAAI,EAAE,YAAY;YACrI,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,OAAO,IAAI,CAAC;SACf,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;KACrC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACxD,OAAO,EAAE,CAAC;KACb,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;;KAEzD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,cAAc,EAAE,gBAAgB,EAAE;QAC5EkB,GAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QACtD,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAChE,IAAI,gBAAgB,EAAE;YAClBA,GAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;SAC7D;aACI;YACDmC,SAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACzC;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,KAAK,EAAE;YACPnC,GAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAC7C;aACI;YACDmC,SAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACpC;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;QACxE,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,aAAa,GAAG,CAAC,EAAE;;YAEvC,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,OAAO;SACV;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,UAAU,GAAG,GAAG,CAAC,EAAE,UAAU,GAAG,aAAa,IAAI,UAAU,GAAG,CAAC,kCAAkC,CAAC;QAC5J,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAC7C,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;KAChD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;QAC5E,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAGpB,MAAc,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;QACxE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC;KACvE,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;QAC5E,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAGA,MAAc,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;KAC3E,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,CAAC,UAAU,CAAC,CAAC,CAAC;;ACpKf;;;;AAIA,AASA,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,OAAO,EAAE,MAAM,EAAE;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,GAAG,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC;KACxC;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,IAAI,EAAE;QAChD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,GAAG,CAAC;SACnB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE;QACnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,EAAE;QACpD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE;QACjD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAC5B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,WAAW,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SACjC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE;QACnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,YAAY,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAChD,OAAO,QAAQ,CAAC,mBAAmB,EAAE,yCAAyC,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;KAClK,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,eAAe,EAAE;QAClC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;KAC1C;IACD,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE;QACnD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE;QACxE,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAUzB,QAAK,EAAE,CAAC,EAAE;QAChD,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;QAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,eAAe,GAAGA,QAAK,CAAC,eAAe,EAAE,WAAW,GAAGA,QAAK,CAAC,WAAW,EAAE,aAAa,GAAGA,QAAK,CAAC,aAAa,EAAE,SAAS,GAAGA,QAAK,CAAC,SAAS,CAAC;QAC/I,IAAI,IAAI,GAAG,KAAK,CAAC,oBAAoB,CAAC,EAAE,UAAU,EAAE,eAAe,EAAE,MAAM,EAAE,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;QAChG,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,EAAE,eAAe,EAAE,WAAW,CAAC,CAAC;QAC7F,IAAI,UAAU,GAAG,IAAI,KAAK,CAAC,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QACtF,IAAI,GAAG,GAAG;YACN,MAAM,EAAE,KAAK,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,MAAM,EAAEoD,KAAa,CAAC;YACzE,MAAM,EAAE,KAAK,CAAC,eAAe,CAACpD,QAAK,CAAC;YACpC,KAAK,EAAE,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,MAAM,EAAEoD,KAAa,CAAC;SAC1E,CAAC;QACF,OAAO,GAAG,CAAC;KACd,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxC,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;KACJ,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;IACD,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;SAC/B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,UAAU,EAAE;QACxD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC;SACzB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,KAAK,EAAE;QACnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,MAAM,EAAE;QACpD,GAAG,EAAE,YAAY;YACb,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE;QACzD,GAAG,EAAE,YAAY;YACb,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACnC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAClD,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC/B,IAAI,GAAG,KAAK,CAAC,EAAE;YACX,OAAO,QAAQ,CAAC,uBAAuB,EAAE,gCAAgC,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC1H;aACI;YACD,OAAO,QAAQ,CAAC,uBAAuB,EAAE,mCAAmC,EAAE,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAClI;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,wBAAwB,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;SAC5B;QACD,OAAO,wBAAwB,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,cAAc,EAAE;YAC3F,IAAI,KAAK,GAAG,cAAc,CAAC,MAAM,CAAC;YAClC,IAAI,CAAC,KAAK,EAAE;gBACR,cAAc,CAAC,OAAO,EAAE,CAAC;gBACzB,MAAM,IAAI,KAAK,EAAE,CAAC;aACrB;YACD,KAAK,CAAC,QAAQ,GAAG,IAAI,WAAW,CAAC,cAAc,CAAC,CAAC;YACjD,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,OAAO,KAAK,CAAC;SAChB,EAAE,UAAU,GAAG,EAAE;;YAEd,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;YACrB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,KAAK,CAAC,YAAY,GAAG,GAAG,CAAC;YACzB,OAAO,KAAK,CAAC;SAChB,CAAC,CAAC;KACN,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;KACJ,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,UAAU,EAAE;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,0BAA0B,GAAG,IAAI,OAAO,EAAE,CAAC;QAChD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC;QACvE,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;;QAEvB,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;QACpD,IAAI,OAAO,CAAC;QACZ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxE,IAAI,GAAG,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;;gBAE3D,OAAO,GAAG,IAAI,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC5C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC7B;;YAED,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC;mBAC1B,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;gBACvF,IAAI,MAAM,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;gBAClD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC/G,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC9B,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACjC;SACJ;KACJ;IACD,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC;SACpC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,YAAY,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,WAAW,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,QAAQ,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACnD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,QAAQ,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC;SACxD;aACI,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;YACnC,OAAO,QAAQ,CAAC,eAAe,EAAE,uBAAuB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC5F;aACI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC/B,OAAO,QAAQ,CAAC,gBAAgB,EAAE,0BAA0B,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACpH;aACI;YACD,OAAO,QAAQ,CAAC,gBAAgB,EAAE,gCAAgC,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SACnH;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,SAAS,EAAE,IAAI,EAAE;QAC3E,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAC9B,IAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;QACxC,IAAI,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;QAC7C,IAAI,UAAU,KAAK,CAAC,IAAI,IAAI,IAAI,GAAG,GAAG,CAAC,GAAG,UAAU,IAAI,CAAC,IAAI,IAAI,GAAG,GAAG,CAAC,EAAE;;YAEtE,IAAI,IAAI,EAAE;gBACN,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,UAAU,CAAC;aAChC;iBACI;gBACD,GAAG,GAAG,CAAC,GAAG,GAAG,UAAU,GAAG,CAAC,IAAI,UAAU,CAAC;aAC7C;YACD,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SAC/B;QACD,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,IAAI,EAAE;YACN,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,UAAU,CAAC;YAC7B,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAChD;aACI;YACD,GAAG,GAAG,CAAC,GAAG,GAAG,UAAU,GAAG,CAAC,IAAI,UAAU,CAAC;YAC1C,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAC5F;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE;QACvE,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;YACnD,OAAO;gBACH,GAAG,EAAE,GAAG;gBACR,SAAS,EAAEZ,kBAA0B,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBAC9E,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC;aAClI,CAAC;SACL,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;YACpB,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE;gBAC3B,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE;gBAChC,OAAO,CAAC,CAAC;aACZ;iBACI,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE;gBAClC,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE;gBAClC,OAAO,CAAC,CAAC;aACZ;iBACI;gBACD,OAAO,CAAC,CAAC;aACZ;SACJ,CAAC,CAAC,CAAC,CAAC,CAAC;QACN,IAAI,OAAO,EAAE;YACT,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SACxC;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;KAChC,CAAC;IACF,eAAe,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACjD,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,IAAI,GAAG,IAAI,EAAE;YACb,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,IAAI,GAAG,IAAI,EAAE;YAClB,OAAO,CAAC,CAAC;SACZ;aACI;YACD,OAAO,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;SAC3D;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;ACjWL;;;;AAIA,AACO,IAAI,mBAAmB,GAAG,eAAe,CAAC,oBAAoB,CAAC,CAAC;;ACLvE;;;;AAIA,AACA,IAAI/C,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,IAAI,SAAS,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAI,WAAW,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;AACF,AAgCA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,OAAO,EAAE,MAAM,EAAE;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,oBAAoB,GAAG,IAAI,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzG,IAAI,CAAC,eAAe,EAAE,CAAC;KAC1B;IACD,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC/C,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC5B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACvD,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,KAAK,EAAE;YACP,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC5D,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACjB,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;oBAC7C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;oBAC1B,OAAO;iBACV;aACJ;SACJ;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,SAAS,EAAE;QAChE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,sBAAsB,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,oBAAoB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxI,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,yBAAyB,GAAG,EAAE,CAAC;QACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC3D,IAAI,YAAY,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE;gBAChD,SAAS;aACZ;YACD,cAAc,CAAC,IAAI,CAAC;gBAChB,KAAK,EAAE,YAAY,CAAC,KAAK;gBACzB,OAAO,EAAE,kBAAkB,CAAC,iBAAiB;aAChD,CAAC,CAAC;YACH,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACrC;QACD,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;QACpE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3F;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE,YAAY,EAAE;YACzD,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACzE,IAAI,CAAC,QAAQ,EAAE;gBACX,OAAO;aACV;YACD,IAAI,MAAM,GAAG,KAAK,CAAC;YACnB,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE;gBAC9C,OAAO;aACV;iBACI,IAAI,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE;gBACzC,MAAM,GAAG,IAAI,CAAC;aACjB;iBACI;gBACD,IAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC;gBACzE,IAAI,aAAa,GAAG,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC;gBAC9D,IAAI,UAAU,KAAK,aAAa,EAAE;oBAC9B,MAAM,GAAG,IAAI,CAAC;iBACjB;aACJ;YACD,IAAI,MAAM,EAAE;gBACR,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBAC7C,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC/B;iBACI;gBACD,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC;aAC9B;SACJ,CAAC,CAAC;QACH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SACzC;QACD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;KAC/C,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACzD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;YAC5C,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACtB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;KAC7B,CAAC;IACF,kBAAkB,CAAC,iBAAiB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACnE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,sBAAsB;KACpC,CAAC,CAAC;IACH,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,yBAAyB,EAAE;QAC3C,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;;KAE9D;IACD,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAClD,IAAI,OAAO,YAAY,eAAe,EAAE;YACpC,OAAO,MAAM,CAAC;SACjB;aACI,IAAI,OAAO,YAAY,cAAc,EAAE;YACxC,OAAO,OAAO,CAAC,EAAE,CAAC;SACrB;aACI,IAAI,OAAO,YAAY,YAAY,EAAE;YACtC,OAAO,OAAO,CAAC,EAAE,CAAC;SACrB;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,OAAO,YAAY,eAAe,EAAE;YACpC,OAAO,IAAI,CAAC;SACf;QACD,IAAI,OAAO,YAAY,cAAc,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACvD,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,OAAO,YAAY,eAAe,EAAE;YACpC,OAAO,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;SACtC;aACI,IAAI,OAAO,YAAY,cAAc,EAAE;YACxC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;gBACvE,IAAI,OAAO,CAAC,OAAO,EAAE;;;oBAGjB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBAC3E;gBACD,OAAO,GAAG,CAAC,QAAQ,CAAC;aACvB,CAAC,CAAC;SACN;aACI;YACD,OAAO,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SAC1B;KACJ,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACtD,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,OAAO,YAAY,cAAc,EAAE;YACnC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;SAC3B;aACI,IAAI,OAAO,YAAY,YAAY,EAAE;YACtC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;SAC3B;QACD,OAAO,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;KAC9B,CAAC;IACF,UAAU,GAAGW,YAAU,CAAC;QACpBC,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;KAChC,EAAE,UAAU,CAAC,CAAC;IACf,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,IAAI,UAAU,kBAAkB,UAAU,MAAM,EAAE;IAC9CV,WAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC9B,SAAS,UAAU,GAAG;QAClB,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;QACrE,KAAK,CAAC,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;QAClC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC;QAC3C,KAAK,CAAC,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7C,KAAK,CAAC,gBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;QACvC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC;QACrD,OAAO,KAAK,CAAC;KAChB;IACD,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;QACzD,IAAI,OAAO,YAAY,cAAc,EAAE;YACnC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SAC9C;QACD,IAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;QAC/D,IAAI,aAAa,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;QACvC,IAAI,KAAK,CAAC,UAAU,EAAE;YAClB,IAAI,OAAO,YAAY,cAAc,EAAE;gBACnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,aAAa,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE;oBACzE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;iBAC9C;aACJ;YACD,IAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YACvE,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC;YAChE,IAAI,UAAU,KAAK,aAAa,IAAI,IAAI,CAAC,iBAAiB,CAAC,EAAE;gBACzD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACvC;iBACI,IAAI,aAAa,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACnC;iBACI,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAClC;YACD,OAAO,MAAM,CAAC;SACjB;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;QAC3D,IAAI,KAAK,CAAC,UAAU,EAAE;YAClB,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KACpE,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAC5D,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC1B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;SACxD;aACI;YACD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;SACtD;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;QACnD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;KACnC,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,IAAI,sBAAsB,kBAAkB,YAAY;IACpD,SAAS,sBAAsB,CAAC,SAAS,EAAE,eAAe,EAAE,mBAAmB,EAAE,YAAY,EAAE;QAC3F,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3CI,QAAY,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;QACvC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACxG,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAACa,GAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC;QAC3E,IAAI,MAAM,GAAG,iBAAiB,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,GAAG,YAAY;YACvB,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACrB,MAAM,CAAC,OAAO,EAAE,CAAC;SACpB,CAAC;KACL;IACD,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,OAAO,EAAE;QACtD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC/E,IAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,OAAO,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,KAAK,CAAC,cAAc,CAAClB,QAAY,CAAC,kBAAkB,EAAE,yBAAyB,CAAC,CAAC,CAAC;SAC1F;aACI,IAAI,GAAG,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,QAAY,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC;SACrF;aACI;YACD,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,QAAY,CAAC,gBAAgB,EAAE,eAAe,EAAE,GAAG,CAAC,CAAC,CAAC;SACnF;KACJ,CAAC;IACF,sBAAsB,GAAGU,YAAU,CAAC;QAChCC,SAAO,CAAC,CAAC,EAAE,wBAAwB,CAAC;QACpCA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QACzCA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;KAC5B,EAAE,sBAAsB,CAAC,CAAC;IAC3B,OAAO,sBAAsB,CAAC;CACjC,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,SAAS,EAAE;QACrC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC5CN,QAAY,CAAC,IAAI,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;QAC5CA,QAAY,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;QAClC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KACjC;IACD,oBAAoB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,OAAO,EAAE;QACpD,IAAI,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QACjH,IAAI,CAAC,MAAM,CAAC,SAAS,GAAGwD,MAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAGA,MAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,KAAK,CAAC,SAAS,GAAGA,MAAc,CAAC,KAAK,CAAC,CAAC;KAChD,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,IAAIC,UAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,eAAe,EAAE,aAAa,EAAE,mBAAmB,EAAE;QACnE,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;;KAElD;IACD,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACpD,OAAO,EAAE,CAAC;KACb,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,OAAO,YAAY,cAAc,EAAE;YACnC,OAAO,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC;SACvC;aACI,IAAI,OAAO,YAAY,YAAY,EAAE;YACtC,OAAO,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;SACrC;QACD,MAAM,OAAO,CAAC;KACjB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE;QACvE,IAAI,UAAU,KAAK,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE;YAC7C,OAAO,IAAI,sBAAsB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SACpH;aACI,IAAI,UAAU,KAAK,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE;YAChD,OAAO,IAAI,oBAAoB,CAAC,SAAS,CAAC,CAAC;SAC9C;QACD,MAAM,UAAU,CAAC;KACpB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE;QAClF,IAAI,OAAO,YAAY,cAAc,EAAE;YACnC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SAC7B;aACI,IAAI,OAAO,YAAY,YAAY,EAAE;YACtC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SAC7B;aACI;YACD,MAAM,UAAU,CAAC;SACpB;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE,YAAY,EAAE;QAC3E,IAAI,YAAY,YAAY,sBAAsB,EAAE;YAChD,YAAY,CAAC,OAAO,EAAE,CAAC;SAC1B;KACJ,CAAC;IACF,QAAQ,CAAC,IAAI,GAAG;QACZ,cAAc,EAAE,gBAAgB;QAChC,YAAY,EAAE,cAAc;KAC/B,CAAC;IACF,QAAQ,GAAGpD,YAAU,CAAC;QAClBC,SAAO,CAAC,CAAC,EAAE,wBAAwB,CAAC;QACpCA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,mBAAmB,CAAC,CAAC;KAC5C,EAAE,QAAQ,CAAC,CAAC;IACb,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,GAAG;KACvB;IACD,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAC3D,IAAI,OAAO,YAAY,cAAc,EAAE;YACnC,OAAO,OAAO,CAAC,cAAc,EAAE,CAAC;SACnC;aACI,IAAI,OAAO,YAAY,YAAY,EAAE;YACtC,OAAO,OAAO,CAAC,cAAc,EAAE,CAAC;SACnC;aACI;YACD,OAAO,SAAS,CAAC;SACpB;KACJ,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,IAAI,KAAK,kBAAkB,YAAY;IACnC,SAAS,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE;QAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,EAAE;YAC7B,mBAAmB,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;YACxE,qBAAqB,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,EAAE;SAC/D,CAAC,CAAC;;;QAGH,IAAI,OAAO,CAAC;QACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;YACtD,OAAO,GAAG,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;SACrD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;;;YAGvD,IAAI,OAAO,GAAG,CAAC,CAAC,QAAQ,GAAG,OAAO,CAAC;YACnC,IAAI,OAAO,GAAG,EAAE,IAAI,OAAO,GAAG,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE;gBAC7C,KAAK,CAAC,MAAM,GAAG,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC;gBACtC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;gBACrB,KAAK,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC7C;SACJ,CAAC,CAAC,CAAC;KACP;IACD,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC;QACvC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9B,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,wBAAwB,EAAE;QAC7D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC;SAC7C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;QAC5C,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE;QAC7C,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,aAAa,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;YAC7B,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;YACvB,OAAO,CAAC,IAAI,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;SACpC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;QAC5C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;CAChB,EAAE,CAAC,CAAC;AACL,AAAO,IAAI,mCAAmC,GAAG,IAAI,aAAa,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;;;;AAIvG,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDV,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,CAAC,MAAM,EAAE,2BAA2B,EAAE,UAAU,EAAE,yBAAyB,EAAE,eAAe,EAAE,YAAY,EAAE,qBAAqB,EAAE,mBAAmB,EAAE;QAC5K,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC;QAC7H,KAAK,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QAChE,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;QAC5D,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACpD,KAAK,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAChD,KAAK,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC9B,KAAK,CAAC,cAAc,GAAG,EAAE,CAAC;QAC1B,KAAK,CAAC,qBAAqB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC5C,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3C,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACrF,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,OAAO,KAAK,CAAC;KAChB;IACD,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC;QACtE,IAAI,CAAC,KAAK,CAAC;YACP,UAAU,EAAE,WAAW;YACvB,UAAU,EAAE,WAAW;YACvB,qBAAqB,EAAE,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,IAAI,KAAK,CAAC,WAAW;YACnF,mBAAmB,EAAE,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YAC5D,qBAAqB,EAAE,KAAK,CAAC,QAAQ,CAAC,2BAA2B,CAAC;SACrE,CAAC,CAAC;KACN,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC9G,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,sBAAsB,EAAE;QACrE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC;SAC3C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QAC9C,IAAI,CAAC,MAAM,CAAC,oCAAoC,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC;QACxE,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;KAChF,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;KACzB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE;QACnD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE;YAC3C,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;gBAC5B,OAAO,EAAE,IAAI,CAAC,oBAAoB,EAAE;gBACpC,IAAI,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM;gBAC1D,MAAM,EAAE,OAAO;aAClB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,gBAAgB,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,SAAS,GAAGiB,GAAC,CAAC,gBAAgB,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,CAAC;;QAE1C,SAAS,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE;YAClD,KAAK,CAAC,iBAAiB,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;SACxC,CAAC,CAAC;;QAEH,SAAS,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE,UAAU,GAAG,EAAE;YACxD,IAAI,OAAO,GAAG;gBACV,oBAAoB,EAAE,KAAK;gBAC3B,SAAS,EAAE;oBACP,qBAAqB,EAAE,EAAE;oBACzB,UAAU,EAAE,MAAM;oBAClB,UAAU,EAAE,IAAI;oBAChB,iBAAiB,EAAE,KAAK;oBACxB,mBAAmB,EAAE,KAAK;iBAC7B;gBACD,kBAAkB,EAAE,CAAC;gBACrB,oBAAoB,EAAE,IAAI;gBAC1B,OAAO,EAAE;oBACL,OAAO,EAAE,KAAK;iBACjB;aACJ,CAAC;YACF,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC,wBAAwB,EAAE,GAAG,CAAC,cAAc,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YACnI,KAAK,CAAC,iBAAiB,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;YACrC,KAAK,CAAC,2BAA2B,GAAG,SAAS,CAAC,gBAAgB,CAAClB,QAAY,CAAC,uBAAuB,EAAE,sBAAsB,CAAC,CAAC,CAAC;SACjI,CAAC,CAAC;;QAEH,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;QACtE,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,YAAY;YAC1C,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9D,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;YAC/C,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;YAC7C,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACxB,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACrB,KAAK,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;SAC9C,CAAC,CAAC;;QAEH,SAAS,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,EAAE,UAAU,GAAG,EAAE;YACzD,IAAI,UAAU,GAAG,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC,UAAU,EAAE,EAAE,eAAe,EAAE,KAAK,CAAC,2BAA2B,EAAE,aAAa,EAAE,aAAa,CAAC,WAAW,+CAA+C,CAAC,CAAC;YACvN,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACtC,IAAI,MAAM,GAAG;gBACT,UAAU,EAAE,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC,UAAU,CAAC;gBAClE,QAAQ,EAAE,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC8D,UAAQ,CAAC;gBAC9D,UAAU,EAAE,UAAU;gBACtB,qBAAqB,EAAE,IAAI,YAAY,EAAE;aAC5C,CAAC;YACF,IAAI,OAAO,GAAG;gBACV,aAAa,EAAE,EAAE;gBACjB,SAAS,EAAE9D,QAAY,CAAC,eAAe,EAAE,YAAY,CAAC;aACzD,CAAC;YACF,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC,aAAa,EAAE,GAAG,CAAC,cAAc,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;YAC/G,mCAAmC,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;;YAE1E,IAAI,OAAO,GAAG,UAAU,OAAO,EAAE,IAAI,EAAE;gBACnC,IAAI,OAAO,YAAY,YAAY,EAAE;oBACjC,IAAI,IAAI,KAAK,MAAM,EAAE;wBACjB,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;qBAC1C;oBACD,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;iBACtF;aACJ,CAAC;YACF,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,UAAU,KAAK,EAAE;gBAClE,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,UAAU,EAAE;oBAC/D,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;iBAChC;aACJ,CAAC,CAAC,CAAC;YACJ,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC,UAAU,KAAK,EAAE;gBACtE,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,UAAU,EAAE;oBAC/D,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;iBACvC;aACJ,CAAC,CAAC,CAAC;YACJ,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACxG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACzG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7G,KAAK,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;SACrC,CAAC,CAAC;KACN,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;QAC7E,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;QACvE,IAAI,MAAM,GAAG,aAAa,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC;;QAEhC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;;QAE5D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;;QAEvB,IAAI,CAAC,UAAU,GAAG;YACd,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa;YAC3C,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK;SAC1B,CAAC;KACL,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,YAAY,EAAE;QACzD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAC1B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,SAAS,EAAE;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY;;YAE3D,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACtC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;SACnC,CAAC,CAAC;KACN,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,QAAQ,EAAE;;QAErD,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QACvB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;SAC7B;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAClB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAACA,QAAY,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YACjF,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,mBAAmB,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9E,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;;QAEvD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,yBAAyB,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;QAErI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;YACvC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACpB,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC;oBAC7B,OAAO,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,oBAAoB,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE;oBACvE,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,IAAI,MAAM,GAAG,MAAM;oBACxE,MAAM,EAAE,QAAQ;iBACnB,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,CAAC;;QAEJK,QAAY,CAAC,IAAI,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QAC/C,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,EAAE,CAAC;;QAEb,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAClF,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACrC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACzD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,OAAO,YAAY,YAAY,EAAE;YACjC,OAAO,OAAO,CAAC;SAClB;aACI,IAAI,OAAO,YAAY,cAAc,EAAE;YACxC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7B,OAAO,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;aAC9B;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,SAAS,EAAE,YAAY,EAAE;QAC5E,OAAO,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,OAAO,CAAC;YACZ,OAAO,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;;wBAEF,IAAI,SAAS,CAAC,GAAG,CAAC,MAAM,KAAK,OAAO,CAAC,QAAQ,EAAE;4BAC3C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;yBACpH;6BACI;4BACD,IAAI,CAAC,QAAQ,CAACL,QAAY,CAAC,yBAAyB,EAAE,YAAY,CAAC,CAAC,CAAC;yBACxE;wBACD,OAAO,GAAG,IAAI,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAC7E,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC3C,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9D,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,aAAa,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;4BACpG,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;4BACpB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gCACf,GAAG,CAAC,OAAO,EAAE,CAAC;;gCAEd,OAAO;6BACV;4BACD,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;;4BAEtC,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC;4BACvB,IAAI,KAAK,EAAE;gCACP,KAAK,CAAC,sBAAsB,GAAG,GAAG,CAAC;gCACnC,IAAI,WAAW,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,eAAe,CAAC,CAAC;gCACxE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;gCAC/C,IAAI,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,CAAC;gCACxD,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gCACjC,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,EAAE,WAAW,GAAG,CAAC,gBAAgB,CAAC,iBAAiB,CAAC;6BAC7F;iCACI;gCACD,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;gCAC3D,GAAG,CAAC,OAAO,EAAE,CAAC;6BACjB;yBACJ,EAAE,iBAAiB,CAAC,CAAC,CAAC;iBAC9B;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,cAAc,CAAC,CAAC,CAAC;AACnB,AACA;AACA,AAAO,IAAI,uBAAuB,GAAG,aAAa,CAAC,0BAA0B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,EAAEA,QAAY,CAAC,yBAAyB,EAAE,+CAA+C,CAAC,CAAC,CAAC;AAC/N,AAAO,IAAI,uBAAuB,GAAG,aAAa,CAAC,+BAA+B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,EAAEA,QAAY,CAAC,yBAAyB,EAAE,+BAA+B,CAAC,CAAC,CAAC;AACpN,AAAO,IAAI,2BAA2B,GAAG,aAAa,CAAC,qCAAqC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,EAAEA,QAAY,CAAC,6BAA6B,EAAE,oCAAoC,CAAC,CAAC,CAAC;AAC7O,AAAO,IAAI,cAAc,GAAG,aAAa,CAAC,iBAAiB,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,cAAc,EAAE,EAAEA,QAAY,CAAC,gBAAgB,EAAE,2CAA2C,CAAC,CAAC,CAAC;AACrM,AAAO,IAAI,yBAAyB,GAAG,aAAa,CAAC,2BAA2B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,EAAEA,QAAY,CAAC,2BAA2B,EAAE,gDAAgD,CAAC,CAAC,CAAC;AACvO,AAAO,IAAI,8BAA8B,GAAG,aAAa,CAAC,+BAA+B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,EAAEA,QAAY,CAAC,gCAAgC,EAAE,+DAA+D,CAAC,CAAC,CAAC;AACpQ,AAAO,IAAI,6BAA6B,GAAG,aAAa,CAAC,+BAA+B,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,EAAEA,QAAY,CAAC,+BAA+B,EAAE,+DAA+D,CAAC,CAAC,CAAC;AACpQ,AAAO,IAAI,kCAAkC,GAAG,aAAa,CAAC,oCAAoC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,EAAE,EAAEA,QAAY,CAAC,oCAAoC,EAAE,sEAAsE,CAAC,CAAC,CAAC;AACrR,AAAO,IAAI,kCAAkC,GAAG,aAAa,CAAC,oCAAoC,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,EAAEA,QAAY,CAAC,oCAAoC,EAAE,sEAAsE,CAAC,CAAC,CAAC;AAC1R,AAAO,IAAI,wBAAwB,GAAG,aAAa,CAAC,2BAA2B,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,EAAEA,QAAY,CAAC,0BAA0B,EAAE,2CAA2C,CAAC,CAAC,CAAC;AAChO,AAAO,IAAI,8BAA8B,GAAG,aAAa,CAAC,iCAAiC,EAAE,EAAE,IAAI,EAAE,wBAAwB,EAAE,KAAK,EAAE,wBAAwB,EAAE,EAAE,EAAE,wBAAwB,EAAE,EAAEA,QAAY,CAAC,gCAAgC,EAAE,yDAAyD,CAAC,CAAC,CAAC;AAC3S,AAAO,IAAI,6BAA6B,GAAG,aAAa,CAAC,yCAAyC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,EAAE,EAAEA,QAAY,CAAC,+BAA+B,EAAE,qDAAqD,CAAC,CAAC,CAAC;AAC/P,AAAO,IAAI,4BAA4B,GAAG,aAAa,CAAC,yCAAyC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,EAAE,EAAEA,QAAY,CAAC,8BAA8B,EAAE,gDAAgD,CAAC,CAAC,CAAC;AACxP,AAAO,IAAI,kCAAkC,GAAG,aAAa,CAAC,qCAAqC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,oBAAoB,EAAE,EAAEA,QAAY,CAAC,oCAAoC,EAAE,iDAAiD,CAAC,CAAC,CAAC;AACnQ,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,uBAAuB,GAAG,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;IAC5E,IAAI,uBAAuB,EAAE;QACzB,SAAS,CAAC,OAAO,CAAC,sFAAsF,GAAG,uBAAuB,GAAG,KAAK,CAAC,CAAC;KAC/I;IACD,IAAI,uBAAuB,GAAG,KAAK,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;IAC3E,IAAI,uBAAuB,EAAE;QACzB,SAAS,CAAC,OAAO,CAAC,2FAA2F,GAAG,uBAAuB,GAAG,KAAK,CAAC,CAAC;KACpJ;IACD,IAAI,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;IAClF,IAAI,wBAAwB,EAAE;QAC1B,SAAS,CAAC,OAAO,CAAC,2FAA2F,GAAG,wBAAwB,GAAG,6BAA6B,CAAC,CAAC;KAC7K;IACD,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;IACrD,IAAI,SAAS,EAAE;QACX,SAAS,CAAC,OAAO,CAAC,uFAAuF,GAAG,SAAS,GAAG,6BAA6B,CAAC,CAAC;KAC1J;IACD,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;IAClE,IAAI,iBAAiB,EAAE;QACnB,SAAS,CAAC,OAAO,CAAC,sEAAsE,GAAG,iBAAiB,GAAG,KAAK,CAAC,CAAC;KACzH;IACD,IAAI,sBAAsB,GAAG,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IAC5E,IAAI,sBAAsB,EAAE;QACxB,SAAS,CAAC,OAAO,CAAC,2DAA2D,GAAG,sBAAsB,GAAG,KAAK,CAAC,CAAC;KACnH;IACD,IAAI,qBAAqB,GAAG,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;IAC1E,IAAI,qBAAqB,EAAE;QACvB,SAAS,CAAC,OAAO,CAAC,2EAA2E,GAAG,qBAAqB,GAAG,KAAK,CAAC,CAAC;KAClI;IACD,IAAI,yBAAyB,GAAG,KAAK,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;IACnF,IAAI,yBAAyB,EAAE;QAC3B,SAAS,CAAC,OAAO,CAAC,2JAA2J,GAAG,yBAAyB,GAAG,KAAK,CAAC,CAAC;KACtN;IACD,IAAI,yBAAyB,GAAG,KAAK,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;IACnF,IAAI,yBAAyB,EAAE;QAC3B,SAAS,CAAC,OAAO,CAAC,gJAAgJ,GAAG,yBAAyB,GAAG,gBAAgB,CAAC,CAAC;KACtN;IACD,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;IAChE,IAAI,gBAAgB,EAAE;QAClB,SAAS,CAAC,OAAO,CAAC,0FAA0F;YACxG,sFAAsF;aACrF,sBAAsB,GAAG,gBAAgB,GAAG,GAAG,CAAC;YACjD,GAAG,CAAC,CAAC;KACZ;IACD,IAAI,sBAAsB,GAAG,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IAC5E,IAAI,sBAAsB,EAAE;QACxB,SAAS,CAAC,OAAO,CAAC,yEAAyE;aACtF,sBAAsB,GAAG,sBAAsB,GAAG,GAAG,CAAC;YACvD,GAAG,CAAC,CAAC;KACZ;CACJ,CAAC,CAAC;;ACj2BH;;;;AAIA,AACA,IAAIU,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,IAAIgE,WAAS,GAAG,CAAChE,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAIiE,aAAW,GAAG,CAACjE,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;AACF,AAgBO,IAAI,yBAAyB,GAAG,IAAI,aAAa,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;AAC1F,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,2BAA2B,EAAE,MAAM,EAAE,iBAAiB,EAAE,cAAc,EAAE,yBAAyB,EAAE,oBAAoB,EAAE,qBAAqB,EAAE,eAAe,EAAE,eAAe,EAAE,aAAa,EAAE,qBAAqB,EAAE,mBAAmB,EAAE;QACvQ,IAAI,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QAC/D,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;QAC3D,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,uBAAuB,GAAG,yBAAyB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;KACtF;IACD,oBAAoB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACzC,OAAO,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;KAC1D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACvB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAUS,QAAK,EAAE,YAAY,EAAE,OAAO,EAAE;QAClF,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,cAAc,CAAC;QACnB,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;SAC1C;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,cAAc,IAAIA,QAAK,CAAC,gBAAgB,CAAC,cAAc,CAAC,EAAE;YAC5D,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;QAEvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY;YAC7D,IAAI,CAAC,KAAK,CAAC,uBAAuB,EAAE;gBAChC,KAAK,CAAC,WAAW,EAAE,CAAC;aACvB;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,UAAU,GAAG,gBAAgB,CAAC;QAClC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,OAAO,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACzN,IAAI,CAAC,OAAO,CAAC,QAAQ,CAACR,QAAY,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,IAAI,CAACQ,QAAK,CAAC,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY;YACvD,YAAY,CAAC,MAAM,EAAE,CAAC;YACtB,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;YAClF,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;YACrB,KAAK,CAAC,WAAW,EAAE,CAAC;SACvB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,UAAU,KAAK,EAAE;YACtE,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,EAAE,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;YAC/C,QAAQ,IAAI;gBACR,KAAK,MAAM;oBACP,IAAI,KAAK,CAAC,MAAM,KAAK,QAAQ;2BACtB,KAAK,CAAC,qBAAqB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;;;wBAG9D,MAAM;qBACT;gBACL,KAAK,MAAM;oBACP,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,KAAK,MAAM,CAAC,CAAC;oBAC9C,MAAM;gBACV,KAAK,MAAM;oBACP,IAAI,OAAO,CAAC,MAAM,EAAE;wBAChB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;qBAC3B;yBACI;wBACD,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;qBACjC;oBACD,MAAM;aACb;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,SAAS,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC;QACtC,YAAY,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;;YAE/B,IAAI,SAAS,KAAK,KAAK,CAAC,cAAc,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;gBACtD,OAAO,SAAS,CAAC;aACpB;YACD,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;aAC1B;YACD,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;;YAErB,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY;gBACzD,IAAI,KAAK,CAAC,OAAO,EAAE;;oBAEf,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;;oBAE/D,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC;oBACvC,IAAI,GAAG,GAAG,IAAI,QAAQ,CAACA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,CAAC,CAAC;oBACjE,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBACxD,IAAI,SAAS,EAAE;wBACX,OAAO,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;qBAChD;iBACJ;gBACD,OAAO,SAAS,CAAC;aACpB,CAAC,CAAC;SACN,EAAE,UAAU,KAAK,EAAE;YAChB,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SAC3C,CAAC,CAAC;KACN,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,GAAG,EAAE;QACxE,OAAOuD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;YAC/C,IAAI,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC;YAChC,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC1C,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBAC1F,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBAC1D,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;wBACvC,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC5D,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;oBACtD,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,IAAI,WAAW,EAAE;4BACb,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;yBACxB;wBACD,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC;iBACjC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACrD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QACD,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC;KAC5B,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAIxD,QAAK,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,CAAC;QACpD,OAAO,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;YAClC,QAAQ,EAAE,GAAG,CAAC,GAAG;YACjB,OAAO,EAAE,EAAE,SAAS,EAAEA,QAAK,EAAE;SAChC,CAAC,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;YAC5B,KAAK,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,YAAY,IAAI,YAAY,CAAC,UAAU,EAAE,KAAK,KAAK,CAAC,OAAO,EAAE;;;;;;;;gBAQ9D,KAAK,CAAC,WAAW,EAAE,CAAC;gBACpB,OAAO;aACV;YACD,KAAK,CAAC,OAAO,CAAC,IAAI,CAACA,QAAK,CAAC,CAAC;YAC1B,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACzB,EAAE,UAAU,GAAG,EAAE;YACd,KAAK,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACtC,iBAAiB,CAAC,GAAG,CAAC,CAAC;SAC1B,CAAC,CAAC;KACN,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,GAAG,EAAE,UAAU,EAAE;QACtE,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,EAAEA,QAAK,GAAG,GAAG,CAAC,KAAK,CAAC;QACrC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;YAC3B,QAAQ,EAAE,GAAG;YACb,OAAO,EAAE,EAAE,SAAS,EAAEA,QAAK,EAAE;SAChC,EAAE,UAAU,CAAC,CAAC;;QAEf,IAAI,CAAC,UAAU,EAAE;YACb,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;KACJ,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,qCAAqC,CAAC;IAChE,oBAAoB,GAAGE,YAAU,CAAC;QAC9BC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;QAChCA,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;QACjCA,SAAO,CAAC,CAAC,EAAE,wBAAwB,CAAC;QACpCA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,EAAE,EAAE,qBAAqB,CAAC;QAClCA,SAAO,CAAC,EAAE,EAAE,QAAQ,CAAC,mBAAmB,CAAC,CAAC;KAC7C,EAAE,oBAAoB,CAAC,CAAC;IACzB,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC/QL;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAYA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDE,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,MAAM,EAAE,iBAAiB,EAAE;QAClD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC7B,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,QAAQ,GAAG,iBAAiB,CAAC,eAAe,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC7E,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,yBAAyB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnH,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACtC,OAAO,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;KACxD,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,OAAO,iBAAiB,CAAC,GAAG,CAAC;KAChC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC9C,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;KACzB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;KAC9B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE,QAAQ,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACxB,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC7B,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzD,IAAI,CAAC,cAAc,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;;QAEzE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5G,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAClH,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;QAEzG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;;QAEtG,IAAI,MAAM,CAAC;QACX,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;;YAE9D,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACpB,OAAO;aACV;YACD,IAAI,CAAC,MAAM,EAAE;;gBAET,MAAM,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;aACvF;iBACI,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;;gBAElD,KAAK,CAAC,YAAY,EAAE,CAAC;aACxB;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACnD,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;KAC3E,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QAChE,IAAI,CAAC,WAAW,CAACD,QAAY,CAAC,iBAAiB,EAAE,iCAAiC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;KACpH,CAAC;IACF,iBAAiB,CAAC,GAAG,GAAG,kCAAkC,CAAC;IAC3D,iBAAiB,CAAC,eAAe,GAAG,IAAI,aAAa,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC/E,iBAAiB,GAAGU,YAAU,CAAC;QAC3BC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;KACjC,EAAE,iBAAiB,CAAC,CAAC;IACtB,OAAO,iBAAiB,CAAC;CAC5B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,cAAc,GAAG,aAAa,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;AAC7E,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,oBAAoB;IACxB,YAAY,EAAE,iBAAiB,CAAC,eAAe;IAC/C,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,YAAY,EAAE,CAAC,EAAE;IAClD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,OAAO,EAAE,CAAC;KACb;CACJ,CAAC,CAAC,CAAC;AACJ,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE;QACrC,IAAI,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;;QAEnD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,UAAU,EAAE,UAAU,EAAE,CAAC,cAAc,CAAC;QAC1F,IAAI,CAAC,SAAS,GAAG,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;QAChE,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;QAC5D,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACjC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACnC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACzC;IACD,aAAa,CAAC,OAAO,GAAG,UAAU,aAAa,EAAE;QAC7C,IAAI,MAAM,CAAC;QACX,IAAIsD,UAAO,GAAG,YAAY;YACtB,aAAa,CAAC,OAAO,EAAE,CAAC;YACxB,YAAY,CAAC,MAAM,CAAC,CAAC;YACrB,aAAa,CAAC,UAAU,EAAE,CAAC,mBAAmB,CAAC,cAAc,EAAEA,UAAO,CAAC,CAAC;SAC3E,CAAC;QACF,MAAM,GAAG,UAAU,CAACA,UAAO,EAAE,GAAG,CAAC,CAAC;QAClC,aAAa,CAAC,UAAU,EAAE,CAAC,gBAAgB,CAAC,cAAc,EAAEA,UAAO,CAAC,CAAC;QACrE,aAAa,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACpD,OAAO,EAAE,OAAO,EAAEA,UAAO,EAAE,CAAC;KAC/B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,OAAO,gBAAgB,CAAC;KAC3B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC9C,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,CAAC,+BAA+B,CAAC,KAAK,CAAC,EAAE,CAAC;KAC5F,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,0BAA0B,CAAC,iBAAiB,CAAC,CAAC;AAC9C,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;IACvD,IAAI,MAAM,EAAE;QACR,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,KAAK,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC;QACvD,SAAS,CAAC,OAAO,CAAC,2EAA2E,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;QAChH,SAAS,CAAC,OAAO,CAAC,kEAAkE,GAAG,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;KACtI;IACD,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;IAC/D,IAAI,UAAU,EAAE;QACZ,SAAS,CAAC,OAAO,CAAC,4EAA4E,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC;KACxH;CACJ,CAAC,CAAC;;AC/KH;;;;AAIA,AACA,IAAIhE,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAiBA,IAAI,sBAAsB,kBAAkB,YAAY;IACpD,SAAS,sBAAsB,CAAC,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,WAAW,EAAE;QAChF,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,KAAK,CAAC,EAAE;QAClD,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,KAAK,CAAC,EAAE;QAClD,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,IAAI,CAAC,EAAE;QACvD,IAAI,WAAW,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,GAAG,IAAI,CAAC,EAAE;QACnD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;;KAElC;IACD,OAAO,sBAAsB,CAAC;CACjC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDE,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,CAAC,aAAa,EAAE,IAAI,EAAE;QAC3C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,cAAc,GAAG,aAAa,CAAC;QACrC,OAAO,KAAK,CAAC;KAChB;IACD,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC7D,IAAI,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACjD,IAAI,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACrD,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,iBAAiB,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE;YAC3F,IAAI,KAAK,CAAC,UAAU,EAAE,IAAI,MAAM,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE;;gBAEnD,OAAO;aACV;;;YAGD,IAAI,YAAY,GAAG,CAAC,CAAC,CAAC;YACtB,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxC,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;oBAChC,SAAS;iBACZ;gBACD,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAEO,QAAK,GAAG,SAAS,CAAC,KAAK,CAAC;gBACjD,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC;oBACrB,GAAG,EAAE,GAAG;oBACR,KAAK,EAAEA,QAAK;iBACf,CAAC,CAAC;gBACH,IAAI,KAAK,CAAC,cAAc,CAAC,aAAa;uBAC/B,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE;uBACvC,KAAK,CAAC,gBAAgB,CAACA,QAAK,EAAE,GAAG,CAAC;uBAClC,YAAY,KAAK,CAAC,CAAC,EAAE;oBACxB,YAAY,GAAG,MAAM,GAAG,CAAC,CAAC;iBAC7B;aACJ;YACD,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;;gBAErB,IAAI,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE;oBAClC,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBACxC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;iBACxF;aACJ;iBACI,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;;gBAEjD,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,KAAK,CAAC,cAAc,CAAC,aAAa,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aACvD;iBACI;;gBAED,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC;aACvE;SACJ,EAAE,UAAU,GAAG,EAAE;;YAEd,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SAClC,CAAC,CAAC;QACH,eAAe,CAAC,SAAS,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;QAClD,OAAO,iBAAiB,CAAC;KAC5B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC/E,OAAO,wBAAwB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACpD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,wBAAwB,GAAG,UAAU,IAAI,EAAE;QAClE,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI;cAClBR,QAAY,CAAC,cAAc,EAAE,+BAA+B,EAAE,IAAI,CAAC,IAAI,CAAC;cACxEA,QAAY,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;KAClE,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QACxD,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAIA,QAAY,CAAC,YAAY,EAAE,oBAAoB,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KACnH,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE;QAC3E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,GAAG,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC;QACjC,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;SAClD;aACI;YACD,IAAI,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;YAC/E,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;gBAC5F,IAAI,MAAM,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvC,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;iBACnD;qBACI;oBACD,KAAK,CAAC,OAAO,EAAE,CAAC;iBACnB;aACJ,CAAC,CAAC;SACN;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,aAAa,EAAE,SAAS,EAAE,UAAU,EAAE;QACxF,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAEQ,QAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QACjD,OAAO,aAAa,CAAC,UAAU,CAAC;YAC5B,QAAQ,EAAE,GAAG;YACb,OAAO,EAAE;gBACL,SAAS,EAAE,KAAK,CAAC,eAAe,CAACA,QAAK,CAAC;gBACvC,eAAe,EAAE,IAAI;gBACrB,+BAA+B,EAAE,IAAI;aACxC;SACJ,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YAClC,OAAO,MAAM,IAAI,MAAM,CAAC,UAAU,EAAE,CAAC;SACxC,CAAC,CAAC;KACN,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE;QAC7E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;gBAC/D,YAAY,EAAE,UAAU,KAAK,EAAE;oBAC3B,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;iBACrC;gBACD,MAAM,EAAE,UAAU,SAAS,EAAE;oBACzB,UAAU,CAAC,WAAW,EAAE,CAAC;oBACzB,OAAO,KAAK,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;iBAChE;aACJ,CAAC,CAAC;SACN;aACI;YACD,KAAK,CAAC,OAAO,EAAE,CAAC;SACnB;KACJ,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,iBAAiB,GAAG0D,KAAc;MAChC,IAAI,iBAAiB,EAAE;MACvB,EAAE,WAAW;AACnB,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDjE,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,EAAE,EAAE;YACnD,EAAE,EAAE,oBAAoB,CAAC,EAAE;YAC3B,KAAK,EAAED,QAAY,CAAC,wBAAwB,EAAE,kBAAkB,CAAC;YACjE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC3H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,iBAAiB;aAC7B;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,oBAAoB,CAAC,EAAE,GAAG,+BAA+B,CAAC;IAC1D,OAAO,oBAAoB,CAAC;CAC/B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,0BAA0B,kBAAkB,UAAU,MAAM,EAAE;IAC9DC,WAAS,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;IAC9C,SAAS,0BAA0B,GAAG;QAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,CAAC,IAAI,CAAC,EAAE;YACvD,EAAE,EAAE,0BAA0B,CAAC,EAAE;YACjC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;YAClF,KAAK,EAAE,6BAA6B;YACpC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC3H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,iBAAiB,CAAC;aAC5E;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,0BAA0B,CAAC,EAAE,GAAG,wCAAwC,CAAC;IACzE,OAAO,0BAA0B,CAAC;CACrC,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE;YACtE,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,2BAA2B,EAAE,iBAAiB,CAAC;YACnE,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,WAAW,CAAC,eAAe,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YACxJ,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,aAAa,EAAE;gBAC3B,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE,YAAY;aAC3E;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,oBAAoB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QACnF,OAAO,4BAA4B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACxD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,wBAAwB,GAAG,UAAU,IAAI,EAAE;QACtE,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI;cAClBD,QAAY,CAAC,iCAAiC,EAAE,mCAAmC,EAAE,IAAI,CAAC,IAAI,CAAC;cAC/FA,QAAY,CAAC,sCAAsC,EAAE,yBAAyB,CAAC,CAAC;KACzF,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QAC5D,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAIA,QAAY,CAAC,4BAA4B,EAAE,wBAAwB,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KACvI,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DC,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,EAAE,EAAE;YACnD,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,sBAAsB,CAAC;YAC/E,KAAK,EAAE,sBAAsB;YAC7B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,yBAAyB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC/H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,wBAAwB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IACjE,OAAO,wBAAwB,CAAC;CACnC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DC,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE;YACrE,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,qBAAqB,CAAC;YAC9E,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,yBAAyB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC/H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,wBAAwB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IACjE,OAAO,wBAAwB,CAAC;CACnC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,oBAAoB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QACnF,OAAO,4BAA4B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACxD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,wBAAwB,GAAG,UAAU,IAAI,EAAE;QACtE,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI;cAClBD,QAAY,CAAC,iCAAiC,EAAE,oCAAoC,EAAE,IAAI,CAAC,IAAI,CAAC;cAChGA,QAAY,CAAC,sCAAsC,EAAE,0BAA0B,CAAC,CAAC;KAC1F,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QAC5D,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAIA,QAAY,CAAC,4BAA4B,EAAE,yBAAyB,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KACxI,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,EAAE,EAAE;YACnD,EAAE,EAAE,uBAAuB,CAAC,EAAE;YAC9B,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,uBAAuB,CAAC;YAChF,KAAK,EAAE,uBAAuB;YAC9B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,yBAAyB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC/H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,CAAC;aACb;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,uBAAuB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IAChE,OAAO,uBAAuB,CAAC;CAClC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DC,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,sBAAsB,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE;YACrE,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,sBAAsB,CAAC;YAC/E,KAAK,EAAE,sBAAsB;YAC7B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,yBAAyB,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YAC/H,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,CAAC;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,wBAAwB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IACjE,OAAO,wBAAwB,CAAC;CACnC,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACzB,AACA,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,0BAA0B,CAAC,CAAC;AACjD,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;AAC/C,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;AAC/C,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACvW/C;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAKA,SAAS,WAAW,CAAC,CAAC,EAAE,QAAQ,EAAE;IAC9B,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;CACxB;;;;AAID,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,MAAM,EAAE,IAAI,EAAE;QACvC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1E,IAAI,CAAC,qBAAqB,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;QACvF,IAAI,CAAC,uBAAuB,IAAIoE,IAAY,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;KAC7E;IACD,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,IAAI,sBAAsB,kBAAkB,YAAY;IACpD,SAAS,sBAAsB,CAAC,MAAM,EAAE,IAAI,EAAE;QAC1C,IAAI,CAAC,mBAAmB,IAAI,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC;QAChE,IAAI,CAAC,sBAAsB,IAAI,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC7E,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;KACvE;IACD,OAAO,sBAAsB,CAAC;CACjC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,UAAU,EAAE,eAAe,EAAE,oBAAoB,EAAE,yBAAyB,EAAE;QACpG,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;KAC9D;IACD,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QACjD,QAAQ,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU;eACrC,IAAI,CAAC,eAAe,KAAK,KAAK,CAAC,eAAe;eAC9C,IAAI,CAAC,oBAAoB,KAAK,KAAK,CAAC,oBAAoB;eACxD,IAAI,CAAC,yBAAyB,KAAK,KAAK,CAAC,yBAAyB,EAAE;KAC9E,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,SAAS,aAAa,CAAC,mBAAmB,EAAE;IACxC,IAAI,mBAAmB,KAAK,QAAQ,EAAE;QAClC,IAAIC,WAAoB,EAAE;YACtB,OAAO,IAAI,gBAAgB,CAAC,EAAE,aAAa,SAAS,EAAE,CAAC,YAAY,QAAQ,CAAC,CAAC;SAChF;QACD,OAAO,IAAI,gBAAgB,CAAC,CAAC,aAAa,SAAS,EAAE,CAAC,YAAY,QAAQ,CAAC,CAAC;KAC/E;IACD,IAAIA,WAAoB,EAAE;QACtB,OAAO,IAAI,gBAAgB,CAAC,CAAC,YAAY,QAAQ,EAAE,EAAE,aAAa,SAAS,CAAC,CAAC;KAChF;IACD,OAAO,IAAI,gBAAgB,CAAC,CAAC,YAAY,QAAQ,EAAE,CAAC,aAAa,SAAS,CAAC,CAAC;CAC/E;AACD,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDnE,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,CAAC,MAAM,EAAE;QAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,6BAA6B,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QACrE,KAAK,CAAC,4BAA4B,GAAG,KAAK,CAAC,6BAA6B,CAAC,KAAK,CAAC;QAC/E,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAClD,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;QACzC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QACjD,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;QACvC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAClF,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAChC,KAAK,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACvC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,CAAC,CAAC,mBAAmB,EAAE;gBACvB,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,CAAC,CAAC;gBAClF,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;oBAC7B,OAAO;iBACV;gBACD,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;gBACtB,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAChC,KAAK,CAAC,wBAAwB,GAAG,KAAK,CAAC;gBACvC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;aAC1B;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,IAAI,mBAAmB,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACtI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,IAAI,mBAAmB,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACtI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,IAAI,mBAAmB,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAClI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,IAAI,sBAAsB,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACrI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,IAAI,sBAAsB,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzF,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxH,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/F,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YACzD,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,iBAAiB,EAAE;gBAC3C,KAAK,CAAC,YAAY,EAAE,CAAC;aACxB;SACJ,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,gBAAgB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,CAAC,EAAE;QACjE,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,WAAW,KAAK,CAAC,CAAC,SAAS,CAAC,SAAS,EAAE;YAClE,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,UAAU,EAAE;QACjE,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;KAC/D,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,UAAU,EAAE;;;;;QAKjE,IAAI,CAAC,wBAAwB,GAAG,UAAU,CAAC,kBAAkB,CAAC;KACjE,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE;QAC/D,IAAI,IAAI,CAAC,wBAAwB,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACpC;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QACtD,IAAI,IAAI,CAAC,kBAAkB;gBACnB,CAAC,CAAC,mBAAmB;oBACjB,CAAC,CAAC,sBAAsB,IAAI,CAAC,CAAC,kBAAkB,CAAC;aACxD,EAAE;YACH,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC;SACzE;aACI,IAAI,CAAC,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE;QACpD,IAAI,CAAC,CAAC,mBAAmB,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAClD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,CAAC,UAAU,CAAC,CAAC,CAAC;;ACjKf;;;;AAIA,AACA,IAAIS,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAmBA,IAAI,yCAAyC,kBAAkB,YAAY;IACvE,SAAS,yCAAyC,CAAC,MAAM,EAAE,wBAAwB,EAAE,WAAW,EAAE;QAC9F,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,wBAAwB,GAAG,wBAAwB,CAAC;QACzD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QACjC,IAAI,WAAW,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,4BAA4B,CAAC,UAAU,EAAE,EAAE;YACtE,IAAI,UAAU,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9C,KAAK,CAAC,mBAAmB,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;SACxD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,UAAU,EAAE;YAC3D,IAAI,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;gBAC7B,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,YAAY;oBACvF,KAAK,CAAC,iBAAiB,EAAE,CAAC;iBAC7B,EAAE,UAAU,KAAK,EAAE;oBAChB,KAAK,CAAC,iBAAiB,EAAE,CAAC;oBAC1B,iBAAiB,CAAC,KAAK,CAAC,CAAC;iBAC5B,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY;YAChD,KAAK,CAAC,iBAAiB,EAAE,CAAC;YAC1B,KAAK,CAAC,qBAAqB,GAAG,IAAI,CAAC;SACtC,CAAC,CAAC,CAAC;KACP;IACD,yCAAyC,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QACrG,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE;YACtC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,OAAO;SACV;;QAED,IAAI,QAAQ,GAAG,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC1C,IAAI,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAChF,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,OAAO;SACV;;QAED,IAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,qBAAqB,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,qBAAqB,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;YACvM,OAAO;SACV;QACD,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;;QAElC,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,kBAAkB,CAAC,eAAe,CAAC,mBAAmB,CAAC,cAAc,CAAC;QAChH,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY;YAC7B,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;kBAC7B,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC;kBACvC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7B,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;YACvB,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;gBAC9D,KAAK,CAAC,iBAAiB,EAAE,CAAC;gBAC1B,OAAO;aACV;;YAED,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,cAAc,EAAE,CAAC,UAAU,CAACC,QAAY,CAAC,iBAAiB,EAAE,gCAAgC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;aAClO;;iBAEI;gBACD,IAAI,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;oBACf,OAAO;iBACV;gBACD,KAAK,CAAC,wBAAwB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;oBAClF,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,EAAE;wBAC5C,GAAG,CAAC,OAAO,EAAE,CAAC;wBACd,OAAO;qBACV;oBACD,IAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC;oBACjD,IAAI,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC;oBACrD,IAAI,eAAe,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;wBACzD,GAAG,CAAC,OAAO,EAAE,CAAC;wBACd,OAAO;qBACV;oBACD,IAAI,WAAW,GAAG,eAAe,CAAC,+BAA+B,CAAC,eAAe,CAAC,CAAC;oBACnF,IAAI,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,YAAY,EAAE,EAAE,eAAe,GAAG,yCAAyC,CAAC,wBAAwB,CAAC,CAAC;oBACnJ,IAAI,aAAa,GAAG,eAAe,GAAG,CAAC,CAAC;oBACxC,IAAI,SAAS,GAAG,WAAW,CAAC;oBAC5B,OAAO,aAAa,GAAG,aAAa,EAAE,aAAa,EAAE,EAAE;wBACnD,IAAI,SAAS,GAAG,eAAe,CAAC,+BAA+B,CAAC,aAAa,CAAC,CAAC;wBAC/E,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;wBAC3C,IAAI,WAAW,KAAK,SAAS,EAAE;4BAC3B,MAAM;yBACT;qBACJ;oBACD,IAAI,YAAY,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvE,IAAI,KAAK,GAAG,eAAe,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,OAAO,IAAI,SAAS,GAAG,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBAChI,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,cAAc,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,8BAA8B,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;oBACtO,GAAG,CAAC,OAAO,EAAE,CAAC;iBACjB,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;KACzC,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,aAAa,GAAG,UAAUQ,QAAK,EAAE,YAAY,EAAE;QAC/F,IAAI,cAAc,GAAG;YACjB,KAAK,EAAEA,QAAK;YACZ,OAAO,EAAE;gBACL,eAAe,EAAE,sBAAsB;gBACvC,YAAY,EAAE,YAAY;aAC7B;SACJ,CAAC;QACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC;KACvF,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QAChF,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;SACzE;KACJ,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QAC3F,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YACzB,UAAU,CAAC,uBAAuB;YAClC,UAAU,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,YAAY;aACtD,UAAU,CAAC,kBAAkB,KAAK,OAAO,IAAI,OAAO,CAAC,mBAAmB,CAAC,CAAC;YAC3E,0BAA0B,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,MAAM,EAAE;QACnF,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;SAC5B;QACD,OAAO,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;KAC5E,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,MAAM,EAAE,UAAU,EAAE;QAC/F,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,MAAM,GAAG,IAAI,gBAAgB,CAAC,IAAI,sBAAsB,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,CAAC;QAC9K,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;KAC9G,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpE,OAAO,yCAAyC,CAAC,EAAE,CAAC;KACvD,CAAC;IACF,yCAAyC,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC1C,CAAC;IACF,yCAAyC,CAAC,EAAE,GAAG,wCAAwC,CAAC;IACxF,yCAAyC,CAAC,wBAAwB,GAAG,CAAC,CAAC;IACvE,yCAAyC,GAAGE,YAAU,CAAC;QACnDC,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;KAC3B,EAAE,yCAAyC,CAAC,CAAC;IAC9C,OAAO,yCAAyC,CAAC;CACpD,EAAE,CAAC,CAAC;AACL,0BAA0B,CAAC,yCAAyC,CAAC,CAAC;AACtE,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,oBAAoB,GAAG,KAAK,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;IACtE,IAAI,oBAAoB,EAAE;QACtB,SAAS,CAAC,OAAO,CAAC,gDAAgD,GAAG,oBAAoB,GAAG,gBAAgB,CAAC,CAAC;KACjH;CACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC7LH;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAeA,IAAIsE,eAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,OAAO,EAAE,CAAC;QACzC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,OAAO,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC3C,OAAO,CAAC,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QAC/C,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACpD,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnD,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,IAAI,CAACjC,6BAAiC,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,UAAU,KAAK,EAAE;YACnG,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,OAAO,GAAG,KAAK,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC1D,IAAI,OAAO,EAAE;gBACT,oBAAoB,CAAC,OAAO,CAAC,CAAC;aACjC;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,WAAW,GAAG,IAAI,iBAAiB,CAAC,OAAO,EAAE;YAC9C,UAAU,EAAE,mBAAmB,CAAC,IAAI;YACpC,QAAQ,EAAE,mBAAmB,CAAC,MAAM;YACpC,UAAU,EAAE,KAAK;YACjB,uBAAuB,EAAE,CAAC;SAC7B,CAAC,CAAC;QACH/B,QAAY,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,OAAO,CAAC,CAAC;QACrD,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3H,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAC5C;IACD,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,EAAE,EAAE;QAC3C,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,kBAAkB,GAAG,EAAE,CAAC,kBAAkB,CAAC;QACzF,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;YAC3B,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACxD,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACvE,IAAI,CAAC,KAAK,CAAC,EAAE;oBACT,OAAO,GAAG,GAAG,GAAG,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC;iBACxC;qBACI;oBACD,OAAO,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC;iBACnC;aACJ;SACJ;aACI;YACD,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,MAAM,CAAC;SAC3C;QACDgD,SAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,EAAE;YACrC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;YAC1G,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;YAChB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,oBAAoB,GAAG,kBAAkB,EAAE,EAAE,GAAG,oBAAoB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAChG,IAAI,OAAO,GAAG,oBAAoB,CAAC,EAAE,CAAC,CAAC;gBACvC,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACrDhD,QAAY,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;gBAC1C,eAAe,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,eAAe,GAAG,IAAI,GAAG,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;gBAChI,eAAe,CAAC,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACvD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBACvD,IAAI,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACpD,cAAc,CAAC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;gBAC3C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBAC3C,SAAS,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;gBACvC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;gBACtC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;aAC7C;SACJ;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,OAAO,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,8BAA8B,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzH,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;KAChE,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;QACtD,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;KAC1D,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DJ,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,CAAC,MAAM,EAAE,aAAa,EAAE;QACnD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC;QACxG,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,cAAc,GAAG,EAAE,CAAC;QAC1B,KAAK,CAAC,8BAA8B,GAAG,IAAI,OAAO,EAAE,CAAC;QACrD,KAAK,CAAC,6BAA6B,GAAG,KAAK,CAAC,8BAA8B,CAAC,KAAK,CAAC;QACjF,KAAK,CAAC,SAAS,GAAG,cAAc,CAAC,OAAO,CAAC;QACzC,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC;QACrC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC5C,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACtF,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,OAAO,KAAK,CAAC;KAChB;IACD,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QAC5D,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,gCAAgC,CAAC,CAAC;QACzE,IAAI,OAAO,GAAG,2BAA2B,CAAC;QAC1C,IAAI,IAAI,CAAC,SAAS,KAAK,cAAc,CAAC,OAAO,EAAE;YAC3C,OAAO,GAAG,6BAA6B,CAAC;SAC3C;aACI,IAAI,IAAI,CAAC,SAAS,KAAK,cAAc,CAAC,IAAI,EAAE;YAC7C,OAAO,GAAG,0BAA0B,CAAC;SACxC;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,KAAK,CAAC;YACP,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,UAAU;SACzB,CAAC,CAAC;KACN,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACxD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;SAClF;QACD,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC5C,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACnD,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACjD,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;KACjC,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,SAAS,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAClCI,QAAY,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,GAAG,CAAC,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,aAAa,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,QAAQ,GAAG,IAAIgE,eAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,OAAO,EAAE,EAAE,OAAO,KAAK,CAAC,8BAA8B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QACnJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACzC,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE,aAAa,EAAE;QACpE,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;KACxC,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE;;;;QAItF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAGrE,QAAY,CAAC,iBAAiB,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;QAC7F,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;QAE7B,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;;QAEhD,IAAIQ,QAAK,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/B,IAAI,QAAQ,GAAGA,QAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAGA,QAAK,CAAC,gBAAgB,EAAE,CAAC;QACxH,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;QACzE,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC;QAC7D,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,oBAAoB,KAAK,CAAC,iBAAiB;YAC1E,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,MAAM,EAAE;QAC9D,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KAChC,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACrD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,aAAa,EAAE,YAAY,EAAE;QAChF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,IAAI,CAAC;KACvD,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACrD,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;KACvE,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACjE,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;KAClC,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA;AACA,IAAI,YAAY,GAAG,KAAK,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;AACnE,IAAI,cAAc,GAAG,KAAK,CAAC,uBAAuB,EAAE,mBAAmB,CAAC,CAAC;AACzE,IAAI,WAAW,GAAG,KAAK,CAAC,oBAAoB,EAAE,gBAAgB,CAAC,CAAC;AAChE,AAAO,IAAI,2BAA2B,GAAG,aAAa,CAAC,wCAAwC,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,YAAY,EAAE,EAAER,QAAY,CAAC,6BAA6B,EAAE,8CAA8C,CAAC,CAAC,CAAC;AAC7P,AAAO,IAAI,6BAA6B,GAAG,aAAa,CAAC,0CAA0C,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE,cAAc,EAAE,EAAEA,QAAY,CAAC,+BAA+B,EAAE,gDAAgD,CAAC,CAAC,CAAC;AAC3Q,AAAO,IAAI,0BAA0B,GAAG,aAAa,CAAC,uCAAuC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,EAAEA,QAAY,CAAC,4BAA4B,EAAE,6CAA6C,CAAC,CAAC,CAAC;AACtP,AAAO,IAAI,gCAAgC,GAAG,aAAa,CAAC,mCAAmC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,EAAE,EAAE,SAAS,EAAE,EAAEA,QAAY,CAAC,kCAAkC,EAAE,6CAA6C,CAAC,CAAC,CAAC;;ACpO1P;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAgBA,IAAI,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE;QAClC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,uBAAuB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7C,IAAI,CAAC,mBAAmB,GAAG,IAAI,OAAO,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;;QAEzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,YAAY;YACnE,IAAI,KAAK,CAAC,sBAAsB,EAAE;gBAC9B,OAAO;aACV;YACD,IAAI,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,EAAE;gBACjG,OAAO;aACV;YACD,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;SACvB,CAAC,CAAC,CAAC;KACP;IACD,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,wBAAwB,EAAE;QACnE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC;SAC7C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,oBAAoB,EAAE;QAC/D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;SACzC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,WAAW,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QAClD,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;QAC9E,IAAI,CAAC,QAAQ,GAAG,OAAO,IAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;QACzD,IAAI,CAAC,SAAS,EAAE;YACZ,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;SACtB;aACI;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC;SAC9G;QACD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,6BAA6B,GAAG,UAAU,QAAQ,EAAE;QACtE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI;YACA,QAAQ,EAAE,CAAC;SACd;gBACO;YACJ,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;SACvC;KACJ,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE;QAC5C,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,IAAIS,QAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAIA,QAAK,CAAC,OAAO,EAAE,EAAE;gBACjB,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAACA,QAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC;gBAC/E,IAAI,IAAI,EAAE;oBACNA,QAAK,GAAG,IAAI,KAAK,CAACA,QAAK,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,EAAEA,QAAK,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;iBACrG;aACJ;YACD,IAAIA,QAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,eAAe,CAACA,QAAK,CAAC,gBAAgB,EAAE,CAAC,EAAE;gBACxF,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,KAAK,GAAG,IAAI,CAAC;gBACb,MAAM;aACT;SACJ;QACD,IAAI,CAAC,KAAK,EAAE;;YAER,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;SACtD;QACD,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;SAC5C;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,eAAe,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;SACxE;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,GAAG,EAAE,SAAS,EAAE;QACnD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;YACrB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC7C,OAAO,CAAC,SAAS,CAAC;SACrB;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC3B,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,CAAC,EAAE;YACtB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SACtB;aACI,IAAI,GAAG,EAAE;YACV,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACvD,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9D;iBACI;gBACD,MAAM,GAAG,IAAI,CAAC;aACjB;SACJ;aACI,IAAI,CAAC,GAAG,EAAE;YACX,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;gBAChC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;aACrF;iBACI;gBACD,MAAM,GAAG,IAAI,CAAC;aACjB;SACJ;QACD,IAAI,MAAM,KAAK,IAAI,CAAC,QAAQ,EAAE;YAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC7C;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;KACnC,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,GAAG,EAAE;QACxD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACvD,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,KAAK,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE;gBACrC,OAAO,MAAM,CAAC;aACjB;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC/B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;QAC9C,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KAC5C,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC5C,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,MAAM,EAAE,cAAc,EAAE,kBAAkB,EAAE,aAAa,EAAE,cAAc,EAAE;QACjG,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,kCAAkC,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;KAC5F;IACD,gBAAgB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACrC,OAAO,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;KACtD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,gBAAgB,CAAC,EAAE,CAAC;KAC9B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,QAAQ,EAAE,CAAC;KACnB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC9C,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACvF,IAAI,CAAC,OAAO,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5E,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,6BAA6B,CAAC,UAAU,OAAO,EAAE;YACpF,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC;gBAC5B,QAAQ,EAAE,OAAO,CAAC,QAAQ;gBAC1B,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,EAAE;aACpG,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;YACtC,KAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;SACvC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,UAAU,MAAM,EAAE;YAC3E,IAAI,CAAC,MAAM,EAAE;gBACT,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;iBACI;gBACD,KAAK,CAAC,MAAM,CAAC,6BAA6B,CAAC,YAAY;oBACnD,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACxF,CAAC,CAAC;aACN;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,YAAY;YACjE,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvE,IAAI,MAAM,EAAE;gBACR,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;aACtC;iBACI;gBACD,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;aAC7B;SACJ,CAAC,CAAC,CAAC;QACJ,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,WAAW,EAAE;QACvE,IAAI,WAAW,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,GAAG,IAAI,CAAC,EAAE;QACnD,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACxB;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,gBAAgB,EAAE;QACtE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE;YAC3G,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;KAC9C,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;YAC5B,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG;YACrC,UAAU,EAAE,cAAc,CAAC,KAAK,GAAG,cAAc,CAAC,OAAO,GAAG,cAAc,CAAC,IAAI;SAClF,CAAC,CAAC;KACN,CAAC;IACF,gBAAgB,CAAC,EAAE,GAAG,iCAAiC,CAAC;IACxD,gBAAgB,GAAGE,YAAU,CAAC;QAC1BC,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;KAC7B,EAAE,gBAAgB,CAAC,CAAC;IACrB,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DV,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,CAAC,IAAI,EAAE,IAAI,EAAE;QACxC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,OAAO,KAAK,CAAC;KAChB;IACD,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACjD,IAAI,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACjD,IAAI,UAAU,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,KAAK,GAAG,UAAU,CAAC,gBAAgB,EAAE,CAAC;QAC1C,IAAI,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,EAAE;YACT,OAAO,SAAS,CAAC;SACpB;;QAED,IAAI,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,cAAc,CAAC,KAAK,GAAG,cAAc,CAAC,OAAO,GAAG,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;QACjK,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YACtB,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,aAAa,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,QAAQ,EAAE,cAAc,CAAC,KAAK,EAAE,eAAe,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;QAC/K,IAAI,GAAG,GAAG,YAAY,CAAC,OAAO,EAAE,SAAS,EAAE,sBAAsB,CAAC,aAAa,CAAC,CAAC;QACjF,IAAI,GAAG,GAAG,CAAC,EAAE;;YAET,GAAG,GAAG,CAAC,GAAG,CAAC;YACX,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC;SACzB;aACI,IAAI,IAAI,CAAC,OAAO,EAAE;YACnB,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC;SACpC;aACI;YACD,GAAG,GAAG,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC;SACrD;QACD,IAAI,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;;;YAGpE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC/B,OAAO,SAAS,CAAC;SACpB;;;QAGD,UAAU,CAAC,sBAAsB,EAAE,CAAC;QACpC,OAAO,aAAa,CAAC,UAAU,CAAC;YAC5B,QAAQ,EAAE,SAAS,CAAC,QAAQ;YAC5B,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,EAAE,+BAA+B,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;SAChH,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACtB,IAAI,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,EAAE;gBAC/C,OAAO,SAAS,CAAC;aACpB;YACD,OAAO,MAAM,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;SACxD,CAAC,CAAC;KACN,CAAC;IACF,sBAAsB,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACnD,IAAI,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChE,IAAI,GAAG,KAAK,CAAC,EAAE;YACX,GAAG,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;SACxD;QACD,IAAI,GAAG,KAAK,CAAC,EAAE;YACX,GAAG,GAAG,KAAK,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC9C;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDA,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,GAAG;QACxB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,2BAA2B;YAC/B,KAAK,EAAED,QAAY,CAAC,yBAAyB,EAAE,2CAA2C,CAAC;YAC3F,KAAK,EAAE,6BAA6B;YACpC,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,EAAE;aACd;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,gBAAgB,CAAC;CAC3B,CAAC,sBAAsB,CAAC,CAAC,CAAC;AAC3B,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDC,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,GAAG;QACxB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,2BAA2B;YAC/B,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,+CAA+C,CAAC;YACnG,KAAK,EAAE,iCAAiC;YACxC,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,eAAe,EAAE;aACjC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,gBAAgB,CAAC;CAC3B,CAAC,sBAAsB,CAAC,CAAC,CAAC;AAC3B,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;AACvC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;AACvC,IAAI,kCAAkC,GAAG,IAAI,aAAa,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;AAC9F,IAAI,aAAa,GAAG,aAAa,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;AAC3E,qBAAqB,CAAC,IAAI,aAAa,CAAC;IACpC,EAAE,EAAE,wBAAwB;IAC5B,YAAY,EAAE,kCAAkC;IAChD,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,sBAAsB,EAAE,CAAC,EAAE;IAC5D,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACjZJ;;;;AAIA,AAOO,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE;IACtC,IAAI,QAAQ,GAAG,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACpD,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,GAAG,EAAE;QAChD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;YACnC,OAAO,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;SACvD,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACtB,IAAI,MAAM,EAAE;gBACR,IAAI,QAAQ,IAAI,OAAO,MAAM,CAAC,KAAK,KAAK,WAAW,CAAC,CAAC;gBACrD,IAAI,cAAc,GAAG,OAAO,MAAM,CAAC,QAAQ,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC7G,IAAI,QAAQ,IAAI,cAAc,EAAE;oBAC5B,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iBACxB;aACJ;SACJ,EAAE,UAAU,GAAG,EAAE;YACd,yBAAyB,CAAC,GAAG,CAAC,CAAC;SAClC,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;CACjF;AACD,8BAA8B,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;;AC/BlE;;;;AAIA,AAGA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;QAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,wBAAwB,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC,CAAC;QAC1I,IAAI,CAAC,oBAAoB,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,uBAAuB,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC,CAAC;QAC1I,IAAI,CAAC,wBAAwB,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,mBAAmB,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;QAC1I,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,4BAA4B,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;KACrC;IACD,cAAc,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QACvD,IAAI,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE;YACnC,OAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;SAC9C;QACD,OAAO,cAAc,CAAC,UAAU,CAAC;KACpC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,CAAC,mBAAmB;QAClC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;QACrC,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,4BAA4B,GAAG,KAAK,CAAC;YAC1C,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,UAAU,WAAW,EAAE;gBACtF,KAAK,CAAC,4BAA4B,GAAG,IAAI,CAAC;gBAC1C,KAAK,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;aACvC,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAClD;aACI;YACD,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;SAC5C;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;YAC5B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,CAAC,4BAA4B,EAAE;YACnC,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;YAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;SAChD;aACI;YACD,IAAI,CAAC,MAAM,GAAG,CAAC,qCAAqC;YACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;SAChD;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QACvD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,sCAAsC;YACvD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,2BAA2B,EAAE,CAAC,CAAC;SAClE;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,WAAW,EAAE;QAC/D,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,sCAAsC;YACvD,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;YAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;SAChD;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACjC;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QACjD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAC9B;aACI;YACD,iBAAiB,CAAC,KAAK,CAAC,CAAC;SAC5B;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACjC;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACzC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa;YAC9B,IAAI,CAAC,MAAM,GAAG,CAAC,kBAAkB;YACjC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC;YACpC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,CAAC;SAC5C;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC1C,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,mBAAmB;YACpC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,oBAAoB;YACrC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;YACnC,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBAC/B,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;gBACvC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;aACxC;SACJ;QACD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,sCAAsC;YACvD,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBAC/B,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;gBACvC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;aACxC;SACJ;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;KAC9B,CAAC;IACF,cAAc,CAAC,UAAU,GAAG,GAAG,CAAC;IAChC,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;;ACpHL;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAMA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDE,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,CAAC,EAAE,EAAE,MAAM,EAAE;QACpC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC;;QAEvB,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACjC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;QACf,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,KAAK,CAAC,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxD,KAAK,CAAC,iBAAiB,CAAC,SAAS,GAAG,4BAA4B,CAAC;QACjE,KAAK,CAAC,iBAAiB,CAAC,QAAQ,GAAG,CAAC,CAAC;QACrC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,6BAA6B,CAAC;QACzD,KAAK,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QAC/D,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACxC,KAAK,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;QAClE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE;YAClD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE;gBAC1B,KAAK,CAAC,IAAI,EAAE,CAAC;aAChB;SACJ,CAAC,CAAC;QACH,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,CAAC,CAAC,QAAQ,EAAE;gBACZ,KAAK,CAAC,UAAU,EAAE,CAAC;aACtB;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC;QAClF,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;QAC7B,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,EAAE,WAAW,EAAE;QAC7D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,WAAW,CAAC,IAAI,CAAC,iBAAiB,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnE;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,GAAG,CAAC;KACnB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC,iBAAiB,CAAC;KACjC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE,KAAK,EAAE;;QAE7D,IAAI,CAAC,eAAe,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC1E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;;;QAGvC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;SAClC;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACxB;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACnD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO;gBACH,QAAQ,EAAE,IAAI,CAAC,eAAe;gBAC9B,UAAU,EAAE;oBACRQ,+BAA6C,CAAC,KAAK;oBACnDA,+BAA6C,CAAC,KAAK;iBACtD;aACJ,CAAC;SACL;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC/C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,WAAW,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3F,WAAW,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KACtF,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE;QAC1D,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,gBAAgB,EAAE,CAAC;KAC3B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACxD,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;KAChC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACvD,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACpE,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QACtG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,GAAG,IAAI,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,CAAC;KACjD,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDR,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,CAAC,EAAE,EAAE,MAAM,EAAE;QAClC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;QACf,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,4BAA4B,CAAC;QACxD,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QACnD,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;QACpD,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAC7B,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,CAAC,CAAC,QAAQ,EAAE;gBACZ,KAAK,CAAC,UAAU,EAAE,CAAC;aACtB;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1D;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,IAAI,CAAC,GAAG,CAAC;KACnB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,UAAU,EAAE;QACtD,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAChD,IAAI,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAChF,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAClD,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;QAC5D,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;QAC5C,IAAI,GAAG,GAAG,gBAAgB,GAAG,eAAe,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,YAAY,CAAC,eAAe,GAAG,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC/F,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;KACjE,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC;QACtF,IAAI,WAAW,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3F,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE;QACxD,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,UAAU,EAAE,CAAC;KACrB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,CAAC,MAAM,CAAC,CAAC,CAAC;;ACrNX;;;;AAIA,AACA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,KAAK,EAAE,2BAA2B,EAAE,iBAAiB,EAAE;QAC7E,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;QACrC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;QACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;QACrD,IAAI,CAAC,wBAAwB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9C,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC;QACnE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,mBAAmB,GAAG,2BAA2B,CAAC;KAC1D;IACD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,EAAE;QACvD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;gBAC3B,OAAO;aACV;YACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE;QAC9D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE;QAC5E,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,oBAAoB,EAAE;QACpE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,mBAAmB,CAAC;SACnC;QACD,GAAG,EAAE,UAAU,kBAAkB,EAAE;YAC/B,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;YAC9C,IAAI,IAAI,CAAC,iBAAiB,GAAG,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;aAC9B;YACD,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACzD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,gBAAgB,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QACjE,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;QACvF,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACzD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,KAAK,EAAE,YAAY,EAAE;QAC/E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrD,IAAI,YAAY,KAAK,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;gBACnD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACtD,MAAM;aACT;SACJ;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC1C,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACrEL;;;;AAIA,IAAIA,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAUA,IAAImB,GAAC,GAAGC,CAAK,CAAC;AACd,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDlB,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,SAAS,EAAE,KAAK,EAAE,YAAY,EAAE;QACvD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,OAAO,GAAGiB,GAAC,CAAC,qBAAqB,CAAC,CAAC;QACzCE,MAAU,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QACrC,KAAK,CAAC,eAAe,GAAGA,MAAU,CAAC,KAAK,CAAC,OAAO,EAAEF,GAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QACtE,IAAI,QAAQ,GAAGE,MAAU,CAAC,KAAK,CAAC,OAAO,EAAEF,GAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC/D,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACpF,KAAK,CAAC,eAAe,GAAG,YAAY,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,qBAAqB,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC;QAC/F,KAAK,CAAC,SAAS,CAAC,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;YACnE,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC;SAChF,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAACZ,qBAAyB,CAAC,KAAK,CAAC,eAAe,EAAEiD,SAAa,CAAC,KAAK,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC,2BAA2B,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1J,KAAK,CAAC,SAAS,CAACjD,qBAAyB,CAAC,QAAQ,EAAEiD,SAAa,CAAC,KAAK,EAAE,YAAY;YACjF,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC;YAC9C,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;SAC5B,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;QACvE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,uBAAuB,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC,CAAC;QACrF,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACnFvB,WAAe,CAAC,KAAK,CAAC,eAAe,EAAE,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;QACxI,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QAC5D,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC5EA,WAAe,CAAC,IAAI,CAAC,eAAe,EAAE,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;QAC1H,IAAI,CAAC,uBAAuB,EAAE,CAAC;KAClC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;QAC9D,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;KACpE,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnD/B,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,CAAC,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;QACnD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,OAAO,GAAGiB,GAAC,CAAC,mBAAmB,CAAC,CAAC;QACvCE,MAAU,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QACrC,KAAK,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;QACtF,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACrC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC,CAAC;QAC1F,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7E,KAAK,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QAClE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACpC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC,CAAC;QACjF,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;QAC5E,KAAK,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1D,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAChC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC;QACzE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;QACxE,OAAO,KAAK,CAAC;KAChB;IACD,eAAe,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC/C,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;KAC3B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,EAAE,EAAE;QACjE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACvB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAChE,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE;QACxD,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;KACrE,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;QACxD,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,GAAG,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACrF,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3C,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;QAC5B,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAC1B,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDnB,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;QACjD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7C,KAAK,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;QACtC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;QACnD,KAAK,CAAC,OAAO,GAAGiB,GAAC,CAAC,kBAAkB,CAAC,CAAC;QACtCE,MAAU,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;;QAErC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,KAAK,CAAC,MAAM,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAC1CA,MAAU,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;;QAExC,KAAK,CAAC,SAAS,GAAGF,GAAC,CAAC,uBAAuB,CAAC,CAAC;QAC7CE,MAAU,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;QAC3C,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,KAAK,CAAC,SAAS,CAACd,qBAAyB,CAAC,KAAK,CAAC,OAAO,EAAEiD,SAAa,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7E,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,OAAO,KAAK,CAAC;KAChB;IACD,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,sBAAsB,EAAE,CAAC,CAAC;QAC5D,IAAI,MAAM,GAAGzC,sBAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,SAAS,EAAE;YAC7B,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;SAClD;QACD,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,uBAAuB,EAAE,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/L,IAAI,eAAe,GAAGR,qBAAyB,CAAC,QAAQ,EAAEiD,SAAa,CAAC,QAAQ,EAAE,YAAY;YAC1F,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC7B,eAAe,CAAC,OAAO,EAAE,CAAC;YAC1B,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACnC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;SACxB,EAAE,IAAI,CAAC,CAAC;KACZ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,IAAI,EAAE,GAAG,EAAE;QAC/D,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KAC1C,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACzC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;QACnD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;KACvC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACjC,IAAI,cAAc,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1D,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,aAAa,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACzE,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,wBAAwB,CAAC,CAAC;QACxD,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE,0BAA0B,CAAC,CAAC;QAC5D,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,wBAAwB,CAAC,CAAC;QACxD,IAAI,aAAa,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC1E,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;QAClD,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;QAClD,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtD,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACxD,GAAG,CAAC,IAAI,EAAE,CAAC;QACX,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;QAC9B,GAAG,CAAC,IAAI,EAAE,CAAC;QACX,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;QAC9B,GAAG,CAAC,IAAI,EAAE,CAAC;KACd,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACrD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACnE,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACnD,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE;YAC7C,OAAO;SACV;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,IAAI,KAAK,kBAAkB,UAAU,MAAM,EAAE;IACzCtD,WAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACzB,SAAS,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE;QAC7B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7C,KAAK,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE,CAAC;QACtC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;QACnD,KAAK,CAAC,OAAO,GAAGmB,MAAU,CAAC,SAAS,EAAEF,GAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnD,KAAK,CAAC,OAAO,GAAGE,MAAU,CAAC,KAAK,CAAC,OAAO,EAAEF,GAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QACzD,KAAK,CAAC,MAAM,GAAGE,MAAU,CAAC,KAAK,CAAC,OAAO,EAAEF,GAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACvD,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;QAC/B,KAAK,CAAC,SAAS,CAACZ,qBAAyB,CAAC,KAAK,CAAC,OAAO,EAAEiD,SAAa,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnI,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,OAAO,KAAK,CAAC;KAChB;IACD,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACjC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;KACpC,CAAC;IACF,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;QACvC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,sBAAsB,EAAE,CAAC,CAAC;QAC3D,IAAI,MAAM,GAAGzC,sBAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtDT,QAAY,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;YAC1B,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;SAClC;QACD,OAAO,CAAC,eAAe,CAAC,uBAAuB,EAAE,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC;QAC3J,IAAI,eAAe,GAAGC,qBAAyB,CAAC,QAAQ,EAAEiD,SAAa,CAAC,QAAQ,EAAE,YAAY;YAC1F,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC7B,eAAe,CAAC,OAAO,EAAE,CAAC;YAC1B,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC7BhD,WAAe,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;SAC9C,EAAE,IAAI,CAAC,CAAC;KACZ,CAAC;IACF,KAAK,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACjC,CAAC;IACF,KAAK,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KAC5D,CAAC;IACF,OAAO,KAAK,CAAC;CAChB,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDN,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE;QACpC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC;QACxDI,QAAY,CAAC,KAAK,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;QAC7C,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;QACvE,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1C,OAAO,KAAK,CAAC;KAChB;IACD,YAAY,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,EAAE,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAClD,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,6BAA6B,GAAG,MAAM,GAAG,OAAO,GAAG,WAAW,GAAG,QAAQ,CAAC;KAC7G,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC/C,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;KACvB,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,KAAK,CAAC,CAAC,CAAC;AACV,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5CJ,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,CAAC,SAAS,EAAE,KAAK,EAAE;QAChC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC;QACxDI,QAAY,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACzC,OAAO,KAAK,CAAC;KAChB;IACD,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAC3C,OAAO,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;KACnC,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC,KAAK,CAAC,CAAC,CAAC;AACV,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDJ,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,EAAE;QACnE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9E,IAAI,OAAO,GAAGiB,GAAC,CAAC,qBAAqB,CAAC,CAAC;QACvC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,MAAM,GAAG,IAAI,iBAAiB,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QACvE,KAAK,CAAC,IAAI,GAAG,IAAI,eAAe,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;QACzE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACxB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5B,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,OAAO,iBAAiB,CAAC,EAAE,CAAC;KAC/B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC7C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;KACtB,CAAC;IACF,iBAAiB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IAC1D,OAAO,iBAAiB,CAAC;CAC5B,CAAC,MAAM,CAAC,CAAC,CAAC;;ACzSX;;;;AAIA,AACA,IAAIjB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAiBA,IAAImB,GAAC,GAAGC,CAAK,CAAC;AACd,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAACX,QAAK,EAAE,KAAK,EAAE,QAAQ,EAAE;QACxC,IAAI,CAAC,KAAK,GAAGA,QAAK,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC5B;IACD,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,MAAM,EAAE;QAClC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB;IACD,oBAAoB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAUA,QAAK,EAAE;QACvD,IAAI,CAAC,MAAM,GAAGA,QAAK,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACrB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACrD,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACrB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YACnC,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;SAC5B;QACD,OAAO,QAAQ,CAAC,KAAK,EAAE,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;KAC9F,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;QAC7C,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,EAAE;;YAErD,OAAO,EAAE,CAAC;SACb;QACD,IAAI,aAAa,GAAG,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QACrE,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;QAClE,IAAI,YAAY,GAAG,KAAK,CAAC;QACzB,IAAI,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YAC1C,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,KAAK,UAAU,IAAI,CAAC,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC;YACrF,IAAI,SAAS,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,KAAK,UAAU,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;YACvF,IAAI,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS,EAAE;gBAC9E,OAAO,IAAI,CAAC;aACf;YACD,IAAIA,QAAK,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;YAC1G,IAAI,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACvE,IAAI,CAAC,YAAY,IAAI,SAAS,EAAE;gBAC5B,YAAY,GAAG,IAAI,CAAC;gBACpB,IAAI,EAAE,GAAG,SAAS,CAAC,SAAS,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC;gBACnE,OAAO,IAAI,UAAU,CAAC,OAAO,EAAE,KAAK,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC;aAC7D;iBACI;gBACD,IAAI,qBAAqB,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;oBAC/C,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC;gBACtB,IAAI,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE;oBACxB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;wBACvC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;qBAC7C;yBACI;wBACD,QAAQ,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;qBACvC;iBACJ;gBACD,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAEA,QAAK,EAAE,CAAC;aAC/C;SACJ,CAAC,CAAC;QACH,OAAO,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACtD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,MAAM,EAAE,4BAA4B,EAAE;;QAEtF,IAAI,4BAA4B,EAAE;YAC9B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;gBAC3D,IAAI,CAAC,YAAY,UAAU,EAAE;oBACzB,OAAO,CAAC,CAAC,CAAC;iBACb;qBACI,IAAI,CAAC,YAAY,UAAU,EAAE;oBAC9B,OAAO,CAAC,CAAC;iBACZ;gBACD,OAAO,CAAC,CAAC;aACZ,CAAC,CAAC,CAAC;SACP;aACI;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAC9C;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAChC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QACrE,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;KACpE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QAC5D,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,QAAQ,EAAE,CAAC,IAAI,cAAc,EAAE,CAAC,UAAU,CAACR,QAAY,CAAC,2BAA2B,EAAE,YAAY,CAAC,CAAC,CAAC;SACvG,CAAC;KACL,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,MAAM,EAAE,iBAAiB,EAAE,aAAa,EAAE;QACvE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,uBAAuB,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,IAAI,CAAC;QAC1E,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,gBAAgB,GAAGqE,OAAe,CAAC;QACzC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;QACrB,KAAK,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC1D,KAAK,CAAC,qBAAqB,GAAG,EAAE,CAAC;QACjC,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACrC,KAAK,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC5C,iBAAiB,CAAC,oBAAoB,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;QACvF,KAAK,CAAC,eAAe,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QACjM,KAAK,CAAC,SAAS,CAAC,IAAI,CAAClC,6BAAiC,CAAC,KAAK,CAAC,UAAU,EAAE,EAAEmB,SAAa,CAAC,KAAK,EAAE,YAAY;YACxG,IAAI,KAAK,CAAC,YAAY,EAAE;gBACpBlD,QAAY,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,mBAAmB,CAAC,CAAC;aACzD;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC+B,6BAAiC,CAAC,KAAK,CAAC,UAAU,EAAE,EAAEmB,SAAa,CAAC,IAAI,EAAE,YAAY;YACvGhD,WAAe,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,mBAAmB,CAAC,CAAC;SAC5D,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACpD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG+D,OAAe,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QACtE,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,OAAO;SACV;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;;;YAGhB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACpB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;aAChC;SACJ;KACJ,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU9D,QAAK,EAAE,KAAK,EAAE;QACvE,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,CAACA,QAAK,CAAC,EAAE;;YAEvD,OAAO;SACV;QACD,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,SAAS,EAAE;;;;YAIhB,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,KAAKA,QAAK,CAAC,eAAe,EAAE;gBAC3D,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;iBACI;gBACD,IAAI,gBAAgB,GAAG,EAAE,CAAC;gBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBACvD,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC5B,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC;oBACpB,IAAI,GAAG,CAAC,WAAW,IAAIA,QAAK,CAAC,WAAW,IAAI,GAAG,CAAC,SAAS,IAAIA,QAAK,CAAC,SAAS,EAAE;wBAC1E,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC9B;iBACJ;gBACD,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,IAAI,mBAAmB,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;wBACvD,OAAO;qBACV;oBACD,IAAI,CAAC,eAAe,CAACA,QAAK,EAAE,gBAAgB,CAAC,CAAC;iBACjD;qBACI;oBACD,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;aACJ;SACJ;QACD,IAAI,CAAC,UAAU,GAAGA,QAAK,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAACA,QAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;KAChC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;QAC3F,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG8D,OAAe,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC5B,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACjE,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE;QACxE,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACzD;aACI,IAAI,QAAQ,EAAE;YACf,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;KACJ,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,WAAW,EAAE,QAAQ,EAAE;QACjF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;;QAEzB,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,EAAE,cAAc,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,EAAE,mBAAmB,GAAG,IAAI,CAAC;QAClJ,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAC/B,IAAI,mBAAmB,CAAC;QACxB,QAAQ,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;YAC5B,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE;gBACZ,OAAO;aACV;YACD,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAC7D,cAAc,GAAG,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5D,IAAI,EAAE,GAAG,YAAY,UAAU,CAAC,EAAE;gBAC9B,GAAG,CAAC,QAAQ;qBACP,MAAM,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;qBACxE,OAAO,CAAC,UAAU,QAAQ,EAAE;oBAC7B,IAAI,gBAAgB,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBAChE,mBAAmB,GAAG,gBAAgB,CAAC;oBACvC,QAAQ,CAAC,WAAW,CAACpD,GAAC,CAAC,eAAe,EAAE,IAAI,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;oBACzE,mBAAmB,GAAG,KAAK,CAAC;iBAC/B,CAAC,CAAC;aACN;iBACI;gBACD,kBAAkB,GAAG,IAAI,CAAC;gBAC1B,IAAI,EAAE,GAAG,GAAG,CAAC,KAAK,EAAE,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBACrF,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,KAAK,CAAC,CAAC;gBAC/D,IAAI,OAAO,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC9B,IAAI,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBAC7C,IAAI,OAAO,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACxH,IAAI,SAAS,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC;;gBAEvD,IAAI,OAAO,GAAG,IAAI,gBAAgB,CAAC,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBACnD,IAAI,QAAQ,GAAG,IAAI,iBAAiB,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC,aAAa,CAAC,CAAC;gBAC1H,qBAAqB,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,kBAAkB,EAAE;oBAC7F,OAAO,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;oBAChD,IAAI,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACvE,OAAO,CAAC,sBAAsB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;oBACtD,IAAI,iBAAiB,GAAG,YAAY;wBAChC,IAAI,SAAS,CAAC;wBACd,IAAI,QAAQ,CAAC;wBACb,IAAI,OAAO,CAAC,YAAY,CAAC,QAAQ,EAAE;4BAC/B,SAAS,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;4BAC5C,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,EAAE,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;4BAC7N,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;yBAChI;6BACI;4BACD,SAAS,GAAG,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC;4BAC9G,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;yBACrH;wBACD,aAAa,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;wBAC5E,IAAI,OAAO,CAAC,YAAY,CAAC,mBAAmB,EAAE;4BAC1C,SAAS,GAAG,OAAO,CAAC,YAAY,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;4BAC7D,aAAa,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;4BAC5E,KAAK,CAAC,IAAI,EAAE,CAAC;yBAChB;wBACD,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;wBAC7B,OAAO,GAAG,QAAQ,CAAC;qBACtB,CAAC;oBACF,IAAI,wBAAwB,GAAG,UAAU,KAAK,EAAE;wBAC5C,OAAO,qBAAqB,CAAC,aAAa,EAAE;4BACxC,KAAK,EAAE,OAAO;4BACd,KAAK,EAAE;gCACH,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG;gCACvB,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG;gCACzB,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG;gCACxB,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;6BACtB;yBACJ,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,kBAAkB,EAAE;4BAChD,OAAO,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;yBACnD,CAAC,CAAC;qBACN,CAAC;oBACF,IAAI,aAAa,GAAG,OAAO,CAAC,cAAc,CAAC,UAAU,KAAK,EAAE;wBACxD,wBAAwB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;qBAC3D,CAAC,CAAC;oBACH,IAAI,mBAAmB,GAAG,OAAO,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;oBAC7E,KAAK,CAAC,YAAY,GAAG,QAAQ,CAAC;oBAC9B,KAAK,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,WAAW,CAAC,eAAe,EAAE,YAAY,CAAC,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;oBAC1F,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;oBAC/B,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;oBAC5B,KAAK,CAAC,gBAAgB,GAAG,kBAAkB,CAAC,CAAC,aAAa,EAAE,mBAAmB,EAAE,QAAQ,EAAE,mBAAmB,CAAC,CAAC,CAAC;iBACpH,CAAC,CAAC;aACN;SACJ,CAAC,CAAC;;QAEH,IAAI,CAAC,kBAAkB,IAAI,CAAC,mBAAmB,EAAE;YAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,WAAW,CAAC,eAAe,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACxF,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAChF,KAAK,EAAE,cAAc;gBACrB,OAAO,EAAE,uBAAuB,CAAC,mBAAmB;aACvD,CAAC,CAAC,CAAC;QACR,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;KACvC,CAAC;IACF,uBAAuB,CAAC,EAAE,GAAG,wCAAwC,CAAC;IACtE,uBAAuB,CAAC,mBAAmB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC1E,SAAS,EAAE,gBAAgB;KAC9B,CAAC,CAAC;IACH,OAAO,uBAAuB,CAAC;CAClC,CAAC,kBAAkB,CAAC,CAAC,CAAC;AACvB,AACA,SAAS,mBAAmB,CAACqD,QAAK,EAAE,MAAM,EAAE;IACxC,IAAI,CAAC,CAACA,QAAK,IAAI,MAAM,MAAMA,QAAK,IAAI,CAAC,MAAM,CAAC,IAAIA,QAAK,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE;QAC5E,OAAO,KAAK,CAAC;KAChB;IACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAGA,QAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACnC,IAAI,YAAY,GAAGA,QAAK,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,aAAa,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,YAAY,YAAY,UAAU,EAAE;YACpC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,aAAa,YAAY,UAAU,EAAE;YACrC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,QAAQ,EAAE,aAAa,CAAC,QAAQ,CAAC,EAAE;YACrE,OAAO,KAAK,CAAC;SAChB;KACJ;IACD,OAAO,IAAI,CAAC;CACf;;AC3WD;;;;AAIA,AACA,IAAItE,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAKA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,MAAM,EAAE;QAC5B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;KACzB;IACD,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE;QAC3D,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACrB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC/C,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACrB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC/C,IAAI,cAAc,GAAG,UAAU,QAAQ,EAAE;YACrC,OAAO;gBACH,KAAK,EAAE,QAAQ;aAClB,CAAC;SACL,CAAC;QACF,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxE,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACxD,IAAI,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE;gBACjC,SAAS;aACZ;YACD,IAAI,YAAY,GAAG,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC;YACrD,IAAI,qBAAqB,CAAC,YAAY,CAAC,EAAE;gBACrC,SAAS;aACZ;YACD,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;gBAC7B,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;aAC5D;iBACI;gBACD,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC;aAC7C;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,MAAM,EAAE,4BAA4B,EAAE;QAChF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KAC9C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QAC/D,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC;KAC3B,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDE,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,CAAC,MAAM,EAAE,gBAAgB,EAAE;QACrD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,qBAAqB,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,IAAI,CAAC;QACxE,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;QAC3B,KAAK,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;QAC3C,KAAK,CAAC,SAAS,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACpD,KAAK,CAAC,eAAe,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACpL,OAAO,KAAK,CAAC;KAChB;IACD,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClD,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC7D,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QACpE,IAAI,IAAI,CAAC,SAAS,EAAE;;;YAGhB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;SAChC;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;QACnE,IAAI,IAAI,CAAC,eAAe,KAAK,UAAU,EAAE;;YAErC,OAAO;SACV;QACD,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;KAChC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC/C,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,MAAM,EAAE;QAC5D,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SAC9D;aACI;YACD,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;KACJ,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE,QAAQ,EAAE;QAC9E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,IAAI,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;QACjD,QAAQ,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;YAC5B,IAAI,gBAAgB,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACjE,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACjD,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,EAAE,IAAI,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;SAC5E,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;KAC3B,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,sCAAsC,CAAC;IAClE,OAAO,qBAAqB,CAAC;CAChC,CAAC,gBAAgB,CAAC,CAAC,CAAC;;ACrIrB;;;;AAIA,AACA,IAAIS,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AASA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,OAAO,EAAE,YAAY,EAAE,cAAc,EAAE;QAC7D,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,iBAAiB,CAAC,EAAE;QACtE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,qBAAqB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC3C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC;KAChE;IACD,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,YAAY,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO;YACH,iBAAiB,EAAE,UAAU,aAAa,EAAE,KAAK,EAAE;;;;gBAI/C,IAAI,MAAM,GAAG,aAAa;sBACpB,KAAK,CAAC,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC;sBAC1D,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CAAC,QAAQ,CAAC;gBAChE,OAAO,KAAK,CAAC,YAAY,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;oBAChE,OAAO,gBAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;iBAC1C,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;oBACpB,OAAO,6BAA6B,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,GAAG,SAAS,CAAC;iBAC1H,CAAC,CAAC;aACN;YACD,uBAAuB,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,qBAAqB,CAAC,IAAI,EAAE,CAAC,EAAE;YACnF,aAAa,EAAE;gBACX,QAAQ,EAAE,UAAU,OAAO,EAAE;oBACzB,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,iBAAiB,CAAC,CAAC;iBACjF;gBACD,YAAY,EAAE,YAAY;aAC7B;SACJ,CAAC;KACL,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE;QACpD,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,OAAO,CAAC;QACZ,IAAI,CAAC,QAAQ,EAAE;YACX,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;SAC5C;aACI;YACD,OAAO,GAAG,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC;SACrE;QACD,OAAO;YACH,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE;SACzD,CAAC;KACL,CAAC;IACF,gBAAgB,GAAGW,YAAU,CAAC;QAC1BC,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;QACxBA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,cAAc,CAAC,CAAC;KACvC,EAAE,gBAAgB,CAAC,CAAC;IACrB,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;AC5EL;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAgBA,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,MAAM,EAAE,cAAc,EAAE,YAAY,EAAE,aAAa,EAAE;QAC/E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,KAAK,EAAE;YAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1F,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACjG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,0BAA0B,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1H,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;gBAC5D,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,iBAAiB,EAAE;oBAC3C,KAAK,CAAC,YAAY,EAAE,CAAC;iBACxB;aACJ,CAAC,CAAC,CAAC;SACP;KACJ;IACD,MAAM,CAAC,cAAc,CAAC,oBAAoB,CAAC,SAAS,EAAE,eAAe,EAAE;QACnE,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC7B;YACD,OAAO,IAAI,CAAC,cAAc,CAAC;SAC9B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,oBAAoB,CAAC,SAAS,EAAE,aAAa,EAAE;QACjE,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACpB,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC7B;YACD,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,oBAAoB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACzC,OAAO,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;KAC1D,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,0BAA0B,GAAG,YAAY;QACpE,IAAI,CAAC,aAAa,CAAC,yBAAyB,EAAE,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,yBAAyB,EAAE,CAAC;KAChD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE;QACtE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC;QACxC,IAAI,UAAU,KAAK,eAAe,CAAC,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,uBAAuB,CAAC,EAAE,EAAE;YAC1G,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;YAE1B,OAAO;SACV;QACD,IAAI,UAAU,KAAK,eAAe,CAAC,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,qBAAqB,CAAC,EAAE,EAAE;;YAExG,OAAO;SACV;QACD,IAAI,UAAU,KAAK,eAAe,CAAC,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,qBAAqB,CAAC,EAAE,EAAE;YACxG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC9B;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,UAAU,EAAE;QACpE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;KAC7B,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE;QACtE,IAAI,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC;QACxC,IAAI,OAAO,GAAGqE,WAAoB,GAAG,SAAS,GAAG,SAAS,CAAC;QAC3D,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE,EAAE;YACtF,OAAO;SACV;QACD,IAAI,UAAU,KAAK,eAAe,CAAC,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,uBAAuB,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;;YAExI,OAAO;SACV;QACD,IAAI,UAAU,KAAK,eAAe,CAAC,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,qBAAqB,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;;YAEtI,OAAO;SACV;QACD,IAAI,UAAU,KAAK,eAAe,CAAC,aAAa,EAAE;YAC9C,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,8BAA8B,GAAG,CAAC,CAAC;YAC1F,IAAI,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC;YACpC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,OAAO,IAAI,CAAC,wBAAwB,KAAK,QAAQ,IAAI,IAAI,CAAC,wBAAwB,GAAG,OAAO,EAAE;;gBAE5H,UAAU,GAAG,eAAe,CAAC,YAAY,CAAC;aAC7C;SACJ;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,KAAK,IAAI,UAAU,KAAK,eAAe,CAAC,YAAY,EAAE;YAClG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACrE;aACI,IAAI,UAAU,KAAK,eAAe,CAAC,mBAAmB,EAAE;YACzD,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SAC1E;aACI;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,CAAC,EAAE;QACrD,IAAI,CAAC,CAAC,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,OAAO,KAAK,EAAE,aAAa;;YAExF,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACtD,IAAI,CAAC,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC,EAAE;YACjH,OAAO;SACV;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;KAC9B,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QAC5D,IAAI,QAAQ,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1F,IAAI,CAAC,cAAc,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC9F,IAAI,CAAC,YAAY,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KACzE,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU5D,QAAK,EAAE,KAAK,EAAE;QACtE,IAAI,CAAC,aAAa,CAAC,cAAc,CAACA,QAAK,EAAE,KAAK,CAAC,CAAC;KACnD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;KACJ,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,sBAAsB,CAAC;IACjD,oBAAoB,GAAGE,YAAU,CAAC;QAC9BC,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;QACxBA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;KAC5B,EAAE,oBAAoB,CAAC,CAAC;IACzB,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDV,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,yBAAyB;YAC7B,KAAK,EAAED,QAAY,CAAC;gBAChB,GAAG,EAAE,WAAW;gBAChB,OAAO,EAAE;oBACL,0EAA0E;oBAC1E,kEAAkE;iBACrE;aACJ,EAAE,YAAY,CAAC;YAChB,KAAK,EAAE,YAAY;YACnB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAI,QAAQ,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QACpC,IAAIQ,QAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;QAClG,UAAU,CAAC,gBAAgB,CAACA,QAAK,EAAE,IAAI,CAAC,CAAC;KAC5C,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,0BAA0B,CAAC,oBAAoB,CAAC,CAAC;AACjD,oBAAoB,CAAC,eAAe,CAAC,CAAC;;AAEtC,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,yBAAyB,GAAG,KAAK,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;IACrE,IAAI,yBAAyB,EAAE;QAC3B,SAAS,CAAC,OAAO,CAAC,qDAAqD,GAAG,yBAAyB,GAAG,KAAK,CAAC,CAAC;KAChH;IACD,IAAI,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;IAC5D,IAAI,eAAe,EAAE;QACjB,SAAS,CAAC,OAAO,CAAC,0DAA0D,GAAG,eAAe,GAAG,KAAK,CAAC,CAAC;KAC3G;IACD,IAAI,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;IACpD,IAAI,WAAW,EAAE;QACb,SAAS,CAAC,OAAO,CAAC,0DAA0D,GAAG,WAAW,GAAG,KAAK,CAAC,CAAC;QACpG,SAAS,CAAC,OAAO,CAAC,uGAAuG,GAAG,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;KACrK;IACD,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAC9C,IAAI,IAAI,EAAE;QACN,SAAS,CAAC,OAAO,CAAC,iDAAiD,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;KACvF;IACD,IAAI,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;IAC7D,IAAI,cAAc,EAAE;QAChB,SAAS,CAAC,OAAO,CAAC,+DAA+D,GAAG,cAAc,GAAG,KAAK,CAAC,CAAC;KAC/G;CACJ,CAAC,CAAC;;ACrPH;;;;AAIA,AAEA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE;QAC/D,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;QAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;KACrB;IACD,qBAAqB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QAC1E,OAAO,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAChE,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QAC1E,IAAI,qBAAqB,GAAG,MAAM,CAAC,wBAAwB,EAAE,CAAC;QAC9D,IAAI,QAAQ,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAE;;YAEpC,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;SACpI;QACD,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,QAAQ,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;KACpN,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;;ACzBL;;;;AAIA,AACA,IAAIP,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAYA,IAAI,wBAAwB,kBAAkB,YAAY;IACtD,SAAS,wBAAwB,CAAC,MAAM,EAAE,mBAAmB,EAAE;QAC3D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;KAC3B;IACD,wBAAwB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC7C,OAAO,MAAM,CAAC,eAAe,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;KACxD,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnD,OAAO,wBAAwB,CAAC,EAAE,CAAC;KACtC,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE,EAAE,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;QAC7B,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC;QACjG,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;;YAEvD,OAAO,IAAI,CAAC;SACf;QACD,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,eAAe,CAAC,gBAAgB,CAAC;QAC3E,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE;YACzD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;SAC3C;aACI;YACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;YACzF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,WAAW,EAAE;gBAClE,IAAI,WAAW,IAAI,WAAW,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK,EAAE;oBACvD,OAAO,WAAW,CAAC;iBACtB;gBACD,OAAO,IAAI,CAAC;aACf,CAAC,CAAC;SACN;QACD,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YAC9C,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;;gBAE3C,OAAO;aACV;YACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;;gBAE/B,OAAO;aACV;;YAED,IAAI,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,cAAc,GAAG,MAAM,CAAC,KAAK,EAAE,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,WAAW,CAAC,CAAC;;YAEpJ,cAAc,GAAG;gBACb,eAAe,EAAE,cAAc,CAAC,eAAe;gBAC/C,WAAW,EAAE,cAAc,CAAC,WAAW;gBACvC,aAAa,EAAE,cAAc,CAAC,aAAa;gBAC3C,SAAS,EAAE,cAAc,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM;aAC9D,CAAC;YACF,IAAI,IAAI,GAAG,CAAC,EAAE;gBACV,SAAS,GAAG,IAAI,SAAS,CAAC,SAAS,CAAC,eAAe,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;aACxI;;YAED,IAAI,OAAO,GAAG,IAAI,qBAAqB,CAAC,SAAS,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YAC5E,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;YAC5B,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAC7C,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;;YAE5B,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;oBAClE,KAAK,EAAE,cAAc;oBACrB,OAAO,EAAE,wBAAwB,CAAC,UAAU;iBAC/C,CAAC,CAAC,CAAC;;YAER,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;YACjC,KAAK,CAAC,iBAAiB,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAChD,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY;gBACrC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;aAChF,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,wBAAwB,CAAC,EAAE,GAAG,yCAAyC,CAAC;IACxE,wBAAwB,CAAC,UAAU,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAClE,SAAS,EAAE,qBAAqB;KACnC,CAAC,CAAC;IACH,wBAAwB,GAAGW,YAAU,CAAC;QAClCC,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,wBAAwB,CAAC,CAAC;IAC7B,OAAO,wBAAwB,CAAC;CACnC,EAAE,CAAC,CAAC;AACL,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDV,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,GAAG;QACxB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,qCAAqC,EAAE,6BAA6B,CAAC;YACzF,KAAK,EAAE,6BAA6B;YACpC,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACzD,IAAI,UAAU,GAAG,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;KACxC,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDC,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,mCAAmC;YACvC,KAAK,EAAED,QAAY,CAAC,iCAAiC,EAAE,yBAAyB,CAAC;YACjF,KAAK,EAAE,yBAAyB;YAChC,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,UAAU,GAAG,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;KACzC,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;AACrD,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;AACvC,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;AACzC,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;IACtD,IAAI,MAAM,EAAE;QACR,SAAS,CAAC,OAAO,CAAC,8DAA8D,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;KACtG;CACJ,CAAC,CAAC;;AChLH;;;;AAIA,AAGA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,SAAS,EAAE,UAAU,EAAE;QAC7C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAChC;IACD,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACrE,IAAI,EAAE,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3D,IAAI,EAAE,EAAE;YACJ,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;SAC/C;QACD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC7D,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACrE,OAAO,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACvD,CAAC;IACF,gBAAgB,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE;QAC9D,IAAI,IAAI,GAAG,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,KAAK,CAAC;SAChB;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBAClC,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,SAAS,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE;IAC/C,IAAI,eAAe,GAAG,SAAS,CAAC,eAAe,CAAC;IAChD,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;IAC5C,IAAI,SAAS,CAAC,SAAS,KAAK,CAAC,EAAE;QAC3B,aAAa,EAAE,CAAC;KACnB;;IAED,IAAI,eAAe,IAAI,aAAa,EAAE;QAClC,OAAO,IAAI,CAAC;KACf;IACD,IAAI,WAAW,GAAG,EAAE,CAAC;;IAErB,KAAK,IAAI,UAAU,GAAG,eAAe,EAAE,UAAU,IAAI,aAAa,EAAE,UAAU,EAAE,EAAE;QAC9E,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;KACtD;IACD,IAAI,MAAM,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAClC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;QACxB,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;KACzD,CAAC,CAAC;;IAEH,IAAI,UAAU,KAAK,IAAI,EAAE;QACrB,MAAM,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;KAC7B;IACD,OAAO;QACH,eAAe,EAAE,eAAe;QAChC,aAAa,EAAE,aAAa;QAC5B,MAAM,EAAE,WAAW;QACnB,KAAK,EAAE,MAAM;KAChB,CAAC;CACL;;;;AAID,SAAS,SAAS,CAAC,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE;IAC7C,IAAI,IAAI,GAAG,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;IACrD,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,IAAI,CAAC;KACf;IACD,OAAO,aAAa,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;CAC3J;;AC5ED;;;;AAIA,AAIA,IAAI,6BAA6B,kBAAkB,YAAY;IAC3D,SAAS,6BAA6B,CAAC,SAAS,EAAE,OAAO,EAAE;QACvD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;IACD,6BAA6B,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QAClF,IAAI,GAAG,GAAG,sBAAsB,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACtD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAChB,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;SAC/C;QACD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC7D,CAAC;IACF,6BAA6B,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QAClF,OAAO,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACvD,CAAC;IACF,OAAO,6BAA6B,CAAC;CACxC,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,AAAO,SAAS,sBAAsB,CAAC,KAAK,EAAE,OAAO,EAAE;;IAEnD,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;QACzB,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,EAAE;YAC/B,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;SAC9B;QACD,OAAO,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;KACtC,CAAC,CAAC;;IAEH,KAAK,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,KAAK,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,EAAE;;YAErD,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACxB;KACJ;IACD,IAAI,CAAC,GAAG,EAAE,CAAC;IACX,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,WAAW,GAAG,CAAC,CAAC;IACpB,IAAI,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC;IAC/B,KAAK,IAAI,UAAU,GAAG,CAAC,EAAE,SAAS,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE,UAAU,IAAI,SAAS,EAAE,UAAU,EAAE,EAAE;QAC9F,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,aAAa,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3C,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,IAAI,WAAW,GAAG,SAAS,IAAI,OAAO,CAAC,WAAW,CAAC,CAAC,UAAU,KAAK,UAAU,EAAE;YAC3E,aAAa,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;YAC5C,WAAW,EAAE,CAAC;YACd,IAAI,aAAa,KAAK,aAAa,EAAE;;gBAEjC,SAAS;aACZ;SACJ;QACD,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,SAAS;SACZ;QACD,IAAIwE,yBAAsB,GAAGC,sBAA8B,CAAC,WAAW,CAAC,CAAC;QACzE,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAID,yBAAsB,KAAK,CAAC,CAAC,EAAE;;YAE/B,UAAU,GAAG,CAAC,CAAC;SAClB;aACI,IAAIA,yBAAsB,KAAK,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;YAExD,UAAU,GAAGA,yBAAsB,GAAG,CAAC,CAAC;SAC3C;aACI;;YAED,SAAS;SACZ;QACD,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QACjD,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,CAAC,CAAC,CAAC;KAClG;IACD,OAAO,CAAC,CAAC;CACZ;;AClFD;;;;AAIA,AAGA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,SAAS,EAAE,aAAa,EAAE;QAChD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;KACvC;IACD,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACrE,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QACxB,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;QAC/B,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,KAAK,CAAC,EAAE;YAC1D,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;YAC7B,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;SAC1F;QACD,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YACvD,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7C;QACD,IAAI,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,UAAU,KAAK,EAAE,EAAE;;YAEnB,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC9B;SACJ;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,GAAG,UAAU,CAAC,CAAC;SAC9K;aACI;YACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE,UAAU,GAAG,IAAI,CAAC,CAAC;SACtG;QACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;KAC7D,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACrE,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,qBAAqB,KAAK,CAAC,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;YACpE,IAAI,eAAe,GAAG,MAAM,CAAC,eAAe,EAAE,WAAW,GAAG,MAAM,CAAC,WAAW,EAAE,aAAa,GAAG,MAAM,CAAC,aAAa,EAAE,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;YACnJ,IAAI,IAAI,CAAC,qBAAqB,KAAK,CAAC,EAAE;gBAClC,eAAe,GAAG,eAAe,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBAC/D,WAAW,GAAG,CAAC,CAAC;aACnB;YACD,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;gBAChC,aAAa,GAAG,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBACzD,SAAS,GAAG,CAAC,CAAC;aACjB;YACD,MAAM,GAAG,SAAS,CAAC,mBAAmB,CAAC,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAC5H;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;AC1DL;;;;AAIA,AAGA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,eAAe,EAAE,aAAa,EAAE,qBAAqB,EAAE;QAC/E,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;KACtD;IACD,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACvE,IAAI,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;;YAE/D,OAAO;SACV;QACD,IAAI,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACvC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,aAAa,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE;YACtC,aAAa,IAAI,CAAC,CAAC;YACnB,SAAS,GAAG,CAAC,CAAC;SACjB;aACI,IAAI,eAAe,GAAG,CAAC,EAAE;YAC1B,eAAe,IAAI,CAAC,CAAC;YACrB,WAAW,GAAG,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;SACzD;QACD,OAAO,CAAC,uBAAuB,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,CAAC,EAAE,IAAI,CAAC,CAAC;KAC5G,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACvE,IAAI,qBAAqB,GAAG,MAAM,CAAC,wBAAwB,EAAE,CAAC;QAC9D,IAAI,QAAQ,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9C,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,qBAAqB,EAAE,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;KAChI,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;;ACtCL;;;;AAIA,AAAO,SAAS,WAAW,CAAC,GAAG,EAAE,OAAO,EAAE;IACtC,IAAI,SAAS,GAAG,CAAC,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACjC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;YACxB,SAAS,IAAI,OAAO,CAAC;SACxB;aACI;YACD,SAAS,EAAE,CAAC;SACf;KACJ;IACD,OAAO,SAAS,CAAC;CACpB;AACD,AAAO,SAAS,cAAc,CAAC,SAAS,EAAE,OAAO,EAAE,YAAY,EAAE;IAC7D,SAAS,GAAG,SAAS,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;IAC1C,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,YAAY,EAAE;QACf,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC,CAAC;QAC9C,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC;QAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;YAC9B,MAAM,IAAI,IAAI,CAAC;SAClB;KACJ;IACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;QAChC,MAAM,IAAI,GAAG,CAAC;KACjB;IACD,OAAO,MAAM,CAAC;CACjB;;AC9BD;;;;AAIA,AAQA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,SAAS,EAAE,YAAY,EAAE,UAAU,EAAE;QAC3D,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;KAC5C;IACD,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACrE,IAAI,cAAc,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,CAAC,aAAa,KAAK,cAAc,EAAE;YACxE,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,KAAK,CAAC,EAAE;YAC9D,OAAO;SACV;QACD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QACxB,IAAI,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,KAAK,CAAC,EAAE;YAC1D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;SAC1F;QACD,IAAI,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC;QACzC,IAAI,YAAY,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,YAAY,CAAC;QACnD,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,YAAY,GAAG;YACf,aAAa,EAAE,UAAU,UAAU,EAAE;gBACjC,OAAO,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aAC1C;YACD,qBAAqB,EAAE,YAAY;gBAC/B,OAAO,KAAK,CAAC,qBAAqB,EAAE,CAAC;aACxC;YACD,uBAAuB,EAAE,UAAU,UAAU,EAAE,MAAM,EAAE;gBACnD,OAAO,KAAK,CAAC,uBAAuB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;aAC5D;YACD,cAAc,EAAE,IAAI;SACvB,CAAC;QACF,IAAI,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,aAAa,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;;YAE1F,IAAI,UAAU,GAAG,CAAC,CAAC,eAAe,CAAC;YACnC,IAAI,eAAe,IAAI,IAAI,CAAC,aAAa,GAAG,UAAU,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,CAAC,CAAC;YAC7E,IAAI,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;;;gBAG/C,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;aACzD;iBACI;;gBAED,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC;;gBAEzG,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,eAAe,EAAE,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;aAC3H;;YAED,CAAC,GAAG,IAAI,SAAS,CAAC,eAAe,EAAE,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;SAC7D;aACI;YACD,IAAI,gBAAgB,EAAE,cAAc,CAAC;YACrC,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,gBAAgB,GAAG,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC;gBACvC,cAAc,GAAG,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;;gBAExD,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,gBAAgB,GAAG,CAAC,EAAE,KAAK,CAAC,gBAAgB,CAAC,gBAAgB,GAAG,CAAC,CAAC,EAAE,gBAAgB,EAAE,KAAK,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC1K,IAAI,eAAe,GAAG,cAAc,CAAC;gBACrC,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE;oBACjC,IAAI,qBAAqB,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;;oBAE1H,IAAI,qBAAqB,KAAK,IAAI,EAAE;wBAChC,IAAI,cAAc,GAAGE,oBAA4B,CAAC,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBAC1F,IAAI,WAAW,GAAG,qBAAqB,GAAGC,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;wBAC1F,IAAI,cAAc,GAAGC,cAAyB,CAAC,WAAW,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;wBACnF,eAAe,GAAG,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;qBACpE;yBACI;;wBAED,YAAY,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;4BAChD,IAAI,UAAU,KAAK,CAAC,CAAC,eAAe,EAAE;gCAClC,OAAO,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;6BACjD;iCACI;gCACD,OAAO,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;6BAC3C;yBACJ,CAAC;wBACF,IAAI,kBAAkB,GAAG,6BAA6B,CAAC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC,uBAAuB,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;wBAClL,IAAI,kBAAkB,KAAK,IAAI,EAAE;4BAC7B,IAAI,cAAc,GAAGF,oBAA4B,CAAC,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;4BAC1F,IAAI,WAAW,GAAGC,WAAsB,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;4BACtE,IAAI,WAAW,GAAGA,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;4BAClE,IAAI,WAAW,KAAK,WAAW,EAAE;gCAC7B,IAAI,cAAc,GAAGC,cAAyB,CAAC,WAAW,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;gCACnF,eAAe,GAAG,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;6BACpE;yBACJ;qBACJ;;;oBAGD,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE,eAAe,GAAG,IAAI,CAAC,CAAC;oBACxG,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;;oBAEtH,IAAI,GAAG,KAAK,IAAI,EAAE;wBACd,IAAI,GAAG,KAAK,CAAC,EAAE;4BACX,IAAI,CAAC,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;yBACnF;qBACJ;yBACI;;wBAED,YAAY,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;4BAChD,IAAI,UAAU,KAAK,CAAC,CAAC,eAAe,EAAE;gCAClC,OAAO,eAAe,CAAC;6BAC1B;iCACI,IAAI,UAAU,IAAI,CAAC,CAAC,eAAe,GAAG,CAAC,IAAI,UAAU,IAAI,CAAC,CAAC,aAAa,GAAG,CAAC,EAAE;gCAC/E,OAAO,KAAK,CAAC,cAAc,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;6BAC/C;iCACI;gCACD,OAAO,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;6BAC3C;yBACJ,CAAC;wBACF,IAAI,wBAAwB,GAAG,6BAA6B,CAAC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC,uBAAuB,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,EAAE,eAAe,CAAC,CAAC;wBAC5L,IAAI,wBAAwB,KAAK,IAAI,EAAE;4BACnC,IAAI,cAAc,GAAGF,oBAA4B,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;4BAC3F,IAAI,WAAW,GAAGC,WAAsB,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;4BAC5E,IAAI,WAAW,GAAGA,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;4BAClE,IAAI,WAAW,KAAK,WAAW,EAAE;gCAC7B,IAAI,cAAc,GAAG,WAAW,GAAG,WAAW,CAAC;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;6BAC9F;yBACJ;qBACJ;iBACJ;qBACI;;oBAED,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE,eAAe,GAAG,IAAI,CAAC,CAAC;iBAC3G;aACJ;iBACI;gBACD,gBAAgB,GAAG,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;gBACzC,cAAc,GAAG,KAAK,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;;gBAExD,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,gBAAgB,EAAE,CAAC,EAAE,gBAAgB,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;;gBAExF,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,aAAa,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,GAAG,cAAc,CAAC,CAAC;gBAC/K,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE;oBACjC,YAAY,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;wBAChD,IAAI,UAAU,KAAK,gBAAgB,EAAE;4BACjC,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC;yBAClD;6BACI;4BACD,OAAO,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;yBAC3C;qBACJ,CAAC;oBACF,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;;oBAEzG,IAAI,GAAG,KAAK,IAAI,EAAE;wBACd,IAAI,GAAG,KAAK,CAAC,EAAE;4BACX,IAAI,CAAC,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;yBACnF;qBACJ;yBACI;;wBAED,IAAI,iBAAiB,GAAG,6BAA6B,CAAC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE,gBAAgB,EAAE,eAAe,CAAC,CAAC;wBACjL,IAAI,iBAAiB,KAAK,IAAI,EAAE;;4BAE5B,IAAI,SAAS,GAAGD,oBAA4B,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;4BACtF,IAAI,WAAW,GAAGC,WAAsB,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;4BACrE,IAAI,WAAW,GAAGA,WAAsB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;4BAC7D,IAAI,WAAW,KAAK,WAAW,EAAE;gCAC7B,IAAI,cAAc,GAAG,WAAW,GAAG,WAAW,CAAC;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;6BAC9F;yBACJ;qBACJ;iBACJ;aACJ;SACJ;QACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;KACjD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,OAAO,EAAE;QACjE,OAAO;YACH,WAAW,EAAE,UAAU,WAAW,EAAE;gBAChC,IAAI,kBAAkB,GAAG,YAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;gBACrG,IAAI,cAAc,GAAG,EAAE,CAAC;gBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,CAAC,EAAE,EAAE;oBACzC,cAAc,IAAI,IAAI,CAAC;iBAC1B;gBACD,OAAO,cAAc,CAAC;aACzB;YACD,aAAa,EAAE,UAAU,WAAW,EAAE;gBAClC,IAAI,kBAAkB,GAAG,YAAY,CAAC,kBAAkB,CAAC,WAAW,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;gBACvG,IAAI,cAAc,GAAG,EAAE,CAAC;gBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,CAAC,EAAE,EAAE;oBACzC,cAAc,IAAI,IAAI,CAAC;iBAC1B;gBACD,OAAO,cAAc,CAAC;aACzB;SACJ,CAAC;KACL,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,gBAAgB,EAAE;QACzH,IAAI,kBAAkB,GAAG,YAAY,CAAC;QACtC,OAAO,kBAAkB,IAAI,CAAC,EAAE;;YAE5B,IAAI,WAAW,GAAG,KAAK,CAAC,CAAC;YACzB,IAAI,kBAAkB,KAAK,YAAY,IAAI,gBAAgB,KAAK,SAAS,EAAE;gBACvE,WAAW,GAAG,gBAAgB,CAAC;aAClC;iBACI;gBACD,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;aAC1D;YACD,IAAI,gBAAgB,GAAGF,sBAA8B,CAAC,WAAW,CAAC,CAAC;YACnE,IAAI,gBAAgB,IAAI,CAAC,EAAE;gBACvB,MAAM;aACT;YACD,kBAAkB,EAAE,CAAC;SACxB;QACD,IAAI,kBAAkB,GAAG,CAAC,IAAI,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE;YACvD,OAAO,IAAI,CAAC;SACf;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,KAAK,GAAG,6BAA6B,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,KAAK,CAAC,kBAAkB,EAAE,SAAS,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC,CAAC;QACzI,IAAI,KAAK,EAAE;YACP,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;YACpC,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;YACpC,IAAI,WAAW,CAAC,YAAY,KAAK,YAAY,CAAC,IAAI,EAAE;gBAChD,WAAW,GAAG,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;aAC5D;iBACI,IAAI,WAAW,CAAC,YAAY,KAAK,YAAY,CAAC,MAAM,EAAE;gBACvD,WAAW,GAAG,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;aAC5D;iBACI,IAAI,WAAW,CAAC,YAAY,KAAK,YAAY,CAAC,aAAa,EAAE;gBAC9D,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;aACnC;iBACI,IAAI,WAAW,CAAC,YAAY,KAAK,YAAY,CAAC,OAAO,EAAE;gBACxD,WAAW,GAAG,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,WAAW,CAAC,UAAU,CAAC;aAC3F;YACD,IAAI,cAAc,GAAG,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,EAAE;gBACxE,IAAI,cAAc,GAAGC,oBAA4B,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC9E,IAAI,cAAc,GAAGA,oBAA4B,CAAC,WAAW,CAAC,CAAC;gBAC/D,IAAI,4BAA4B,GAAG,6BAA6B,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAChG,IAAI,4BAA4B,GAAG,CAAC,sBAAsB;oBACtD,cAAc,GAAG,eAAe,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;iBAClE;gBACD,IAAI,WAAW,GAAGC,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;gBAClE,IAAI,WAAW,GAAGA,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;gBAClE,OAAO,WAAW,GAAG,WAAW,CAAC;aACpC;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE;QACjD,OAAO,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;KAClC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QACtE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO,KAAK,CAAC;SAChB;;QAED,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,CAAC,eAAe,CAAC,EAAE;YACrD,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,wBAAwB,GAAG,KAAK,CAAC,uBAAuB,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAC3F,IAAI,sBAAsB,GAAG,KAAK,CAAC,uBAAuB,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;QACvF,IAAI,wBAAwB,KAAK,sBAAsB,EAAE;YACrD,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,6BAA6B,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,KAAK,IAAI,EAAE;YACxF,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,MAAM,EAAE;QACjH,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YACvD,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,cAAc,GAAGD,oBAA4B,CAAC,WAAW,CAAC,CAAC;YAC/D,IAAI,iBAAiB,GAAGC,WAAsB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;YACxE,IAAI,YAAY,GAAG,iBAAiB,GAAG,MAAM,CAAC;YAC9C,IAAI,SAAS,GAAGC,cAAyB,CAAC,YAAY,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;YAC/E,IAAI,SAAS,KAAK,cAAc,EAAE;gBAC9B,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;gBACnF,IAAI,CAAC,KAAK,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,KAAK,EAAE,EAAE;;;oBAGvF,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;iBAC3C;aACJ;SACJ;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACrE,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC3B,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,CAAC,2BAA2B,IAAI,MAAM,CAAC,eAAe,GAAG,MAAM,CAAC,aAAa,EAAE;YACnF,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;SAC3D;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;ACnTL;;;;AAIA,AACA,IAAI3E,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAgBA;AACA,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DE,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,IAAI,EAAE,IAAI,EAAE;QACzC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAChE,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,QAAQ,CAAC,IAAI,CAAC,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjE;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,cAAc,CAAC;YACnD,KAAK,EAAE,cAAc;YACrB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,aAAa,IAAI,eAAe,EAAE;gBAC9C,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,IAAI,eAAe,EAAE,gBAAgB;aAC/F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,iBAAiB,CAAC;CAC5B,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDC,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,mCAAmC;YACvC,KAAK,EAAED,QAAY,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;YACvD,KAAK,EAAE,gBAAgB;YACvB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,aAAa,IAAI,eAAe,EAAE;gBAC9C,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,IAAI,eAAe,EAAE,kBAAkB;aACjG;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAE5B,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,IAAI,EAAE,IAAI,EAAE;QACzC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAChE,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,UAAU,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;QACtD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,QAAQ,CAAC,IAAI,CAAC,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;SAC7E;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,cAAc,CAAC;YACnD,KAAK,EAAE,cAAc;YACrB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,aAAa,EAAE;gBAC3B,KAAK,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,EAAE,gBAAgB;aACvD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,iBAAiB,CAAC;CAC5B,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDC,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,mCAAmC;YACvC,KAAK,EAAED,QAAY,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;YACvD,KAAK,EAAE,gBAAgB;YACvB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,aAAa,EAAE;gBAC3B,KAAK,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,EAAE,kBAAkB;aACzD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,UAAU,EAAE,IAAI,EAAE;QAC/C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAChE,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE;gBACzE,OAAO;aACV;SACJ;QACD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SACtE;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DA,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,qBAAqB,EAAE,sBAAsB,CAAC;YAClE,KAAK,EAAE,sBAAsB;YAC7B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,wBAAwB,CAAC;CACnC,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,AACA,IAAI,yBAAyB,kBAAkB,UAAU,MAAM,EAAE;IAC7DC,WAAS,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC7C,SAAS,yBAAyB,GAAG;QACjC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,mCAAmC;YACvC,KAAK,EAAED,QAAY,CAAC,sBAAsB,EAAE,uBAAuB,CAAC;YACpE,KAAK,EAAE,uBAAuB;YAC9B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,yBAAyB,CAAC;CACpC,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5B,AACA,IAAI,4BAA4B,kBAAkB,UAAU,MAAM,EAAE;IAChEC,WAAS,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;IAChD,SAAS,4BAA4B,GAAG;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,4BAA4B,CAAC,EAAE;YACnC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,0BAA0B,CAAC;YAC/E,KAAK,EAAE,0BAA0B;YACjC,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,4BAA4B,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QAC3E,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW,EAAE;;;;YAI7B,OAAO,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,QAAQ,CAAC,CAAC,CAAC,kBAAkB,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;SACvH;QACD,IAAI,OAAO,GAAG,IAAI,6BAA6B,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,OAAO,CAAC,CAAC;QAChF,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;QAC3C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,4BAA4B,CAAC,EAAE,GAAG,sCAAsC,CAAC;IACzE,OAAO,4BAA4B,CAAC;CACvC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,yBAAyB,kBAAkB,UAAU,MAAM,EAAE;IAC7DC,WAAS,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC7C,SAAS,yBAAyB,GAAG;QACjC,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,yBAAyB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;;QAEtE,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YACrD,IAAI,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;YACpC,IAAI,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,KAAK,CAAC,EAAE;gBAC1D,aAAa,IAAI,CAAC,CAAC;aACtB;YACD,OAAO;gBACH,eAAe,EAAE,CAAC,CAAC,eAAe;gBAClC,aAAa,EAAE,aAAa;gBAC5B,cAAc,EAAE,CAAC,CAAC,cAAc;aACnC,CAAC;SACL,CAAC,CAAC;;QAEH,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;YAC5B,OAAO,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;SAChD,CAAC,CAAC;;QAEH,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,IAAI,iBAAiB,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,iBAAiB,CAAC,aAAa,GAAG,CAAC,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE;;gBAEvE,iBAAiB,CAAC,aAAa,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;aACjE;iBACI;;gBAED,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACzC,iBAAiB,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;aACrC;SACJ;;QAED,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzC,OAAO,gBAAgB,CAAC;KAC3B,CAAC;IACF,OAAO,yBAAyB,CAAC;CACpC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,2BAA2B;YAC/B,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,aAAa,CAAC;YAClD,KAAK,EAAE,aAAa;YACpB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC1D,IAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;;QAEzC,IAAI,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE;YACjC,OAAO,IAAI,kBAAkB,CAAC,EAAE,CAAC,eAAe,EAAE,EAAE,CAAC,aAAa,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;SAC1F,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,yBAAyB,CAAC,CAAC,CAAC;AAC9B,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDC,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,2BAA2B;YAC/B,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,aAAa,CAAC;YAClD,KAAK,EAAE,aAAa;YACpB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC1D,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,uBAAuB,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;QACpI,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDC,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,4BAA4B;YAChC,KAAK,EAAED,QAAY,CAAC,eAAe,EAAE,cAAc,CAAC;YACpD,KAAK,EAAE,cAAc;YACrB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,mBAAmB,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;KACpE,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gCAAgC;YACpC,KAAK,EAAED,QAAY,CAAC,oBAAoB,EAAE,mBAAmB,CAAC;YAC9D,KAAK,EAAE,mBAAmB;YAC1B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,CAAC;aACrD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC/D,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,uBAAuB,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;KACjJ,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAED,QAAY,CAAC,mBAAmB,EAAE,mBAAmB,CAAC;YAC7D,KAAK,EAAE,mBAAmB;YAC1B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,CAAC;aAClC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qBAAqB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC9D,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,cAAc,CAAC,eAAe,CAAC,MAAM,CAAC,uBAAuB,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;KAChJ,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,iCAAiC,kBAAkB,UAAU,MAAM,EAAE;IACrEC,WAAS,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;IACrD,SAAS,iCAAiC,GAAG;QACzC,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,iCAAiC,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC1E,IAAI,aAAa,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC1C,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;;QAErD,IAAI,eAAe,GAAG,EAAE,CAAC;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,GAAG,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;YAC/D,IAAIO,QAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,GAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACtC,IAAI,KAAK,CAAC,eAAe,CAACA,QAAK,EAAE,SAAS,CAAC,KAAK,IAAI,EAAE;gBAClD,eAAe,CAAC,IAAI,CAACA,QAAK,CAAC,CAAC;aAC/B;iBACI;gBACD,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,SAAS,CAACA,QAAK,EAAE,SAAS,CAAC,CAAC;aAC7D;SACJ;QACD,eAAe,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QAChE,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAC7E,IAAI,KAAK,GAAG,eAAe,CAAC,GAAG,CAAC,UAAUA,QAAK,EAAE;YAC7C,cAAc,CAAC,IAAI,CAAC,IAAI,SAAS,CAACA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,EAAEA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,CAAC,CAAC,CAAC;YACvH,OAAO,aAAa,CAAC,OAAO,CAACA,QAAK,EAAE,EAAE,CAAC,CAAC;SAC3C,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC;QACpD,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,iCAAiC,CAAC;CAC5C,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDP,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,eAAe;YACnB,KAAK,EAAED,QAAY,CAAC,qBAAqB,EAAE,iBAAiB,CAAC;YAC7D,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI;gBACb,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,CAAC,kBAAkB;aAC3D;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,mBAAmB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,aAAa,EAAE,cAAc,EAAE;QACxF,IAAI,gBAAgB,CAAC;QACrB,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACvD,IAAIQ,QAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YAClK,IAAIA,QAAK,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE;gBACtC,gBAAgB,GAAG,SAAS,CAAC;aAChC;iBACI;gBACD,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAClC;SACJ;QACD,IAAI,gBAAgB,EAAE;YAClB,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;SAC5C;QACD,OAAO,cAAc,CAAC;KACzB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,MAAM,EAAE;QACjE,IAAI,cAAc,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QAC5C,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QACpD,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE;YACrD,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;gBACrB,OAAO,IAAI,KAAK,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,EAAE,SAAS,CAAC,eAAe,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC;aACpG;iBACI;gBACD,OAAO,SAAS,CAAC;aACpB;SACJ,CAAC,CAAC;QACH,OAAO,cAAc,CAAC;KACzB,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,iCAAiC,CAAC,CAAC,CAAC;AACtC,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDP,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gBAAgB;YACpB,KAAK,EAAED,QAAY,CAAC,sBAAsB,EAAE,kBAAkB,CAAC;YAC/D,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI;gBACb,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,cAAc,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,cAAc,EAAE;aAC1G;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,aAAa,EAAE,cAAc,EAAE;QACzF,IAAI,gBAAgB,CAAC;QACrB,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnE,IAAIQ,QAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,GAAG,IAAI,SAAS,CAACA,QAAK,CAAC,eAAe,GAAG,MAAM,EAAEA,QAAK,CAAC,WAAW,EAAEA,QAAK,CAAC,eAAe,GAAG,MAAM,EAAEA,QAAK,CAAC,WAAW,CAAC,CAAC;YACpI,IAAIA,QAAK,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE;gBACtC,gBAAgB,GAAG,SAAS,CAAC;aAChC;iBACI;gBACD,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAClC;SACJ;QACD,IAAI,gBAAgB,EAAE;YAClB,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;SAC5C;QACD,OAAO,cAAc,CAAC;KACzB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,MAAM,EAAE;QAClE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,cAAc,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE;YAC3D,IAAI,GAAG,CAAC,OAAO,EAAE,EAAE;gBACf,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBAC5D,IAAI,GAAG,CAAC,WAAW,KAAK,SAAS,EAAE;oBAC/B,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,eAAe,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACtF;qBACI;oBACD,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;iBAC1F;aACJ;YACD,OAAO,GAAG,CAAC;SACd,CAAC,CAAC;QACH,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QACpD,OAAO,cAAc,CAAC;KACzB,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,CAAC,iCAAiC,CAAC,CAAC,CAAC;AACtC,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDP,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,yBAAyB;YAC7B,KAAK,EAAED,QAAY,CAAC,iBAAiB,EAAE,YAAY,CAAC;YACpD,KAAK,EAAE,YAAY;YACnB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,CAAC;gBACV,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,cAAc;aACvD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,aAAa,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC1C,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAChD,IAAI,iBAAiB,GAAG,EAAE,CAAC;QAC3B,IAAI,aAAa,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,aAAa,EAAE,YAAY,EAAE;YACzE,IAAI,aAAa,CAAC,OAAO,EAAE,EAAE;gBACzB,IAAI,aAAa,CAAC,aAAa,KAAK,YAAY,CAAC,eAAe,EAAE;oBAC9D,IAAI,aAAa,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE;wBAC9C,aAAa,GAAG,YAAY,CAAC;qBAChC;oBACD,OAAO,YAAY,CAAC;iBACvB;gBACD,IAAI,YAAY,CAAC,eAAe,GAAG,aAAa,CAAC,aAAa,GAAG,CAAC,EAAE;oBAChE,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACtC,OAAO,YAAY,CAAC;iBACvB;qBACI;oBACD,OAAO,IAAI,SAAS,CAAC,aAAa,CAAC,eAAe,EAAE,aAAa,CAAC,WAAW,EAAE,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;iBACtI;aACJ;iBACI;gBACD,IAAI,YAAY,CAAC,eAAe,GAAG,aAAa,CAAC,aAAa,EAAE;oBAC5D,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACtC,OAAO,YAAY,CAAC;iBACvB;qBACI;oBACD,OAAO,IAAI,SAAS,CAAC,aAAa,CAAC,eAAe,EAAE,aAAa,CAAC,WAAW,EAAE,YAAY,CAAC,aAAa,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;iBACtI;aACJ;SACJ,CAAC,CAAC;QACH,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACtC,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,gBAAgB,GAAG,aAAa,CAAC;QACrC,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,iBAAiB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1D,IAAI,SAAS,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,eAAe,GAAG,SAAS,CAAC,eAAe,CAAC;YAChD,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,IAAI,aAAa,GAAG,KAAK,CAAC,EAAE,SAAS,GAAG,KAAK,CAAC,EAAE,iBAAiB,GAAG,KAAK,CAAC,CAAC;YAC3E,IAAI,0BAA0B,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC;YAC5G,IAAI,SAAS,CAAC,OAAO,EAAE,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;gBAC9E,IAAI,QAAQ,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;gBAC5C,IAAI,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE;oBAC5C,aAAa,GAAG,eAAe,GAAG,CAAC,CAAC;oBACpC,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;iBACrD;qBACI;oBACD,aAAa,GAAG,QAAQ,CAAC,UAAU,CAAC;oBACpC,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;iBAC3D;aACJ;iBACI;gBACD,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;gBACxC,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;aACrD;YACD,IAAI,mBAAmB,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;YAChE,KAAK,IAAI,GAAG,GAAG,eAAe,GAAG,CAAC,EAAE,GAAG,IAAI,aAAa,EAAE,GAAG,EAAE,EAAE;gBAC7D,IAAI,QAAQ,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;gBACzC,IAAI,qBAAqB,GAAG,KAAK,CAAC,+BAA+B,CAAC,GAAG,CAAC,CAAC;gBACvE,IAAI,qBAAqB,IAAI,CAAC,EAAE;oBAC5B,IAAI,WAAW,GAAG,IAAI,CAAC;oBACvB,IAAI,mBAAmB,KAAK,EAAE,EAAE;wBAC5B,WAAW,GAAG,KAAK,CAAC;qBACvB;oBACD,IAAI,WAAW,KAAK,mBAAmB,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG;wBAClF,mBAAmB,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;wBACtE,WAAW,GAAG,KAAK,CAAC;wBACpB,mBAAmB,GAAG,mBAAmB,CAAC,OAAO,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;qBAC/E;oBACD,IAAI,qBAAqB,GAAG,QAAQ,CAAC,MAAM,CAAC,qBAAqB,GAAG,CAAC,CAAC,CAAC;oBACvE,mBAAmB,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,EAAE,IAAI,qBAAqB,CAAC;oBACxE,IAAI,WAAW,EAAE;wBACb,iBAAiB,GAAG,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC;qBACxD;yBACI;wBACD,iBAAiB,GAAG,qBAAqB,CAAC,MAAM,CAAC;qBACpD;iBACJ;qBACI;oBACD,iBAAiB,GAAG,CAAC,CAAC;iBACzB;aACJ;YACD,IAAI,eAAe,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;YACxF,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,EAAE;gBAC5B,IAAI,eAAe,GAAG,KAAK,CAAC,CAAC;gBAC7B,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;oBACrB,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC,CAAC;oBACxE,eAAe,GAAG,IAAI,SAAS,CAAC,eAAe,CAAC,eAAe,GAAG,UAAU,EAAE,mBAAmB,CAAC,MAAM,GAAG,iBAAiB,GAAG,CAAC,EAAE,eAAe,GAAG,UAAU,EAAE,mBAAmB,CAAC,MAAM,GAAG,iBAAiB,GAAG,CAAC,CAAC,CAAC;iBACvN;qBACI;oBACD,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,EAAE;wBACvD,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC,CAAC;wBACxE,eAAe,GAAG,IAAI,SAAS,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,GAAG,UAAU,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;qBAC7J;yBACI;wBACD,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC,CAAC;wBACxE,eAAe,GAAG,IAAI,SAAS,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,eAAe,GAAG,UAAU,EAAE,mBAAmB,CAAC,MAAM,GAAG,0BAA0B,CAAC,CAAC;qBACnM;iBACJ;gBACD,IAAI,KAAK,CAAC,eAAe,CAAC,eAAe,EAAE,aAAa,CAAC,KAAK,IAAI,EAAE;oBAChE,gBAAgB,GAAG,eAAe,CAAC;iBACtC;qBACI;oBACD,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACxC;aACJ;YACD,UAAU,IAAI,eAAe,CAAC,aAAa,GAAG,eAAe,CAAC,eAAe,CAAC;SACjF;QACD,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QACzC,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC;QACpD,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,yBAAyB;YAC7B,KAAK,EAAED,QAAY,CAAC,kBAAkB,EAAE,wCAAwC,CAAC;YACjF,KAAK,EAAE,wCAAwC;YAC/C,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;gBACtB,SAAS;aACZ;YACD,IAAI,MAAM,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;YAC1C,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC1D,IAAI,MAAM,CAAC,MAAM,IAAI,SAAS,EAAE;gBAC5B,IAAI,MAAM,CAAC,UAAU,KAAK,KAAK,CAAC,YAAY,EAAE,EAAE;oBAC5C,SAAS;iBACZ;;;gBAGD,IAAI,eAAe,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7G,IAAI,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAChF,QAAQ,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,IAAI,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;aACxI;iBACI;gBACD,IAAI,eAAe,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACzH,IAAI,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAChF,QAAQ,CAAC,IAAI,CAAC,IAAI,oCAAoC,CAAC,eAAe,EAAE,KAAK,EAAE,IAAI,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9K;SACJ;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDC,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;gBACrB,IAAI,MAAM,GAAG,SAAS,CAAC,gBAAgB,EAAE,CAAC;gBAC1C,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBAC3C,IAAI,CAAC,IAAI,EAAE;oBACP,SAAS;iBACZ;gBACD,IAAI,SAAS,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAClG,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBAC5C,QAAQ,CAAC,IAAI,CAAC,IAAI,oCAAoC,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;aACjL;iBACI;gBACD,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBAC5C,QAAQ,CAAC,IAAI,CAAC,IAAI,oCAAoC,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;aACzG;SACJ;QACD,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDA,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,oCAAoC;YACxC,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,wBAAwB,CAAC;YAC5E,KAAK,EAAE,wBAAwB;YAC/B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;QACpD,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;KACnC,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,kBAAkB,CAAC,CAAC,CAAC;AACvB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,oCAAoC;YACxC,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,wBAAwB,CAAC;YAC5E,KAAK,EAAE,wBAAwB;YAC/B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;QACpD,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;KACnC,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,kBAAkB,CAAC,CAAC,CAAC;AACvB,AACA,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;AAC/C,oBAAoB,CAAC,yBAAyB,CAAC,CAAC;AAChD,oBAAoB,CAAC,4BAA4B,CAAC,CAAC;AACnD,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;AACzC,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;AAC5C,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,oBAAoB,CAAC,eAAe,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACjwBtC;;;;AAIA,AASA,IAAI,IAAI,kBAAkB,YAAY;IAClC,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;KAC7B;IACD,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAChC,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,GAAG,EAAE,IAAI,CAAC,GAAG;SAChB,CAAC;KACL,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;QAC3C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE;QACzC,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;SACzB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;YAChB,IAAI;gBACA,OAAO,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aACjD;YACD,OAAO,CAAC,EAAE;gBACN,OAAO,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;aACnD;SACJ;QACD,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,KAAK,UAAU,EAAE;YAClD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;gBACtH,KAAK,CAAC,KAAK,GAAG,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC;gBACnC,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE;;oBAEjB,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC;iBAC1B;gBACD,OAAO,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;aACnD,CAAC,CAAC;SACN;QACD,OAAO,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;KACnD,CAAC;IACF,OAAO,IAAI,CAAC;CACf,EAAE,CAAC,CAAC;AACL,AACO,SAAS,QAAQ,CAAC,KAAK,EAAE;IAC5B,IAAI,KAAK,GAAG,EAAE,CAAC;;IAEf,IAAI,QAAQ,GAAG,oBAAoB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QACjF,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YAC3G,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACvB,IAAI,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChF,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;aAClC;SACJ,EAAE,yBAAyB,CAAC,CAAC;KACjC,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;QAC5C,OAAO,KAAK,CAAC;KAChB,CAAC,CAAC;CACN;AACD,SAAS,KAAK,CAAC,QAAQ,EAAE,QAAQ,EAAE;;IAE/B,IAAI,MAAM,GAAG,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,gBAAgB,CAAC;IACxF,KAAK,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,CAAC,EAAE,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,QAAQ,GAAG,MAAM,IAAI,QAAQ,GAAG,MAAM,GAAG;QAC1H,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC7B,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC7B,IAAI,KAAK,CAAC,yBAAyB,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE;;YAE/D,QAAQ,EAAE,CAAC;YACX,SAAS;SACZ;QACD,gBAAgB,GAAG,KAAK,CAAC,wBAAwB,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;QAChF,IAAI,gBAAgB,GAAG,CAAC,EAAE;;YAEtB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACrB,QAAQ,EAAE,CAAC;SACd;aACI;;YAED,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACrB,QAAQ,EAAE,CAAC;SACd;KACJ;IACD,OAAO,QAAQ,GAAG,MAAM,EAAE,QAAQ,EAAE,EAAE;QAClC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;KACnC;IACD,OAAO,QAAQ,GAAG,MAAM,EAAE,QAAQ,EAAE,EAAE;QAClC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;KACnC;IACD,OAAO,MAAM,CAAC;CACjB;AACD,gBAAgB,CAAC,eAAe,CAAC,sBAAsB,EAAE,UAAU,QAAQ,EAAE;IACzE,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC1C,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;KAChC;IACD,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,IAAI,EAAE,GAAG,YAAY,GAAG,CAAC,EAAE;QACvB,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACtD,IAAI,CAAC,KAAK,EAAE;QACR,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;CAC1B,CAAC,CAAC;;AC3HH;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAkBA,IAAI,0BAA0B,GAAG,IAAI,cAAc,EAAE,CAAC,UAAU,CAACqE,WAAoB;MAC/EpE,QAAY,CAAC,oBAAoB,EAAE,4BAA4B,CAAC;MAChEA,QAAY,CAAC,gBAAgB,EAAE,6BAA6B,CAAC,CAAC,CAAC;AACrE,IAAI,0BAA0B,GAAG,IAAI,cAAc,EAAE,CAAC,UAAU,CAACoE,WAAoB;MAC/EpE,QAAY,CAAC,mBAAmB,EAAE,gCAAgC,CAAC;MACnEA,QAAY,CAAC,eAAe,EAAE,iCAAiC,CAAC,CAAC,CAAC;AACxE,IAAI,yBAAyB,GAAG,IAAI,cAAc,EAAE,CAAC,UAAU,CAACoE,WAAoB;MAC9EpE,QAAY,CAAC,uBAAuB,EAAE,+BAA+B,CAAC;MACtEA,QAAY,CAAC,mBAAmB,EAAE,4BAA4B,CAAC,CAAC,CAAC;AACvE,IAAI,yBAAyB,GAAG,IAAI,cAAc,EAAE,CAAC,UAAU,CAACoE,WAAoB;MAC9EpE,QAAY,CAAC,sBAAsB,EAAE,mCAAmC,CAAC;MACzEA,QAAY,CAAC,kBAAkB,EAAE,gCAAgC,CAAC,CAAC,CAAC;AAC1E,IAAI,UAAU,GAAG;IACb,IAAI,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QAClC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,eAAe;QAChC,YAAY,EAAE,0BAA0B;KAC3C,CAAC;IACF,UAAU,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QACxC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,sBAAsB;QACvC,YAAY,EAAE,0BAA0B;KAC3C,CAAC;IACF,GAAG,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QACjC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,eAAe;QAChC,YAAY,EAAE,yBAAyB;KAC1C,CAAC;IACF,SAAS,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QACvC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,sBAAsB;QACvC,YAAY,EAAE,yBAAyB;KAC1C,CAAC;IACF,UAAU,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QACxC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,eAAe;QAChC,YAAY,EAAE,yBAAyB;KAC1C,CAAC;IACF,gBAAgB,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QAC9C,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,sBAAsB;QACvC,YAAY,EAAE,yBAAyB;KAC1C,CAAC;IACF,WAAW,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QACzC,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,eAAe;QAChC,YAAY,EAAE,0BAA0B;KAC3C,CAAC;IACF,iBAAiB,EAAE,sBAAsB,CAAC,QAAQ,CAAC;QAC/C,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,eAAe,EAAE,sBAAsB;QACvC,YAAY,EAAE,0BAA0B;KAC3C,CAAC;CACL,CAAC;AACF,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;KACpC;IACD,cAAc,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE;QACpD,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC;SAC/D,CAAC;KACL,CAAC;IACF,cAAc,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE;QAC/D,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YAC7B,IAAI,UAAU,EAAE;gBACZ,QAAQ,QAAQ,GAAG,UAAU,CAAC,iBAAiB,GAAG,UAAU,CAAC,WAAW,EAAE;aAC7E;iBACI;gBACD,QAAQ,QAAQ,GAAG,UAAU,CAAC,gBAAgB,GAAG,UAAU,CAAC,UAAU,EAAE;aAC3E;SACJ;aACI;YACD,IAAI,UAAU,EAAE;gBACZ,QAAQ,QAAQ,GAAG,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,IAAI,EAAE;aAC/D;iBACI;gBACD,QAAQ,QAAQ,GAAG,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE;aAC7D;SACJ;KACJ,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,cAAc,EAAE,UAAU,EAAE;QACtE,cAAc,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,EAAE,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;KACtH,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,cAAc,EAAE,UAAU,EAAE;QACxE,cAAc,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,EAAE,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;KACvH,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,MAAM,EAAE,aAAa,EAAE,mBAAmB,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC9C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,UAAU,EAAE,EAAE;YACpF,IAAI,UAAU,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9C,KAAK,CAAC,kBAAkB,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;SACvD,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;YAChE,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;SAC5B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YAC/D,KAAK,CAAC,2BAA2B,EAAE,CAAC;SACvC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC;QAC3D,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACrE,IAAI,OAAO,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC;YAC1D,IAAI,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;;gBAE3B,OAAO;aACV;YACD,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;;YAExB,KAAK,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;;YAE5B,KAAK,CAAC,IAAI,EAAE,CAAC;;YAEb,KAAK,CAAC,YAAY,EAAE,CAAC;SACxB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACtG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAClH,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACnH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB;IACD,YAAY,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACjC,OAAO,MAAM,CAAC,eAAe,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;KAClD,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACvC,OAAO,YAAY,CAAC,EAAE,CAAC;KAC1B,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAChD,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACpD,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC1C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;YACpE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY;gBACjC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC,YAAY,EAAE,CAAC;aACxB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAC1C,OAAO;SACV;QACD,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE;YACnD,OAAO;SACV;QACD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACzE,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC/B,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;SAC/B,CAAC,CAAC;KACN,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE;QACxD,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,KAAK,QAAQ,CAAC,CAAC;QACnF,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAChD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC7C,IAAI,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACtD,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;SAC/C;QACD,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,KAAK,EAAE;;YAEP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC;aACxE;SACJ;QACD,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;QAC/E,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,SAAS,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC;SAC/D;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,KAAK,QAAQ,CAAC,CAAC;QACnF,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE;YACrC,IAAI,CAAC,2BAA2B,EAAE,CAAC;YACnC,IAAI,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpE,IAAI,UAAU,EAAE;gBACZ,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;oBACpD,UAAU,CAAC,QAAQ,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;oBAChD,KAAK,CAAC,sBAAsB,GAAG,UAAU,CAAC,YAAY,CAAC;iBAC1D,CAAC,CAAC;aACN;SACJ;aACI;YACD,IAAI,CAAC,2BAA2B,EAAE,CAAC;SACtC;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QAC7D,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,KAAK,QAAQ,CAAC,CAAC;QACnF,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC7B,IAAI,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACtE,IAAI,UAAU,EAAE;gBACZ,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAU,cAAc,EAAE;oBACpD,UAAU,CAAC,UAAU,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;iBACrD,CAAC,CAAC;aACN;YACD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACtC;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE;QAC3D,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;YAC7B,OAAO;SACV;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,UAAU,CAAC,qBAAqB,CAAC,CAAC;KACzE,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,UAAU,EAAE,UAAU,EAAE;QAC1E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrB,OAAO;SACV;QACD,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;QAC3B,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;;YAE/B,OAAO,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;SACpE,EAAE,UAAU,GAAG,EAAE;;YAEd,IAAI,GAAG,KAAK,SAAS,EAAE;gBACnB,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAACA,QAAY,CAAC,aAAa,EAAE,6DAA6D,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aACxI;iBACI,IAAI,GAAG,KAAK,SAAS,EAAE;gBACxB,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAACA,QAAY,CAAC,aAAa,EAAE,yDAAyD,CAAC,CAAC,CAAC;aAC1H;iBACI;gBACD,iBAAiB,CAAC,GAAG,CAAC,CAAC;aAC1B;SACJ,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;KACpC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,QAAQ,EAAE;QAC3D,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,CAAC;YAC3D,eAAe,EAAE,QAAQ,CAAC,UAAU;YACpC,WAAW,EAAE,QAAQ,CAAC,MAAM;YAC5B,aAAa,EAAE,QAAQ,CAAC,UAAU;YAClC,SAAS,EAAE,QAAQ,CAAC,MAAM;SAC7B,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAC/D,IAAI,iBAAiB,EAAE;gBACnB,OAAO,iBAAiB,CAAC;aAC5B;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QAC9D,QAAQ,UAAU,CAAC,MAAM,CAAC,IAAI,KAAK,eAAe,CAAC,YAAY;gBACvD,UAAU,CAAC,kBAAkB,KAAK,OAAO,IAAI,OAAO,CAAC,mBAAmB,CAAC,CAAC,EAAE;KACvF,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACtC,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,EAAE,CAAC;KACf,CAAC;IACF,YAAY,CAAC,EAAE,GAAG,qBAAqB,CAAC;IACxC,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC;IACnC,YAAY,GAAGU,YAAU,CAAC;QACtBC,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;KACnC,EAAE,YAAY,CAAC,CAAC;IACjB,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDV,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,wBAAwB;YAC5B,KAAK,EAAED,QAAY,CAAC,OAAO,EAAE,WAAW,CAAC;YACzC,KAAK,EAAE,WAAW;YAClB,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACvD,IAAI,YAAY,GAAG,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,EAAE;YACf,OAAO;SACV;QACD,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxE,IAAI,GAAG,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,YAAY,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC;YAChE,IAAI,IAAI,EAAE;gBACN,YAAY,CAAC,kBAAkB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aAChD;SACJ;KACJ,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,0BAA0B,CAAC,YAAY,CAAC,CAAC;AACzC,oBAAoB,CAAC,cAAc,CAAC,CAAC;AACrC,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,oBAAoB,GAAG,KAAK,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;IACtE,IAAI,oBAAoB,EAAE;QACtB,SAAS,CAAC,OAAO,CAAC,gDAAgD,GAAG,oBAAoB,GAAG,gBAAgB,CAAC,CAAC;KACjH;CACJ,CAAC,CAAC;;ACxXH;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAgBA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDE,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,yBAAyB,EAAE,kBAAkB,CAAC;YAClE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE;gBAChD,KAAK,EAAE;oBACH,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;oBAC9C,SAAS,EAAE,CAAC,IAAI,iBAAiB,IAAI,eAAe,EAAE,eAAe;iBACxE;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QAChE,IAAI,OAAO,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QACnC,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC9B,IAAI,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE;YACzB,OAAO;SACV;QACD,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;QACjC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,QAAQ,EAAE,kBAAkB,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACvH,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,gBAAgB,CAAC,cAAc,CAAC;KACzD,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDC,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAED,QAAY,CAAC,yBAAyB,EAAE,kBAAkB,CAAC;YAClE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE;gBAChD,KAAK,EAAE;oBACH,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;oBAC9C,SAAS,EAAE,CAAC,IAAI,iBAAiB,IAAI,eAAe,EAAE,iBAAiB;iBAC1E;aACJ;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iBAAiB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QAChE,IAAI,OAAO,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QACnC,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC9B,IAAI,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE;YACzB,OAAO;SACV;QACD,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;QACjC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,QAAQ,EAAE,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACzH,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,mBAAmB,CAAC,cAAc,CAAC;KAC5D,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,mCAAmC,kBAAkB,UAAU,MAAM,EAAE;IACvEC,WAAS,CAAC,mCAAmC,EAAE,MAAM,CAAC,CAAC;IACvD,SAAS,mCAAmC,GAAG;QAC3C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,mDAAmD;YACvD,KAAK,EAAED,QAAY,CAAC,2CAA2C,EAAE,0BAA0B,CAAC;YAC5F,KAAK,EAAE,0BAA0B;YACjC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;aACjD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,mCAAmC,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE;QACvG,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;YACrB,OAAO;SACV;QACD,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,eAAe,EAAE,CAAC,GAAG,SAAS,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YACtE,IAAI,oBAAoB,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACrD,MAAM,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,CAAC,EAAE,oBAAoB,EAAE,CAAC,EAAE,oBAAoB,CAAC,CAAC,CAAC;SAChF;QACD,IAAI,SAAS,CAAC,SAAS,GAAG,CAAC,EAAE;YACzB,MAAM,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;SAC1H;KACJ,CAAC;IACF,mCAAmC,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC5E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,UAAU,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,KAAK,CAAC,sBAAsB,CAAC,GAAG,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC;QACvG,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;SACvC;KACJ,CAAC;IACF,OAAO,mCAAmC,CAAC;CAC9C,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,wBAAwB,kBAAkB,YAAY;IACtD,SAAS,wBAAwB,CAAC,UAAU,EAAE,WAAW,EAAE,gBAAgB,EAAE;QACzE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;KAC5C;IACD,OAAO,wBAAwB,CAAC;CACnC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,OAAO,EAAE,cAAc,EAAE,gCAAgC,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE;QACnI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,gCAAgC,GAAG,gCAAgC,CAAC;QACzE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;KACpC;IACD,kBAAkB,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE,cAAc,EAAE;QAC1D,IAAI,SAAS,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;;;;;QAK1C,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;YAElF,OAAO,IAAI,kBAAkB,CAAC,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,CAAC,YAAY,EAAE,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SACxI;;;QAGD,IAAI,gCAAgC,GAAG,KAAK,CAAC;QAC7C,IAAI,SAAS,CAAC;QACd,IAAI,SAAS,CAAC;QACd,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE;YACpD,gCAAgC,GAAG,IAAI,CAAC;YACxC,SAAS,GAAG,IAAI,CAAC;YACjB,SAAS,GAAG,IAAI,CAAC;SACpB;aACI;YACD,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;YAChC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;SACnC;;QAED,IAAI,CAAC,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC9B,IAAI,UAAU,CAAC;QACf,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;;YAEb,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACrE,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO,IAAI,CAAC;aACf;YACD,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,YAAY,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACxG;aACI;YACD,UAAU,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC5E;QACD,OAAO,IAAI,kBAAkB,CAAC,MAAM,EAAE,cAAc,EAAE,gCAAgC,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;KAC3I,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QACnE,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,OAAO,IAAI,wBAAwB,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,CAAC,cAAc,CAAC;KACnG,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,4BAA4B,GAAG,YAAY;QACpE,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,OAAO,IAAI,wBAAwB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,CAAC,cAAc,CAAC;KACtI,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACrD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC;QAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,IAAI,kBAAkB,GAAG,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,kBAAkB,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;QAClN,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe,EAAE,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE,SAAS,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KAChJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,+BAA+B,GAAG,YAAY;QACvE,IAAI,aAAa,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7C,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,OAAO,IAAI,wBAAwB,CAAC,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,aAAa,EAAE,CAAC,cAAc,CAAC;KAC3G,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,gCAAgC,GAAG,YAAY;QACxE,IAAI,aAAa,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7C,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,OAAO,IAAI,wBAAwB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,aAAa,EAAE,CAAC,cAAc,CAAC;KAC9I,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACzD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC;QAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QACjD,IAAI,kBAAkB,GAAG,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,kBAAkB,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;QAC5N,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,EAAE,aAAa,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KAChK,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACjD,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC;QAC3C,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,EAAE,UAAU,8BAA8B,CAAC;KACpN,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,8BAA8B,kBAAkB,UAAU,MAAM,EAAE;IAClEC,WAAS,CAAC,8BAA8B,EAAE,MAAM,CAAC,CAAC;IAClD,SAAS,8BAA8B,CAAC,MAAM,EAAE;QAC5C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACrC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;QAC3B,OAAO,KAAK,CAAC;KAChB;IACD,8BAA8B,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACnD,OAAO,MAAM,CAAC,eAAe,CAAC,8BAA8B,CAAC,EAAE,CAAC,CAAC;KACpE,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3D,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACzD,OAAO,8BAA8B,CAAC,EAAE,CAAC;KAC5C,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,cAAc,EAAE;QACvF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;;YAEhB,IAAI,OAAO,GAAG,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;YACtE,IAAI,CAAC,OAAO,EAAE;gBACV,OAAO;aACV;YACD,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,QAAQ,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;YAC1D,IAAI,IAAI,CAAC,QAAQ,CAAC,gCAAgC,EAAE;gBAChD,QAAQ,CAAC,iBAAiB,GAAG,CAAC,YAAY;gBAC1C,QAAQ,CAAC,iBAAiB,GAAG,CAAC,YAAY;gBAC1C,QAAQ,CAAC,eAAe,GAAG,CAAC,aAAa;aAC5C;YACD,cAAc,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAClD,IAAI,CAAC,eAAe,GAAG;gBACnB,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE;oBACjD,IAAI,KAAK,CAAC,sBAAsB,EAAE;wBAC9B,OAAO;qBACV;oBACD,KAAK,CAAC,WAAW,EAAE,CAAC;iBACvB,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY;oBACzC,KAAK,CAAC,WAAW,EAAE,CAAC;iBACvB,CAAC;gBACF,cAAc,CAAC,QAAQ,EAAE,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;oBAC5D,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,EAAE;wBAC5B,KAAK,CAAC,WAAW,EAAE,CAAC;qBACvB;iBACJ,CAAC;aACL,CAAC;SACL;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC/D,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACrD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,gCAAgC,EAAE;YACjE,IAAI,QAAQ,GAAG;gBACX,iBAAiB,EAAE,CAAC;gBACpB,iBAAiB,EAAE,CAAC;gBACpB,eAAe,EAAE,CAAC;aACrB,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;SACnE;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;KACxB,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;QAC5E,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;KACvC,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QACtF,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;YACtB,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,IAAI,SAAS,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,EAAE,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KAChH,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;QAC7E,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;QACD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,MAAM,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;SAClG;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,cAAc,EAAE;QAC5E,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,cAAc,EAAE;QAC7F,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;;YAEhB,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YACjD,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,IAAI,SAAS,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;gBAC1C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;gBACpC,IAAI,yBAAyB,GAAG,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;gBAC9G,IAAI,CAAC,yBAAyB,EAAE;oBAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;oBACpC,IAAI,mBAAmB,GAAG,EAAE,CAAC;oBAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;wBACtD,mBAAmB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC7E;oBACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;oBAChD,OAAO;iBACV;aACJ;SACJ;QACD,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,2BAA2B,EAAE,CAAC,CAAC;SACzE;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,+BAA+B,GAAG,UAAU,cAAc,EAAE;QACjG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,+BAA+B,EAAE,CAAC,CAAC;SAC7E;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,4BAA4B,GAAG,UAAU,cAAc,EAAE;QAC9F,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,CAAC,CAAC;SAC1E;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,gCAAgC,GAAG,UAAU,cAAc,EAAE;QAClG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,gCAAgC,EAAE,CAAC,CAAC;SAC9E;KACJ,CAAC;IACF,8BAA8B,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,cAAc,EAAE;QAC3E,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,SAAS,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;;;;;;QAM1C,IAAI,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,OAAO,EAAE;YAChF,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,EAAE,KAAK,EAAE,UAAU,8BAA8B,CAAC;SACpP;aACI;YACD,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,OAAO;aACV;YACD,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;SACvC;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACpB,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;;YAElD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAChD,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBACvB,IAAI,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;gBAChE,IAAI,YAAY,EAAE;;oBAEd,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;oBACxB,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;oBACnB,MAAM;iBACT;aACJ;YACD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACpK;KACJ,CAAC;IACF,8BAA8B,CAAC,EAAE,GAAG,sCAAsC,CAAC;IAC3E,OAAO,8BAA8B,CAAC;CACzC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,oCAAoC,kBAAkB,UAAU,MAAM,EAAE;IACxEA,WAAS,CAAC,oCAAoC,EAAE,MAAM,CAAC,CAAC;IACxD,SAAS,oCAAoC,GAAG;QAC5C,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,oCAAoC,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC7E,IAAI,qBAAqB,GAAG,8BAA8B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,qBAAqB,EAAE;YACxB,OAAO;SACV;QACD,IAAI,cAAc,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,EAAE;YACjB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,cAAc,CAAC,CAAC;KACpD,CAAC;IACF,OAAO,oCAAoC,CAAC;CAC/C,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,iCAAiC,kBAAkB,UAAU,MAAM,EAAE;IACrEA,WAAS,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;IACrD,SAAS,iCAAiC,GAAG;QACzC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,2CAA2C;YAC/C,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,kCAAkC,CAAC;YACtF,KAAK,EAAE,kCAAkC;YACzC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iCAAiC,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QAChG,qBAAqB,CAAC,2BAA2B,CAAC,cAAc,CAAC,CAAC;KACrE,CAAC;IACF,OAAO,iCAAiC,CAAC;CAC5C,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,qCAAqC,kBAAkB,UAAU,MAAM,EAAE;IACzEC,WAAS,CAAC,qCAAqC,EAAE,MAAM,CAAC,CAAC;IACzD,SAAS,qCAAqC,GAAG;QAC7C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,+CAA+C;YACnD,KAAK,EAAED,QAAY,CAAC,iCAAiC,EAAE,sCAAsC,CAAC;YAC9F,KAAK,EAAE,sCAAsC;YAC7C,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qCAAqC,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QACpG,qBAAqB,CAAC,+BAA+B,CAAC,cAAc,CAAC,CAAC;KACzE,CAAC;IACF,OAAO,qCAAqC,CAAC;CAChD,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,kCAAkC,kBAAkB,UAAU,MAAM,EAAE;IACtEC,WAAS,CAAC,kCAAkC,EAAE,MAAM,CAAC,CAAC;IACtD,SAAS,kCAAkC,GAAG;QAC1C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,4CAA4C;YAChD,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,wCAAwC,CAAC;YAC7F,KAAK,EAAE,wCAAwC;YAC/C,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,QAAQ,CAAC,IAAI,iBAAiB,EAAE,cAAc,IAAI,iBAAiB,EAAE,aAAa;aAC9F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kCAAkC,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QACjG,qBAAqB,CAAC,4BAA4B,CAAC,cAAc,CAAC,CAAC;KACtE,CAAC;IACF,OAAO,kCAAkC,CAAC;CAC7C,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,sCAAsC,kBAAkB,UAAU,MAAM,EAAE;IAC1EC,WAAS,CAAC,sCAAsC,EAAE,MAAM,CAAC,CAAC;IAC1D,SAAS,sCAAsC,GAAG;QAC9C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gDAAgD;YACpD,KAAK,EAAED,QAAY,CAAC,kCAAkC,EAAE,4CAA4C,CAAC;YACrG,KAAK,EAAE,4CAA4C;YACnD,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sCAAsC,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QACrG,qBAAqB,CAAC,gCAAgC,CAAC,cAAc,CAAC,CAAC;KAC1E,CAAC;IACF,OAAO,sCAAsC,CAAC;CACjD,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DC,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,gCAAgC;YACpC,KAAK,EAAED,QAAY,CAAC,iCAAiC,EAAE,sCAAsC,CAAC;YAC9F,KAAK,EAAE,sCAAsC;YAC7C,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,sBAAsB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QACrF,qBAAqB,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;KACnD,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDC,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,yBAAyB;YAC7B,KAAK,EAAED,QAAY,CAAC,iBAAiB,EAAE,wBAAwB,CAAC;YAChE,KAAK,EAAE,wBAAwB;YAC/B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,qBAAqB,EAAE,cAAc,EAAE;QAC9E,qBAAqB,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;KACnD,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,oCAAoC,CAAC,CAAC,CAAC;AACzC,AACA,IAAI,yBAAyB,kBAAkB,YAAY;IACvD,SAAS,yBAAyB,CAAC,mBAAmB,EAAE,UAAU,EAAE,SAAS,EAAE,cAAc,EAAE;QAC3F,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;KACxC;;;;IAID,yBAAyB,CAAC,UAAU,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACnD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;YACV,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;YACV,OAAO,KAAK,CAAC;SAChB;QACD,QAAQ,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU;eAC9B,CAAC,CAAC,SAAS,KAAK,CAAC,CAAC,SAAS;eAC3B,CAAC,CAAC,cAAc,KAAK,CAAC,CAAC,cAAc,EAAE;KACjD,CAAC;IACF,OAAO,yBAAyB,CAAC;CACpC,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDC,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,CAAC,MAAM,EAAE;QAClC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC;QAC5E,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC;QACvB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;QACvG,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YACzD,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC;SAC/E,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE;YAC3D,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;;;gBAGnB,OAAO;aACV;YACD,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;gBACvB,IAAI,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,QAAQ,EAAE;oBAC1C,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,mBAAmB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE;;wBAExI,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;qBACzB;oBACD,KAAK,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;iBAC/B;qBACI;oBACD,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBACzB;aACJ;iBACI;gBACD,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YACjD,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACzB,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAC9F,KAAK,CAAC,OAAO,EAAE,CAAC;SACnB,CAAC,CAAC,CAAC;QACJ,OAAO,KAAK,CAAC;KAChB;IACD,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;KACnF,CAAC;IACF,oBAAoB,CAAC,YAAY,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE;QAC7D,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC9B,IAAI,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,aAAa,EAAE;;YAEvC,OAAO,IAAI,CAAC;SACf;QACD,IAAI,qBAAqB,GAAG,8BAA8B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,qBAAqB,EAAE;YACxB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,cAAc,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,EAAE;YACjB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,GAAG,qBAAqB,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QACzD,IAAI,CAAC,CAAC,EAAE;YACJ,IAAI,aAAa,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;YAC3C,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,IAAI,WAAW,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;gBAC5C,IAAI,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;gBACtC,IAAI,yBAAyB,GAAG,0BAA0B,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;gBACxG,IAAI,CAAC,yBAAyB,EAAE;oBAC5B,OAAO,IAAI,CAAC;iBACf;aACJ;YACD,CAAC,GAAG,kBAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;SACzD;QACD,IAAI,CAAC,CAAC,EAAE;YACJ,OAAO,IAAI,CAAC;SACf;QACD,IAAI,mBAAmB,GAAG,IAAI,CAAC;QAC/B,IAAI,kBAAkB,GAAG,iCAAiC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACtE,IAAI,CAAC,CAAC,YAAY,EAAE;;YAEhB,IAAI,kBAAkB,EAAE;;gBAEpB,OAAO,IAAI,CAAC;aACf;YACD,IAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,oBAAoB,EAAE;gBAC1C,OAAO,IAAI,CAAC;aACf;YACD,mBAAmB,GAAG,CAAC,CAAC,YAAY,CAAC;SACxC;QACD,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE;;YAE/B,OAAO,IAAI,CAAC;SACf;QACD,IAAI,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,EAAE;;YAE3B,OAAO,IAAI,CAAC;SACf;;QAED,IAAI,SAAS,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC1C,IAAI,aAAa,GAAG,SAAS,CAAC,SAAS,CAAC;;QAExC,IAAI,SAAS,CAAC,UAAU,EAAE;YACtB,IAAI,qBAAqB,GAAG,SAAS,CAAC,YAAY,CAAC;YACnD,IAAI,CAAC,aAAa,EAAE;gBAChB,qBAAqB,GAAG,qBAAqB,CAAC,WAAW,EAAE,CAAC;aAC/D;YACD,IAAI,cAAc,GAAG,CAAC,CAAC,UAAU,CAAC;YAClC,IAAI,CAAC,aAAa,EAAE;gBAChB,cAAc,GAAG,cAAc,CAAC,WAAW,EAAE,CAAC;aACjD;YACD,IAAI,qBAAqB,KAAK,cAAc,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC9I,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,IAAI,yBAAyB,CAAC,mBAAmB,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC;KACvJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;QACxD,IAAI,yBAAyB,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;YACzD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACtE,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,KAAK,CAAC,yBAAyB,EAAE,EAAE;;YAEnC,OAAO;SACV;QACD,IAAI,kBAAkB,GAAG,iCAAiC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACtE,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACrK,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAChD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAC7C,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;;QAEhD,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,IAAI,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG;YAChF,IAAI,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,IAAI,EAAE;;gBAEX,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACpB,CAAC,EAAE,CAAC;aACP;iBACI;gBACD,IAAI,GAAG,GAAG,KAAK,CAAC,wBAAwB,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,GAAG,GAAG,CAAC,EAAE;;oBAET,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACpB,CAAC,EAAE,CAAC;iBACP;qBACI,IAAI,GAAG,GAAG,CAAC,EAAE;;oBAEd,CAAC,EAAE,CAAC;iBACP;qBACI;;oBAED,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,CAAC;iBACP;aACJ;SACJ;QACD,IAAI,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YACvC,OAAO;gBACH,KAAK,EAAE,CAAC;;gBAER,OAAO,GAAG,kBAAkB,GAAG,oBAAoB,CAAC,oBAAoB,GAAG,oBAAoB,CAAC,6BAA6B,CAAC;aACjI,CAAC;SACL,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;KAClF,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACrB,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,qCAAqC,CAAC;IAChE,oBAAoB,CAAC,6BAA6B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACjF,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,oBAAoB;QAC/B,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,yCAAyC,CAAC;YAClE,SAAS,EAAE,gBAAgB,CAAC,yCAAyC,CAAC;YACtE,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,oBAAoB,CAAC,oBAAoB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QACxE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,oBAAoB;KAClC,CAAC,CAAC;IACH,OAAO,oBAAoB,CAAC;CAC/B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,SAAS,0BAA0B,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE;IAC1D,IAAI,YAAY,GAAG,eAAe,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACjE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC/C,IAAIO,QAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACtB,IAAIA,QAAK,CAAC,OAAO,EAAE,EAAE;YACjB,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,gBAAgB,GAAG,eAAe,CAAC,KAAK,EAAEA,QAAK,EAAE,CAAC,SAAS,CAAC,CAAC;QACjE,IAAI,YAAY,KAAK,gBAAgB,EAAE;YACnC,OAAO,KAAK,CAAC;SAChB;KACJ;IACD,OAAO,IAAI,CAAC;CACf;AACD,SAAS,eAAe,CAAC,KAAK,EAAEA,QAAK,EAAE,WAAW,EAAE;IAChD,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAACA,QAAK,CAAC,CAAC;IACxC,QAAQ,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,EAAE;CACpD;AACD,0BAA0B,CAAC,8BAA8B,CAAC,CAAC;AAC3D,0BAA0B,CAAC,oBAAoB,CAAC,CAAC;AACjD,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;AACxC,oBAAoB,CAAC,mCAAmC,CAAC,CAAC;AAC1D,oBAAoB,CAAC,iCAAiC,CAAC,CAAC;AACxD,oBAAoB,CAAC,qCAAqC,CAAC,CAAC;AAC5D,oBAAoB,CAAC,kCAAkC,CAAC,CAAC;AACzD,oBAAoB,CAAC,sCAAsC,CAAC,CAAC;AAC7D,oBAAoB,CAAC,sBAAsB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,eAAe,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACxzBtC;;;;AAIA,AAMO,IAAI,OAAO,GAAG;IACjB,OAAO,EAAE,IAAI,aAAa,CAAC,uBAAuB,EAAE,KAAK,CAAC;IAC1D,kBAAkB,EAAE,IAAI,aAAa,CAAC,kCAAkC,EAAE,KAAK,CAAC;CACnF,CAAC;AACF,AAAO,SAAS,oBAAoB,CAAC,KAAK,EAAE,QAAQ,EAAE;IAClD,IAAI,QAAQ,GAAG,6BAA6B,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC5D,IAAI,MAAM,CAAC;IACX,OAAO,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,YAAY;QACjE,IAAI,MAAM,EAAE;;YAER,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,OAAO,CAAC,oBAAoB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE;YAChI,MAAM,GAAG,UAAU,CAAC;SACvB,EAAE,yBAAyB,CAAC,CAAC;KACjC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC;CAC/C;AACD,8BAA8B,CAAC,+BAA+B,EAAE,oBAAoB,CAAC,CAAC;;AC3BtF;;;;AAIA,AACA,IAAIP,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAqBA,IAAImB,GAAC,GAAGC,CAAK,CAAC;AACd,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDlB,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,MAAM,EAAE;QACjC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QAC/C,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QACnC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;QACjD,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;QACvC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QACtB,KAAK,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACtC,KAAK,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,mBAAmB,CAAC,KAAK,CAAC,CAAC;QACpH,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,2BAA2B,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpH,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAChG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3G,KAAK,CAAC,SAAS,CAAC,6BAA6B,CAAC,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC;QACxF,KAAK,CAAC,2BAA2B,EAAE,CAAC;QACpC,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,OAAO,KAAK,CAAC;KAChB;IACD,mBAAmB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE;QACrD,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,KAAK,CAAC,EAAE;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;SAC/B;QACD,IAAI,IAAI,CAAC,2BAA2B,EAAE;YAClC,IAAI,CAAC,2BAA2B,CAAC,MAAM,EAAE,CAAC;YAC1C,IAAI,CAAC,2BAA2B,GAAG,SAAS,CAAC;SAChD;KACJ,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC5D,IAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC5D,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KAChD,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,2BAA2B,EAAE;YAClC,IAAI,CAAC,2BAA2B,CAAC,MAAM,EAAE,CAAC;SAC7C;QACD,IAAI,CAAC,2BAA2B,GAAG,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;aACrG,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC;aAC7B,IAAI,CAAC,UAAU,MAAM,EAAE;YACxB,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;gBACjE,KAAK,CAAC,MAAM,EAAE,CAAC;gBACf,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC7B,OAAO,KAAK,CAAC;aAChB;YACD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;YAC9B,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;KACN,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;KAC7D,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QACD,IAAI,CAAC,0BAA0B,GAAG,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAC3E,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;QACtC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,6BAA6B,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACtF,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,8BAA8B,CAAC,EAAE;gBACvD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,8BAA8B,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBAChF,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAChB,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACtC;aACJ;SACJ;QACD,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE;YACvE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;gBAChB,OAAO;aACV;YACD,IAAI,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;gBACpD,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE;QACxD,IAAI,CAAC,CAAC,MAAM,KAAK,OAAO,EAAE;YACtB,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;aACI,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACzB,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;KACJ,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QACpE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC;QACzE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;KACJ,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAChD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,0BAA0B,GAAG,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAC3E,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,mBAAmB,CAAC,KAAK,GAAG,GAAG,CAAC;IAChC,OAAO,mBAAmB,CAAC;CAC9B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,AACA,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,MAAM,EAAE,iBAAiB,EAAE,aAAa,EAAE,WAAW,EAAE;QACjF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;QAErB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,MAAM,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC;QACjF,IAAI,CAAC,KAAK,GAAG,IAAI,mBAAmB,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC5D,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAClF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;YACjD,KAAK,CAAC,IAAI,EAAE,CAAC;YACb,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YACtB,KAAK,CAAC,gBAAgB,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;YACjD,KAAK,CAAC,MAAM,EAAE,CAAC;SAClB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY;YAClD,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB,CAAC,CAAC,CAAC;KACP;IACD,oBAAoB,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QACrE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAGiB,GAAC,CAAC,uCAAuC,CAAC,CAAC;QAC1D,IAAI,OAAO,GAAGE,MAAU,CAAC,IAAI,CAAC,OAAO,EAAEF,GAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QACtD,IAAI,OAAO,GAAGE,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QACjD,IAAI,QAAQ,GAAGE,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAC1D,IAAI,IAAI,GAAGE,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,cAAc,CAAC,CAAC,CAAC;QAClD,IAAI,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;QACxD,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACvD,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;QAChD,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAGE,MAAU,CAAC,OAAO,EAAEF,GAAC,CAAC,YAAY,CAAC,CAAC,CAAC;QACtD,IAAI,IAAI,GAAGA,GAAC,CAAC,OAAO,CAAC,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,GAAGE,MAAU,CAAC,IAAI,EAAEF,GAAC,CAAC,YAAY,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,GAAGE,MAAU,CAAC,IAAI,EAAEF,GAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE;YACtE,IAAI,KAAK,CAAC,OAAO,EAAE;gBACf,KAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aAC3C;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,UAAU,GAAG,YAAY;YACzB,IAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC;YACxD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC3D,CAAC;QACF,UAAU,EAAE,CAAC;QACb,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACxD,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC3C,EAAE,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvG,IAAI,CAAC,eAAe,EAAE,CAAC;KAC1B,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;YAC7B,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,2BAA2B,EAAE,CAAC;SACtC;QACD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAOb,QAAY,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3F,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KACzC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAC9B,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,2BAA2B,EAAE,CAAC;SACtC;QACD,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3BE,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KACzC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACrD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO;gBACH,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;gBACnC,UAAU,EAAE,CAAC,+BAA+B,CAAC,KAAK,EAAE,+BAA+B,CAAC,KAAK,CAAC;aAC7F,CAAC;SACL;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAChD,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;QAChDyB,WAAe,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACzB,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QACD,IAAI,IAAI,GAAGZ,MAAU,CAAC,IAAI,CAAC,SAAS,EAAEF,GAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClD,IAAI,aAAa,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;QACpD,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC;QACvD,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC/C,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QAC5C,IAAI,CAAC,aAAa,EAAE;YAChB,IAAI,KAAK,GAAGE,MAAU,CAAC,IAAI,EAAEF,GAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACxC,KAAK,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC;SACvC;aACI;YACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;SACtE;QACD,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,eAAe,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QACvE,IAAI,eAAe,IAAI,eAAe,CAAC,aAAa,EAAE;YAClD,IAAI,aAAa,GAAGA,GAAC,CAAC,oBAAoB,CAAC,CAAC;YAC5C,IAAI,OAAO,eAAe,CAAC,aAAa,KAAK,QAAQ,EAAE;gBACnDX,WAAe,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;gBAC5C,aAAa,CAAC,WAAW,GAAG,eAAe,CAAC,aAAa,CAAC;aAC7D;iBACI;gBACDF,QAAY,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;gBACzC,IAAI,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;gBACnF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAC/C,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aACvD;YACDe,MAAU,CAAC,IAAI,CAAC,IAAI,EAAEF,GAAC,CAAC,GAAG,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;SACtD;QACDc,WAAe,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACvE,IAAI,OAAO,SAAS,CAAC,aAAa,KAAK,QAAQ,EAAE;YAC7CZ,MAAU,CAAC,IAAI,CAAC,IAAI,EAAEF,GAAC,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;SAChE;aACI;YACD,IAAI,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAC7E,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAC/CE,MAAU,CAAC,IAAI,CAAC,IAAI,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC;SACnD;QACD,IAAI,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;QACxD,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,EAAE;YACnC,eAAe,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;SACzD;QACD,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,eAAe,CAAC;QAC7C,IAAI,eAAe,EAAE;YACjB,IAAI,eAAe,GAAG,eAAe,CAAC,KAAK,CAAC;;;YAG5C,IAAI,IAAI,CAAC,cAAc,KAAK,eAAe,EAAE;gBACzCK,KAAU,CAACzB,QAAY,CAAC,MAAM,EAAE,WAAW,EAAE,eAAe,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,cAAc,GAAG,eAAe,CAAC;aACzC;SACJ;QACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;KAChC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE;QAC7F,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,OAAO,CAAC;QACZ,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACvD,IAAI,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACxC,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;YAC5D,IAAI,oBAAoB,GAAG,CAAC,CAAC;YAC7B,IAAI,iBAAiB,GAAG,CAAC,CAAC;YAC1B,IAAI,GAAG,IAAI,CAAC,EAAE;gBACV,oBAAoB,GAAG,GAAG,CAAC;gBAC3B,iBAAiB,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;aACpD;;YAED,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACzC,OAAO,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;YACxE6E,OAAW,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;;YAE7B,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACzC,OAAO,CAAC,SAAS,GAAG,YAAY,IAAI,CAAC,KAAK,gBAAgB,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC;YAC5E,OAAO,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,oBAAoB,EAAE,iBAAiB,CAAC,CAAC;YACzFA,OAAW,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAC7B,GAAG,GAAG,oBAAoB,CAAC;SAC9B;;QAED,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACzC,OAAO,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACxDA,OAAW,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;KAChC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;IAwBF,oBAAoB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC9C,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;QAC1C,IAAI,MAAM,GAAG,CAAC,EAAE;YACZ,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,MAAM,CAAC;QAC7D,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,OAAO,IAAI,CAAC;KACf,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAClD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;QAC1C,IAAI,MAAM,GAAG,CAAC,EAAE;YACZ,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,MAAM,IAAI,MAAM,CAAC;QACtE,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,OAAO,IAAI,CAAC;KACf,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAChD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;KACvB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/C,OAAO,oBAAoB,CAAC,EAAE,CAAC;KAClC,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;KACzB,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACzD,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACnE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,CAAC;KAChD,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACjD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;SACrB;KACJ,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,oCAAoC,CAAC;IAC/D,oBAAoB,GAAGnE,YAAU,CAAC;QAC9BC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;KAC3B,EAAE,oBAAoB,CAAC,CAAC;IACzB,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;IAC/C,IAAI,MAAM,EAAE;QACR,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,KAAK,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC;QACvD,SAAS,CAAC,OAAO,CAAC,mDAAmD,GAAG,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;QACpH,SAAS,CAAC,OAAO,CAAC,iFAAiF,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;QACvI,SAAS,CAAC,OAAO,CAAC,wFAAwF,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;KACjJ;IACD,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;IACvD,IAAI,UAAU,EAAE;QACZ,SAAS,CAAC,OAAO,CAAC,6DAA6D,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC;KACzG;IACD,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAC9C,IAAI,IAAI,EAAE;QACN,SAAS,CAAC,OAAO,CAAC,oDAAoD,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;KAC1F;IACD,IAAI,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;IAC7D,IAAI,cAAc,EAAE;QAChB,SAAS,CAAC,OAAO,CAAC,kEAAkE,GAAG,cAAc,GAAG,KAAK,CAAC,CAAC;KAClH;CACJ,CAAC,CAAC;;AC/bH;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AASA,IAAI,wBAAwB,kBAAkB,YAAY;IACtD,SAAS,wBAAwB,CAAC,MAAM,EAAE,oBAAoB,EAAE;QAC5D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC,cAAc,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KACxF;IACD,wBAAwB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC7C,OAAO,MAAM,CAAC,eAAe,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnD,OAAO,wBAAwB,CAAC,EAAE,CAAC;KACtC,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpD,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;KACxB,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACtD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;KAC1B,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAClD,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACtB,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;KACzB,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACtC,CAAC;IACF,wBAAwB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IACjE,wBAAwB,GAAGW,YAAU,CAAC;QAClCC,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;KACpC,EAAE,wBAAwB,CAAC,CAAC;IAC7B,OAAO,wBAAwB,CAAC;CACnC,EAAE,CAAC,CAAC;AACL,IAAI,2BAA2B,kBAAkB,UAAU,MAAM,EAAE;IAC/DV,WAAS,CAAC,2BAA2B,EAAE,MAAM,CAAC,CAAC;IAC/C,SAAS,2BAA2B,GAAG;QACnC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,qCAAqC;YACzC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,yBAAyB,CAAC;YAC9E,KAAK,EAAE,yBAAyB;YAChC,YAAY,EAAE,iBAAiB,CAAC,wBAAwB;YACxD,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,2BAA2B,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACpE,IAAI,UAAU,GAAG,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,OAAO,EAAE,CAAC;SACxB;KACJ,CAAC;IACF,OAAO,2BAA2B,CAAC;CACtC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;AACrD,oBAAoB,CAAC,2BAA2B,CAAC,CAAC;AAClD,IAAI,MAAM,GAAG,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AAC1D,IAAI,qBAAqB,GAAG,aAAa,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;AAC3F,qBAAqB,CAAC,IAAI,qBAAqB,CAAC;IAC5C,EAAE,EAAE,qBAAqB;IACzB,YAAY,EAAE,OAAO,CAAC,OAAO;IAC7B,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE;IAC5C,MAAM,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,qBAAqB,CAAC;IAC5C,EAAE,EAAE,uBAAuB;IAC3B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,kBAAkB,CAAC;IAC7E,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE;IAC9C,MAAM,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,GAAG,aAAa,EAAE,eAAe;QAC7C,GAAG,EAAE,EAAE,OAAO,EAAE,EAAE,gBAAgB,SAAS,EAAE,CAAC,GAAG,aAAa,EAAE,gBAAgB,GAAG,iBAAiB,EAAE,aAAa,EAAE;KACxH;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,qBAAqB,CAAC;IAC5C,EAAE,EAAE,uBAAuB;IAC3B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,kBAAkB,CAAC;IAC7E,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE;IAC1C,MAAM,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,GAAG,aAAa,EAAE,iBAAiB;QAC/C,GAAG,EAAE,EAAE,OAAO,EAAE,EAAE,kBAAkB,SAAS,EAAE,CAAC,GAAG,aAAa,EAAE,kBAAkB,GAAG,iBAAiB,EAAE,aAAa,EAAE;KAC5H;CACJ,CAAC,CAAC,CAAC;;AC9HJ;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAqBA,IAAI,6BAA6B,GAAG;IAChC,YAAY,EAAE,UAAU,KAAK,EAAE;QAC3B,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAIC,QAAY,CAAC,qBAAqB,EAAE,mBAAmB,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KAC3H;CACJ,CAAC;AACF,IAAI,mBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,MAAM,EAAE,iBAAiB,EAAE;QACpD,IAAI,MAAM,YAAY,wBAAwB,EAAE;YAC5C,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;SACtD;KACJ;IACD,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;KACnD,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC9C,OAAO,mBAAmB,CAAC,EAAE,CAAC;KACjC,CAAC;IACF,mBAAmB,CAAC,EAAE,GAAG,oCAAoC,CAAC;IAC9D,mBAAmB,GAAGU,YAAU,CAAC;QAC7BC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;KACjC,EAAE,mBAAmB,CAAC,CAAC;IACxB,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDV,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,uCAAuC;YAC3C,KAAK,EAAED,QAAY,CAAC,yBAAyB,EAAE,qBAAqB,CAAC;YACrE,KAAK,EAAE,qBAAqB;YAC5B,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,WAAW,CAAC,eAAe,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;YACvJ,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,EAAE;aACjC;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACxD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAIQ,QAAK,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAClC,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,UAAU,GAAG,iBAAiB,CAAC,KAAK,EAAEA,QAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE,EAAE,OAAO,IAAI,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5I,UAAU,CAAC,YAAY,CAACA,QAAK,EAAE,UAAU,EAAE,6BAA6B,CAAC,CAAC;KAC7E,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,0BAA0B,CAAC,mBAAmB,CAAC,CAAC;AAChD,oBAAoB,CAAC,eAAe,CAAC,CAAC;AACtC,IAAI,qBAAqB,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE;IAChE,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;KAC5C;IACD,IAAI,CAAC,QAAQ,EAAE;QACX,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;KACjD;IACD,OAAO,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QAC1F,IAAI,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;YACxB,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,UAAU,GAAG,iBAAiB,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE,EAAE,OAAO,IAAI,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;QACxJ,IAAIA,QAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;QAClG,OAAO,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAACA,QAAK,EAAE,UAAU,EAAE,6BAA6B,CAAC,CAAC,CAAC;KACjG,CAAC,CAAC;CACN,CAAC;AACF,IAAI,qBAAqB,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE;IAC5E,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;KACrD;IACD,OAAO,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QAC1F,IAAI,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;YACxB,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,IAAI,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,6BAA6B,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC;KACtP,CAAC,CAAC;CACN,CAAC;;AAEF,gBAAgB,CAAC,eAAe,CAAC;IAC7B,EAAE,EAAE,8BAA8B;IAClC,OAAO,EAAE,qBAAqB;CACjC,CAAC,CAAC;AACH,gBAAgB,CAAC,eAAe,CAAC;IAC7B,EAAE,EAAE,8BAA8B;IAClC,OAAO,EAAE,qBAAqB;IAC9B,WAAW,EAAE;QACT,WAAW,EAAE,yCAAyC;QACtD,IAAI,EAAE;YACF,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,+CAA+C,EAAE,UAAU,EAAE,GAAG,EAAE;YAC9F,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,+BAA+B,EAAE,UAAU,EAAE,QAAQ,CAAC,WAAW,EAAE;YACpG,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,wBAAwB,EAAE,UAAU,EAAE,KAAK,EAAE;SAClF;KACJ;CACJ,CAAC,CAAC;AACH,SAAS,0BAA0B,CAAC,QAAQ,EAAE,IAAI,EAAE;IAChD,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;CACxF;AACD,SAAS,mBAAmB,CAAC,QAAQ,EAAE,IAAI,EAAE;IACzC,IAAI,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC7C,IAAI,KAAK,GAAG,WAAW,CAAC,eAAe,IAAI,WAAW,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;IAClF,IAAI,KAAK,YAAY,YAAY,EAAE;QAC/B,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KACrG;CACJ;AACD,SAAS,cAAc,CAAC,QAAQ,EAAE,EAAE,EAAE;IAClC,IAAI,WAAW,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;IAC3C,IAAI,CAAC,WAAW,EAAE;QACd,OAAO;KACV;IACD,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACvD,IAAI,CAAC,UAAU,EAAE;QACb,OAAO;KACV;IACD,EAAE,CAAC,UAAU,CAAC,CAAC;CAClB;AACD,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,mBAAmB;IACvB,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC;IACvD,OAAO,EAAE,EAAE;IACX,IAAI,EAAE,yBAAyB;IAC/B,OAAO,EAAE,UAAU,QAAQ,EAAE;QACzB,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE;YAC3C,UAAU,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;SAChD,CAAC,CAAC;KACN;CACJ,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,qCAAqC;IACzC,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;IACpD,OAAO,EAAE,EAAE;IACX,IAAI,EAAE,WAAW,CAAC,YAAY;IAC9B,OAAO,EAAE,UAAU,QAAQ,EAAE;QACzB,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE;YAC3C,UAAU,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;SAChD,CAAC,CAAC;KACN;CACJ,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,uBAAuB;IAC3B,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC;IACvD,OAAO,EAAE,IAAI,eAAe,EAAE;IAC9B,IAAI,EAAE,yBAAyB;IAC/B,OAAO,EAAE,UAAU,QAAQ,EAAE;QACzB,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE;YAC3C,UAAU,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;SACjD,CAAC,CAAC;KACN;CACJ,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,yCAAyC;IAC7C,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;IACpD,OAAO,EAAE,IAAI,eAAe,EAAE;IAC9B,IAAI,EAAE,WAAW,CAAC,YAAY;IAC9B,OAAO,EAAE,UAAU,QAAQ,EAAE;QACzB,cAAc,CAAC,QAAQ,EAAE,UAAU,UAAU,EAAE;YAC3C,UAAU,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;SACjD,CAAC,CAAC;KACN;CACJ,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,sBAAsB;IAC1B,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC;IACvD,OAAO,EAAE,CAAC;IACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;IAC9C,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,yBAAyB,EAAE,cAAc,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IACnG,OAAO,EAAE,0BAA0B;CACtC,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,4BAA4B;IAChC,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC;IACtD,OAAO,EAAE,CAAC;IACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;IAC9C,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAClG,OAAO,EAAE,0BAA0B;CACtC,CAAC,CAAC;AACH,mBAAmB,CAAC,gCAAgC,CAAC;IACjD,EAAE,EAAE,qBAAqB;IACzB,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,EAAE;IAClD,OAAO,EAAE,IAAI,iBAAiB,CAAC;IAC/B,GAAG,EAAE;QACD,OAAO,EAAE,GAAG,iBAAiB,CAAC;KACjC;IACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,yBAAyB,EAAE,mCAAmC,CAAC;IACxF,OAAO,EAAE,mBAAmB;CAC/B,CAAC,CAAC;AACH,AAAO,SAAS,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE;;IAE/C,IAAI,QAAQ,GAAG,yBAAyB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QAC5E,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;YACnC,OAAO,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,EAAE,KAAK,CAAC,CAAC;SAC3F,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACtB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACvB,OAAO,MAAM,CAAC;aACjB;YACD,OAAO,SAAS,CAAC;SACpB,EAAE,UAAU,GAAG,EAAE;YACd,yBAAyB,CAAC,GAAG,CAAC,CAAC;SAClC,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE;QACtD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxE,IAAI,GAAG,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,GAAG,EAAE;gBACL,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;aAClC;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC,CAAC;CACN;AACD,8BAA8B,CAAC,2BAA2B,EAAE,iBAAiB,CAAC,CAAC;;AC/Q/E;;;;AAIA,AACA,IAAIP,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,IAAIgE,WAAS,GAAG,CAAChE,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAIiE,aAAW,GAAG,CAACjE,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;AACF,AAaA,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,GAAG;KACrB;IACD,UAAU,CAAC,KAAK,GAAG,UAAU,WAAW,EAAE;QACtC,IAAI,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;QACzB,IAAI+E,OAAI,CAAC;QACT,IAAI,WAAW,EAAE;;YAEbA,OAAI,GAAG,WAAW,CAAC,aAAa,CAAC,UAAU,KAAK,EAAE;gBAC9C,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,OAAO,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACvD,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBACpB,IAAI,MAAM,CAAC,IAAI,KAAK,cAAc,CAAC,OAAO,EAAE;wBACxC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;qBAC5C;iBACJ;aACJ,CAAC,CAAC;SACN;QACD,OAAO;YACH,IAAI,EAAE,YAAY,EAAE,OAAO,OAAO,CAACA,OAAI,CAAC,CAAC,EAAE;YAC3C,UAAU,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE;SAChF,CAAC;KACL,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,IAAI,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,cAAc,EAAE;QAC9B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;KACpB;IACD,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE;QAChD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE;QACxE,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,YAAY,EAAE;QACjD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,YAAY,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC5D,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAClB,IAAI,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,EAAE;;gBAE9B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC;aAC3B;YACD,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE;;gBAEzB,IAAItE,QAAK,GAAG,KAAK,CAAC,CAAC;gBACnB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;oBACbA,QAAK,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;iBAC3C;qBACI;oBACDA,QAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAClC;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAACA,QAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACjE;SACJ;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;gBACrH,IAAI,GAAG,GAAG,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACvE,IAAI,GAAG,KAAK,CAAC,EAAE;oBACX,GAAG,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;iBAC3B;gBACD,OAAO,GAAG,CAAC;aACd,CAAC,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACrD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;YACxI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;SAClC;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACnD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACtC,IAAI,gBAAgB,GAAG,IAAI,SAAS,CAAC,UAAU,CAAC,eAAe,EAAE,UAAU,CAAC,WAAW,EAAE,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC;QACzI,OAAO,CAAC,gBAAgB,CAAC,CAAC;KAC7B,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,qBAAqB,EAAE;QAC1E,IAAI,iBAAiB,GAAG,CAAC,CAAC;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,qBAAqB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,SAAS,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,KAAK,CAAC,yBAAyB,CAAC,SAAS,EAAE,cAAc,CAAC,EAAE;oBAC5D,iBAAiB,GAAG,CAAC,CAAC;oBACtB,MAAM;iBACT;aACJ;SACJ;QACD,IAAI,QAAQ,GAAG,qBAAqB,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC;QAC9D,IAAI,CAAC,mBAAmB,GAAG,IAAI,SAAS,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;QACjI,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;KACrC,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,mBAAmB,CAAC;KACnC,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDP,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,cAAc,EAAE,iBAAiB,EAAE;QAC5D,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,IAAI,IAAI,CAAC;QACtD,KAAK,CAAC,uBAAuB,GAAG,iBAAiB,CAAC;QAClD,OAAO,KAAK,CAAC;KAChB;IACD,mBAAmB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC9D,OAAO,IAAI,CAAC,uBAAuB,CAAC;KACvC,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,QAAQ,CAAC,CAAC,CAAC;AACb,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,wBAAwB,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE;QACtE,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,yBAAyB,GAAG,wBAAwB,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,GAAG,SAAS,CAAC;QAC/D,IAAI,CAAC,iBAAiB,GAAG,MAAM,GAAG,MAAM,CAAC,aAAa,EAAE,GAAG,SAAS,CAAC;QACrE,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAClC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KACrC;IACD,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACtC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAC;SACpD;QACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,OAAO8D,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,QAAQ,CAAC;YACb,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,IAAI,IAAI,CAAC,MAAM,EAAE;4BACb,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;yBACvD;wBACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;wBACjB,QAAQ,GAAG,EAAE,CAAC;wBACd,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;4BACtC,IAAI,OAAO,GAAG,KAAK,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;gCACnG,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC;gCACvB,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;oCAClC,MAAM,IAAI,KAAK,CAAC,mBAAmB,GAAG,GAAG,CAAC,CAAC;iCAC9C;gCACD,IAAI,IAAI,CAAC;gCACT,IAAI,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE;oCAC9F,KAAK,CAAC,gBAAgB,GAAG,IAAI,mBAAmB,CAAC,GAAG,EAAE,KAAK,CAAC,iBAAiB,CAAC,CAAC;oCAC/E,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC;iCACjC;qCACI;oCACD,IAAI,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC;iCAC5B;gCACD,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;gCAC9D,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gCACxB,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;6BACrC,CAAC,CAAC;4BACH,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;yBAC1B,CAAC,CAAC;wBACH,OAAO,CAAC,CAAC,YAAY,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAClD,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC;iBACnC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACrD,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAClB,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SACpC;QACD,OAAO,IAAI,CAAC,gBAAgB;cACtB,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE;cAC7C,SAAS,CAAC;KACnB,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,IAAI,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,YAAY,EAAE;QACjE,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,IAAI,mBAAmB,CAAC;KACpD;IACD,QAAQ,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,gBAAgB,EAAE,WAAW,EAAE,MAAM,EAAE;QACvE,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,CAAC,CAAC;QACrE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAChB,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;KACzB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;QACtC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACtB,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;SAC5C;aACI;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;QACD,IAAI,EAAE,CAAC;KACV,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACzC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,OAAO,kBAAkB,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACjI,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QACvC,IAAI,SAAS,KAAK,CAAC,EAAE;YACjB,OAAOhE,QAAY,CAAC,WAAW,EAAE,eAAe,CAAC,CAAC;SACrD;aACI,IAAI,SAAS,GAAG,CAAC,IAAI,aAAa,GAAG,CAAC,EAAE;YACzC,OAAOA,QAAY,CAAC,YAAY,EAAE,kCAAkC,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;SACnG;aACI;YACD,OAAOA,QAAY,CAAC,YAAY,EAAE,iCAAiC,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;SAClG;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACrC,OAAO+D,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,CAAC;YACnF,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;wBACjB,KAAK,GAAG,CAAC,CAAC;wBACV,MAAM,GAAG,EAAE,CAAC;wBACZ,KAAK,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;4BACjD,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;4BACd,IAAI,CAAC,KAAK;oCACF,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;oCAC1D,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,EAAE;gCAChE,KAAK,GAAG,EAAE,CAAC;gCACX,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6BACtB;4BACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BACjB,IAAI,kBAAkB,CAAC,IAAI,CAAC,EAAE;gCAC1B,KAAK,IAAI,CAAC,CAAC;6BACd;iCACI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE;gCAC1C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;gCACnC,KAAK,IAAI,CAAC,CAAC;6BACd;yBACJ;;;wBAGD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAC5B,QAAQ,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;wBAC1E,GAAG,GAAG,SAAS,CAAC;wBAChB,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,CAAC;wBAC1B,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,IAAI,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACrD,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC7D,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;oBACpE,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;oBACxE,KAAK,CAAC;wBACF,GAAG,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC;wBACzB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,EAAE,EAAE,CAAC;wBACL,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC;iBACtC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC9D,OAAOD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;YAC/C,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC;YACtB,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC;wBACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,IAAI,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACpD,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;wBACnB,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;wBAC3B,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC3D,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;oBACtF,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC;wBACF,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC5D,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;oBACnE,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC;wBACF,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC5D,OAAO,CAAC,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;oBACrG,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,EAAE,EAAE,CAAC;wBACL,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC;iBACjC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC9D,OAAOD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC;YAC3C,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAChD,KAAK,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;wBACjF,OAAO,CAAC,CAAC,YAAY,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;oBAC1C,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,SAAS,GAAG,KAAK;6BACZ,MAAM,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;6BACvE,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;wBAClE,SAAS,CAAC,IAAI,EAAE,CAAC;wBACjB,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;4BACtB,KAAK,CAAC,OAAO,EAAE,CAAC;4BAChB,MAAM,IAAI,KAAK,CAAChE,QAAY,CAAC,UAAU,EAAE,+CAA+C,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yBACpH;wBACD,OAAO,CAAC,CAAC,YAAY,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;oBACxC,KAAK,CAAC;wBACF,SAAS,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBACtB,KAAK,CAAC,OAAO,EAAE,CAAC;wBAChB,OAAO,CAAC,CAAC,aAAa,SAAS,CAAC,CAAC;iBACxC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,QAAQ,GAAGU,YAAU,CAAC;QAClBC,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;KACrC,EAAE,QAAQ,CAAC,CAAC;IACb,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACxaL;;;;AAIA,AACA,IAAID,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AASA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,MAAM,EAAE,YAAY,EAAE;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;;QAEvB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,CAAC,CAAC,QAAQ,EAAE;gBACZ,KAAK,CAAC,UAAU,EAAE,CAAC;aACtB;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC/G;IACD,gBAAgB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QACxD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;KAC5B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,qBAAqB,CAAC;KAChC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,cAAc,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,YAAY,EAAE,QAAQ,CAAC,iBAAiB,EAAE,wDAAwD,CAAC,CAAC,CAAC;YACnI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,GAAG,IAAI,CAAC;YAC/E,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,0BAA0B,CAAC;YACrD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;SACnD;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO;SACV;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;QACjD,IAAI2B,aAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;QACjD,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACrD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QACzC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,GAAG,UAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;QACnF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,GAAGA,aAAU,GAAGA,aAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;QACzE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,KAAK,GAAG,KAAK,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,OAAO,GAAG,MAAM,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,GAAG,MAAM,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC;QACzE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,iBAAiB,GAAG,aAAa,GAAG,iBAAiB,GAAG,IAAI,CAAC;KAChG,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAChD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO;SACV;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC;QACxD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACxD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACxD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;KAC9D,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,QAAQ;cACd,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,CAAC,+BAA+B,CAAC,KAAK,EAAE,+BAA+B,CAAC,KAAK,CAAC,EAAE;cACxH,IAAI,CAAC;KACd,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,WAAW,EAAE;QAC5D,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;SACzC;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,cAAc,EAAE,YAAY,EAAE;QACxF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC;QACxE,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,gBAAgB,EAAE,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,cAAc,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;QACvE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,WAAW,IAAI,GAAG,EAAE,EAAE,CAAC,CAAC;QAClF,IAAI,aAAa,GAAG,EAAE,EAAEqD,SAAM,CAAC;QAC/BA,SAAM,GAAG,YAAY;YACjB,OAAO,CAAC,aAAa,CAAC,CAAC;YACvB,KAAK,CAAC,KAAK,EAAE,CAAC;SACjB,CAAC;QACF,OAAO,IAAI,QAAQ,CAAC,UAAU,OAAO,EAAE;YACnC,KAAK,CAAC,mBAAmB,GAAG,UAAU,WAAW,EAAE;gBAC/C,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBACjC,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBACjC,OAAO,CAAC,WAAW,CAAC,CAAC;gBACrB,OAAO,IAAI,CAAC;aACf,CAAC;YACF,KAAK,CAAC,mBAAmB,GAAG,YAAY;gBACpC,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,KAAK,KAAK,EAAE;;oBAElF,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBACxB,OAAO;iBACV;gBACD,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBACjC,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBACjC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aACpC,CAAC;YACF,IAAI,eAAe,GAAG,YAAY;gBAC9B,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,EAAE;oBAC7D,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBAC3B;aACJ,CAAC;YACF,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,eAAe,CAAC,CAAC,CAAC;YAC9E,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpG,KAAK,CAAC,KAAK,EAAE,CAAC;SACjB,EAAE,YAAY;YACX,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SACnC,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE;YACxBA,SAAM,EAAE,CAAC;YACT,OAAO,QAAQ,CAAC;SACnB,EAAE,UAAU,GAAG,EAAE;YACdA,SAAM,EAAE,CAAC;YACT,OAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SAClC,CAAC,CAAC;KACN,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC;QAC5F,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,UAAU,CAAC,YAAY;YACnB,KAAK,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YAC1B,KAAK,CAAC,WAAW,CAAC,iBAAiB,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SAC7J,EAAE,GAAG,CAAC,CAAC;KACX,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,gBAAgB,GAAGrE,YAAU,CAAC;QAC1BC,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;KAC5B,EAAE,gBAAgB,CAAC,CAAC;IACrB,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;AC1KL;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,IAAIgE,WAAS,GAAG,CAAChE,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAIiE,aAAW,GAAG,CAACjE,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;AACF,AAqBA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE;QACrC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,sBAAsB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;KAC1D;IACD,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;KACpC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACzD,OAAOgE,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC;YACxB,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC7B,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC7D,OAAO,CAAC,CAAC,YAAY,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1I,KAAK,CAAC;wBACF,GAAG,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBAChB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,IAAI,CAAC,GAAG,EAAE;4BACN,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;4BACnD,IAAI,IAAI,EAAE;gCACN,GAAG,GAAG;oCACF,KAAK,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC;oCACtG,IAAI,EAAE,IAAI,CAAC,IAAI;iCAClB,CAAC;6BACL;yBACJ;wBACD,OAAO,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC;iBAClC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE;QACnF,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;QAC5B,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;QACzC,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE,EAAE,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE;QACtD,OAAOD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,QAAQ,EAAE,MAAM,CAAC;YACrB,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;4BAC5B,OAAO,CAAC,CAAC,aAAa;oCACd,KAAK,EAAE,SAAS;oCAChB,YAAY,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;iCACnC,CAAC,CAAC;yBACV;wBACD,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC7B,OAAO,CAAC,CAAC,YAAY,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,kBAAkB,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAChJ,KAAK,CAAC;wBACF,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBACnB,IAAI,CAAC,MAAM,EAAE;4BACT,OAAO,CAAC,CAAC,aAAa,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,MAAM,CAAChE,QAAY,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC3H;6BACI,IAAI,MAAM,CAAC,YAAY,EAAE;4BAC1B,OAAO,CAAC,CAAC,aAAa,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACvG;wBACD,OAAO,CAAC,CAAC,aAAa,MAAM,CAAC,CAAC;iBACrC;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AAAO,SAAS,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE;IAC7C,OAAO+D,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;QACjD,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;YACnC,OAAO,CAAC,CAAC,aAAa,IAAI,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC;SAC1F,CAAC,CAAC;KACN,CAAC,CAAC;CACN;;AAED,IAAI,4BAA4B,GAAG,IAAI,aAAa,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;AAClF,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,MAAM,EAAE,oBAAoB,EAAE,yBAAyB,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,YAAY,EAAE,YAAY,EAAE;QAChJ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;QAC3D,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,iBAAiB,GAAG,IAAI,gBAAgB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QACpE,IAAI,CAAC,mBAAmB,GAAG,4BAA4B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;KACrF;IACD,gBAAgB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACrC,OAAO,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;KACtD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;KACpC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,gBAAgB,CAAC,EAAE,CAAC;KAC9B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QACzC,OAAOD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,cAAc,EAAE,YAAY,CAAC;YAC1E,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC;wBACF,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;wBACrC,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,QAAQ,CAAC,CAAC;wBAChE,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;oBACjB,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC1B,OAAO,CAAC,CAAC,YAAY,QAAQ,CAAC,qBAAqB,EAAE,CAAC,CAAC;oBAC3D,KAAK,CAAC;wBACF,GAAG,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBAChB,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC;wBACF,GAAG,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;wBAChB,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;wBAC9D,OAAO,CAAC,CAAC,aAAa,SAAS,CAAC,CAAC;oBACrC,KAAK,CAAC;wBACF,IAAI,CAAC,GAAG,EAAE;4BACN,OAAO,CAAC,CAAC,aAAa,SAAS,CAAC,CAAC;yBACpC;wBACD,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;wBACvC,cAAc,GAAG,CAAC,CAAC;wBACnB,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;wBAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;4BAChH,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BAC5E,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC;yBAC7F;wBACD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBACnC,OAAO,CAAC,CAAC,aAAa,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC,IAAI,CAAC,UAAU,kBAAkB,EAAE;gCACpI,KAAK,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;gCAClC,IAAI,OAAO,kBAAkB,KAAK,SAAS,EAAE;oCACzC,IAAI,kBAAkB,EAAE;wCACpB,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;qCACxB;oCACD,OAAO,SAAS,CAAC;iCACpB;gCACD,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gCACrB,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;gCACjG,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,kBAAkB,CAAC,eAAe,CAAC,mBAAmB,CAAC,cAAc,CAAC;gCACjH,IAAI,eAAe,GAAG,QAAQ,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;oCAC1I,IAAI,MAAM,CAAC,YAAY,EAAE;wCACrB,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;4CAC9B,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;yCACpG;6CACI;4CACD,KAAK,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;yCACxD;wCACD,OAAO,SAAS,CAAC;qCACpB;oCACD,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oCACvB,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE;wCAC5C,IAAI,SAAS,EAAE;4CACX,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;yCACxC;;wCAED,KAAK,CAAChE,QAAY,CAAC,MAAM,EAAE,mDAAmD,EAAE,GAAG,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;qCACtI,CAAC,CAAC;iCACN,EAAE,UAAU,GAAG,EAAE;oCACd,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAACA,QAAY,CAAC,eAAe,EAAE,2BAA2B,CAAC,CAAC,CAAC;oCAC7F,OAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;iCAClC,CAAC,CAAC;gCACH,KAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gCACvD,OAAO,eAAe,CAAC;6BAC1B,EAAE,UAAU,GAAG,EAAE;gCACd,KAAK,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;gCAClC,OAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;6BAClC,CAAC,CAAC,CAAC;iBACf;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACvD,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;KACxC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACvD,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAC5C,CAAC;IACF,gBAAgB,CAAC,EAAE,GAAG,iCAAiC,CAAC;IACxD,gBAAgB,GAAGU,YAAU,CAAC;QAC1BC,SAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC;QAChCA,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,gBAAgB,CAAC;QAC5BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;KACrC,EAAE,gBAAgB,CAAC,CAAC;IACrB,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;AAEL,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDV,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,GAAG;QACpB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,sBAAsB;YAC1B,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,eAAe,CAAC;YACpD,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,iBAAiB,CAAC;YACjG,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,EAAE;aACd;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,GAAG;aACb;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACrD,IAAI,UAAU,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,UAAU,EAAE;YACZ,OAAO,UAAU,CAAC,GAAG,EAAE,CAAC;SAC3B;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;AAC7C,oBAAoB,CAAC,YAAY,CAAC,CAAC;AACnC,IAAI,aAAa,GAAG,aAAa,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;AAC3E,qBAAqB,CAAC,IAAI,aAAa,CAAC;IACpC,EAAE,EAAE,mBAAmB;IACvB,YAAY,EAAE,4BAA4B;IAC1C,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,iBAAiB,EAAE,CAAC,EAAE;IACvD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,CAAC;KACb;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,aAAa,CAAC;IACpC,EAAE,EAAE,mBAAmB;IACvB,YAAY,EAAE,4BAA4B;IAC1C,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,iBAAiB,EAAE,CAAC,EAAE;IACvD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;;AAEJ,8BAA8B,CAAC,gCAAgC,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC9F,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3B,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;QAC7B,MAAM,eAAe,CAAC,SAAS,CAAC,CAAC;KACpC;IACD,OAAO,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;CAC3C,CAAC,CAAC;;AC1UH;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAIA,IAAIiF,MAAI,kBAAkB,YAAY;IAClC,SAAS,IAAI,GAAG;KACf;IACD,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;QAC3C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACpG;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;CACf,EAAE,CAAC,CAAC;AACL,AACA,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5C/E,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,GAAG;QAChB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE;QAC/C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,WAAW;kBACjB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK;kBACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,EAAE;QAC7C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,WAAW;kBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG;kBAC3C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;SACzB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,aAAa,EAAE;QACrD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;SACpD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE;QACjD,GAAG,EAAE,YAAY;YACb,OAAO,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;SAC5C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QACxC,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACtB;QACD,IAAI,IAAI,YAAY,QAAQ,EAAE;YAC1B,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1D;SACJ;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC+E,MAAI,CAAC,CAAC,CAAC;AACT,AACA,IAAI,KAAK,kBAAkB,UAAU,MAAM,EAAE;IACzC/E,WAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACzB,SAAS,KAAK,GAAG;QACb,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC9B,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;QAC5C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;SAC1B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE;QAC1C,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;SACzB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;CAChB,CAAC+E,MAAI,CAAC,CAAC,CAAC;AACT,AACA,IAAI,KAAK,kBAAkB,YAAY;IACnC,SAAS,KAAK,CAACxE,QAAK,EAAE,OAAO,EAAE,WAAW,EAAE;QACxC,IAAI,CAAC,KAAK,GAAGA,QAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;KAClC;IACD,OAAO,KAAK,CAAC;CAChB,EAAE,CAAC,CAAC;AACL,SAAS,OAAO,CAAC,KAAK,EAAE;IACpB,IAAI,IAAI,GAAG,IAAIwE,MAAI,EAAE,CAAC;IACtB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;IAC5C,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;IACxC,OAAO,IAAI,CAAC;CACf;AACD,IAAI,QAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE;QAC9C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;KACtD;IACD,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,IAAI,oBAAoB,kBAAkB,YAAY;IAClD,SAAS,oBAAoB,CAAC,KAAK,EAAE;QACjC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC7C,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,QAAQ,EAAE,CAAC;KACnB;IACD,oBAAoB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAClD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE;gBACjD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC5D,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/D,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAE;;gBAEnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;SACJ;KACJ,CAAC;IACF,oBAAoB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC9C,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,IAAI,CAAC,UAAU,EAAE;YAChD,OAAO,IAAI,CAAC;SACf;QACD,IAAI,MAAM,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAChF,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,oBAAoB,CAAC;CAC/B,EAAE,CAAC,CAAC;AACL,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,KAAK,EAAE;QACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,oBAAoB,CAAC,KAAK,CAAC,CAAC;QACxD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;KAC/B;IACD,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACtC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SACjC;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QACzC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAC;SACf;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;QAClC,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC9B,IAAI,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;QAC3B,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;QACpC,IAAI,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,IAAI,IAAI,CAAC,iBAAiB,KAAK,KAAK,CAAC,UAAU,EAAE;YAC7C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,UAAU,CAAC;YAC1C,IAAI,CAAC,uBAAuB,GAAG,6BAA6B,CAAC,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAC3G;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAChD,IAAI,CAAC,YAAY,IAAI,qBAAqB,CAAC,SAAS,CAAC,EAAE;YACnD,OAAO,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,WAAW,GAAG,CAAC,EAAE,UAAU,EAAE,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,aAAa,IAAI,CAAC,CAAC;SAC3G;QACD,IAAI,YAAY,CAAC;QACjB,GAAG;YACC,YAAY,GAAG,aAAa,CAAC,sBAAsB,CAAC,YAAY,CAAC,YAAY,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;YAC7H,IAAI,YAAY,EAAE;gBACd,IAAI,uBAAuB,GAAG,YAAY,CAAC,WAAW,GAAG,CAAC,CAAC;gBAC3D,IAAI,qBAAqB,GAAG,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC;gBACvD,IAAI,WAAW,GAAG,uBAAuB,EAAE;;oBAEvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,WAAW,GAAG,CAAC,EAAE,UAAU,EAAE,uBAAuB,GAAG,CAAC,CAAC,EAAE,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC;iBACvI;gBACD,IAAI,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,uBAAuB,EAAE,qBAAqB,CAAC,CAAC;gBACrF,WAAW,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC;gBACxC,IAAI,WAAW,GAAG,YAAY,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;gBAC1D,IAAI,aAAa,GAAG,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;gBAChE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,uBAAuB,GAAG,CAAC,EAAE,UAAU,EAAE,qBAAqB,GAAG,CAAC,CAAC,EAAE,aAAa,GAAG,CAAC,cAAc,CAAC,CAAC,cAAc,WAAW,CAAC,kBAAkB,CAAC,QAAQ,GAAG,GAAG,GAAG,WAAW,CAAC,IAAI,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;gBACrQ,WAAW,GAAG,qBAAqB,CAAC;aACvC;SACJ,QAAQ,YAAY,EAAE;QACvB,IAAI,WAAW,GAAG,SAAS,EAAE;;YAEzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE,WAAW,GAAG,CAAC,EAAE,UAAU,EAAE,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC;SACzH;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;KACjC,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,KAAK,EAAE;QAC7B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;KAC3C;IACD,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,IAAI,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE;;SAEhD;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACtD,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,EAAE;YACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC7B;aACI;YACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;;SAE9B;QACD,OAAO,QAAQ,CAAC;KACnB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;QAChD,IAAI,GAAG,GAAG,KAAK,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;YACzB,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YAClB,OAAO,KAAK,CAAC;SAChB,CAAC,CAAC;QACH,OAAO,GAAG,CAAC;KACd,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,IAAI,IAAI,GAAG,IAAI,QAAQ,EAAE,EAAE,UAAU,CAAC;;QAEtC,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE;YACvB,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;YACxC,OAAO,KAAK,CAAC;SAChB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,KAAK,UAAU,CAAC,EAAE,CAAC;eACjF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;;SAEnD;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9C,OAAO,IAAI,CAAC;SACf;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACjC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAC3B;aACI;YACD,OAAO,IAAI,CAAC;SACf;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE;YAC5E,OAAO,IAAI,CAAC;SACf;QACD,OAAO,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACtC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC5C,IAAI,WAAW,EAAE,QAAQ,CAAC;QAC1B,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;YACrC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;YAChC,OAAO,KAAK,CAAC,OAAO,KAAK,CAAC,YAAY;SACzC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,EAAE;YACX,OAAO,IAAI,CAAC;SACf;QACD,IAAI,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;QAC1B,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC3C,OAAO,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE;;SAE7C;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,OAAO,KAAK,CAAC,CAAC,gBAAgB,KAAK,CAAC,WAAW,KAAK,WAAW,CAAC,EAAE,CAAC,EAAE;;YAEnH,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC9B,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC9B,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAClC,OAAO,QAAQ,CAAC;SACnB;QACD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5C,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE;YAC9C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACtC,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;;;;;;;AAOL,AAAO,SAAS,KAAK,CAAC,KAAK,EAAE;IACzB,IAAI,IAAI,GAAG,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;IAC/C,OAAO,IAAI,CAAC;CACf;AACD,AAAO,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;IACjC,IAAI,IAAI,YAAY,QAAQ,IAAI,IAAI,CAAC,OAAO,EAAE;QAC1C,OAAO,IAAI,CAAC;KACf;IACD,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE;QAC/C,OAAO,IAAI,CAAC;KACf;IACD,IAAI,MAAM,CAAC;IACX,IAAI,IAAI,YAAY,QAAQ,EAAE;QAC1B,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACjE,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;aAC7C;SACJ;KACJ;SACI,IAAI,IAAI,YAAY,KAAK,EAAE;QAC5B,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACrG;IACD,OAAO,MAAM,IAAI,IAAI,CAAC;CACzB;;ACvWD;;;;AAIA,AACA,IAAItE,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAIA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,YAAY,EAAE;QACzC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;KACrC;IACD,qBAAqB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE;QAChF,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;KACxE,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE;QACpF,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC;QAChE,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAUS,QAAK,EAAE;gBAClE,OAAO,CAAC,IAAI,CAAC;oBACT,IAAI,EAAE,KAAK,CAAC;oBACZ,KAAK,EAAEA,QAAK;iBACf,CAAC,CAAC;aACN,CAAC,CAAC;SACN;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAChF,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,SAAS,CAAC;QACzC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC5B,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,OAAO,IAAI,EAAE;YACT,IAAI,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE;gBACzD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3B;YACD,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;YACvB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,MAAM,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC1B,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,qBAAqB,GAAGE,YAAU,CAAC;QAC/BC,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;KAC5B,EAAE,qBAAqB,CAAC,CAAC;IAC1B,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;;ACvDL;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAQA;AACA,IAAI,KAAK,kBAAkB,YAAY;IACnC,SAAS,KAAK,CAAC,MAAM,EAAE;QACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;KAC1C;IACD,OAAO,KAAK,CAAC;CAChB,EAAE,CAAC,CAAC;;AAEL,IAAI,KAAK,GAAG,IAAI,CAAC;AACjB,IAAI,eAAe,GAAG,KAAK,CAAC;;AAE5B,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,MAAM,EAAE,oBAAoB,EAAE;QACzD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,sBAAsB,GAAG,oBAAoB,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;KAC5F;IACD,qBAAqB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC1C,OAAO,MAAM,CAAC,eAAe,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;KAC3D,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;KACrD,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,qBAAqB,CAAC,EAAE,CAAC;KACnC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,OAAO,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;;QAEnC,IAAI,KAAK,EAAE;YACP,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;gBAC9B,KAAK,GAAG,IAAI,CAAC;aAChB;SACJ;QACD,IAAI,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,GAAG,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ,EAAE;gBACxH,IAAIkF,cAAqB,CAAC,QAAQ,CAAC,EAAE;oBACjC,OAAO;iBACV;gBACD,IAAI,SAAS,CAAC;gBACd,QAAQ,CAAC,MAAM,CAAC,UAAU,OAAO,EAAE;;oBAE/B,IAAI,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;oBAC5C,IAAIzE,QAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBACtI,OAAOA,QAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,IAAIA,QAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;iBACrH,CAAC,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE;;oBAE1B,IAAIA,QAAK,GAAG,OAAO,CAAC,KAAK,CAAC;oBAC1B,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACpC,KAAK,CAAC,SAAS,GAAG,IAAI,KAAK,CAACA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,EAAEA,QAAK,CAAC,aAAa,EAAEA,QAAK,CAAC,SAAS,CAAC,CAAC;oBAC5G,IAAI,SAAS,EAAE;wBACX,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC;wBACvB,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;qBAC9B;oBACD,SAAS,GAAG,KAAK,CAAC;iBACrB,CAAC,CAAC;;gBAEH,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAC1C,WAAW,CAAC,IAAI,GAAG,SAAS,CAAC;gBAC7B,IAAI,SAAS,EAAE;oBACX,SAAS,CAAC,QAAQ,GAAG,WAAW,CAAC;iBACpC;gBACD,KAAK,GAAG,WAAW,CAAC;;gBAEpB,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE;oBAC7D,IAAI,eAAe,EAAE;wBACjB,OAAO;qBACV;oBACD,KAAK,GAAG,IAAI,CAAC;oBACb,MAAM,CAAC,OAAO,EAAE,CAAC;iBACpB,CAAC,CAAC;aACN,CAAC,CAAC;SACN;QACD,OAAO,OAAO,CAAC,IAAI,CAAC,YAAY;YAC5B,IAAI,CAAC,KAAK,EAAE;gBACR,OAAO;aACV;YACD,KAAK,GAAG,OAAO,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC;YAC9C,IAAI,CAAC,KAAK,EAAE;gBACR,OAAO;aACV;YACD,eAAe,GAAG,IAAI,CAAC;YACvB,IAAI;gBACA,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;aAC9C;oBACO;gBACJ,eAAe,GAAG,KAAK,CAAC;aAC3B;YACD,OAAO;SACV,CAAC,CAAC;KACN,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,sCAAsC,CAAC;IAClE,qBAAqB,GAAGE,YAAU,CAAC;QAC/BC,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;KACpC,EAAE,qBAAqB,CAAC,CAAC;IAC1B,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDV,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,OAAO,EAAE,IAAI,EAAE;QACxC,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;QACzB,OAAO,KAAK,CAAC;KAChB;IACD,mBAAmB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC5D,IAAI,UAAU,GAAG,qBAAqB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,UAAU,EAAE;YACZ,OAAO,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACxC;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDA,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,gCAAgC;YACpC,KAAK,EAAED,QAAY,CAAC,kBAAkB,EAAE,eAAe,CAAC;YACxD,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;gBAC9C,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,iBAAiB,IAAI,eAAe,EAAE,mBAAmB;aACpG;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,mBAAmB,CAAC,CAAC,CAAC;AACxB,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,oBAAoB,EAAE,eAAe,CAAC;YAC1D,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;gBAC9C,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,iBAAiB,GAAG,iBAAiB,IAAI,eAAe,EAAE,kBAAkB;aACnG;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,qBAAqB,CAAC;CAChC,CAAC,mBAAmB,CAAC,CAAC,CAAC;AACxB,0BAA0B,CAAC,qBAAqB,CAAC,CAAC;AAClD,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAC1C,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACzL5C;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAAO,IAAI,SAAS,CAAC;AACrB,CAAC,UAAU,SAAS,EAAE;IAClB,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;IAC9C,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;IAC5C,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;IAC5C,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;IACpD,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC;IACtD,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;IACpD,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;IAC1D,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;IAC1C,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;IACxC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC;IAC1D,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,GAAG,QAAQ,CAAC;IAC/C,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC;IAC3C,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC;IAC3C,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,GAAG,cAAc,CAAC;IAC3D,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,KAAK,CAAC;CAC5C,EAAE,SAAS,KAAK,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC;AAClC,IAAI,OAAO,kBAAkB,YAAY;IACrC,SAAS,OAAO,GAAG;QACf,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACjB;IACD,OAAO,CAAC,gBAAgB,GAAG,UAAU,EAAE,EAAE;QACrC,OAAO,EAAE,IAAI,EAAE,iBAAiB,EAAE,IAAI,EAAE,cAAc;KACzD,CAAC;IACF,OAAO,CAAC,mBAAmB,GAAG,UAAU,EAAE,EAAE;QACxC,OAAO,EAAE,KAAK,EAAE;gBACR,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,GAAG,SAAS;gBACtC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,SAAS,CAAC;KACjD,CAAC;IACF,OAAO,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QACtC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;KAChB,CAAC;IACF,OAAO,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;QAC3C,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;KAClD,CAAC;IACF,OAAO,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACjC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YAC/B,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;SACzD;QACD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACnB,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,IAAI,CAAC;;QAET,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1B,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACd,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;SAC3C;;QAED,IAAI,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,EAAE;YAC9B,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC;YACrB,GAAG;gBACC,GAAG,IAAI,CAAC,CAAC;gBACT,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;aACzC,QAAQ,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,EAAE;YACvC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC;YAChB,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SAC7C;;QAED,IAAI,OAAO,CAAC,mBAAmB,CAAC,EAAE,CAAC,EAAE;YACjC,IAAI,GAAG,SAAS,CAAC,YAAY,CAAC;YAC9B,GAAG;gBACC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;aAC7C,QAAQ,OAAO,CAAC,mBAAmB,CAAC,EAAE,CAAC,IAAI,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,EAAE;YAC1E,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC;YAChB,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;SAC7C;;QAED,IAAI,GAAG,SAAS,CAAC,MAAM,CAAC;QACxB,GAAG;YACC,GAAG,IAAI,CAAC,CAAC;YACT,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;SACzC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;eACZ,OAAO,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,WAAW;eACzC,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC;eAC7B,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE,CAAC;UACrC;QACF,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC;QAChB,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;KAC7C,CAAC;IACF,OAAO,CAAC,MAAM,IAAI,EAAE,GAAG,EAAE;QACrB,EAAE,CAAC,EAAE,kBAAkB,GAAG,SAAS,CAAC,MAAM;QAC1C,EAAE,CAAC,EAAE,aAAa,GAAG,SAAS,CAAC,KAAK;QACpC,EAAE,CAAC,EAAE,aAAa,GAAG,SAAS,CAAC,KAAK;QACpC,EAAE,CAAC,GAAG,sBAAsB,GAAG,SAAS,CAAC,SAAS;QAClD,EAAE,CAAC,GAAG,uBAAuB,GAAG,SAAS,CAAC,UAAU;QACpD,EAAE,CAAC,EAAE,iBAAiB,GAAG,SAAS,CAAC,SAAS;QAC5C,EAAE,CAAC,EAAE,aAAa,GAAG,SAAS,CAAC,YAAY;QAC3C,EAAE,CAAC,GAAG,YAAY,GAAG,SAAS,CAAC,IAAI;QACnC,EAAE,CAAC,EAAE,YAAY,GAAG,SAAS,CAAC,IAAI;QAClC,EAAE,CAAC,EAAE,YAAY,GAAG,SAAS,CAAC,IAAI;QAClC,EAAE,CAAC,EAAE,oBAAoB,GAAG,SAAS,CAAC,YAAY;QAClD,EAAE,CAAC,CAAC;IACR,OAAO,OAAO,CAAC;CAClB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,MAAM,kBAAkB,YAAY;IACpC,SAAS,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;IACD,MAAM,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QAC5C,IAAI,KAAK,YAAY,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,YAAY,IAAI,EAAE;;YAEpF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC;SAClE;aACI;;YAED,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QAChD,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC1B,IAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3C,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QAC/D,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC;QAC/B,MAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;KACpE,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,UAAU,EAAE;QAChD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC;SACzB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,EAAE;QAC/C,GAAG,EAAE,YAAY;YACb,IAAI,SAAS,GAAG,IAAI,CAAC;YACrB,OAAO,IAAI,EAAE;gBACT,IAAI,CAAC,SAAS,EAAE;oBACZ,OAAO,SAAS,CAAC;iBACpB;gBACD,IAAI,SAAS,YAAY,eAAe,EAAE;oBACtC,OAAO,SAAS,CAAC;iBACpB;gBACD,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC;aAChC;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;KAC3F,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QAC/B,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,OAAO,MAAM,CAAC;CACjB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,IAAI,kBAAkB,UAAU,MAAM,EAAE;IACxCE,WAAS,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACxB,SAAS,IAAI,CAAC,KAAK,EAAE;QACjB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,OAAO,KAAK,CAAC;KAChB;IACD,IAAI,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QAC3B,OAAO,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC5C,CAAC;IACF,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAClC,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;IACF,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC1C,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC;IACF,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;KAC5B,CAAC;IACF,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC/B,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC/B,CAAC;IACF,OAAO,IAAI,CAAC;CACf,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,WAAW,kBAAkB,UAAU,MAAM,EAAE;IAC/CA,WAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAC/B,SAAS,WAAW,CAAC,KAAK,EAAE;QACxB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,OAAO,KAAK,CAAC;KAChB;IACD,WAAW,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACzC,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,KAAK,EAAE;YACrB,OAAO,CAAC,CAAC;SACZ;aACI,IAAI,CAAC,CAAC,cAAc,EAAE;YACvB,OAAO,CAAC,CAAC;SACZ;aACI,IAAI,CAAC,CAAC,cAAc,EAAE;YACvB,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE;YACxB,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE;YACxB,OAAO,CAAC,CAAC;SACZ;aACI;YACD,OAAO,CAAC,CAAC;SACZ;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,gBAAgB,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE;QACnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,MAAM;kBACnE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;kBACjB,SAAS,CAAC;SACnB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,WAAW,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3B;aACI,IAAI,IAAI,CAAC,MAAM,EAAE;YAClB,OAAO,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,GAAG,IAAI,CAAC;SAC1E;aACI;YACD,OAAO,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;SAC5H;KACJ,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACtC,IAAI,GAAG,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9E,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,MAAM,kBAAkB,UAAU,MAAM,EAAE;IAC1CA,WAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC1B,SAAS,MAAM,GAAG;QACd,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;QACrE,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QACnB,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,MAAM,EAAE;QAC7C,IAAI,MAAM,YAAY,IAAI,EAAE;YACxB,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACpC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;KAChC,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC,OAAO;aACd,GAAG,CAAC,UAAU,MAAM,EAAE,EAAE,OAAO,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC;aACxE,IAAI,CAAC,GAAG,CAAC,CAAC;KAClB,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;KAChC,CAAC;IACF,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACjC,IAAI,GAAG,GAAG,IAAI,MAAM,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;QAC3C,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,MAAM,CAAC;CACjB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CA,WAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7B,SAAS,SAAS,GAAG;QACjB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY;YAC1C,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACzD,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACpB,IAAI,MAAM,YAAY,YAAY,EAAE;oBAChC,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;oBACjF,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBAClC,GAAG,IAAI,OAAO,CAAC;iBAClB;qBACI;oBACD,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;iBAC5B;aACJ;YACD,OAAO,GAAG,CAAC;SACd,CAAC,CAAC;KACN,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACvC,OAAO,EAAE,CAAC;KACb,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC/C,OAAO,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;KACrK,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpC,IAAI,GAAG,GAAG,IAAI,SAAS,EAAE,CAAC;QAC1B,GAAG,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACxH,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9E,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDA,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,CAAC,KAAK,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE;QAC5D,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACxB,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,OAAO,KAAK,CAAC;KAChB;IACD,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAC9C,IAAI,IAAI,CAAC,aAAa,KAAK,QAAQ,EAAE;YACjC,OAAO,CAAC,KAAK,GAAG,EAAE,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;SAClD;aACI,IAAI,IAAI,CAAC,aAAa,KAAK,UAAU,EAAE;YACxC,OAAO,CAAC,KAAK,GAAG,EAAE,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;SAClD;aACI,IAAI,IAAI,CAAC,aAAa,KAAK,YAAY,EAAE;YAC1C,OAAO,CAAC,KAAK,GAAG,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,iBAAiB,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACzE;aACI,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;YACzD,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;aACI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;YAC5D,OAAO,IAAI,CAAC,SAAS,CAAC;SACzB;aACI;YACD,OAAO,KAAK,IAAI,EAAE,CAAC;SACtB;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC;QACpB,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;SACtC;aACI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE;YACrC,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;SACvD;aACI,IAAI,IAAI,CAAC,OAAO,EAAE;YACnB,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;SAChC;aACI,IAAI,IAAI,CAAC,SAAS,EAAE;YACrB,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;SAClC;QACD,KAAK,IAAI,GAAG,CAAC;QACb,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACvC,IAAI,GAAG,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzF,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5CA,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,CAAC,IAAI,EAAE;QACpB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,KAAK,CAAC;KAChB;IACD,QAAQ,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QAC7C,IAAI,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,UAAU,YAAY,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YAChE,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;SAC3C;QACD,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACnC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAC9C,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,OAAO,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;SACjC;aACI;YACD,OAAO,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;SAC3H;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACnC,IAAI,GAAG,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9E,OAAO,GAAG,CAAC;KACd,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,SAAS,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE;IAC3B,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IAC3B,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;QACrB,IAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI,CAAC,OAAO,EAAE;YACV,MAAM;SACT;QACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACjD;CACJ;AACD,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDA,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,iBAAiB,EAAE;QAChE,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;;gBAErB,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,IAAI,MAAM,CAAC;gBACX,IAAI,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE;oBAC3B,IAAI,SAAS,YAAY,WAAW,EAAE;wBAClC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACtB,MAAM,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,GAAG,SAAS,GAAG,MAAM,CAAC;qBAC3E;oBACD,OAAO,IAAI,CAAC;iBACf,CAAC,CAAC;gBACH,IAAI,CAAC,aAAa,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;aACrD;YACD,OAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,cAAc,EAAE;QAC7D,GAAG,EAAE,YAAY;YACb,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;YACnC,OAAO,GAAG,CAAC;SACd;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE;QACjD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE;YAC3B,IAAI,SAAS,KAAK,MAAM,EAAE;gBACtB,KAAK,GAAG,IAAI,CAAC;gBACb,OAAO,KAAK,CAAC;aAChB;YACD,GAAG,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC;YACvB,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,CAAC,CAAC,CAAC;SACb;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;QAClD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,UAAU,MAAM,EAAE;YAC7B,GAAG,IAAI,MAAM,CAAC,GAAG,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;QACH,OAAO,GAAG,CAAC;KACd,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,WAAW,EAAE;QACrE,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;QAChC,OAAO,MAAM,EAAE;YACX,IAAI,MAAM,YAAY,WAAW,EAAE;gBAC/B,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACpB;YACD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;SAC1B;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE;YAC3B,IAAI,SAAS,YAAY,QAAQ,EAAE;gBAC/B,IAAI,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oBAC7B,KAAK,CAAC,aAAa,GAAG,SAAS,CAAC;iBACnC;aACJ;YACD,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAC/B,OAAO,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KACzD,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;QACzD,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAC/B,OAAO,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;KAC7D,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,GAAG,CAAC,gBAAgB,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;KACnG,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,IAAI,GAAG,GAAG,IAAI,eAAe,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/E,OAAO,GAAG,CAAC;KACd,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,OAAO,EAAE;QAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;KAChC,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,GAAG;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;KACjC;IACD,aAAa,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QACpC,OAAO,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;KAC5C,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QAC5C,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;KACvC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE,kBAAkB,EAAE,mBAAmB,EAAE;QACtF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACnC,IAAI,OAAO,GAAG,IAAI,eAAe,EAAE,CAAC;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;;SAE5B;;;QAGD,IAAI,wBAAwB,GAAG,IAAI,GAAG,EAAE,CAAC;QACzC,IAAI,sBAAsB,GAAG,EAAE,CAAC;QAChC,IAAI,gBAAgB,GAAG,CAAC,CAAC;QACzB,OAAO,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YAC3B,IAAI,MAAM,YAAY,WAAW,EAAE;gBAC/B,gBAAgB,IAAI,CAAC,CAAC;gBACtB,IAAI,MAAM,CAAC,cAAc,EAAE;oBACvB,wBAAwB,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;iBAC9C;qBACI,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBAChF,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;iBAC/D;qBACI;oBACD,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACvC;aACJ;YACD,OAAO,IAAI,CAAC;SACf,CAAC,CAAC;QACH,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,wBAAwB,GAAG,sBAAsB,EAAE,EAAE,GAAG,wBAAwB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC5G,IAAI,WAAW,GAAG,wBAAwB,CAAC,EAAE,CAAC,CAAC;YAC/C,IAAI,wBAAwB,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;gBACjD,IAAI,KAAK,GAAG,IAAI,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAC/C,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,wBAAwB,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACzF,IAAI,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBACnB,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;iBACpC;gBACD,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aACzC;SACJ;QACD,IAAI,CAAC,mBAAmB,EAAE;YACtB,mBAAmB,GAAG,gBAAgB,GAAG,CAAC,IAAI,kBAAkB,CAAC;SACpE;QACD,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,mBAAmB,EAAE;;;YAGzD,OAAO,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3C;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;QACrD,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE;YACjD,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACnC,OAAO,GAAG,CAAC;SACd;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAC/C,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QAC7C,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,EAAE;YACpC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE;YAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACtC;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACtE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACnC,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE;QAC/C,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;eAC1B,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC;eACxC,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC;eACrC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;eAClC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;KACtC,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,MAAM,EAAE;QACtD,IAAI,KAAK,CAAC;QACV,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;;YAEjD,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC;mBACrC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC;mBACxC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC;mBACvC,KAAK,CAAC;YACb,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACpC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,MAAM,EAAE;QACpE,IAAI,KAAK,CAAC;QACV,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;cAChC,IAAI,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;cAC9B,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACf,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,wBAAwB,GAAG,UAAU,MAAM,EAAE;QACjE,IAAI,KAAK,CAAC;QACV,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC;eACnC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC;gBAChC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,IAAI,WAAW,GAAG,IAAI,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;YAE/B,OAAO,IAAI,EAAE;;gBAET,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;oBACpC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;oBAChC,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE;oBAC1B,SAAS;iBACZ;;gBAED,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;gBACjD,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;gBACzD,OAAO,IAAI,CAAC;aACf;SACJ;aACI,IAAI,WAAW,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;YAE5D,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;YAC1B,OAAO,IAAI,EAAE;gBACT,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;oBAClC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;wBAE/B,SAAS;qBACZ;oBACD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;;wBAEpE,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;wBAChC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;wBAChC,OAAO,IAAI,CAAC;qBACf;iBACJ;gBACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpB,OAAO,KAAK,CAAC;aAChB;SACJ;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;;YAEzC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAChC,OAAO,IAAI,CAAC;SACf;aACI;;YAED,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,OAAO,IAAI,EAAE;YACT,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,EAAE;gBAC7E,MAAM;aACT;YACD,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC;YACnB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;;gBAEjD,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC;uBACpC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC;uBAClC,KAAK,CAAC;aAChB;iBACI;gBACD,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;aACzC;YACD,IAAI,CAAC,KAAK,EAAE;;gBAER,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpB,OAAO,KAAK,CAAC;aAChB;YACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtB;QACD,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpB,OAAO,KAAK,CAAC;SAChB;QACD,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;KACf,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,MAAM,EAAE;QAC9D,IAAI,IAAI,CAAC;QACT,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC;eACnC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,IAAI,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;YAE/B,OAAO,IAAI,EAAE;;gBAET,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;oBACpC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;oBAC7B,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;oBACvB,SAAS;iBACZ;;gBAED,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChD,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;gBACtD,OAAO,IAAI,CAAC;aACf;SACJ;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;;YAE3C,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;gBAChC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAC7B,OAAO,IAAI,CAAC;aACf;YACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpB,OAAO,KAAK,CAAC;SAChB;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;;YAEzC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC7B,OAAO,IAAI,CAAC;SACf;aACI;;YAED,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,MAAM,EAAE;;QAExD,IAAI,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QAChC,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,YAAY,GAAG,EAAE,CAAC;;QAEtB,OAAO,IAAI,EAAE;YACT,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;gBACtC,MAAM;aACT;YACD,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC;YACrB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;gBACnD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,OAAO,CAAC;gBAChE,UAAU,IAAI,OAAO,CAAC;gBACtB,SAAS;aACZ;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,EAAE;gBACpC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC5C,SAAS;aACZ;YACD,OAAO,KAAK,CAAC;SAChB;;QAED,OAAO,IAAI,EAAE;YACT,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;gBACtC,MAAM;aACT;YACD,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC;YACrB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;gBACnD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,OAAO,CAAC;gBAChE,SAAS,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACzC,SAAS;aACZ;YACD,IAAI,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;gBACtE,SAAS;aACZ;YACD,OAAO,KAAK,CAAC;SAChB;;QAED,OAAO,IAAI,EAAE;YACT,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;gBACpC,MAAM;aACT;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,EAAE;gBACpC,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC9C,SAAS;aACZ;YACD,OAAO,KAAK,CAAC;SAChB;QACD,IAAI;YACA,SAAS,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;SAC3D;QACD,OAAO,CAAC,EAAE;;YAEN,OAAO,KAAK,CAAC;SAChB;QACD,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,MAAM,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACjC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;YACnC,OAAO,GAAG,IAAI,CAAC;SAClB;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpB,OAAO,KAAK,CAAC;SAChB;aACI,IAAI,CAAC,OAAO,EAAE;;YAEf,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACpD,OAAO,IAAI,CAAC;SACf;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;;YAEzC,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACpD,OAAO,IAAI,CAAC;SACf;aACI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpB,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;;YAEtC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC3D,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;gBACnD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpB,OAAO,KAAK,CAAC;aAChB;iBACI;gBACD,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;gBAC/D,OAAO,IAAI,CAAC;aACf;SACJ;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;YAEnC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,OAAO,EAAE;gBACT,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;gBACnF,OAAO,IAAI,CAAC;aACf;SACJ;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;YAEnC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAClD,IAAI,SAAS,EAAE;gBACX,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;gBACrF,OAAO,IAAI,CAAC;aACf;SACJ;aACI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;;YAE3C,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,OAAO,EAAE;gBACT,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBAClD,IAAI,SAAS,EAAE;oBACX,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;oBACnF,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;aACI;;YAED,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAClD,IAAI,SAAS,EAAE;gBACX,MAAM,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;gBACrF,OAAO,IAAI,CAAC;aACf;SACJ;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACpB,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,MAAM,EAAE;QACvD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,EAAE;YACpC,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACxB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,EAAE,CAAC;;ACr6BP;;;;AAIA,AAKO,IAAI,yBAAyB,GAAG,MAAM,CAAC,MAAM,CAAC;IACjD,cAAc,EAAE,IAAI;IACpB,oBAAoB,EAAE,IAAI;IAC1B,eAAe,EAAE,IAAI;IACrB,cAAc,EAAE,IAAI;IACpB,cAAc,EAAE,IAAI;IACpB,gBAAgB,EAAE,IAAI;IACtB,gBAAgB,EAAE,IAAI;IACtB,kBAAkB,EAAE,IAAI;IACxB,wBAAwB,EAAE,IAAI;IAC9B,oBAAoB,EAAE,IAAI;IAC1B,0BAA0B,EAAE,IAAI;IAChC,WAAW,EAAE,IAAI;IACjB,WAAW,EAAE,IAAI;IACjB,kBAAkB,EAAE,IAAI;IACxB,iBAAiB,EAAE,IAAI;IACvB,iBAAiB,EAAE,IAAI;IACvB,eAAe,EAAE,IAAI;IACrB,gBAAgB,EAAE,IAAI;IACtB,aAAa,EAAE,IAAI;IACnB,kBAAkB,EAAE,IAAI;IACxB,cAAc,EAAE,IAAI;IACpB,aAAa,EAAE,IAAI;CACtB,CAAC,CAAC;AACH,IAAI,gCAAgC,kBAAkB,YAAY;IAC9D,SAAS,gCAAgC,CAAC,UAAU,EAAE;QAClD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;KAEhC;IACD,gCAAgC,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QACrE,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAI,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACtB,IAAI,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvC,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE;gBAClB,OAAO,KAAK,CAAC;aAChB;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,OAAO,gCAAgC,CAAC;CAC3C,EAAE,CAAC,CAAC;AACL,AACA,IAAI,8BAA8B,kBAAkB,YAAY;IAC5D,SAAS,8BAA8B,CAAC,MAAM,EAAE,UAAU,EAAE;QACxD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;KAEhC;IACD,8BAA8B,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QACnE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QACzB,IAAI,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,kBAAkB,EAAE;YACrD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC;YACtE,IAAI,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;;;;;gBAK5E,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBACvE,IAAI,qBAAqB,GAAG,oBAAoB,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;gBAC3F,IAAI,sBAAsB,GAAG,qBAAqB,CAAC;gBACnD,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;oBACpC,IAAI,MAAM,KAAK,QAAQ,EAAE;wBACrB,OAAO,KAAK,CAAC;qBAChB;oBACD,IAAI,MAAM,YAAY,IAAI,EAAE;wBACxB,sBAAsB,GAAG,oBAAoB,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;qBACzF;oBACD,OAAO,IAAI,CAAC;iBACf,CAAC,CAAC;gBACH,IAAI,wBAAwB,GAAG,kBAAkB,CAAC,sBAAsB,EAAE,qBAAqB,CAAC,CAAC;gBACjG,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,mBAAmB,EAAE,UAAU,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,GAAG,OAAO,GAAG,sBAAsB,CAAC,MAAM,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;aACrK;YACD,OAAO,KAAK,CAAC;SAChB;aACI,IAAI,IAAI,KAAK,iBAAiB,EAAE;YACjC,OAAO,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;SACzE;aACI,IAAI,IAAI,KAAK,iBAAiB,EAAE;YACjC,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;gBACrC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,kBAAkB;gBAC9C,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc;aACzC,CAAC,CAAC;YACH,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;SACzC;aACI,IAAI,IAAI,KAAK,eAAe,EAAE;YAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAC;SACzD;aACI,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAChC,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;SACrD;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,OAAO,8BAA8B,CAAC;CACzC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,0BAA0B,kBAAkB,YAAY;IACxD,SAAS,0BAA0B,CAAC,MAAM,EAAE;QACxC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;KAExB;IACD,0BAA0B,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QAC/D,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QACzB,IAAI,IAAI,KAAK,aAAa,EAAE;YACxB,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC3C;aACI,IAAI,IAAI,KAAK,kBAAkB,EAAE;YAClC,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,GAAG,IAAI,CAAC,EAAE;gBACV,OAAO,MAAM,CAAC;aACjB;iBACI;gBACD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;aAC/B;SACJ;aACI,IAAI,IAAI,KAAK,cAAc,EAAE;YAC9B,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC1C,OAAO,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;SACjC;aACI,IAAI,IAAI,KAAK,aAAa,EAAE;YAC7B,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;SACjC;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,OAAO,0BAA0B,CAAC;CACrC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,8BAA8B,kBAAkB,YAAY;IAC5D,SAAS,8BAA8B,CAAC,iBAAiB,EAAE,aAAa,EAAE,eAAe,EAAE;QACvF,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;;KAE1C;IACD,8BAA8B,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QACnE,IAAI,QAAQ,CAAC,IAAI,KAAK,WAAW,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAC1D,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;QAC7C,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9F,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,eAAe,EAAE;YACvC,OAAO,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACpC;aACI;YACD,OAAO,IAAI,CAAC;SACf;KACJ,CAAC;IACF,OAAO,8BAA8B,CAAC;CACzC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,yBAAyB,kBAAkB,YAAY;IACvD,SAAS,yBAAyB,GAAG;KACpC;IACD,yBAAyB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QAC9D,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QACzB,IAAI,IAAI,KAAK,cAAc,EAAE;YACzB,OAAO,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;SAC3C;aACI,IAAI,IAAI,KAAK,oBAAoB,EAAE;YACpC,OAAO,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACrD;aACI,IAAI,IAAI,KAAK,eAAe,EAAE;YAC/B,OAAO,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;SACxD;aACI,IAAI,IAAI,KAAK,cAAc,EAAE;YAC9B,OAAO,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;SACjD;aACI,IAAI,IAAI,KAAK,cAAc,EAAE;YAC9B,OAAO,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;SAClD;aACI,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAChC,OAAO,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;SACpD;aACI,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAChC,OAAO,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;SACpD;aACI,IAAI,IAAI,KAAK,kBAAkB,EAAE;YAClC,OAAO,yBAAyB,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;SAClE;aACI,IAAI,IAAI,KAAK,wBAAwB,EAAE;YACxC,OAAO,yBAAyB,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;SACvE;aACI,IAAI,IAAI,KAAK,oBAAoB,EAAE;YACpC,OAAO,yBAAyB,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;SACtE;aACI,IAAI,IAAI,KAAK,0BAA0B,EAAE;YAC1C,OAAO,yBAAyB,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;SAC3E;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,yBAAyB,CAAC,QAAQ,GAAG,CAACD,QAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAEA,QAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAEA,QAAY,CAAC,SAAS,EAAE,SAAS,CAAC,EAAEA,QAAY,CAAC,WAAW,EAAE,WAAW,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,UAAU,CAAC,EAAEA,QAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC;IACpS,yBAAyB,CAAC,aAAa,GAAG,CAACA,QAAY,CAAC,aAAa,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,aAAa,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,cAAc,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,eAAe,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,aAAa,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC;IAC/S,yBAAyB,CAAC,UAAU,GAAG,CAACA,QAAY,CAAC,SAAS,EAAE,SAAS,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,UAAU,CAAC,EAAEA,QAAY,CAAC,OAAO,EAAE,OAAO,CAAC,EAAEA,QAAY,CAAC,OAAO,EAAE,OAAO,CAAC,EAAEA,QAAY,CAAC,KAAK,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAEA,QAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAEA,QAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAEA,QAAY,CAAC,WAAW,EAAE,WAAW,CAAC,EAAEA,QAAY,CAAC,SAAS,EAAE,SAAS,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,UAAU,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC;IACpc,yBAAyB,CAAC,eAAe,GAAG,CAACA,QAAY,CAAC,cAAc,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,eAAe,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,YAAY,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,YAAY,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,UAAU,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,WAAW,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,WAAW,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,aAAa,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,cAAc,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,eAAe,EAAE,KAAK,CAAC,EAAEA,QAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC;IAC/d,OAAO,yBAAyB,CAAC;CACpC,EAAE,CAAC,CAAC;;AC/ML;;;;AAIA,AAcA,IAAI,UAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE;QACzC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,WAAW,CAAC,cAAc,CAAC,CAAC;QACpF,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,CAAC;KACnC;IACD,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACvC,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9B,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE,EAAE,OAAO,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;YAC5F,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;KACtC,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,uBAAuB,EAAE;;YAE9B,OAAO;SACV;QACD,IAAI,CAAC,uBAAuB,GAAG,IAAI,GAAG,EAAE,CAAC;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,QAAQ,EAAE;;YAE/C,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACrE,IAAI,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACzB,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;gBAC3D,IAAI,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBACzD,IAAIQ,QAAK,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,iBAAiB,CAAC,EAAE,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,iBAAiB,GAAG,cAAc,CAAC,CAAC,CAAC;gBACjK,IAAI,OAAO,GAAG,WAAW,CAAC,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,aAAa,GAAG,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACxG,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAACA,QAAK,EAAE,OAAO,CAAC,CAAC;gBACpD,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;aAC1D;SACJ,CAAC,CAAC;KACN,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,GAAG,EAAE;QACvC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjF,IAAI,CAAC,qBAAqB,IAAI,CAAC,CAAC;SACnC;aACI,IAAI,GAAG,KAAK,KAAK,IAAI,IAAI,CAAC,qBAAqB,GAAG,CAAC,EAAE;YACtD,IAAI,CAAC,qBAAqB,IAAI,CAAC,CAAC;SACnC,AAIA;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC,UAAU,QAAQ,EAAE;YACjE,IAAI,kBAAkB,GAAG,IAAI,GAAG,EAAE,CAAC;;;;;;YAMnC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,qBAAqB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC/F,IAAI,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACzB,IAAI,EAAE,GAAG,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACxD,IAAIA,QAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBAC5D,UAAU,CAAC,IAAI,CAAC,IAAI,SAAS,CAACA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,EAAEA,QAAK,CAAC,aAAa,EAAEA,QAAK,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC/G,QAAQ,CAAC,uBAAuB,CAAC,EAAE,EAAE,WAAW,CAAC,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5H,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACpC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,WAAW,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBAC3F,IAAI,oBAAoB,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAClC,IAAI,IAAI,GAAG,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;oBACnE,QAAQ,CAAC,uBAAuB,CAAC,IAAI,EAAE,oBAAoB,CAAC,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBACvI,kBAAkB,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;iBAChD;aACJ;;;YAGD,KAAK,CAAC,uBAAuB,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,WAAW,EAAE;gBAC7D,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACtC,QAAQ,CAAC,uBAAuB,CAAC,EAAE,EAAE,WAAW,CAAC,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,aAAa,GAAG,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACnI;aACJ,CAAC,CAAC;YACH,OAAO,UAAU,CAAC;SACrB,CAAC,CAAC;KACN,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,sBAAsB,EAAE;QAChE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,qBAAqB,IAAI,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK,CAAC,CAAC;SAClF;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,qBAAqB,EAAE;QAC/D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,qBAAqB,KAAK,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;SAC5E;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,gBAAgB,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;SAChD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,UAAU,CAAC,SAAS,CAAC,yBAAyB,GAAG,YAAY;QACzD,IAAI,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;QACvB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,kBAAkB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACjE,IAAI,0BAA0B,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACxC,IAAI,MAAM,GAAG,KAAK,CAAC,CAAC;YACpB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,4BAA4B,GAAG,0BAA0B,EAAE,EAAE,GAAG,4BAA4B,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACxH,IAAI,WAAW,GAAG,4BAA4B,CAAC,EAAE,CAAC,CAAC;gBACnD,IAAI,WAAW,CAAC,cAAc,EAAE;;oBAE5B,MAAM;iBACT;gBACD,IAAI,CAAC,MAAM,EAAE;oBACT,MAAM,GAAG,EAAE,CAAC;oBACZ,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;iBACzC;gBACD,IAAI,EAAE,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACvD,IAAIA,QAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBAC3D,MAAM,CAAC,IAAI,CAACA,QAAK,CAAC,CAAC;aACtB;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;SACxE;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,UAAU,QAAQ,EAAE;;;;;YAK/C,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,qBAAqB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBAC/F,IAAI,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACzB,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;gBAC5B,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;;;;gBAIhD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBAC7E,IAAI,iBAAiB,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC/B,IAAI,iBAAiB,CAAC,cAAc,EAAE;wBAClC,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;qBAC1H;yBACI;wBACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,IAAI,iBAAiB,CAAC,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC;qBACjG;iBACJ;gBACD,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;;;gBAG9D,IAAI,EAAE,GAAG,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACxD,QAAQ,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBAC9B,KAAK,CAAC,uBAAuB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;;gBAGlD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,YAAY,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oBACtE,IAAI,aAAa,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC3B,IAAI,iBAAiB,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBAC9D,IAAI,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;oBAC5D,IAAIA,QAAK,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAC,EAAE,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,GAAG,iBAAiB,GAAG,cAAc,CAAC,CAAC,CAAC;oBACnK,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAACA,QAAK,EAAE,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBACvE,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;iBAC5D;aACJ;;YAED,KAAK,CAAC,kBAAkB,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,WAAW,CAAC,cAAc,CAAC,CAAC;SAC/F,CAAC,CAAC;KACN,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACjD,IAAI,MAAM,CAAC;QACX,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,UAAU,YAAY,EAAE;YACzD,IAAI,gBAAgB,GAAG,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YAC9D,IAAI,CAAC,MAAM,EAAE;gBACT,MAAM,GAAG,gBAAgB,CAAC;aAC7B;iBACI;gBACD,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;aAC/C;SACJ,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,UAAU,CAAC,MAAM,GAAG;QAChB,MAAM,EAAE,sBAAsB,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,sBAAsB,CAAC,4BAA4B,EAAE,SAAS,EAAE,qBAAqB,EAAE,CAAC;QAC9I,QAAQ,EAAE,sBAAsB,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B,EAAE,SAAS,EAAE,qBAAqB,EAAE,CAAC;QAC/I,WAAW,EAAE,sBAAsB,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B,EAAE,SAAS,EAAE,4BAA4B,EAAE,CAAC;QACzJ,aAAa,EAAE,sBAAsB,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,sBAAsB,CAAC,2BAA2B,EAAE,SAAS,EAAE,4BAA4B,EAAE,CAAC;KAC9J,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE;QACvE,IAAI,eAAe,KAAK,KAAK,CAAC,EAAE,EAAE,eAAe,GAAG,CAAC,CAAC,EAAE;QACxD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,CAAC,CAAC,EAAE;QACtD,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;QACxC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;KACzC;IACD,cAAc,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;QACnE,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,qBAAqB,GAAG,oBAAoB,CAAC,IAAI,EAAE,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC/E,IAAI,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,IAAI,yBAAyB,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YACvE,aAAa,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,oBAAoB,CAAC,qBAAqB,GAAG,yBAAyB,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;SAChK;QACD,OAAO,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;KAC7C,CAAC;IACF,cAAc,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE,eAAe,EAAE,cAAc,EAAE;QAC1F,IAAI,eAAe,KAAK,CAAC,IAAI,cAAc,KAAK,CAAC,EAAE;;;YAG/C,IAAI,kBAAkB,GAAG,SAAS,CAAC,kBAAkB,EAAE,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;YACjG,IAAI,oBAAoB,GAAG,cAAc,GAAG,eAAe,CAAC;YAC5D,IAAI,mBAAmB,GAAG,cAAc,GAAG,cAAc,CAAC;YAC1D,IAAIA,QAAK,GAAG,KAAK,CAAC,aAAa,CAAC;gBAC5B,eAAe,EAAE,kBAAkB;gBACnC,WAAW,EAAE,oBAAoB;gBACjC,aAAa,EAAE,kBAAkB;gBACjC,SAAS,EAAE,mBAAmB;aACjC,CAAC,CAAC;YACH,SAAS,GAAG,SAAS,CAAC,mBAAmB,CAACA,QAAK,CAAC,eAAe,EAAEA,QAAK,CAAC,WAAW,EAAEA,QAAK,CAAC,aAAa,EAAEA,QAAK,CAAC,SAAS,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC,CAAC;SACvJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,cAAc,CAAC,sBAAsB,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,mBAAmB,EAAE;QACtH,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,0BAA0B,GAAG,IAAI,0BAA0B,CAAC,KAAK,CAAC,CAAC;QACvE,IAAI,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QAC7H,IAAI,KAAK,GAAG,CAAC,CAAC;;;;QAId,IAAI,eAAe,GAAG,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,CAAC,YAAY,EAAE,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9H,IAAI,cAAc,GAAG,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC;;;;;QAK5H,IAAI,iBAAiB,GAAG,MAAM,CAAC,aAAa,EAAE;aACzC,GAAG,CAAC,UAAU,SAAS,EAAE,GAAG,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;aAC/E,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,wBAAwB,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;QAChG,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,mBAAmB,GAAG,iBAAiB,EAAE,EAAE,GAAG,mBAAmB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC7F,IAAI,EAAE,GAAG,mBAAmB,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,EAAE,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC;;;YAGzE,IAAI,eAAe,GAAG,cAAc,CAAC,eAAe,CAAC,KAAK,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;YAC3F,IAAI,cAAc,GAAG,cAAc,CAAC,eAAe,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;YACzF,IAAI,eAAe,KAAK,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,EAAE;gBAC5D,eAAe,GAAG,SAAS,CAAC;aAC/B;YACD,IAAI,cAAc,KAAK,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE;gBAC1D,cAAc,GAAG,SAAS,CAAC;aAC9B;;YAED,IAAI,gBAAgB,GAAG,SAAS;iBAC3B,gBAAgB,CAAC,eAAe,CAAC,eAAe,EAAE,eAAe,CAAC,WAAW,CAAC;iBAC9E,cAAc,CAAC,cAAc,CAAC,aAAa,EAAE,cAAc,CAAC,SAAS,CAAC,CAAC;;;YAG5E,IAAI,KAAK,GAAG,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;YAChD,IAAI,gBAAgB,GAAG,cAAc,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC/E,IAAI,OAAO,GAAG,IAAI,aAAa,EAAE;iBAC5B,KAAK,CAAC,gBAAgB,EAAE,IAAI,EAAE,mBAAmB,CAAC;iBAClD,gBAAgB,CAAC,IAAI,gCAAgC,CAAC;gBACvD,0BAA0B;gBAC1B,IAAI,8BAA8B,CAAC,gBAAgB,EAAE,GAAG,EAAE,iBAAiB,CAAC,MAAM,CAAC;gBACnF,IAAI,8BAA8B,CAAC,KAAK,EAAE,SAAS,CAAC;gBACpD,IAAI,yBAAyB;aAChC,CAAC,CAAC,CAAC;YACJ,IAAI,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;YAC9C,KAAK,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;;;;YAInF,KAAK,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YACzE,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;SAC3D;QACD,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;KAC/C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3C,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC3B,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC5C,OAAO,aAAa,GAAG,IAAI,CAAC,SAAS,GAAG,yBAAyB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;KAChH,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC1C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;;QAEpC,IAAI,EAAE,GAAG,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;QAC3K,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,UAAU,GAAG,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,KAAK,EAAE,UAAU,SAAS,EAAE;YAChG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE;gBACnC,OAAO,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC5B;iBACI;gBACD,OAAO,SAAS,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;aAC1G;SACJ,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3C,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE;QAClF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,eAAe,KAAK,KAAK,CAAC,EAAE,EAAE,eAAe,GAAG,CAAC,CAAC,EAAE;QACxD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,CAAC,CAAC,EAAE;QACtD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC,CAAC;QAChH,IAAI,EAAE,GAAG,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,IAAI,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;QACxJ,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,KAAK,EAAE,UAAU,SAAS,EAAE;YAC5H,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACzD,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;aAC3B;YACD,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;YACtC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE;gBACnC,OAAO,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;aACjC;iBACI;gBACD,OAAO,SAAS,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;aAC1G;SACJ,CAAC,CAAC,CAAC;KACP,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACxC,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,uCAAuC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;KACxF,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACxC,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,uCAAuC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;KACxF,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;QAC5C,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxD,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACrC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;SACnD;QACD,OAAO,UAAU,CAAC;KACrB,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,sBAAsB,EAAE;QACpE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC;SACjD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,qBAAqB,EAAE;QACnE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC;SAChD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,gBAAgB,EAAE;QAC9D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;SAC3C;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;SACnC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,cAAc,CAAC,SAAS,CAAC,6BAA6B,GAAG,YAAY;QACjE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAC9C,IAAI,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;;;;YAI3C,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,qBAAqB,CAAC;QAC1B,IAAI,OAAO,GAAG,UAAU,OAAO,EAAE;YAC7B,IAAI,kBAAkB,GAAG,OAAO,CAAC,yBAAyB,EAAE,CAAC;;;;YAI7D,IAAI,CAAC,qBAAqB,EAAE;gBACxB,qBAAqB,GAAG,IAAI,GAAG,EAAE,CAAC;gBAClC,kBAAkB,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE,KAAK,EAAE;oBAChD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;oBAC5C,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,YAAY,GAAG,UAAU,EAAE,EAAE,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;wBACxE,IAAI,SAAS,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;wBACjC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE;4BACpC,qBAAqB,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;4BACrC,MAAM;yBACT;qBACJ;iBACJ,CAAC,CAAC;aACN;YACD,IAAI,qBAAqB,CAAC,IAAI,KAAK,CAAC,EAAE;gBAClC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;aAC3B;;;YAGD,qBAAqB,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,KAAK,EAAE;gBAClD,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC1D,CAAC,CAAC;SACN,CAAC;QACF,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxD,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/B,IAAI,OAAO,OAAO,KAAK,QAAQ;gBAC3B,OAAO,OAAO,CAAC,KAAK,CAAC;SAC5B;;;;QAID,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAChD,qBAAqB,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE,KAAK,EAAE;YACnD,IAAI,MAAM,CAAC,MAAM,KAAK,UAAU,CAAC,MAAM,EAAE;gBACrC,qBAAqB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACpC,OAAO;aACV;YACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;YAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;oBACzC,qBAAqB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACpC,OAAO;iBACV;aACJ;SACJ,CAAC,CAAC;;;;QAIH,OAAO,qBAAqB,CAAC,IAAI,GAAG,CAAC,CAAC;KACzC,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACrD,IAAI,MAAM,CAAC;QACX,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACxD,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,YAAY,GAAG,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAC/C,IAAI,CAAC,MAAM,EAAE;gBACT,MAAM,GAAG,YAAY,CAAC;aACzB;iBACI;gBACD,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;aAC3C;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;;ACveL;;;;AAIA,AAUO,IAAI0E,SAAO,GAAG;IACjB,OAAO,EAAE,IAAI,aAAa,CAAC,sBAAsB,EAAE,KAAK,CAAC;IACzD,mBAAmB,EAAE,IAAI,aAAa,CAAC,kCAAkC,EAAE,KAAK,CAAC;IACjF,aAAa,EAAE,IAAI,aAAa,CAAC,yBAAyB,EAAE,IAAI,CAAC;IACjE,WAAW,EAAE,IAAI,aAAa,CAAC,+BAA+B,EAAE,IAAI,CAAC;IACrE,wBAAwB,EAAE,IAAI,aAAa,CAAC,yBAAyB,EAAE,IAAI,CAAC;CAC/E,CAAC;AACF,IAAI,sBAAsB,CAAC;AAC3B,AAKO,SAAS,sBAAsB,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE;IACtF,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,QAAQ,CAAC,EAAE;IAC3D,IAAI,cAAc,GAAG,EAAE,CAAC;IACxB,IAAI,gBAAgB,GAAG,qBAAqB,CAAC,aAAa,CAAC,CAAC;IAC5D,QAAQ,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;;IAE5B,IAAI,QAAQ,GAAG,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;IAEpD,IAAI,aAAa,KAAK,MAAM,IAAI,sBAAsB,EAAE;QACpD,QAAQ,CAAC,OAAO,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC;KAC9C;IACD,IAAI,aAAa,GAAG,OAAO,IAAI,EAAE,WAAW,EAAE,kBAAkB,CAAC,MAAM,EAAE,CAAC;;;IAG1E,IAAI,SAAS,GAAG,KAAK,CAAC;IACtB,IAAI,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QAC3C,OAAO,YAAY;;YAEf,IAAI,SAAS,EAAE;gBACX,OAAO,SAAS,CAAC;aACpB;;YAED,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE;gBACjD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;oBAC5D,OAAO,SAAS,CAAC;iBACpB;gBACD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,OAAO,CAAC,sBAAsB,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,SAAS,EAAE;oBAChJ,IAAI,GAAG,GAAG,cAAc,CAAC,MAAM,CAAC;oBAChC,IAAI,SAAS,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE;wBACrD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,WAAW,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;4BAC/D,IAAI,UAAU,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;4BACxB,IAAI,gBAAgB,CAAC,UAAU,CAAC,EAAE;gCAC9B,uBAAuB,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;gCAC/C,cAAc,CAAC,IAAI,CAAC;oCAChB,QAAQ,EAAE,QAAQ;oCAClB,SAAS,EAAE,SAAS;oCACpB,UAAU,EAAE,UAAU;oCACtB,OAAO,EAAE,OAAO;oCAChB,OAAO,EAAE,wBAAwB,CAAC,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,CAAC;iCAC1E,CAAC,CAAC;6BACN;yBACJ;qBACJ;oBACD,IAAI,GAAG,KAAK,cAAc,CAAC,MAAM,IAAI,OAAO,KAAK,sBAAsB,EAAE;wBACrE,SAAS,GAAG,IAAI,CAAC;qBACpB;iBACJ,EAAE,yBAAyB,CAAC,CAAC;aACjC,CAAC,CAAC,CAAC;SACP,CAAC;KACL,CAAC,CAAC;IACH,IAAI,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,cAAc,CAAC,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;;;;;;IAOzH,OAAO,MAAM,CAAC;CACjB;AACD,SAAS,uBAAuB,CAAC,UAAU,EAAE,SAAS,EAAE;IACpD,IAAI,OAAO,UAAU,CAAC,eAAe,KAAK,QAAQ,EAAE;QAChD,UAAU,CAAC,eAAe,GAAG,CAAC,CAAC;KAClC;IACD,IAAI,OAAO,UAAU,CAAC,cAAc,KAAK,QAAQ,IAAI,UAAU,CAAC,cAAc,GAAG,CAAC,EAAE;QAChF,UAAU,CAAC,cAAc,GAAG,CAAC,CAAC;KACjC;CACJ;AACD,SAAS,wBAAwB,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE;IACrE,OAAO,YAAY;QACf,IAAI,OAAO,QAAQ,CAAC,qBAAqB,KAAK,UAAU,EAAE;YACtD,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC;iBACjH,IAAI,CAAC,UAAU,KAAK,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;SAC9D;QACD,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;KAC9B,CAAC;CACL;AACD,SAAS,qBAAqB,CAAC,aAAa,EAAE;IAC1C,IAAI,aAAa,KAAK,MAAM,EAAE;QAC1B,OAAO,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,CAAC,IAAI,KAAK,SAAS,CAAC,EAAE,CAAC;KAC1E;SACI;QACD,OAAO,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC;KACvC;CACJ;AACD,SAAS,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,GAAG,GAAG,CAAC,CAAC;;IAEZ,IAAI,OAAO,CAAC,CAAC,UAAU,CAAC,QAAQ,KAAK,QAAQ,IAAI,OAAO,CAAC,CAAC,UAAU,CAAC,QAAQ,KAAK,QAAQ,EAAE;QACxF,GAAG,GAAG,iBAAiB,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;KACzE;;IAED,IAAI,GAAG,KAAK,CAAC,EAAE;QACX,GAAG,GAAG,iBAAiB,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;KACnE;;IAED,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE;QACtD,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACjC,GAAG,GAAG,CAAC,CAAC;SACX;aACI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACtC,GAAG,GAAG,CAAC,CAAC,CAAC;SACZ;KACJ;IACD,OAAO,GAAG,CAAC;CACd;AACD,SAAS,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE;IAC/B,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE;QACzC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACjC,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACtC,OAAO,CAAC,CAAC;SACZ;KACJ;IACD,OAAO,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CAClC;AACD,SAAS,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAE;IACjC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE;QACzC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACjC,OAAO,CAAC,CAAC;SACZ;aACI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;YACtC,OAAO,CAAC,CAAC,CAAC;SACb;KACJ;IACD,OAAO,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CAClC;AACD,AAAO,SAAS,uBAAuB,CAAC,aAAa,EAAE;IACnD,IAAI,aAAa,KAAK,KAAK,EAAE;QACzB,OAAO,mBAAmB,CAAC;KAC9B;SACI,IAAI,aAAa,KAAK,QAAQ,EAAE;QACjC,OAAO,qBAAqB,CAAC;KAChC;SACI;QACD,OAAO,iBAAiB,CAAC;KAC5B;CACJ;AACD,8BAA8B,CAAC,gCAAgC,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC9F,IAAI,MAAM,GAAG;QACT,UAAU,EAAE,KAAK;QACjB,WAAW,EAAE,EAAE;KAClB,CAAC;IACF,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IACvD,OAAO,sBAAsB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;QACjE,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACzD,IAAI,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;YACvB,IAAI,SAAS,CAAC,MAAM,GAAG,iBAAiB,EAAE;gBACtC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;aAClC;YACD,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACnE,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC5C;KACJ,CAAC,CAAC,IAAI,CAAC,YAAY;QAChB,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACnC,CAAC,CAAC,IAAI,CAAC,YAAY;QAChB,OAAO,MAAM,CAAC;KACjB,CAAC,CAAC;CACN,CAAC,CAAC;AACH,IAAI,YAAY,CAAC;AACjB,IAAI,SAAS,GAAG,mBAAmB,YAAY;IAC3C,SAAS,OAAO,GAAG;KAClB;IACD,OAAO,CAAC,SAAS,CAAC,sBAAsB,GAAG,YAAY;QACnD,OAAO,YAAY,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;KACxD,CAAC;IACF,OAAO,OAAO,CAAC;CAClB,EAAE,CAAC,CAAC;AACL,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;AACzC,AAAO,SAAS,qBAAqB,CAAC,MAAM,EAAE,WAAW,EAAE;IACvD,UAAU,CAAC,YAAY;QACnB,YAAY,GAAG,WAAW,CAAC;QAC3B,MAAM,CAAC,eAAe,CAAC,kCAAkC,CAAC,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACvF,YAAY,GAAG,SAAS,CAAC;KAC5B,EAAE,CAAC,CAAC,CAAC;CACT;;AC3MD;;;;AAIA,AACA,IAAIxE,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAUA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,OAAO,EAAE,WAAW,EAAE,iBAAiB,EAAE;QACjE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC,aAAa,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC7E,IAAI,CAAC,eAAe,GAAG,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACnF,IAAI,CAAC,eAAe,GAAG,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;KACtF;IACD,kBAAkB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACvC,OAAO,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC;KACvD,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC/C,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC1B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC7C,OAAO,oBAAoB,CAAC;KAC/B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,aAAa,EAAE;QACtH,IAAI,eAAe,KAAK,KAAK,CAAC,EAAE,EAAE,eAAe,GAAG,CAAC,CAAC,EAAE;QACxD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,CAAC,CAAC,EAAE;QACtD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,IAAI,CAAC,EAAE;QACzD,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,IAAI,CAAC,EAAE;;;;QAIvD,IAAI;YACA,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;SAC5F;QACD,OAAO,CAAC,EAAE;YACN,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CAAC;YACrD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,oBAAoB,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,cAAc,CAAC,CAAC;SAC3G;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,aAAa,EAAE;QACzH,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,eAAe,KAAK,KAAK,CAAC,EAAE,EAAE,eAAe,GAAG,CAAC,CAAC,EAAE;QACxD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,CAAC,CAAC,EAAE;QACtD,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,IAAI,CAAC,EAAE;QACzD,IAAI,aAAa,KAAK,KAAK,CAAC,EAAE,EAAE,aAAa,GAAG,IAAI,CAAC,EAAE;;;QAGvD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvD,IAAI,cAAc,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,gBAAgB,EAAE,CAAC;SAC9C;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,uBAAuB,EAAE,CAAC;YACzE,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC;YAC5F,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SAC1B;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC;SAClE;QACD,IAAI,aAAa,EAAE;YACf,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,gBAAgB,EAAE,CAAC;SAC9C;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,gBAAgB,GAAG;YACpB,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC;YAC1F,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC;YACrE,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC;SACxF,CAAC;KACL,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACpD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;;YAEhB,OAAO;SACV;QACD,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,uBAAuB,EAAE,EAAE;;;YAG5E,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE;;;YAG/B,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI,IAAI,CAAC,QAAQ,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,6BAA6B,EAAE,EAAE;YACrF,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;QAC9D,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QAC7D,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACrD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAClC,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;YAChC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,cAAc,KAAK,MAAM,EAAE;YAChC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;iBAClD,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAClF,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAChC,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE,CAAC,EAAE;;;gBAGxE,OAAO;oBACH,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,MAAM,CAAC,KAAK;oBACnB,UAAU,EAAE,MAAM,CAAC,KAAK;;;oBAGxB,QAAQ,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;oBACxB,cAAc,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM;iBACvC,CAAC;aACL,CAAC,CAAC,CAAC;SACP;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC9C,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE;YAC1B,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC9C,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC/B,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;KAC7B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAChE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;SAC5C;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,kBAAkB,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAC7E,kBAAkB,CAAC,cAAc,GAAG,IAAI,aAAa,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC/E,kBAAkB,CAAC,cAAc,GAAG,IAAI,aAAa,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC/E,kBAAkB,GAAGW,YAAU,CAAC;QAC5BC,SAAO,CAAC,CAAC,EAAE,WAAW,CAAC;QACvBA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;KACjC,EAAE,kBAAkB,CAAC,CAAC;IACvB,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,kBAAkB,CAAC,CAAC;AAC/C,IAAI,WAAW,GAAG,aAAa,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;AAC3E,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,8BAA8B;IAClC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,kBAAkB,CAAC,aAAa,EAAE,kBAAkB,CAAC,cAAc,CAAC;IACrG,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE;IAChD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,CAAC;KACb;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,8BAA8B;IAClC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,kBAAkB,CAAC,aAAa,EAAE,kBAAkB,CAAC,cAAc,CAAC;IACrG,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE;IAChD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,IAAI,eAAe,CAAC;KAChC;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,cAAc;IAClB,YAAY,EAAE,kBAAkB,CAAC,aAAa;IAC9C,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;IAClD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACpD,MAAM,EAAE,iBAAiB,CAAC,eAAe;QACzC,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,WAAW,CAAC;IAClC,EAAE,EAAE,eAAe;IACnB,YAAY,EAAE,kBAAkB,CAAC,aAAa;IAC9C,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;CACrD,CAAC,CAAC,CAAC;;AC1NJ;;;;AAIA,AAGA;;;;;;;AAOA,AAAO,SAAS,EAAE,GAAG;IACjB,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC1C,MAAM,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;KAC9B;IACD,OAAO,UAAU,IAAI,EAAE,kBAAkB,EAAE;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC/C,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC;YAChD,IAAI,KAAK,EAAE;gBACP,OAAO,KAAK,CAAC;aAChB;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;CACL;;AAED,AAAO,IAAI,mBAAmB,GAAG,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AACvE,AAAO,IAAI,aAAa,GAAG,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAChE,SAAS,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,kBAAkB,EAAE;IAC1D,IAAI,CAAC,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE;QAChE,OAAO,IAAI,CAAC;KACf;IACD,IAAI,OAAO,CAAC;IACZ,IAAI,UAAU,EAAE;QACZ,OAAO,GAAGwE,oBAA4B,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;KACpE;SACI;QACD,OAAO,GAAG,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACpD;IACD,IAAI,CAAC,OAAO,EAAE;QACV,OAAO,IAAI,CAAC;KACf;IACD,OAAO,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;CAClE;;AAED,AAAO,SAAS,0BAA0B,CAAC,IAAI,EAAE,kBAAkB,EAAE;IACjE,IAAI,KAAK,GAAG,kBAAkB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IACzE,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;QACd,OAAO,IAAI,CAAC;KACf;IACD,OAAO,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;CACvD;;AAED,AAAO,SAAS,gBAAgB,CAAC,IAAI,EAAE,kBAAkB,EAAE;IACvD,OAAO,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,kBAAkB,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACxF;AACD,SAAS,iBAAiB,CAAC,IAAI,EAAE,kBAAkB,EAAE,CAAC,EAAE,CAAC,EAAE;IACvD,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;QACnB,OAAO,EAAE,CAAC;KACb;SACI,IAAI,CAAC,KAAK,kBAAkB,CAAC,MAAM,EAAE;QACtC,OAAO,IAAI,CAAC;KACf;SACI;QACD,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,kBAAkB,CAAC,CAAC,CAAC,EAAE;YACnC,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,MAAM,GAAG,iBAAiB,CAAC,IAAI,EAAE,kBAAkB,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;gBACpE,OAAOC,MAAI,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;aACjD;YACD,OAAO,IAAI,CAAC;SACf;QACD,OAAO,iBAAiB,CAAC,IAAI,EAAE,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KAChE;CACJ;;AAED,SAAS,OAAO,CAAC,IAAI,EAAE;IACnB,OAAO,EAAE,YAAY,IAAI,IAAI,IAAI,IAAI,GAAG,SAAS;CACpD;AACD,AAAO,SAAS,OAAO,CAAC,IAAI,EAAE;IAC1B,OAAO,EAAE,YAAY,IAAI,IAAI,IAAI,IAAI,EAAE,SAAS;CACnD;AACD,SAASC,UAAQ,CAAC,IAAI,EAAE;IACpB,OAAO,EAAE,iBAAiB,IAAI,IAAI,IAAI,IAAI,EAAE,cAAc;CAC7D;AACD,SAAS,YAAY,CAAC,IAAI,EAAE;IACxB,QAAQ,IAAI,KAAK,EAAE;WACZ,IAAI,KAAK,CAAC;WACV,IAAI,KAAK,EAAE;WACX,IAAI,KAAK,EAAE,uBAAuB;CAC5C;AACD,SAAS,cAAc,CAAC,IAAI,EAAE;IAC1B,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,IAAIA,UAAQ,CAAC,IAAI,CAAC,CAAC;CAC3D;AACD,SAASD,MAAI,CAAC,IAAI,EAAEE,OAAI,EAAE;IACtB,IAAIA,OAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QACnBA,OAAI,GAAG,CAAC,IAAI,CAAC,CAAC;KACjB;SACI,IAAI,IAAI,CAAC,GAAG,KAAKA,OAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;QACjCA,OAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;KAC9B;SACI;QACDA,OAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KACtB;IACD,OAAOA,OAAI,CAAC;CACf;AACD,SAAS,UAAU,CAAC,aAAa,EAAE,KAAK,EAAE;IACtC,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC/C,IAAI,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,OAAO,CAAC,CAAC,CAAC,IAAID,UAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;YAC1F,OAAO,CAAC,CAAC;SACZ;KACJ;IACD,OAAO,aAAa,CAAC,MAAM,CAAC;CAC/B;AACD,SAAS,iBAAiB,CAAC,IAAI,EAAE,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE;IAClD,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;QACnB,OAAO,EAAE,CAAC;KACb;SACI,IAAI,CAAC,KAAK,aAAa,CAAC,MAAM,EAAE;QACjC,OAAO,IAAI,CAAC;KACf;SACI,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE;QACjD,OAAO,IAAI,CAAC;KACf;SACI;QACD,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,cAAc,GAAG,CAAC,GAAG,CAAC,CAAC;QAC3B,MAAM,GAAG,iBAAiB,CAAC,IAAI,EAAE,aAAa,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9D,OAAO,CAAC,MAAM,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,aAAa,EAAE,cAAc,CAAC,IAAI,aAAa,CAAC,MAAM,EAAE;YACnG,MAAM,GAAG,iBAAiB,CAAC,IAAI,EAAE,aAAa,EAAE,CAAC,GAAG,CAAC,EAAE,cAAc,CAAC,CAAC;YACvE,cAAc,EAAE,CAAC;SACpB;QACD,OAAO,MAAM,KAAK,IAAI,GAAG,IAAI,GAAGD,MAAI,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;KAC1E;CACJ;;;AAGD,SAAS,oBAAoB,CAAC,IAAI,EAAE;IAChC,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,OAAO,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC;IAC3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAClC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;YACf,KAAK,EAAE,CAAC;SACX;QACD,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;YACf,KAAK,EAAE,CAAC;SACX;QACD,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE;YACtB,KAAK,EAAE,CAAC;SACX;QACD,IAAIC,UAAQ,CAAC,IAAI,CAAC,EAAE;YAChB,OAAO,EAAE,CAAC;SACb;KACJ;IACD,IAAI,YAAY,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IACvC,IAAI,YAAY,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IACvC,IAAI,YAAY,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IACvC,IAAI,cAAc,GAAG,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3C,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,cAAc,EAAE,cAAc,EAAE,CAAC;CACjI;AACD,SAAS,eAAe,CAAC,QAAQ,EAAE;IAC/B,IAAI,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;IAC/E,OAAO,YAAY,KAAK,CAAC,IAAI,YAAY,GAAG,GAAG,CAAC;CACnD;AACD,SAAS,eAAe,CAAC,QAAQ,EAAE;IAC/B,IAAI,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;IAC/J,OAAO,YAAY,GAAG,GAAG,IAAI,YAAY,GAAG,GAAG,IAAI,YAAY,GAAG,GAAG,IAAI,cAAc,GAAG,GAAG,CAAC;CACjG;;;AAGD,SAAS,kBAAkB,CAAC,IAAI,EAAE;IAC9B,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,UAAU,GAAG,CAAC,CAAC;IACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAClC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;YACf,KAAK,EAAE,CAAC;SACX;QACD,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;YACf,KAAK,EAAE,CAAC;SACX;QACD,IAAI,YAAY,CAAC,IAAI,CAAC,EAAE;YACpB,UAAU,EAAE,CAAC;SAChB;KACJ;IACD,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,UAAU,KAAK,CAAC,EAAE;QAClD,OAAO,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;KAC5B;SACI;QACD,OAAO,KAAK,IAAI,CAAC,CAAC;KACrB;CACJ;AACD,AAAO,SAAS,gBAAgB,CAAC,IAAI,EAAE,aAAa,EAAE;IAClD,IAAI,CAAC,aAAa,EAAE;QAChB,OAAO,IAAI,CAAC;KACf;IACD,aAAa,GAAG,aAAa,CAAC,IAAI,EAAE,CAAC;IACrC,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;QAC5B,OAAO,IAAI,CAAC;KACf;IACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE;QAC3B,OAAO,IAAI,CAAC;KACf;IACD,IAAI,aAAa,CAAC,MAAM,GAAG,EAAE,EAAE;QAC3B,OAAO,IAAI,CAAC;KACf;IACD,IAAI,QAAQ,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC;IACnD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;QAC5B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;YAC5B,OAAO,IAAI,CAAC;SACf;QACD,aAAa,GAAG,aAAa,CAAC,WAAW,EAAE,CAAC;KAC/C;IACD,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,OAAO,CAAC,GAAG,aAAa,CAAC,MAAM,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,IAAI,EAAE;QAC/G,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KACxC;IACD,OAAO,MAAM,CAAC;CACjB;AACD,AAgDA;AACA,AAAO,IAAI,qBAAqB,GAAG,EAAE,CAAC,aAAa,EAAE,gBAAgB,EAAE,0BAA0B,CAAC,CAAC;AACnG,IAAI,mBAAmB,GAAG,EAAE,CAAC,aAAa,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;AAChF,IAAI,gBAAgB,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC3C,AAAO,SAAS,YAAY,CAAC,IAAI,EAAE,kBAAkB,EAAE,+BAA+B,EAAE;IACpF,IAAI,+BAA+B,KAAK,KAAK,CAAC,EAAE,EAAE,+BAA+B,GAAG,KAAK,CAAC,EAAE;IAC5F,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,OAAO,kBAAkB,KAAK,QAAQ,EAAE;QACpE,OAAO,IAAI,CAAC;KACf;;IAED,IAAI,MAAM,GAAG,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,CAAC,MAAM,EAAE;QACT,MAAM,GAAG,IAAI,MAAM,CAACE,2BAAmC,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACpE,gBAAgB,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KACtC;;IAED,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC5C,IAAI,KAAK,EAAE;QACP,OAAO,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;KACvE;;IAED,OAAO,+BAA+B,GAAG,mBAAmB,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG,qBAAqB,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC;CAC5I;AACD,AAAO,SAAS,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,0BAA0B,EAAE;IACjE,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAChC,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAC1B,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE;QAC3C,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACrD,IAAI,OAAO,IAAI,CAAC,EAAE;YACd,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACtB,GAAG,GAAG,OAAO,GAAG,CAAC,CAAC;SACrB;KACJ;IACD,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;CACpC;;AAED,AAAO,SAAS,aAAa,CAAC,QAAQ,EAAE;IACpC,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,IAAI,CAAC,QAAQ,EAAE;QACX,OAAO,GAAG,CAAC;KACd;IACD,IAAI,IAAI,CAAC;IACT,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,UAAU,GAAG,QAAQ,EAAE,EAAE,GAAG,UAAU,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAClE,IAAI,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;QACzB,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,EAAE;YAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;SACjB;aACI;YACD,IAAI,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;YACpC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClB;KACJ;IACD,OAAO,GAAG,CAAC;CACd;AACD,SAAS,SAAS,GAAG;IACjB,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;QAC3B,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAChB;IACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;QAC3B,IAAI,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAChB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACvB;IACD,OAAO,KAAK,CAAC;CAChB;AACD,IAAI,MAAM,GAAG,SAAS,EAAE,CAAC;AACzB,IAAI,OAAO,GAAG,SAAS,EAAE,CAAC;AAC1B,IAAI,OAAO,GAAG,SAAS,EAAE,CAAC;AAC1B,AAqBA,SAAS,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE;IACpC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;QACpC,OAAO,KAAK,CAAC;KAChB;IACD,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACnC,QAAQ,IAAI;QACR,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,YAAY;QACnB,KAAK,EAAE,cAAc;QACrB,KAAK,EAAE,aAAa;QACpB,KAAK,EAAE,aAAa;QACpB,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,mBAAmB;QAC1B,KAAK,EAAE,mBAAmB;QAC1B,KAAK,EAAE;YACH,OAAO,IAAI,CAAC;QAChB;YACI,OAAO,KAAK,CAAC;KACpB;CACJ;AACD,SAAS,iBAAiB,CAAC,KAAK,EAAE,KAAK,EAAE;IACrC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;QACpC,OAAO,KAAK,CAAC;KAChB;IACD,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACnC,QAAQ,IAAI;QACR,KAAK,EAAE,aAAa;QACpB,KAAK,CAAC;YACF,OAAO,IAAI,CAAC;QAChB;YACI,OAAO,KAAK,CAAC;KACpB;CACJ;AACD,AAAO,SAAS,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,0BAA0B,EAAE;IAClE,IAAI,UAAU,GAAG,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;IAC7D,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;;;;;IAKpD,IAAI,eAAe,GAAG,CAAC,CAAC;IACxB,IAAI,0BAA0B,KAAK,SAAS,EAAE;QAC1C,0BAA0B,GAAG,UAAU,CAAC;KAC3C;IACD,OAAO,eAAe,GAAG,0BAA0B,EAAE;QACjD,IAAI,iBAAiB,CAAC,OAAO,EAAE,eAAe,CAAC,EAAE;YAC7C,eAAe,IAAI,CAAC,CAAC;SACxB;aACI;YACD,MAAM;SACT;KACJ;IACD,IAAI,eAAe,KAAK,UAAU,EAAE;QAChC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;KACrB;IACD,IAAI,UAAU,GAAG,OAAO,EAAE;QACtB,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,UAAU,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IACvC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IACjC,IAAI,UAAU,GAAG,eAAe,CAAC;IACjC,IAAI,OAAO,GAAG,CAAC,CAAC;;;;IAIhB,OAAO,UAAU,GAAG,UAAU,IAAI,OAAO,GAAG,OAAO,EAAE;QACjD,IAAI,UAAU,CAAC,UAAU,CAAC,KAAK,OAAO,CAAC,OAAO,CAAC,EAAE;YAC7C,UAAU,IAAI,CAAC,CAAC;SACnB;QACD,OAAO,IAAI,CAAC,CAAC;KAChB;IACD,IAAI,UAAU,KAAK,UAAU,EAAE;QAC3B,OAAO,SAAS,CAAC;KACpB;;IAED,KAAK,UAAU,GAAG,eAAe,GAAG,CAAC,EAAE,UAAU,IAAI,UAAU,EAAE,UAAU,EAAE,EAAE;QAC3E,KAAK,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,OAAO,EAAE,OAAO,EAAE,EAAE;YAC7C,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;YACf,IAAI,WAAW,GAAG,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YACvC,IAAI,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,WAAW,EAAE;gBAC5C,IAAI,OAAO,MAAM,UAAU,GAAG,eAAe,CAAC,EAAE;;oBAE5C,IAAI,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE;wBAC/C,KAAK,GAAG,CAAC,CAAC;qBACb;yBACI;wBACD,KAAK,GAAG,CAAC,CAAC;qBACb;iBACJ;qBACI,IAAI,WAAW,KAAK,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE;;oBAExC,IAAI,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE;wBAC/C,KAAK,GAAG,CAAC,CAAC;qBACb;yBACI;wBACD,KAAK,GAAG,CAAC,CAAC;qBACb;iBACJ;qBACI,IAAI,gBAAgB,CAAC,OAAO,EAAE,OAAO,GAAG,CAAC,CAAC,IAAI,iBAAiB,CAAC,OAAO,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE;;oBAExF,KAAK,GAAG,CAAC,CAAC;iBACb;qBACI;oBACD,KAAK,GAAG,CAAC,CAAC;iBACb;aACJ;YACD,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;YACrC,IAAI,IAAI,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;YACzE,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;YACjD,IAAI,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAChD,IAAI,IAAI,IAAI,KAAK,EAAE;;gBAEf,IAAI,IAAI,GAAG,IAAI,EAAE;oBACb,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACnC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY;iBAC/C;qBACI,IAAI,IAAI,KAAK,IAAI,EAAE;oBACpB,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACnC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,YAAY;iBAC9D;qBACI;oBACD,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACnC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY;iBAC/C;aACJ;iBACI;;gBAED,IAAI,KAAK,GAAG,IAAI,EAAE;oBACd,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;oBACpC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW;iBAC9C;qBACI,IAAI,KAAK,KAAK,IAAI,EAAE;oBACrB,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;oBACpC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,YAAY;iBAC7D;qBACI;oBACD,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACnC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY;iBAC/C;aACJ;SACJ;KACJ;AACL,AAKA;;;IAGI,aAAa,GAAG,CAAC,CAAC;IAClB,SAAS,GAAG,CAAC,GAAG,CAAC;IACjB,gBAAgB,GAAG,eAAe,CAAC;IACnC,eAAe,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,KAAK,OAAO,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;IAC7F,IAAI,aAAa,KAAK,CAAC,EAAE;QACrB,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC;CAC3C;AACD,IAAI,aAAa,GAAG,CAAC,CAAC;AACtB,IAAI,SAAS,CAAC;AACd,IAAI,SAAS,GAAG,CAAC,CAAC;AAClB,IAAI,gBAAgB,GAAG,CAAC,CAAC;AACzB,SAAS,eAAe,CAAC,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE;IACvE,IAAI,aAAa,IAAI,EAAE,IAAI,KAAK,GAAG,CAAC,EAAE,EAAE;;;QAGpC,OAAO;KACV;IACD,IAAI,gBAAgB,GAAG,CAAC,CAAC;IACzB,OAAO,UAAU,GAAG,gBAAgB,IAAI,OAAO,GAAG,CAAC,EAAE;QACjD,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,KAAK,KAAK,CAAC,aAAa;;YAExB,OAAO,IAAI,CAAC,CAAC;YACb,IAAI,WAAW,EAAE;gBACb,KAAK,IAAI,CAAC,CAAC;aACd;iBACI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE;gBACzB,KAAK,IAAI,CAAC,CAAC;aACd;YACD,WAAW,GAAG,KAAK,CAAC;YACpB,gBAAgB,GAAG,CAAC,CAAC;SACxB;aACI,IAAI,KAAK,GAAG,CAAC,aAAa;YAC3B,IAAI,KAAK,GAAG,CAAC,aAAa;;gBAEtB,eAAe,CAAC,UAAU,EAAE,OAAO,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK;gBAC/E,OAAO,CAAC,KAAK,EAAE,EAAE,WAAW,CAAC,CAAC;aACjC;;YAED,KAAK,IAAI,KAAK,CAAC;YACf,UAAU,IAAI,CAAC,CAAC;YAChB,OAAO,IAAI,CAAC,CAAC;YACb,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACzB,WAAW,GAAG,IAAI,CAAC;;;;YAInB,IAAI,KAAK,KAAK,CAAC,EAAE;gBACb,gBAAgB,IAAI,CAAC,CAAC;gBACtB,IAAI,UAAU,KAAK,gBAAgB,EAAE;;;oBAGjC,OAAO,SAAS,CAAC;iBACpB;aACJ;iBACI;;gBAED,KAAK,IAAI,CAAC,IAAI,gBAAgB,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC9C,gBAAgB,GAAG,CAAC,CAAC;aACxB;SACJ;aACI;YACD,OAAO,SAAS,CAAC;SACpB;KACJ;IACD,KAAK,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC;;;IAGxC,aAAa,IAAI,CAAC,CAAC;IACnB,IAAI,KAAK,GAAG,SAAS,EAAE;QACnB,SAAS,GAAG,KAAK,CAAC;QAClB,SAAS,GAAG,OAAO,CAAC;KACvB;CACJ;AACD,IAAI,SAAS,kBAAkB,YAAY;IACvC,SAAS,SAAS,GAAG;KACpB;IACD,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtC,OAAO,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;KACnE,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,CAAC,EAAE;QACvC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;SACpB;aACI;YACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SACzB;KACJ,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACpC,IAAI,GAAG,GAAG,IAAI,SAAS,EAAE,CAAC;QAC1B,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;QACnB,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACpD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;SACjC;QACD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,OAAO,OAAO,EAAE;YACZ,IAAI,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE;gBAC1C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;aAC/F;YACD,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;SAC7B;QACD,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;KAC3D,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,EAAE,CAAC,CAAC;;;AAGL,AAAO,SAAS,4BAA4B,CAAC,OAAO,EAAE,IAAI,EAAE,0BAA0B,EAAE;IACpF,OAAO,0BAA0B,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,0BAA0B,CAAC,CAAC;CACtF;AACD,AAGA,SAAS,0BAA0B,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,0BAA0B,EAAE;IACvF,IAAI,GAAG,GAAG,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,0BAA0B,CAAC,CAAC;IAChE,IAAI,GAAG,IAAI,CAAC,UAAU,EAAE;;;;QAIpB,OAAO,GAAG,CAAC;KACd;IACD,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;;;;;QAKrB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC5C,KAAK,IAAI,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,KAAK,EAAE,UAAU,EAAE,EAAE;YACvD,IAAI,UAAU,GAAG,mBAAmB,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;YAC1D,IAAI,UAAU,EAAE;gBACZ,IAAI,SAAS,GAAG,UAAU,CAAC,UAAU,EAAE,IAAI,EAAE,0BAA0B,CAAC,CAAC;gBACzE,IAAI,SAAS,EAAE;oBACX,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBAClB,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE;wBAC/B,GAAG,GAAG,SAAS,CAAC;qBACnB;iBACJ;aACJ;SACJ;KACJ;IACD,OAAO,GAAG,CAAC;CACd;AACD,SAAS,mBAAmB,CAAC,OAAO,EAAE,UAAU,EAAE;IAC9C,IAAI,UAAU,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,EAAE;QAClC,OAAO,SAAS,CAAC;KACpB;IACD,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;IAChC,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;IACpC,IAAI,KAAK,KAAK,KAAK,EAAE;QACjB,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC;UAC7B,KAAK;UACL,KAAK;UACL,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;CACvC;;ACrqBD;;;;AAIA,AASA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE;QAChE,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC,uBAAuB,CAAC;QACjE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,CAAC,WAAW;QACjC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,aAAa,KAAK,KAAK,EAAE;YACzB,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC,iCAAiC,CAAC;SAC9E;aACI,IAAI,aAAa,KAAK,QAAQ,EAAE;YACjC,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC,mCAAmC,CAAC;SAChF;KACJ;IACD,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACrD,IAAI,SAAS,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;gBACtB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACpB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE;oBACzB,SAAS,CAAC,OAAO,EAAE,CAAC;iBACvB;aACJ;SACJ;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,aAAa,EAAE;QAC5D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,IAAI,CAAC,YAAY,CAAC,kBAAkB,KAAK,KAAK,CAAC,kBAAkB;mBAC9D,IAAI,CAAC,YAAY,CAAC,mBAAmB,KAAK,KAAK,CAAC,mBAAmB,EAAE;gBACxE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,GAAG,KAAK,CAAC,mBAAmB,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,cAAc,CAAC,WAAW;gBAC3I,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC7B;SACJ;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC,cAAc,CAAC;SAC9B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,YAAY,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC1D,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACrD,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAClB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;gBAC5B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACvB;iBACI,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC3C,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACjC;SACJ;QACD,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;KACzD,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACvD,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,gBAAgB;YACxC,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACvD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,EAAE,eAAe,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;QACpE,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,kBAAkB,GAAG,EAAE,CAAC,kBAAkB,EAAE,mBAAmB,GAAG,EAAE,CAAC,mBAAmB,CAAC;QACrH,IAAI,IAAI,GAAG,EAAE,CAAC;;QAEd,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,KAAK,CAAC,aAAa,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;QACpF,IAAI,MAAM,GAAG,EAAE,CAAC;;;QAGhB,IAAI,OAAO,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,GAAG,UAAU,GAAG,4BAA4B,CAAC;QAC/E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpC,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;;;YAG7D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,SAAS,CAAC,UAAU,CAAC;;;;YAIhE,IAAI,OAAO,GAAG,UAAU,CAAC,eAAe,GAAG,mBAAmB,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;YACvG,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;gBACzB,IAAI,GAAG,OAAO,KAAK,CAAC,GAAG,EAAE,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;aAClE;;;YAGD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,OAAO,KAAK,CAAC,EAAE;;;;;;gBAMf,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC;gBAClB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;aAC5B;iBACI,IAAI,OAAO,UAAU,CAAC,UAAU,KAAK,QAAQ,EAAE;;;;;gBAKhD,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC,eAAe,CAAC,CAAC;gBAC7E,IAAI,CAAC,KAAK,EAAE;oBACR,SAAS;iBACZ;gBACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACvD;iBACI;;gBAED,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,eAAe,CAAC,CAAC;gBACxE,IAAI,KAAK,EAAE;oBACP,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;iBAC3B;qBACI;oBACD,SAAS;iBACZ;aACJ;YACD,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;YACb,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;YAElB,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;YAC9B,QAAQ,UAAU,CAAC,IAAI;gBACnB,KAAK,SAAS;oBACV,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;oBAC3B,MAAM;gBACV,KAAK,MAAM;oBACP,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;oBACxB,MAAM;aACb;SACJ;QACD,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC1D,IAAI,CAAC,aAAa,GAAG,CAAC,eAAe;KACxC,CAAC;IACF,eAAe,CAAC,uBAAuB,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACtD,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE;YACnB,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE;YACxB,OAAO,CAAC,CAAC;SACZ;aACI,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE;YACpB,OAAO,CAAC,CAAC,CAAC;SACb;aACI,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE;YACpB,OAAO,CAAC,CAAC;SACZ;aACI;YACD,OAAO,CAAC,CAAC;SACZ;KACJ,CAAC;IACF,eAAe,CAAC,mCAAmC,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QAClE,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE;YACzC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;gBACjC,OAAO,CAAC,CAAC;aACZ;iBACI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;gBACtC,OAAO,CAAC,CAAC,CAAC;aACb;SACJ;QACD,OAAO,eAAe,CAAC,uBAAuB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACxD,CAAC;IACF,eAAe,CAAC,iCAAiC,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QAChE,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE;YACzC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;gBACjC,OAAO,CAAC,CAAC,CAAC;aACb;iBACI,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;gBACtC,OAAO,CAAC,CAAC;aACZ;SACJ;QACD,OAAO,eAAe,CAAC,uBAAuB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACxD,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;ACnNL;;;;AAIA,AAYA,IAAIC,aAAW,kBAAkB,YAAY;IACzC,SAASA,cAAW,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;QACxC,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;IACDA,cAAW,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;QAC9C,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAC/B,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACtC,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,CAAC,MAAM,EAAE;YAC/B,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;YAC3B,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,OAAOA,cAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,YAAY,kBAAkB,YAAY;IAC1C,SAAS,YAAY,CAAC,MAAM,EAAE;QAC1B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,gBAAgB,GAAG,IAAI,YAAY,EAAE,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,OAAO,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;QAC3B,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;QACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;QAElF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY;YAC3D,KAAK,CAAC,wBAAwB,EAAE,CAAC;YACjC,KAAK,CAAC,MAAM,EAAE,CAAC;SAClB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY;YACnE,KAAK,CAAC,wBAAwB,EAAE,CAAC;YACjC,KAAK,CAAC,MAAM,EAAE,CAAC;SAClB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY;YACnE,KAAK,CAAC,wBAAwB,EAAE,CAAC;YACjC,KAAK,CAAC,mBAAmB,EAAE,CAAC;SAC/B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY;YACzD,KAAK,CAAC,wBAAwB,EAAE,CAAC;YACjC,KAAK,CAAC,2BAA2B,EAAE,CAAC;SACvC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,UAAU,CAAC,EAAE;YACtE,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;SAC5B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YACnE,KAAK,CAAC,wBAAwB,EAAE,CAAC;SACpC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;IACD,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAC5H,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;;IAEF,YAAY,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QACrD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,qBAAqB,CAAC;QAC5F,IAAI,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,kBAAkB,GAAG,CAAC,EAAE;YAC9H,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;SAChC;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;QACxC,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ;eACrC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;eACxB,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,0BAA0B,EAAE;YAC5E,OAAO;SACV;QACD,IAAI,0BAA0B,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACtF,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,cAAc,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;gBAC3C,SAAS;aACZ;YACD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,iBAAiB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACnE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAChB,IAAI,KAAK,GAAG,0BAA0B,CAAC,EAAE,CAAC,CAAC;gBAC3C,IAAI,CAAC,KAAK,EAAE;oBACR,0BAA0B,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;iBAC9C;qBACI;oBACD,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACvB;aACJ;SACJ;QACD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE;YACpE,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC5C,IAAI,QAAQ,GAAG,0BAA0B,CAAC,QAAQ,CAAC,CAAC;YACpD,IAAI,QAAQ,EAAE;;;gBAGV,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,IAAI,KAAK,CAAC,gBAAgB,EAAE;oBACxB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;wBACtE,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;wBAClB,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;4BACpC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACpB;qBACJ;iBACJ;gBACD,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,gBAAgB,EAAE,QAAQ,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;aAC/G;SACJ,CAAC,CAAC;KACN,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE;;QAEnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;QACjD,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAG,KAAK,CAAC,EAAE;QAChD,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAC/B,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,CAAC;YACzC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,YAAY;QAC3B,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;KACpD,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;QAC7D,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa;YAC9B,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE;gBAC/C,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;iBACI;gBACD,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;aAC9D;SACJ;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC3C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QACrD,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,EAAE;eACnB,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,MAAM;gBACrC,CAAC,CAAC,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,KAAK,YAAY,CAAC,EAAE;;;YAG3D,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa;gBAC9B,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;YACD,OAAO;SACV;QACD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC/C,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa;;;YAG9B,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,gBAAgB,KAAK,KAAK;oBAClE,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC;uBAChD,aAAa,CAAC,cAAc,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE;gBAC9F,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,0BAA0B,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBAC5E,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,YAAY;oBAC7C,IAAIA,aAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;wBAC9C,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;wBACvC,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;wBACtC,IAAI,CAAC,OAAO,EAAE;4BACV,OAAO;yBACV;;wBAED,IAAI,gBAAgB,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,gBAAgB,CAAC;wBACrF,IAAI,gBAAgB,KAAK,KAAK,EAAE;4BAC5B,OAAO;yBACV;6BACI,IAAI,gBAAgB,KAAK,IAAI,EAAE,CAEnC;6BACI;;4BAED,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;4BACxC,IAAI,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;4BACvD,IAAI,SAAS,GAAG,UAAU,CAAC,oBAAoB,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;4BACpH,IAAI,YAAY,GAAG,gBAAgB,CAAC,KAAK,IAAI,SAAS,KAAK,CAAC;mCACrD,gBAAgB,CAAC,QAAQ,IAAI,SAAS,KAAK,CAAC;mCAC5C,gBAAgB,CAAC,OAAO,IAAI,SAAS,KAAK,CAAC,cAAc;4BAChE,IAAI,CAAC,YAAY,EAAE;gCACf,OAAO;6BACV;yBACJ;wBACD,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;qBACjC;oBACD,KAAK,CAAC,0BAA0B,GAAG,IAAI,CAAC;iBAC3C,CAAC,CAAC;aACN;SACJ;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa;YAC9B,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,KAAK,EAAE;;YAEP,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,YAAY;gBAC3C,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;gBAC3C,IAAI,GAAG,GAAG,IAAIA,aAAW,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,MAAM,KAAK,CAAC,YAAY,CAAC;gBAC1E,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;aAC5B,EAAE,EAAE,CAAC,CAAC;SACV;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,EAAE;QACpF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAG,KAAK,CAAC,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;QACD,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACxB,IAAI,GAAG,GAAG,IAAIA,aAAW,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,CAAC;;QAEnE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,cAAc;QACnD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;;QAExC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;;QAEpB,IAAI,UAAU,CAAC;QACf,IAAI,OAAO,CAAC,gBAAgB,EAAE;YAC1B,UAAU,GAAG;gBACT,WAAW,EAAE,kBAAkB,CAAC,gBAAgB;gBAChD,gBAAgB,EAAE,OAAO,CAAC,gBAAgB;aAC7C,CAAC;SACL;aACI,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;YAClC,UAAU,GAAG,EAAE,WAAW,EAAE,kBAAkB,CAAC,+BAA+B,EAAE,CAAC;SACpF;aACI;YACD,UAAU,GAAG,EAAE,WAAW,EAAE,kBAAkB,CAAC,MAAM,EAAE,CAAC;SAC3D;QACD,IAAI,CAAC,eAAe,GAAG,sBAAsB,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACzL,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;YAC7B,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,aAAa;gBAC/B,OAAO;aACV;YACD,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACrC,IAAI,CAAC,KAAK,EAAE;gBACR,OAAO;aACV;YACD,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE;gBAChC,IAAI,KAAK,GAAG,uBAAuB,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;gBACrG,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACnD;YACD,IAAI,GAAG,GAAG,IAAIA,aAAW,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,CAAC;YACpE,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YAChC,KAAK,CAAC,gBAAgB,GAAG,IAAI,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACvE,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;gBAC1C,mBAAmB,EAAE,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC;aAC/E,EAAE,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACpE,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;SAC5B,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;KACpC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,GAAG,EAAE;QAClD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;;YAEhB,OAAO;SACV;QACD,IAAI,GAAG,CAAC,UAAU,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;;YAE7C,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO;SACV;QACD,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,EAAE;;YAErE,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO;SACV;QACD,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;;YAEnC,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;aACpD;iBACI;gBACD,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;YACD,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;;YAExB,OAAO;SACV;QACD,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;;YAE5G,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;YAC3G,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;SACpF;aACI;;YAED,IAAI,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC;YACvD,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG;gBAChC,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;gBAC1C,mBAAmB,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;aACzD,CAAC;YACF,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC1C,IAAIA,aAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,WAAW,EAAE;;oBAElH,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;oBACjD,OAAO;iBACV;gBACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;;oBAErB,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG,cAAc,CAAC;oBACnD,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBAClD,IAAI,QAAQ,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;;;wBAG/C,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,OAAO;qBACV;iBACJ;qBACI;;oBAED,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,OAAO;iBACV;aACJ;YACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;gBACpB,eAAe,EAAE,IAAI,CAAC,gBAAgB;gBACtC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;gBACxB,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAC;SACN;KACJ,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChYL;;;;AAIA,AACA,IAAI,QAAQ,GAAG,CAACzF,SAAI,IAAIA,SAAI,CAAC,QAAQ,KAAK,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,EAAE;IACnE,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QACjB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3D,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACnB;IACD,OAAO,CAAC,CAAC;CACZ,CAAC;AACF,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AA0BA,IAAI,6BAA6B,GAAG,KAAK,CAAC;AAC1C,IAAI,oBAAoB,GAAG,EAAE,CAAC;;;;AAI9B,AAAO,IAAI,6BAA6B,GAAG,aAAa,CAAC,gCAAgC,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,KAAK,EAAE,sBAAsB,EAAE,EAAE,EAAE,sBAAsB,EAAE,EAAEC,QAAY,CAAC,+BAA+B,EAAE,yCAAyC,CAAC,CAAC,CAAC;AAClR,AAAO,IAAI,yBAAyB,GAAG,aAAa,CAAC,4BAA4B,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,KAAK,EAAE,kBAAkB,EAAE,EAAE,EAAE,kBAAkB,EAAE,EAAEA,QAAY,CAAC,2BAA2B,EAAE,qCAAqC,CAAC,CAAC,CAAC;AACtP,AAAO,IAAI,6BAA6B,GAAG,aAAa,CAAC,gCAAgC,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,KAAK,EAAE,gBAAgB,EAAE,EAAE,EAAE,gBAAgB,EAAE,EAAEA,QAAY,CAAC,+BAA+B,EAAE,yCAAyC,CAAC,CAAC,CAAC;AAChQ,AAAO,IAAI,qCAAqC,GAAG,aAAa,CAAC,wCAAwC,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE,KAAK,EAAE,mBAAmB,EAAE,EAAE,EAAE,mBAAmB,EAAE,EAAEA,QAAY,CAAC,uCAAuC,EAAE,+DAA+D,CAAC,CAAC,CAAC;AACvT,AAAO,IAAI,sCAAsC,GAAG,aAAa,CAAC,yCAAyC,EAAE,EAAE,IAAI,EAAE,uBAAuB,EAAE,KAAK,EAAE,uBAAuB,EAAE,EAAE,EAAE,uBAAuB,EAAE,EAAEA,QAAY,CAAC,wCAAwC,EAAE,sDAAsD,CAAC,CAAC,CAAC;AAC7T,IAAI,WAAW,GAAG,6HAA6H,CAAC;AAChJ,SAAS,YAAY,CAAC,IAAI,EAAE;IACxB,OAAO,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;CACxD;AACD,SAAS,uBAAuB,CAAC,IAAI,EAAE;IACnC,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,KAAK,CAAC;KAChB;IACD,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACjC,IAAI,UAAU,CAAC,aAAa,EAAE;QAC1B,OAAO,IAAI,CAAC;KACf;IACD,QAAQ,UAAU,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,KAAK,UAAU,CAAC,KAAK,EAAE;CACxE;AACD,IAAI8D,UAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,MAAM,EAAE,MAAM,EAAE,sBAAsB,EAAE;QACtD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;KACxD;IACD,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,YAAY,EAAE;QACpD,GAAG,EAAE,YAAY;YACb,OAAO,YAAY,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,SAAS,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACxD,IAAI,IAAI,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QAC7C,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG9D,QAAY,CAAC,UAAU,EAAE,iBAAiB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC/F,IAAI,aAAa,GAAG,YAAY;YAC5B,IAAI,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YACpD,IAAI,UAAU,GAAG,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC;YACnD,IAAI,QAAQ,GAAG,aAAa,CAAC,WAAW,CAAC,eAAe,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC5F,IAAI,UAAU,GAAG,aAAa,CAAC,WAAW,CAAC,iBAAiB,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC;YAClG,IAAI,UAAU,GAAG,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,YAAY,GAAG,UAAU,GAAG,IAAI,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;YACnC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC;SAC5C,CAAC;QACF,aAAa,EAAE,CAAC;QAChB,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACxD,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC;aAC5D,EAAE,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/C,OAAO,IAAI,CAAC;KACf,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE,KAAK,EAAE,YAAY,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,GAAG,YAAY,CAAC;QACxB,IAAI,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;QACpC,IAAI,uBAAuB,CAAC,OAAO,CAAC,EAAE;YAClC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAEA,QAAY,CAAC,gCAAgC,EAAE,8BAA8B,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;SAC1I;aACI;YACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAEA,QAAY,CAAC,qBAAqB,EAAE,iBAAiB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;SAClH;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1C,IAAI,UAAU,CAAC,IAAI,KAAK,OAAO,EAAE;YAC7B,IAAI,KAAK,GAAG,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,OAAO,UAAU,CAAC,aAAa,KAAK,QAAQ,IAAI,YAAY,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;YACrI,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC;gBACzC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;aAChD;SACJ;QACD,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,EAAE,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;;QAE5E,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,CAAC,UAAU,CAAC,MAAM,IAAI,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QAC7E,IAAI,uBAAuB,CAAC,OAAO,CAAC,EAAE;YAClC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;gBACrC,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,CAAC,CAAC,cAAc,EAAE,CAAC;aACtB,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAU,CAAC,EAAE;gBACjC,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;aAChC,CAAC;SACL;aACI;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;SAChC;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,YAAY,EAAE;QACzD,YAAY,CAAC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;KAChE,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,IAAI,iBAAiB,kBAAkB,YAAY;IAC/C,SAAS,iBAAiB,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,sBAAsB,EAAE;QAC5F,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;QACrD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7F,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACzD,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAGA,QAAY,CAAC,UAAU,EAAE,iBAAiB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC5F,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACxD,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC3C,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACvD;IACD,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC,SAAS,EAAE,SAAS,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,EAAE,CAAC;SAClB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,iBAAiB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAAE;YACzC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YAC3B,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,OAAO;SACV;QACD,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;QAChC,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,KAAK,QAAQ,EAAE;YACnD,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;SACzD;aACI;YACD,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,IAAI,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;YACnF,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;SACnD;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnB;aACI;YACD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnB;QACD,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;QACzG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;YAClC,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;SACvB,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,EAAE;YAC9B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;SAChC,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAGiC,MAAc,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;KACpJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE;QACrD,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE;QAClC,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;KAC/B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;QACnD,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE;QAClC,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;KAC/B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAChD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KAC3B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACnD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;KAChD,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC/C,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;KACvB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC7C,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KACrB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;QAC1D,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;KAC5B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACpD,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACnD,IAAI,UAAU,GAAG,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC;QACnD,IAAI,QAAQ,GAAG,aAAa,CAAC,WAAW,CAAC,eAAe,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC5F,IAAI,UAAU,GAAG,aAAa,CAAC,WAAW,CAAC,iBAAiB,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC;QAClG,IAAI,UAAU,GAAG,QAAQ,GAAG,IAAI,CAAC;QACjC,IAAI,YAAY,GAAG,UAAU,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC;KACzC,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC9C,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;KAC5D,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;AACL,IAAI,aAAa,kBAAkB,YAAY;IAC3C,SAAS,aAAa,CAAC,MAAM,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,YAAY,EAAE,cAAc,EAAE,iBAAiB,EAAE,WAAW,EAAE,aAAa,EAAE;QAC7I,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;;QAEzC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,kBAAkB,GAAG,IAAI,OAAO,EAAE,CAAC;QACxC,IAAI,CAAC,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;QACjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,EAAE,GAAG,iBAAiB,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;QAC5E,IAAI,sBAAsB,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,GAAG,EAAE,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;QACnE,IAAI,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,MAAM,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC;QAChF,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,IAAI,CAAC,4BAA4B,EAAE,KAAK,SAAS,EAAE;YACnD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,sBAAsB,EAAE,6BAA6B,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;YACtG,IAAI,IAAI,CAAC,4BAA4B,EAAE,KAAK,SAAS,EAAE;gBACnD,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;aACxC;SACJ;QACD,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,+BAA+B,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,kBAAkB,EAAE;YAChE,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,gBAAgB,EAAE,sBAAsB,CAAC,CAAC;QAChH,IAAI,QAAQ,GAAG,IAAI6B,UAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QACvE,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,EAAE;YACrD,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,IAAI;YACvB,gBAAgB,EAAE,KAAK;YACvB,cAAc,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,EAAE,EAAE;SAChE,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG;YACb,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,EAAE;gBACtC,2BAA2B,EAAE,qCAAqC;gBAClE,wBAAwB,EAAE,oBAAoB;aACjD,CAAC;YACF,YAAY,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC3E,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC;YACxE,MAAM,CAAC,iBAAiB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,oBAAoB,EAAE,CAAC,EAAE,CAAC;YAC9E,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9E,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACtE,IAAI,CAAC,MAAM,CAAC,0BAA0B,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,wBAAwB,EAAE,CAAC,EAAE,CAAC;SACnG,CAAC;QACF,IAAI,CAAC,oBAAoB,GAAG2B,SAAc,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC7E,IAAI,CAAC,gCAAgC,GAAGA,SAAc,CAAC,mBAAmB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACrG,IAAI,CAAC,4BAA4B,GAAGA,SAAc,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACzF,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;;;;;;;;;;;;;;KAc/C;IACD,aAAa,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe;YAC/B,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KACzC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,AAGA,QAAQ,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY;YAC5D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE;gBAC3B,KAAK,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;aAClC;SACJ,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACvD,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe,IAAI,CAAC,KAAK,KAAK,CAAC,mBAAmB,IAAI,CAAC,4BAA4B,EAAE,EAAE;YACxG,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,CAAC,EAAE;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE;YACpB,OAAO;SACV;QACD,IAAI,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAY;YAC5B,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC;YAC1F,KAAK,CAACzF,QAAY,CAAC,wBAAwB,EAAE,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;YACtF,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACxB,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,4BAA4B,GAAG,UAAU,IAAI,EAAE;QACnE,IAAI,uBAAuB,CAAC,IAAI,CAAC,EAAE;YAC/B,OAAOA,QAAY,CAAC,kCAAkC,EAAE,8BAA8B,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SAClH;aACI;YACD,OAAOA,QAAY,CAAC,uBAAuB,EAAE,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SAC1F;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,iBAAiB,EAAE;QAC9D,IAAI,IAAI,CAAC,mBAAmB,KAAK,iBAAiB,EAAE;YAChD,OAAO;SACV;QACD,IAAI,CAAC,mBAAmB,GAAG,iBAAiB,CAAC;QAC7C,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACnC;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;QACpE,IAAI,eAAe,EAAE;YACjB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;YACxE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;SAC1E;QACD,IAAI,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QAC5D,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC;YAC5D,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC;YAChE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC;YAC/D,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC;SACpD;QACD,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,gBAAgB,EAAE;YAClB,IAAI,CAAC,uBAAuB,GAAG,gBAAgB,CAAC,QAAQ,EAAE,CAAC;SAC9D;QACD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KAC5D,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,OAAO;SACV;QACD,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE;YACpB,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBAC/B,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;gBACvC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;gBACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACtB,OAAO;SACV;QACD,IAAI,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,IAAI,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE;YAC3B,OAAO;SACV;QACD,IAAI,IAAI,CAAC,wBAAwB,EAAE;YAC/B,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;YACvC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;SACxC;QACD,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;QACrE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,OAAO,EAAE;aACzC,IAAI,CAAC,YAAY;;YAElB,KAAK,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC/B,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACpC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7B,KAAK,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAChC,IAAI,KAAK,CAAC,4BAA4B,EAAE,EAAE;gBACtC,KAAK,CAAC,WAAW,EAAE,CAAC;aACvB;iBACI;gBACD,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;aAC3C;SACJ,CAAC;aACG,IAAI,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,CAAC,sBAAsB,CAAC,GAAG,CAAC,IAAI,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;aAC7F,IAAI,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;;QAEzE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;KAC1F,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QAChD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,OAAO;SACV;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,KAAK,CAAC,cAAc,CAAC;QAC9D,QAAQ,KAAK;YACT,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAClE,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,IAAI,YAAY,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACzC;gBACD,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,aAAa,CAAC,eAAe,CAAC;gBAChE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC7C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC1B,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;gBACvC,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,aAAa,CAAC,sBAAsB,CAAC;gBACvE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC7C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC1B,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;gBACvC,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC1B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC7C,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC;gBAC7C,MAAM;SACb;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe;YAC/B,OAAO;SACV;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,YAAY;gBACzC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC;aACnC,EAAE,EAAE,CAAC,CAAC;SACV;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,eAAe,EAAE,cAAc,EAAE,QAAQ,EAAE,MAAM,EAAE;QACnG,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAClC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,QAAQ,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe;YAC3E,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;YAC9B,OAAO;SACV;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC;QACrD,IAAI,OAAO,GAAG,YAAY,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,gCAAgC,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;QAC5D,IAAI,OAAO,EAAE;YACT,IAAI,MAAM,EAAE;gBACR,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;aACjC;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC;aAChC;YACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;aACI;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;YACvC,KAAK,CAAC,2BAA2B,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;;;;;;;;;;YAU9C,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,eAAe,EAAE,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;YACtG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAClE,IAAI,QAAQ,EAAE;gBACV,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;aACjC;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC;aAC/B;YACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;;YAErC,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC;aACpE;SACJ;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBACxB,OAAO,IAAI,CAAC;YAChB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC1B,OAAO,IAAI,CAAC;SACnB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC7B,OAAO,IAAI,CAAC;SACnB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBAC5B,OAAO,IAAI,CAAC;YAChB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACtB,OAAO,IAAI,CAAC;SACnB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACrD,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;gBACtB,OAAO,IAAI,CAAC;YAChB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC9B,OAAO,IAAI,CAAC;SACnB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACjC,OAAO,KAAK,CAAC;SACpB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC9C,QAAQ,IAAI,CAAC,KAAK;YACd,KAAK,CAAC;gBACF,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;gBACzB,OAAO,IAAI,CAAC;YAChB,KAAK,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB;gBACI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACvB,OAAO,IAAI,CAAC;SACnB;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC;eACb,IAAI,CAAC,KAAK,KAAK,CAAC;eAChB,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB;YACnC,OAAO;gBACH,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;gBACvC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBAC9B,KAAK,EAAE,IAAI,CAAC,eAAe;aAC9B,CAAC;SACL;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACrD,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB;YAChC,IAAI,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC;YAC5B,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC;aACpE;SACJ;aACI,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe,IAAI,CAAC,4BAA4B,EAAE,EAAE;YACzE,IAAI,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC;YAC/B,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC;aACzE;SACJ;;;;;;;;QAQD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,kCAAkC,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAChD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;YAC7D,OAAO;SACV;QACD,IAAI,IAAI,CAAC,4BAA4B,EAAE,EAAE;YACrC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC3B,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;YACvC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;;;;;;;;YAQtC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,+BAA+B,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;SACpG;aACI;YACD,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB;gBAC/D,OAAO;aACV;YACD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,WAAW,EAAE,CAAC;;;;;;;;YAQnB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,6BAA6B,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;SAClG;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC9C,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;;QAEnE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;;QAEzC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC;KAChD,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACvC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxC,IAAI,SAAS,KAAK,IAAI,CAAC,UAAU,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;SAC/B;QACD,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY;YACtD,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACnC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtC,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACvC,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;QAClC,IAAI,CAAC,gCAAgC,CAAC,KAAK,EAAE,CAAC;QAC9C,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;KACxC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;QAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC9C,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,eAAe;YAC/B,OAAO,IAAI,CAAC;SACf;QACD,OAAO;YACH,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACnC,UAAU,EAAE,CAAC,+BAA+B,CAAC,KAAK,EAAE,+BAA+B,CAAC,KAAK,CAAC;SAC7F,CAAC;KACL,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACxC,OAAO,aAAa,CAAC,EAAE,CAAC;KAC3B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACnD,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB,IAAI,CAAC,KAAK,KAAK,CAAC,gBAAgB;YAChE,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC;SACjC;aACI;YACD,IAAI,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC;YACrE,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,oBAAoB,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC;SACnF;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACrD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC;QACpE,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;QACrF,IAAI,YAAY,GAAG,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC;QACpE,IAAI,OAAO,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;QACpD,IAAI,OAAO,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC;QACxE,IAAI,YAAY,GAAG,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC;QAChC,IAAI,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC;QAC/B,IAAI,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,SAAS,EAAE;;YAEpC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;SACxC;aACI;YACD,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;SAC3C;;;;QAID,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;eAChC,OAAO,GAAG,UAAU,GAAG,OAAO;eAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE;;;YAGtE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC;SAC/G;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACpD,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC3D,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE;YACtD,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YACrC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;SAC1C;aACI;YACD,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;YACpC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;SAC3C;KACJ,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,iBAAiB,EAAE;;QAE9D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,eAAe,GAAG,oBAAoB,CAAC;SACtD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,iBAAiB,EAAE;QAC9D,GAAG,EAAE,YAAY;YACb,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YACnD,OAAO,aAAa,CAAC,WAAW,CAAC,iBAAiB,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC;SAC3F;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;;IAEH,aAAa,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,OAAO,EAAE;QACnD,OAAO,IAAI,CAAC,eAAe,CAAC;KAC/B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;QACvD,OAAO,YAAY,CAAC;KACvB,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,4BAA4B,GAAG,YAAY;QAC/D,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9B,OAAO,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,sBAAsB,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;SACtF;aACI;YACD,OAAO,IAAI,CAAC,oBAAoB,CAAC;SACpC;KACJ,CAAC;;IAEF,aAAa,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,KAAK,EAAE;QAC/D,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9B,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;SACjF;aACI;YACD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;SACrC;KACJ,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAClC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;YAChC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;KACJ,CAAC;IACF,aAAa,CAAC,EAAE,GAAG,6BAA6B,CAAC;IACjD,aAAa,CAAC,eAAe,GAAGA,QAAY,CAAC,uBAAuB,EAAE,YAAY,CAAC,CAAC;IACpF,aAAa,CAAC,sBAAsB,GAAGA,QAAY,CAAC,6BAA6B,EAAE,iBAAiB,CAAC,CAAC;IACtG,aAAa,GAAGU,YAAU,CAAC;QACvBC,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;QACzBA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;QACxBA,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;KAC7B,EAAE,aAAa,CAAC,CAAC;IAClB,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,sCAAsC,CAAC,CAAC;IAC5E,IAAI,cAAc,EAAE;QAChB,SAAS,CAAC,OAAO,CAAC,6GAA6G,GAAG,cAAc,GAAG,KAAK,CAAC,CAAC;KAC7J;IACD,IAAIe,aAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;IAC/D,IAAIA,aAAU,EAAE;QACZ,SAAS,CAAC,OAAO,CAAC,0CAA0C,GAAGA,aAAU,GAAG,KAAK,CAAC,CAAC;KACtF;IACD,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAC9C,IAAI,IAAI,EAAE;QACN,SAAS,CAAC,OAAO,CAAC,4CAA4C,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;KAClF;IACD,IAAI,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;IAC7D,IAAI,cAAc,EAAE;QAChB,SAAS,CAAC,OAAO,CAAC,0DAA0D,GAAG,cAAc,GAAG,KAAK,CAAC,CAAC;KAC1G;CACJ,CAAC,CAAC;;AC/6BH;;;;AAIA,AACA,IAAIzB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAGA,IAAI,MAAM,kBAAkB,YAAY;IACpC,SAAS,MAAM,GAAG;KACjB;IACD,OAAO,MAAM,CAAC;CACjB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;IAC5CE,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC5B,SAAS,QAAQ,GAAG;QAChB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE;;KAEzD,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE;QACrD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACpC,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;;KAEzC,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,SAAS,kBAAkB,UAAU,MAAM,EAAE;IAC7CA,WAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7B,SAAS,SAAS,GAAG;QACjB,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;QACrE,KAAK,CAAC,MAAM,GAAG,IAAI,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACtC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;QACf,OAAO,KAAK,CAAC;KAChB;IACD,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QAClC,IAAI,GAAG,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAK,CAAC;QAC/D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;YACjB,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE;YAClB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;YAC1B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;SACzC,CAAC,CAAC;KACN,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE;;;QAGtD,IAAI,IAAI,GAAG,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QAChD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACnB,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,UAAU,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC9F,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACxB,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;QACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnC,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;YACrC,IAAI,GAAG,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC,QAAQ,GAAG,GAAG,GAAG,UAAU,CAAC,KAAK,CAAC;YAC1E,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAChC,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,KAAK,UAAU,CAAC,UAAU,EAAE;gBACxG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjB,GAAG,GAAG,CAAC,CAAC;aACX;SACJ;QACD,OAAO,GAAG,CAAC;KACd,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACrC,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;YACtC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;SAC3B,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf,CAAC;IACF,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;QAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,MAAM,GAAG,IAAI,EAAE,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACtD,IAAI,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAChD,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;KAChC,CAAC;IACF,OAAO,SAAS,CAAC;CACpB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDA,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,GAAG;QACpB,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;QACrE,KAAK,CAAC,KAAK,GAAG,iBAAiB,CAAC,UAAU,EAAE,CAAC;QAC7C,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;QACf,OAAO,KAAK,CAAC;KAChB;IACD,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE;QAC1D,IAAI,IAAI,GAAG,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QAChD,IAAI,GAAG,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC;QAC9D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE;YAChB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;YAC1B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;YACtC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE;SACrB,CAAC,CAAC;KACN,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE;QACzD,IAAI,IAAI,GAAG,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,GAAG,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC;QAC9D,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;SACrC;QACD,IAAI,IAAI,EAAE;YACN,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;gBACzE,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,UAAU,KAAK,IAAI,CAAC,UAAU,EAAE;oBACtD,OAAO,CAAC,CAAC;iBACZ;aACJ;SACJ;QACD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACxC,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;;;QAIjF,OAAO;aACF,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;aAC5D,OAAO,CAAC,UAAU,KAAK,EAAE,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACjE,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;KAChC,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;QAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;YACjC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,MAAM,GAAG,IAAI,EAAE,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACtD,IAAI,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;aAC9B;SACJ;KACJ,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,AACA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,IAAI,EAAE,eAAe,EAAE;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC;QACzC,IAAI,CAAC,YAAY,GAAG,IAAI,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACvF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KACtB;IACD,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;QAChD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;YACrB,OAAO;SACV;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,sBAAsB,GAAG,IAAI,YAAY,EAAE,GAAG,IAAI,KAAK,cAAc,GAAG,IAAI,SAAS,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACnI,IAAI;YACA,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;YACnG,IAAI,GAAG,EAAE;gBACL,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aAC5C;SACJ;QACD,OAAO,CAAC,EAAE;;SAET;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE;QAC7D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;KAChC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE;QAC5D,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;KACnD,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3C,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;KACnG,CAAC;IACF,eAAe,GAAGS,YAAU,CAAC;QACzBC,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;KAC9B,EAAE,eAAe,CAAC,CAAC;IACpB,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;ACtNL;;;;AAIA,AACA,IAAIV,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAmBA,IAAI,uBAAuB,kBAAkB,YAAY;IACrD,SAAS,uBAAuB,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,GAAG,IAAI,GAAG,EAAE,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACzG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,IAAI,EAAE;YACrD,IAAI,KAAK,CAAC,WAAW,EAAE;gBACnB,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC/B,IAAI,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,iCAAiC,EAAE;oBAClH,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;iBAC7B;aACJ;SACJ,CAAC,CAAC,CAAC;KACP;IACD,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;QAC5D,IAAI,CAAC,QAAQ,IAAI,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;YACxE,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,OAAO;SACV;QACD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,CAAC;QACrC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACnF,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAChB,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;gBACf,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3C;SACJ;KACJ,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAClD,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;KAChC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACpD,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9B,CAAC;IACF,OAAO,uBAAuB,CAAC;CAClC,EAAE,CAAC,CAAC;AACL,IAAI,iBAAiB,kBAAkB,YAAY;IAC/C,SAAS,iBAAiB,CAAC,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,qBAAqB,EAAE;QAC5F,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,cAAc,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;QACnI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YACvD,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;gBAChB,KAAK,CAAC,oBAAoB,EAAE,CAAC;aAChC;YACD,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACvC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YACvD,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YACjH,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,eAAe,EAAE,KAAK,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;SAC/E,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;YACtD,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE;gBAC/B,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;aAC9B;SACJ,CAAC,CAAC,CAAC;;QAEJ,IAAI,wBAAwB,GAAG0F,SAAc,CAAC,wBAAwB,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAClG,IAAI,gBAAgB,GAAG,YAAY;YAC/B,IAAI,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,EAAE,uBAAuB,GAAG,EAAE,CAAC,uBAAuB,EAAE,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,CAAC;YACpJ,wBAAwB,CAAC,GAAG,CAAC,uBAAuB,KAAK,IAAI,IAAI,uBAAuB,KAAK,OAAO,CAAC,CAAC;YACtG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;SAC3C,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzG,gBAAgB,EAAE,CAAC;KACtB;IACD,iBAAiB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACtC,OAAO,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;KACvD,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACtF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;;QAE5E,IAAI,gBAAgB,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;QACzI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YACzE,IAAI,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtC,gBAAgB,CAAC,KAAK,EAAE,CAAC;aAC5B;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,aAAa,GAAGA,SAAc,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACjF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,EAAE,EAAE;YACvD,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACnB,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;YAC3C,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;YACzE,IAAI,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC;YAChC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,uBAAuB,KAAK,OAAO;mBAC7E,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,CAAC;mBACxB,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO;mBACxB,CAAC,IAAI,CAAC,UAAU,CAAC,mBAAmB;mBACpC,IAAI,CAAC,UAAU,CAAC,WAAW,KAAK,UAAU;mBAC1C,SAAS,GAAG,WAAW,KAAK,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE;gBAClE,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC;oBACnD,eAAe,EAAE,QAAQ,CAAC,UAAU;oBACpC,WAAW,EAAE,WAAW;oBACxB,aAAa,EAAE,QAAQ,CAAC,UAAU;oBAClC,SAAS,EAAE,SAAS;iBACvB,CAAC,CAAC;gBACH,KAAK,GAAG,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;aAClD;YACD,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAC5B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACjB,OAAO,EAAE,YAAY,EAAE,aAAa,CAAC,KAAK,EAAE,CAAC,EAAE;SAClD,CAAC,CAAC;KACN,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC5C,OAAO,iBAAiB,CAAC,EAAE,CAAC;KAC/B,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC9C,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QAC5D,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACrB,OAAO;SACV;QACD,IAAI,EAAE,GAAG,KAAK,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;QACxE,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC;QACrD,IAAI,WAAW,GAAG,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC;QACjD,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,EAAE;YAC/C,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,uCAAuC,EAAE,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7L,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SAC/B;;QAED,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QACvF,IAAI,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;QACvC,IAAI,UAAU,CAAC,WAAW,KAAK,UAAU,EAAE;YACvC,UAAU,GAAG,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SACjD;QACD,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,eAAe,GAAG,WAAW,EAAE,UAAU,CAAC,cAAc,CAAC,CAAC;QAC7H,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;;YAErB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACxB;aACI,IAAI,UAAU,CAAC,OAAO,CAAC,EAAE,KAAK,oBAAoB,CAAC,EAAE,EAAE;;YAExD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;SAC7C;aACI;;YAED,CAAC,EAAE,GAAG,IAAI,CAAC,eAAe,EAAE,cAAc,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;YACtJ,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,EAAE,CAAC;KACV,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,EAAE,EAAE;QAC7D,IAAI,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QAC/B,IAAI,GAAG,GAAGzF,QAAY,CAAC,oBAAoB,EAAE,oDAAoD,EAAE,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC;QAC5I,KAAK,CAAC,GAAG,CAAC,CAAC;KACd,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,QAAQ,EAAE;QAC7D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC;QAC/E,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC/D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;YACzC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;SAC/B;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;QAC1D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;SAC7B;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;SAC7B;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC/D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;SACjC;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;SAC7B;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QAC3D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;SACjC;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,wBAAwB,GAAG,YAAY;QAC/D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;SACrC;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC5D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;SAC9B;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;QAC9D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;SAChC;KACJ,CAAC;IACF,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC5D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;SACrC;KACJ,CAAC;IACF,iBAAiB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IAC1D,iBAAiB,GAAGU,YAAU,CAAC;QAC3BC,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;KACpC,EAAE,iBAAiB,CAAC,CAAC;IACtB,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDV,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,oBAAoB,CAAC,EAAE;YAC3B,KAAK,EAAED,QAAY,CAAC,uBAAuB,EAAE,iBAAiB,CAAC;YAC/D,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,yBAAyB,CAAC;YACzG,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,cAAc;aACvD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,oBAAoB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC7D,IAAI,UAAU,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,UAAU,CAAC,cAAc,EAAE,CAAC;KAC/B,CAAC;IACF,oBAAoB,CAAC,EAAE,GAAG,8BAA8B,CAAC;IACzD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,0BAA0B,CAAC,iBAAiB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;AAC3C,IAAI0F,QAAM,GAAG,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AAC1D,IAAI,cAAc,GAAG,aAAa,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;AAC7E,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,0BAA0B;IAC9B,YAAY,EAAED,SAAc,CAAC,OAAO;IACpC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,wBAAwB,EAAE,CAAC,EAAE;IAC9D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,CAAC;KACb;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,iCAAiC;IACrC,YAAY,EAAED,SAAc,CAAC,OAAO;IACpC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,wBAAwB,EAAE,CAAC,EAAE;IAC9D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,cAAc,EAAED,SAAc,CAAC,wBAAwB,EAAEA,SAAc,CAAC,aAAa,CAAC;QACnI,OAAO,EAAE,CAAC;KACb;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,mBAAmB;IACvB,YAAY,EAAEA,SAAc,CAAC,OAAO;IACpC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,mBAAmB,EAAE,CAAC,EAAE;IACzD,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,sBAAsB;IAC1B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACD,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,oBAAoB,EAAE,CAAC,EAAE;IAC1D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,iBAAiB;QACpD,GAAG,EAAE,EAAE,OAAO,EAAE,EAAE,kBAAkB,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,kBAAkB,GAAG,iBAAiB,EAAE,aAAa,EAAE;KACjI;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,0BAA0B;IAC9B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACD,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,wBAAwB,EAAE,CAAC,EAAE;IAC9D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,gBAAgB;KACtD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,sBAAsB;IAC1B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACD,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,oBAAoB,EAAE,CAAC,EAAE;CAC7D,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,sBAAsB;IAC1B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACA,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,oBAAoB,EAAE,CAAC,EAAE;IAC1D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,eAAe;QAClD,GAAG,EAAE,EAAE,OAAO,EAAE,EAAE,gBAAgB,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,gBAAgB,GAAG,iBAAiB,EAAE,aAAa,EAAE;KAC7H;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,0BAA0B;IAC9B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACD,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,wBAAwB,EAAE,CAAC,EAAE;IAC9D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,CAAC,IAAI,iBAAiB,EAAE,cAAc;KACpD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,uBAAuB;IAC3B,YAAY,EAAE,cAAc,CAAC,GAAG,CAACD,SAAc,CAAC,OAAO,EAAEA,SAAc,CAAC,mBAAmB,CAAC;IAC5F,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,qBAAqB,EAAE,CAAC,EAAE;CAC9D,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,yBAAyB;IAC7B,YAAY,EAAEA,SAAc,CAAC,OAAO;IACpC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,uBAAuB,EAAE,CAAC,EAAE;IAC7D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;QAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,cAAc;KACvD;CACJ,CAAC,CAAC,CAAC;AACJ,qBAAqB,CAAC,IAAI,cAAc,CAAC;IACrC,EAAE,EAAE,uBAAuB;IAC3B,YAAY,EAAED,SAAc,CAAC,OAAO;IACpC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,qBAAqB,EAAE,CAAC,EAAE;IAC3D,MAAM,EAAE;QACJ,MAAM,EAAEC,QAAM;QACd,MAAM,EAAE,iBAAiB,CAAC,cAAc;QACxC,OAAO,EAAE,IAAI,iBAAiB,GAAG,aAAa,EAAE;QAChD,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,GAAG,aAAa,EAAE,cAAc;KACvE;CACJ,CAAC,CAAC,CAAC;;ACjaJ;;;;AAIA,AACA,IAAIzF,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAGA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DE,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,wBAAwB,CAAC,EAAE;YAC/B,KAAK,EAAED,QAAY,CAAC,EAAE,GAAG,EAAE,sBAAsB,EAAE,OAAO,EAAE,CAAC,4DAA4D,CAAC,EAAE,EAAE,4BAA4B,CAAC;YAC3J,KAAK,EAAE,4BAA4B;YACnC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,IAAI,eAAe,EAAE,cAAc;aAC1E;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACjE,IAAI,QAAQ,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;QAC1C,QAAQ,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,CAAC;KACvC,CAAC;IACF,wBAAwB,CAAC,EAAE,GAAG,kCAAkC,CAAC;IACjE,OAAO,wBAAwB,CAAC;CACnC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;;ACzC/C;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAeO,IAAI,mBAAmB,GAAG,aAAa,CAAC,gCAAgC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,EAAE,EAAEC,QAAY,CAAC,eAAe,EAAE,4IAA4I,CAAC,EAAE,IAAI,CAAC,CAAC;AACzT,AAAO,IAAI,yBAAyB,GAAG,aAAa,CAAC,sCAAsC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,EAAE,EAAEA,QAAY,CAAC,qBAAqB,EAAE,gJAAgJ,CAAC,EAAE,IAAI,CAAC,CAAC;AAC/U,AAAO,IAAI,yBAAyB,GAAG,aAAa,CAAC,4BAA4B,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,oBAAoB,EAAE,EAAEA,QAAY,CAAC,qBAAqB,EAAE,uEAAuE,CAAC,CAAC,CAAC;AACxP,AAAO,IAAI,+BAA+B,GAAG,aAAa,CAAC,kCAAkC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,oBAAoB,EAAE,EAAEA,QAAY,CAAC,2BAA2B,EAAE,2EAA2E,CAAC,CAAC,CAAC;AAC9Q,AAAO,IAAI,oCAAoC,GAAG,aAAa,CAAC,6CAA6C,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,EAAEA,QAAY,CAAC,sCAAsC,EAAE,qHAAqH,CAAC,EAAE,IAAI,CAAC,CAAC;AAC9V,AAAO,IAAI,0CAA0C,GAAG,aAAa,CAAC,mDAAmD,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,EAAEA,QAAY,CAAC,4CAA4C,EAAE,kIAAkI,CAAC,EAAE,IAAI,CAAC,CAAC;AAC7X,AAAO,IAAI,oBAAoB,GAAG,IAAI,aAAa,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;AAChF,AAAO,SAAS,wBAAwB,CAAC,KAAK,EAAE,QAAQ,EAAE;IACtD,IAAI,cAAc,GAAG,iCAAiC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACtE,IAAI,WAAW,GAAG,KAAK,CAAC;;;;IAIxB,OAAO,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE;QACnD,OAAO,YAAY;YACf,IAAI,CAAC,WAAW,EAAE;gBACd,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;oBACnC,OAAO,QAAQ,CAAC,yBAAyB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;iBACrE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;oBACpB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACxC,WAAW,GAAG,IAAI,CAAC;wBACnB,OAAO,IAAI,CAAC;qBACf;oBACD,OAAO,SAAS,CAAC;iBACpB,EAAE,UAAU,GAAG,EAAE;oBACd,yBAAyB,CAAC,GAAG,CAAC,CAAC;oBAC/B,OAAO,SAAS,CAAC;iBACpB,CAAC,CAAC;aACN;YACD,OAAO,SAAS,CAAC;SACpB,CAAC;KACL,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;QACvB,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC;KACpB,CAAC,CAAC;CACN;AACD,8BAA8B,CAAC,4BAA4B,EAAE,wBAAwB,CAAC,CAAC;AACvF,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,MAAM,EAAE,iBAAiB,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,4BAA4B,GAAG,CAAC,CAAC;QACtC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,kBAAkB,GAAG,oBAAoB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACzE,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,oBAAoB,CAAC;QAC5F,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE;YAC7D,IAAI,KAAK,CAAC,0BAA0B,EAAE;;gBAElC,OAAO;aACV;YACD,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE;;;gBAG7B,OAAO;aACV;YACD,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;SAC/B,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;YACpD,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;SACzC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YAC3D,KAAK,CAAC,QAAQ,EAAE,CAAC;SACpB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;YAC5D,IAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,oBAAoB,CAAC;YAChF,IAAI,KAAK,CAAC,oBAAoB,KAAK,QAAQ,EAAE;gBACzC,KAAK,CAAC,oBAAoB,GAAG,QAAQ,CAAC;gBACtC,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,4BAA4B,GAAG,CAAC,CAAC;QACtC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;KACpC;IACD,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACnD,QAAQ,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;KAC3C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5B,OAAO;SACV;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;KACf,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,cAAc;aACrB,GAAG,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;aACjE,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;KAC7C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC7C,IAAI,KAAK,GAAG,UAAU,CAAC,UAAU,EAAE,UAAUQ,QAAK,EAAE,EAAE,OAAOA,QAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpH,IAAI,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;QACjD,IAAI,IAAI,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI;YACA,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,oCAAoC,CAAC,IAAI,CAAC,CAAC;SAC1D;gBACO;YACJ,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;SAC3C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC7C,IAAI,KAAK,GAAG,UAAU,CAAC,UAAU,EAAE,UAAUA,QAAK,EAAE,EAAE,OAAOA,QAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACpH,IAAI,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;QACrE,IAAI,IAAI,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI;YACA,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,oCAAoC,CAAC,IAAI,CAAC,CAAC;SAC1D;gBACO;YACJ,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC;SAC3C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;QACvD,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEhC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;YAC5E,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SACtC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;;QAE3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;;QAE1B,IAAI,IAAI,CAAC,sBAAsB,KAAK,CAAC,CAAC,EAAE;YACpC,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAC1C,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;SACpC;;QAED,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC7B;;QAED,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;YAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACtC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,CAAC,EAAE;;QAExD,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;;QAED,IAAI,CAAC,CAAC,MAAM,KAAK,kBAAkB,CAAC,QAAQ,EAAE;YAC1C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;KACf,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;;QAEjB,IAAI,CAAC,iCAAiC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACpD,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;QACD,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;;QAEjD,IAAI,eAAe,CAAC,eAAe,KAAK,eAAe,CAAC,aAAa,EAAE;YACnE,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;QACD,IAAI,UAAU,GAAG,eAAe,CAAC,eAAe,CAAC;QACjD,IAAI,WAAW,GAAG,eAAe,CAAC,WAAW,CAAC;QAC9C,IAAI,SAAS,GAAG,eAAe,CAAC,SAAS,CAAC;QAC1C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACpC,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,WAAW;SACtB,CAAC,CAAC;;QAEH,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,GAAG,WAAW,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,EAAE;YACvE,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACV;;;;;QAKD,IAAI,gBAAgB,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3F,IAAI,oBAAoB,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;;;QAGpG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,oBAAoB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACrF,IAAIA,QAAK,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YAClE,IAAIA,QAAK,IAAIA,QAAK,CAAC,eAAe,KAAK,UAAU,EAAE;gBAC/C,IAAIA,QAAK,CAAC,WAAW,IAAI,WAAW,IAAIA,QAAK,CAAC,SAAS,IAAI,SAAS,EAAE;oBAClE,oBAAoB,GAAG,IAAI,CAAC;iBAC/B;aACJ;SACJ;;;;;;;;QAQD,IAAI,CAAC,4BAA4B,GAAG,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC;QAC3D,IAAI,oBAAoB,EAAE;YACtB,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,sBAAsB,KAAK,CAAC,CAAC,EAAE;;;gBAGnE,YAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;gBAC1C,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,uBAAuB,EAAE,CAAC;aAClC;SACJ;aACI;;;YAGD,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,WAAW,GAAG,EAAE,IAAI,CAAC,oBAAoB,CAAC;YAC9C,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;YACpC,IAAI,CAAC,aAAa,GAAG,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;YACrF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;gBACpC,IAAI,WAAW,KAAK,KAAK,CAAC,oBAAoB,EAAE;oBAC5C,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;oBACpC,KAAK,CAAC,kBAAkB,GAAG,IAAI,IAAI,EAAE,CAAC;oBACtC,KAAK,CAAC,uBAAuB,EAAE,CAAC;iBACnC;aACJ,CAAC,CAAC,IAAI,EAAE,CAAC;SACb;QACD,IAAI,CAAC,cAAc,GAAG,gBAAgB,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,WAAW,GAAG,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC;QACzC,IAAI,iBAAiB,GAAG,IAAI,CAAC,4BAA4B,GAAG,GAAG,CAAC;QAChE,IAAI,WAAW,IAAI,iBAAiB,EAAE;;YAElC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;aACI;;YAED,IAAI,CAAC,sBAAsB,GAAG,UAAU,CAAC,YAAY;gBACjD,KAAK,CAAC,iBAAiB,EAAE,CAAC;aAC7B,GAAG,iBAAiB,GAAG,WAAW,EAAE,CAAC;SACzC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACtD,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC;QACjC,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAChE,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YACtC,WAAW,CAAC,IAAI,CAAC;gBACb,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;aAC5D,CAAC,CAAC;SACN;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;QACrF,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;KACtD,CAAC;IACF,eAAe,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE;QACpD,IAAI,IAAI,KAAK,qBAAqB,CAAC,KAAK,EAAE;YACtC,OAAO,IAAI,CAAC,cAAc,CAAC;SAC9B;aACI,IAAI,IAAI,KAAK,qBAAqB,CAAC,IAAI,EAAE;YAC1C,OAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;aACI;YACD,OAAO,IAAI,CAAC,gBAAgB,CAAC;SAChC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,cAAc,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC7D,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,qBAAqB;QAChC,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,0CAA0C,CAAC;YACnE,SAAS,EAAE,gBAAgB,CAAC,0CAA0C,CAAC;YACvE,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,eAAe,CAAC,aAAa,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC5D,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,oBAAoB;QAC/B,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,yCAAyC,CAAC;YAClE,SAAS,EAAE,gBAAgB,CAAC,yCAAyC,CAAC;YACtE,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,eAAe,CAAC,gBAAgB,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC/D,UAAU,EAAE,sBAAsB,CAAC,2BAA2B;QAC9D,SAAS,EAAE,eAAe;QAC1B,aAAa,EAAE;YACX,KAAK,EAAE,gBAAgB,CAAC,oCAAoC,CAAC;YAC7D,SAAS,EAAE,gBAAgB,CAAC,oCAAoC,CAAC;YACjE,QAAQ,EAAE,iBAAiB,CAAC,MAAM;SACrC;KACJ,CAAC,CAAC;IACH,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;AACL,IAAI,2BAA2B,kBAAkB,YAAY;IACzD,SAAS,2BAA2B,CAAC,MAAM,EAAE,iBAAiB,EAAE;QAC5D,IAAI,CAAC,cAAc,GAAG,IAAI,eAAe,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;KACxE;IACD,2BAA2B,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAChD,OAAO,MAAM,CAAC,eAAe,CAAC,2BAA2B,CAAC,EAAE,CAAC,CAAC;KACjE,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACtD,OAAO,2BAA2B,CAAC,EAAE,CAAC;KACzC,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC9D,IAAI,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,EAAE;YACtC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzD,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;KAClC,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzD,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;KAClC,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;QACtE,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;SACjC;KACJ,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;KACjC,CAAC;IACF,2BAA2B,CAAC,EAAE,GAAG,gCAAgC,CAAC;IAClE,2BAA2B,GAAGE,YAAU,CAAC;QACrCC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;KACjC,EAAE,2BAA2B,CAAC,CAAC;IAChC,OAAO,2BAA2B,CAAC;CACtC,EAAE,CAAC,CAAC;AACL,IAAI,6BAA6B,kBAAkB,UAAU,MAAM,EAAE;IACjEV,WAAS,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;IACjD,SAAS,6BAA6B,CAAC,IAAI,EAAE,IAAI,EAAE;QAC/C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,OAAO,KAAK,CAAC;KAChB;IACD,6BAA6B,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACtE,IAAI,UAAU,GAAG,2BAA2B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,UAAU,CAAC,QAAQ,EAAE,CAAC;SACzB;aACI;YACD,UAAU,CAAC,QAAQ,EAAE,CAAC;SACzB;KACJ,CAAC;IACF,OAAO,6BAA6B,CAAC;CACxC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DA,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAC3B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,0BAA0B,EAAE,6BAA6B,CAAC;YAC9E,KAAK,EAAE,6BAA6B;YACpC,YAAY,EAAE,oBAAoB;YAClC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,EAAE;aACd;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,uBAAuB,CAAC;CAClC,CAAC,6BAA6B,CAAC,CAAC,CAAC;AAClC,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;YAC5B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,8BAA8B,EAAE,iCAAiC,CAAC;YACtF,KAAK,EAAE,iCAAiC;YACxC,YAAY,EAAE,oBAAoB;YAClC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,EAAE;aACjC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,uBAAuB,CAAC;CAClC,CAAC,6BAA6B,CAAC,CAAC,CAAC;AAClC,0BAA0B,CAAC,2BAA2B,CAAC,CAAC;AACxD,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;AAC9C,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,kBAAkB,GAAG,KAAK,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;IAClE,IAAI,kBAAkB,EAAE;QACpB,SAAS,CAAC,OAAO,CAAC,kEAAkE,GAAG,kBAAkB,GAAG,KAAK,CAAC,CAAC;QACnH,SAAS,CAAC,OAAO,CAAC,yDAAyD,GAAG,kBAAkB,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC;KAC9H;IACD,IAAI,aAAa,GAAG,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;IACxD,IAAI,aAAa,EAAE;QACf,SAAS,CAAC,OAAO,CAAC,oDAAoD,GAAG,aAAa,GAAG,KAAK,CAAC,CAAC;KACnG;IACD,IAAI,mBAAmB,GAAG,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;IACpE,IAAI,mBAAmB,EAAE;QACrB,SAAS,CAAC,OAAO,CAAC,0DAA0D,GAAG,mBAAmB,GAAG,KAAK,CAAC,CAAC;KAC/G;IACD,IAAI,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;IAC9E,IAAI,wBAAwB,EAAE;QAC1B,SAAS,CAAC,OAAO,CAAC,mDAAmD,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC,GAAG,GAAG,GAAG,wBAAwB,GAAG,6BAA6B,CAAC,CAAC;KACxL;IACD,IAAI,mBAAmB,GAAG,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;IACpE,IAAI,mBAAmB,EAAE;QACrB,SAAS,CAAC,OAAO,CAAC,8CAA8C,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC,GAAG,GAAG,GAAG,mBAAmB,GAAG,6BAA6B,CAAC,CAAC;KAC9K;IACD,IAAI,yBAAyB,GAAG,KAAK,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC;IAChF,IAAI,yBAAyB,EAAE;QAC3B,SAAS,CAAC,OAAO,CAAC,oDAAoD,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,QAAQ,GAAG,OAAO,CAAC,GAAG,GAAG,GAAG,yBAAyB,GAAG,6BAA6B,CAAC,CAAC;KAC1L;CACJ,CAAC,CAAC;;AC3dH;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAUA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDE,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,CAAC,IAAI,EAAE;QAC3B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC;QAC9C,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QACpD,OAAO,KAAK,CAAC;KAChB;IACD,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QAC3E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACvC,IAAI,cAAc,GAAG,uBAAuB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACpE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE;YACvC,IAAI,UAAU,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,cAAc,CAAC,CAAC;YAC1E,IAAI,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,CAAC,mBAAmB,CAAC,CAAC;YAC5F,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,WAAW,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;SAClE,CAAC,CAAC;QACH,MAAM,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACrJ,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,IAAI,GAAG,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;YAC/E,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,cAAc,CAAC;SAC9C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,EAAE,EAAE,eAAe,EAAE;QACrE,IAAI,eAAe,EAAE;;YAEjB,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,oBAAoB,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;SAC5G;aACI;;YAED,OAAO,IAAI,SAAS,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;SAC5E;KACJ,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDA,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,kBAAkB,EAAE;QAC7F,OAAO,cAAc,CAAC,YAAY,CAAC,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,kBAAkB,CAAC,CAAC;KAC3F,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,gBAAgB,kBAAkB,UAAU,MAAM,EAAE;IACpDA,WAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACpC,SAAS,gBAAgB,GAAG;QACxB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,kBAAkB,EAAE;QAC9F,OAAO,cAAc,CAAC,aAAa,CAAC,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,kBAAkB,CAAC,CAAC;KAC5F,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDA,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,qBAAqB;YACzB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,EAAE,kBAAkB;aACvD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,mBAAmB;YACvB,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,iBAAiB,CAAC;CAC5B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDA,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,gBAAgB;YACpB,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,cAAc,CAAC;CACzB,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,yBAAyB,kBAAkB,UAAU,MAAM,EAAE;IAC7DA,WAAS,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC7C,SAAS,yBAAyB,GAAG;QACjC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,2BAA2B;YAC/B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;gBACnD,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,IAAI,eAAe,EAAE,kBAAkB;aAC1E;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,yBAAyB,CAAC;CACpC,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DA,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,GAAG;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,yBAAyB;YAC7B,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,uBAAuB,CAAC;CAClC,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDA,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,sBAAsB;YAC1B,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,eAAe,CAAC,CAAC,CAAC;AACpB,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDA,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,sBAAsB;YAC1B,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDA,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,oBAAoB;YACxB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,EAAE,mBAAmB;aACxD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,kBAAkB,CAAC;CAC7B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDA,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,iBAAiB;YACrB,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,eAAe,CAAC;CAC1B,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,0BAA0B,kBAAkB,UAAU,MAAM,EAAE;IAC9DA,WAAS,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;IAC9C,SAAS,0BAA0B,GAAG;QAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,4BAA4B;YAChC,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,0BAA0B,CAAC;CACrC,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DA,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,GAAG;QAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,0BAA0B;YAC9B,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;gBACnD,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,IAAI,eAAe,EAAE,mBAAmB;aAC3E;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,wBAAwB,CAAC;CACnC,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDA,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,uBAAuB;YAC3B,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,qBAAqB,CAAC;CAChC,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACrB,AACA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,CAAC,IAAI,EAAE;QAC7B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC;QACxD,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QACpD,OAAO,KAAK,CAAC;KAChB;IACD,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;QAC7E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACvC,IAAI,cAAc,GAAG,uBAAuB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACpE,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE;YACzC,IAAI,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,qBAAqB,EAAE,KAAK,CAAC,mBAAmB,CAAC,CAAC;YACpH,OAAO,IAAI,cAAc,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;SAC9C,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,CAAC,YAAY,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,AACA,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDA,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE,oBAAoB,EAAE,kBAAkB,EAAE;QAC5H,IAAI,CAAC,GAAG,cAAc,CAAC,cAAc,CAAC,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;QAClH,IAAI,CAAC,EAAE;YACH,OAAO,CAAC,CAAC;SACZ;QACD,OAAO,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KAChC,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,IAAI,sBAAsB,kBAAkB,UAAU,MAAM,EAAE;IAC1DA,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,sBAAsB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE,oBAAoB,EAAE,kBAAkB,EAAE;QAC7H,IAAI,CAAC,GAAG,cAAc,CAAC,eAAe,CAAC,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;QACnH,IAAI,CAAC,EAAE;YACH,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,IAAI,KAAK,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KAChE,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDA,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,KAAK;YAC3B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,qBAAqB;YACzB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAAC,qBAAqB,CAAC,CAAC,CAAC;AAC1B,AACA,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDA,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,KAAK;YAC3B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,mBAAmB;YACvB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,iBAAiB,CAAC;CAC5B,CAAC,qBAAqB,CAAC,CAAC,CAAC;AAC1B,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDA,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,IAAI;YAC1B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,gBAAgB;YACpB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,CAAC;gBAC/B,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,CAAC,kBAAkB;aACtD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,cAAc,CAAC;CACzB,CAAC,qBAAqB,CAAC,CAAC,CAAC;AAC1B,AACA,IAAI,oBAAoB,kBAAkB,UAAU,MAAM,EAAE;IACxDA,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,KAAK;YAC3B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,sBAAsB;YAC1B,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAAC,sBAAsB,CAAC,CAAC,CAAC;AAC3B,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDA,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,KAAK;YAC3B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,oBAAoB;YACxB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;SAC3C,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,kBAAkB,CAAC;CAC7B,CAAC,sBAAsB,CAAC,CAAC,CAAC;AAC3B,AACA,IAAI,eAAe,kBAAkB,UAAU,MAAM,EAAE;IACnDA,WAAS,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnC,SAAS,eAAe,GAAG;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,oBAAoB,EAAE,IAAI;YAC1B,kBAAkB,EAAE,CAAC;YACrB,EAAE,EAAE,iBAAiB;YACrB,YAAY,EAAE,iBAAiB,CAAC,QAAQ;YACxC,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,cAAc;gBACxC,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,aAAa,EAAE,eAAe;aACpD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,OAAO,eAAe,CAAC;CAC1B,CAAC,sBAAsB,CAAC,CAAC,CAAC;AAC3B,AACA,qBAAqB,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;AACjD,qBAAqB,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;AAC/C,qBAAqB,CAAC,IAAI,cAAc,EAAE,CAAC,CAAC;AAC5C,qBAAqB,CAAC,IAAI,yBAAyB,EAAE,CAAC,CAAC;AACvD,qBAAqB,CAAC,IAAI,uBAAuB,EAAE,CAAC,CAAC;AACrD,qBAAqB,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC;AAClD,qBAAqB,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC;AAClD,qBAAqB,CAAC,IAAI,kBAAkB,EAAE,CAAC,CAAC;AAChD,qBAAqB,CAAC,IAAI,eAAe,EAAE,CAAC,CAAC;AAC7C,qBAAqB,CAAC,IAAI,0BAA0B,EAAE,CAAC,CAAC;AACxD,qBAAqB,CAAC,IAAI,wBAAwB,EAAE,CAAC,CAAC;AACtD,qBAAqB,CAAC,IAAI,qBAAqB,EAAE,CAAC,CAAC;AACnD,qBAAqB,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;AACjD,qBAAqB,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;AAC/C,qBAAqB,CAAC,IAAI,cAAc,EAAE,CAAC,CAAC;AAC5C,qBAAqB,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC;AAClD,qBAAqB,CAAC,IAAI,kBAAkB,EAAE,CAAC,CAAC;AAChD,qBAAqB,CAAC,IAAI,eAAe,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACva7C;;;;AAIA,AACA,IAAIA,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAsBA,IAAI,oCAAoC,GAAG,IAAI,aAAa,CAAC,gCAAgC,EAAE,KAAK,CAAC,CAAC;AACtG,IAAI,2BAA2B,kBAAkB,UAAU,MAAM,EAAE;IAC/DE,WAAS,CAAC,2BAA2B,EAAE,MAAM,CAAC,CAAC;IAC/C,SAAS,2BAA2B,CAAC,MAAM,EAAE,oBAAoB,EAAE;QAC/D,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,cAAc,CAAC,uBAAuB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QAC7G,OAAO,KAAK,CAAC;KAChB;IACD,2BAA2B,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAChD,OAAO,MAAM,CAAC,eAAe,CAAC,2BAA2B,CAAC,EAAE,CAAC,CAAC;KACjE,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACtD,OAAO,2BAA2B,CAAC,EAAE,CAAC;KACzC,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB,CAAC;IACF,2BAA2B,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB,CAAC;IACF,2BAA2B,CAAC,EAAE,GAAG,4CAA4C,CAAC;IAC9E,2BAA2B,GAAGS,YAAU,CAAC;QACrCC,SAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC;KACpC,EAAE,2BAA2B,CAAC,CAAC;IAChC,OAAO,2BAA2B,CAAC;CACtC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,IAAI,cAAc,GAAGX,QAAY,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;AACjE,IAAI,uBAAuB,GAAGA,QAAY,CAAC,sBAAsB,EAAE,qCAAqC,CAAC,CAAC;AAC1G,IAAI,kBAAkB,GAAGA,QAAY,CAAC,iBAAiB,EAAE,sBAAsB,CAAC,CAAC;AACjF,IAAI,sBAAsB,GAAGA,QAAY,CAAC,qBAAqB,EAAE,0CAA0C,CAAC,CAAC;AAC7G,IAAI,iBAAiB,GAAGA,QAAY,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;AACzE,SAAS,iBAAiB,CAAC,UAAU,EAAE,kBAAkB,EAAE;IACvD,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;QACxC,OAAO,cAAc,CAAC;KACzB;IACD,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;QACzB,IAAI,kBAAkB,EAAE;YACpB,OAAOiC,MAAc,CAAC,uBAAuB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;SACtI;QACD,OAAOA,MAAc,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;KAC7G;IACD,IAAI,kBAAkB,EAAE;QACpB,OAAOA,MAAc,CAAC,sBAAsB,EAAE,UAAU,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;KACxF;IACD,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,OAAOA,MAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;KAC/D;IACD,OAAO,IAAI,CAAC;CACf;AACD,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DhC,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,MAAM,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,cAAc,EAAE;QAC7F,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC9C,KAAK,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC9C,KAAK,CAAC,cAAc,GAAG,cAAc,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,aAAa,GAAG,oCAAoC,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QAC5F,KAAK,CAAC,QAAQ,GAAG,iBAAiB,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;QAClE,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,yBAAyB,CAAC,CAAC;QACvD,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAClC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC9C,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QACnD,KAAK,CAAC,eAAe,GAAG,iBAAiB,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;QACzE,KAAK,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QACvD,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QAClD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,YAAY;YACxD,IAAI,KAAK,CAAC,UAAU,EAAE;gBAClB,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;SACJ,CAAC,CAAC,CAAC;;QAEJ,KAAK,CAAC,SAAS,CAACmC,6BAAiC,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,CAAC,EAAE;YACrG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACnB,OAAO;aACV;YACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,iBAAiB,EAAE,aAAa,EAAE;gBAC/C,KAAK,CAACpC,QAAY,CAAC,iBAAiB,EAAE,0DAA0D,CAAC,CAAC,CAAC;gBACnG,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC;oBACxB,oBAAoB,EAAE,IAAI;iBAC7B,CAAC,CAAC;gBACHqD,SAAa,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;gBAC7C,KAAK,CAAC,aAAa,EAAE,CAAC;gBACtB,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACtC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;aACvB;YACD,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,iBAAiB,EAAE,aAAa,EAAE;gBAC/C,KAAK,CAACrD,QAAY,CAAC,aAAa,EAAE,0DAA0D,CAAC,CAAC,CAAC;gBAC/F,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC,oBAAoB,CAAC;gBACnE,IAAI,OAAO,GAAG,KAAK,WAAW,EAAE;oBAC5B,GAAG,GAAG,gDAAgD,CAAC;iBAC1D;gBACD,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC1C,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;aACvB;SACJ,CAAC,CAAC,CAAC;QACJ,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,YAAY;YACpD,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACpD,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAClD,OAAO,uBAAuB,CAAC,EAAE,CAAC;KACrC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACvD,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;KAChC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACxD,OAAO;YACH,UAAU,EAAE,IAAI;SACnB,CAAC;KACL,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,SAAS,EAAE,GAAG,EAAE,OAAO,EAAE;QAC1F,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;QAC7D,IAAI,EAAE,EAAE;YACJ,OAAOiC,MAAc,CAAC,GAAG,EAAE,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC;SACjD;QACD,OAAOA,MAAc,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;KAC7C,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC1D,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAC3C,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAC9C,IAAI,kBAAkB,GAAG,CAAC,CAAC;QAC3B,IAAI,UAAU,EAAE;YACZ,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtC,IAAI,OAAO,EAAE;gBACT,UAAU,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;oBACpC,kBAAkB,IAAI,OAAO,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;iBAClE,CAAC,CAAC;aACN;SACJ;QACD,IAAI,IAAI,GAAG,iBAAiB,CAAC,UAAU,EAAE,kBAAkB,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;YAChC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,IAAIjC,QAAY,CAAC,oBAAoB,EAAE,wCAAwC,CAAC,CAAC;aACxF;iBACI;gBACD,IAAI,IAAIA,QAAY,CAAC,oBAAoB,EAAE,8BAA8B,CAAC,CAAC;aAC9E;SACJ;aACI;YACD,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,IAAIA,QAAY,CAAC,gBAAgB,EAAE,6BAA6B,CAAC,CAAC;aACzE;iBACI;gBACD,IAAI,IAAIA,QAAY,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;aAC/D;SACJ;QACD,QAAQ,IAAI,CAAC,oBAAoB;YAC7B,KAAK,CAAC;gBACF,IAAI,aAAa,IAAIoE,WAAoB;sBACnCpE,QAAY,CAAC,qBAAqB,EAAE,6FAA6F,CAAC;sBAClIA,QAAY,CAAC,0BAA0B,EAAE,6FAA6F,CAAC,CAAC,CAAC;gBAC/I,IAAI,IAAI,SAAS,GAAG,aAAa,CAAC;gBAClC,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,IAAI,SAAS,GAAGA,QAAY,CAAC,SAAS,EAAE,0EAA0E,CAAC,CAAC;gBACxH,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,IAAI,SAAS,GAAGA,QAAY,CAAC,UAAU,EAAE,oHAAoH,CAAC,CAAC;gBACnK,IAAI,IAAI,GAAG,GAAG,aAAa,CAAC;gBAC5B,MAAM;SACb;QACD,IAAI,qBAAqB,GAAGA,QAAY,CAAC,mBAAmB,EAAE,yHAAyH,CAAC,CAAC;QACzL,IAAI,2BAA2B,GAAGA,QAAY,CAAC,uBAAuB,EAAE,iJAAiJ,CAAC,CAAC;QAC3N,IAAI,sBAAsB,GAAGA,QAAY,CAAC,oBAAoB,EAAE,yGAAyG,CAAC,CAAC;QAC3K,IAAI,4BAA4B,GAAGA,QAAY,CAAC,wBAAwB,EAAE,iIAAiI,CAAC,CAAC;QAC7M,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,IAAI,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,EAAE,EAAE,qBAAqB,EAAE,2BAA2B,CAAC,CAAC;SACpI;aACI;YACD,IAAI,IAAI,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,EAAE,EAAE,sBAAsB,EAAE,4BAA4B,CAAC,CAAC;SACtI;QACD,IAAI,cAAc,IAAIoE,WAAoB;cACpCpE,QAAY,CAAC,YAAY,EAAE,qGAAqG,CAAC;cACjIA,QAAY,CAAC,iBAAiB,EAAE,qGAAqG,CAAC,CAAC,CAAC;QAC9I,IAAI,IAAI,SAAS,GAAG,cAAc,CAAC;QACnC,IAAI,IAAI,MAAM,GAAGA,QAAY,CAAC,UAAU,EAAE,2FAA2F,CAAC,CAAC;QACvI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;;QAEpE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;KACjE,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACjD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QAC3CqD,SAAa,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACpD,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAChD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,KAAK,EAAE,YAAY,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;QACtF,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KAC/B,CAAC;IACF,uBAAuB,CAAC,EAAE,GAAG,wCAAwC,CAAC;IACtE,uBAAuB,CAAC,KAAK,GAAG,GAAG,CAAC;IACpC,uBAAuB,CAAC,MAAM,GAAG,GAAG,CAAC;IACrC,uBAAuB,GAAG3C,YAAU,CAAC;QACjCC,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;KAC7B,EAAE,uBAAuB,CAAC,CAAC;IAC5B,OAAO,uBAAuB,CAAC;CAClC,CAAC,MAAM,CAAC,CAAC,CAAC;AACX,IAAI,2BAA2B,kBAAkB,UAAU,MAAM,EAAE;IAC/DV,WAAS,CAAC,2BAA2B,EAAE,MAAM,CAAC,CAAC;IAC/C,SAAS,2BAA2B,GAAG;QACnC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,qCAAqC;YACzC,KAAK,EAAED,QAAY,CAAC,6BAA6B,EAAE,yBAAyB,CAAC;YAC7E,KAAK,EAAE,yBAAyB;YAChC,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,GAAGmE,IAAY,GAAG,IAAI,iBAAiB,EAAE,YAAY,GAAG,aAAa,EAAE,UAAU;aAC3F;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,2BAA2B,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACpE,IAAI,UAAU,GAAG,2BAA2B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,IAAI,EAAE,CAAC;SACrB;KACJ,CAAC;IACF,OAAO,2BAA2B,CAAC;CACtC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,0BAA0B,CAAC,2BAA2B,CAAC,CAAC;AACxD,oBAAoB,CAAC,2BAA2B,CAAC,CAAC;AAClD,IAAI,wBAAwB,GAAG,aAAa,CAAC,kBAAkB,CAAC,2BAA2B,CAAC,GAAG,CAAC,CAAC;AACjG,qBAAqB,CAAC,IAAI,wBAAwB,CAAC;IAC/C,EAAE,EAAE,wBAAwB;IAC5B,YAAY,EAAE,oCAAoC;IAClD,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE;IAC1C,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC;QACrD,MAAM,EAAE,iBAAiB,CAAC,KAAK;QAC/B,OAAO,EAAE,CAAC;QACV,SAAS,EAAE,CAAC,IAAI,eAAe,CAAC,cAAc;KACjD;CACJ,CAAC,CAAC,CAAC;AACJ,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,gBAAgB,GAAG,KAAK,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;IAC9D,IAAI,gBAAgB,EAAE;QAClB,SAAS,CAAC,OAAO,CAAC,8DAA8D,GAAG,gBAAgB,GAAG,KAAK,CAAC,CAAC;KAChH;IACD,IAAI,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACrD,IAAI,iBAAiB,EAAE;QACnB,SAAS,CAAC,OAAO,CAAC,kEAAkE,GAAG,iBAAiB,GAAG,KAAK,CAAC,CAAC;KACrH;IACD,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IAC9C,IAAI,QAAQ,EAAE;QACV,SAAS,CAAC,OAAO,CAAC,8DAA8D,GAAG,QAAQ,GAAG,KAAK,CAAC,CAAC;KACxG;CACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC5UH;;;;AAIA,AACA,IAAIlE,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAaA,IAAI,uBAAuB,kBAAkB,UAAU,MAAM,EAAE;IAC3DE,WAAS,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;IAC3C,SAAS,uBAAuB,CAAC,MAAM,EAAE,sBAAsB,EAAE,WAAW,EAAE;QAC1E,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,uBAAuB,GAAG,sBAAsB,CAAC;QACvD,KAAK,CAAC,YAAY,GAAG,WAAW,CAAC;QACjC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvF,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/F,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACzF,OAAO,KAAK,CAAC;KAChB;IACD,uBAAuB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QAC5C,OAAO,MAAM,CAAC,eAAe,CAAC,uBAAuB,CAAC,EAAE,CAAC,CAAC;KAC7D,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAClD,OAAO,uBAAuB,CAAC,EAAE,CAAC;KACrC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACpD,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACnD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;KACzG,CAAC;IACF,uBAAuB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACjD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;KACJ,CAAC;IACF,uBAAuB,CAAC,EAAE,GAAG,8BAA8B,CAAC;IAC5D,uBAAuB,GAAGS,YAAU,CAAC;QACjCC,SAAO,CAAC,CAAC,EAAE,uBAAuB,CAAC;QACnCA,SAAO,CAAC,CAAC,EAAE,YAAY,CAAC;KAC3B,EAAE,uBAAuB,CAAC,CAAC;IAC5B,OAAO,uBAAuB,CAAC;CAClC,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDV,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,GAAG;QACrB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,6BAA6B;YACjC,KAAK,EAAED,QAAY,CAAC,eAAe,EAAE,2BAA2B,CAAC;YACjE,KAAK,EAAE,2BAA2B;YAClC,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;KACd;IACD,aAAa,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACtD,IAAI,UAAU,GAAG,uBAAuB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,MAAM,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,SAAS,eAAe,CAAC,SAAS,EAAE;IAChC,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,SAAS,GAAG,GAAG,EAAE,SAAS,EAAE,EAAE;QAC1E,IAAI,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC/C,QAAQ,QAAQ;YACZ,KAAK,CAAC;gBACF,MAAM,IAAI,QAAQ,CAAC;gBACnB,MAAM;YACV,KAAK,EAAE;gBACH,MAAM,IAAI,UAAU,CAAC;gBACrB,MAAM;YACV,KAAK,EAAE;gBACH,MAAM,IAAI,MAAM,CAAC;gBACjB,MAAM;YACV,KAAK,EAAE;gBACH,MAAM,IAAI,MAAM,CAAC;gBACjB,MAAM;YACV,KAAK,EAAE;gBACH,MAAM,IAAI,OAAO,CAAC;gBAClB,MAAM;YACV;gBACI,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC/C;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;AACD,SAAS,0BAA0B,CAAC,kBAAkB,EAAE;IACpD,IAAI,mBAAmB,GAAG,oBAAoB,CAAC,GAAG,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAChF,IAAI,mBAAmB,EAAE;QACrB,OAAO,mBAAmB,CAAC;KAC9B;IACD,OAAO;QACH,eAAe,EAAE,YAAY,EAAE,OAAO,UAAU,CAAC,EAAE;QACnD,QAAQ,EAAE,UAAU,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,OAAO,YAAY,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,EAAE;QAC7H,SAAS,EAAE,UAAU,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,OAAO,aAAa,CAAC,kBAAkB,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,EAAE;KAC5H,CAAC;CACL;AACD,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDC,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,MAAM,EAAE,sBAAsB,EAAE,WAAW,EAAE;QACtE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;;QAEtC,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACjC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACvB,KAAK,CAAC,YAAY,GAAG,WAAW,CAAC;QACjC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,QAAQ,CAAC,SAAS,GAAG,uBAAuB,CAAC;QACnD,KAAK,CAAC,oBAAoB,GAAG,0BAA0B,CAAC,KAAK,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC;QAC9F,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;QAC5C,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,yBAAyB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/H,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,OAAO,KAAK,CAAC;KAChB;IACD,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAChD,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACvC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC9C,OAAO,mBAAmB,CAAC,GAAG,CAAC;KAClC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,QAAQ,EAAE;QACzD,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtD,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/C,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;gBACjC,WAAW,GAAG,CAAC,CAAC;gBAChB,MAAM;aACT;SACJ;QACD,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE;gBAC/C,WAAW,GAAG,CAAC,CAAC;gBAChB,MAAM;aACT;SACJ;QACD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAClE,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACnC,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;YACvD,IAAI,aAAa,GAAG,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YACtH,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;SACrE;QACD,MAAM,IAAI,yBAAyB,GAAG,eAAe,CAAC,SAAS,CAAC,GAAG,mCAAmC,GAAG,SAAS,CAAC,MAAM,GAAG,GAAG,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO,CAAC,GAAG,eAAe,CAAC;QAChM,MAAM,IAAI,+DAA+D,CAAC;QAC1E,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC1E,MAAM,IAAI,4CAA4C,CAAC;QACvD,MAAM,IAAI,iFAAiF,GAAG,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC;QACrJ,MAAM,IAAI,mFAAmF,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;QACtJ,MAAM,IAAI,mFAAmF,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;QACtJ,MAAM,IAAI,mFAAmF,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC;QAC1J,MAAM,IAAI,mFAAmF,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC;QAC1J,MAAM,IAAI,kBAAkB,CAAC;QAC7B,MAAM,IAAI,0CAA0C,CAAC;QACrD,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACnC,MAAM,IAAI,gCAAgC,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;SACnG;QACD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,QAAQ,EAAE;QAChE,IAAI,QAAQ,GAAG,oBAAoB,CAAC,WAAW,EAAE,CAAC;QAClD,IAAI,UAAU,GAAG,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAIyB,aAAU,GAAG,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,UAAU,GAAG,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACvD,OAAO;YACH,kBAAkB,EAAE,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,UAAU,CAAC;YACvE,SAAS,EAAE,SAAS;YACpB,SAAS,EAAE,SAAS;YACpB,UAAU,EAAE,QAAQ,CAACA,aAAU,CAAC;YAChC,UAAU,EAAE,QAAQ,CAAC,UAAU,CAAC;SACnC,CAAC;KACL,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,SAAS,EAAE;QACpE,QAAQ,SAAS;YACb,KAAK,CAAC,cAAc,OAAO,OAAO,CAAC;YACnC,KAAK,CAAC,gBAAgB,OAAO,SAAS,CAAC;YACvC,KAAK,CAAC,eAAe,OAAO,QAAQ,CAAC;YACrC,KAAK,CAAC,cAAc,OAAO,OAAO,CAAC;SACtC;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,SAAS,EAAE;QACpE,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,IAAI,SAAS,GAAG,CAAC,eAAe;YAC5B,CAAC,IAAI,SAAS,CAAC;SAClB;QACD,IAAI,SAAS,GAAG,CAAC,aAAa;YAC1B,CAAC,IAAI,OAAO,CAAC;SAChB;QACD,IAAI,SAAS,GAAG,CAAC,kBAAkB;YAC/B,CAAC,IAAI,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAChB,CAAC,GAAG,KAAK,CAAC;SACb;QACD,OAAO,CAAC,CAAC;KACZ,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,UAAU,EAAE;QACnE,IAAI,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;QAC3D,IAAI,mBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;QACzH,IAAI,mBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;QAC1H,OAAO;YACH,UAAU,EAAE,eAAe;YAC3B,OAAO,EAAE,mBAAmB,CAAC,MAAM;YACnC,OAAO,EAAE,mBAAmB,CAAC,MAAM;YACnC,QAAQ,EAAE,mBAAmB,CAAC,QAAQ;SACzC,CAAC;KACL,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,UAAU,EAAE;QACtE,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,eAAe,EAAE,CAAC;QACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,EAAE;YACjC,IAAI,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YACrG,KAAK,GAAG,kBAAkB,CAAC,QAAQ,CAAC;SACvC;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACpD,OAAO;YACH,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YACpC,UAAU,EAAE,CAAC,+BAA+B,CAAC,KAAK,EAAE,+BAA+B,CAAC,KAAK,CAAC;SAC7F,CAAC;KACL,CAAC;IACF,mBAAmB,CAAC,GAAG,GAAG,oCAAoC,CAAC;IAC/D,OAAO,mBAAmB,CAAC;CAC9B,CAAC,UAAU,CAAC,CAAC,CAAC;AACf,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;AACpD,oBAAoB,CAAC,aAAa,CAAC,CAAC;AACpC,0BAA0B,CAAC,UAAU,KAAK,EAAE,SAAS,EAAE;IACnD,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;IAC/C,IAAI,MAAM,EAAE;QACR,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,KAAK,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC;QACvD,SAAS,CAAC,OAAO,CAAC,kDAAkD,GAAG,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;QACnH,SAAS,CAAC,OAAO,CAAC,sFAAsF,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;KAC9H;IACD,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;IACvD,IAAI,UAAU,EAAE;QACZ,SAAS,CAAC,OAAO,CAAC,4DAA4D,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC;KACxG;CACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC/RH;;;;AAIA,AAOA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,MAAM,EAAE;QAC9B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAIiE,MAAc,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;KACJ;IACD,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC5C,IAAI,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,gBAAgB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClE,IAAI,CAAC,SAAS,IAAI,gBAAgB,EAAE;YAChC,IAAI,CAAC,MAAM,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrD;aACI,IAAI,SAAS,IAAI,CAAC,gBAAgB,EAAE;YACrC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC3C,OAAO,gBAAgB,CAAC,EAAE,CAAC;KAC9B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;KACJ,CAAC;IACF,gBAAgB,CAAC,EAAE,GAAG,iCAAiC,CAAC;IACxD,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,MAAM,EAAE;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAACrF,qBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,UAAU,CAAC,EAAE;YACrF,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACxB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,CAACA,qBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE;YAChF,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACxB,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KACtC;IACD,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC/C,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC9C,CAAC;;IAEF,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC7C,OAAO,kBAAkB,CAAC,EAAE,CAAC;KAChC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACnD,OAAO;YACH,UAAU,EAAE,+BAA+B,CAAC,mBAAmB;SAClE,CAAC;KACL,CAAC;IACF,kBAAkB,CAAC,EAAE,GAAG,mCAAmC,CAAC;IAC5D,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChF7C;;;gGAGgG;;;;;;;;;;;;;;;;;;;;;;;;;;ACHhG;;;;AAIA,AAKA,IAAIY,GAAC,GAAGC,CAAK,CAAC;AACd,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,SAAS,EAAE,EAAE,EAAE;QACpC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,OAAO,GAAGC,MAAU,CAAC,SAAS,EAAEF,GAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACvC;IACD,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE;QACxD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,UAAU,EAAE,OAAO,EAAE;QAC3D,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,KAAK,UAAU,IAAI,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE;YACxG,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3CmC,SAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC1E,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;aAC1F;YACD,IAAI,SAAS,EAAE;gBACXjC,MAAU,CAAC,IAAI,CAAC,OAAO,EAAEF,GAAC,CAAC,4CAA4C,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;gBACrF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;aAC1F;YACD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;SACvD;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC7B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;QAClE,IAAI,cAAc,GAAG,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,cAAc,CAAC,OAAO,EAAE,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE,cAAc,CAAC,SAAS,CAAC,CAAC;SACpG;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,cAAc,CAAC,QAAQ,EAAE,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE,cAAc,CAAC,SAAS,CAAC,CAAC;SACtG;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,cAAc,CAAC,MAAM,EAAE,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE,cAAc,CAAC,SAAS,CAAC,CAAC;SAClG;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,cAAc,CAAC,OAAO,EAAE,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE,cAAc,CAAC,SAAS,CAAC,CAAC;SACpG;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SAChE;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE;QACjFE,MAAU,CAAC,MAAM,EAAEF,GAAC,CAAC,4BAA4B,IAAI,SAAS,GAAG,YAAY,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QACnG,IAAI,SAAS,EAAE;YACXE,MAAU,CAAC,MAAM,EAAEF,GAAC,CAAC,sCAAsC,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;SAClF;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;KAC1B,CAAC;IACF,eAAe,CAAC,OAAO,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;QACtC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YACvB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;KAC7F,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;AClFL;;;;AAIA,AACA,IAAIjB,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAUA,IAAI,GAAG,GAAG,CAAC,CAAC;AACZ,AAiBA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,UAAU,EAAE;QAChC,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,EAAE,CAAC,EAAE;QAC/C,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC;QAClC,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;KACnC;;;;IAID,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,EAAE,CAAC;KAClB,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;KAC1B,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC3C,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC9C,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACzD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC;KACf,CAAC;;;;;IAKF,cAAc,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE;QACnD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,eAAe,EAAE,qBAAqB,EAAE,gBAAgB,EAAE;QACzG,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;KAC5C,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACjD,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KACpF,CAAC;;;;;;;IAOF,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACpD,OAAO,KAAK,CAAC;KAChB,CAAC;;;;;;IAMF,cAAc,CAAC,SAAS,CAAC,sBAAsB,GAAG,YAAY;QAC1D,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDE,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE;QACxD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;QAC9B,OAAO,KAAK,CAAC;KAChB;;;;IAID,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE;QAChE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAChC,CAAC;;;;IAIF,mBAAmB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,UAAU,EAAE;QAChE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAChC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACxD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAClG,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC5F,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACtF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC1F,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAClF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACvD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChG,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC9F,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,eAAe,EAAE,qBAAqB,EAAE,gBAAgB,EAAE;QAC9G,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,eAAe,EAAE,qBAAqB,EAAE,gBAAgB,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE,qBAAqB,EAAE,gBAAgB,CAAC,CAAC;KACzM,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE;QACxD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KAC7F,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACzD,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;KACtG,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,cAAc,CAAC,CAAC,CAAC;AACnB,AACA,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,GAAG;KAC3B;IACD,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAC7D,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAC7D,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACtE,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACtE,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE;QACxE,OAAO,IAAI,CAAC;KACf,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,IAAI,aAAa,GAAG,gBAAgB,CAAC;AACrC,IAAI,kBAAkB,GAAG,qBAAqB,CAAC;AAC/C,IAAI6D,UAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,cAAc,EAAE,YAAY,EAAE;QAC5C,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,IAAI,gBAAgB,EAAE,CAAC,EAAE;QAC3E,IAAI,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE,YAAY,GAAG,IAAI,CAAC,EAAE;QACrD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;KACpC;IACD,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;QAC5C,IAAI,KAAK,CAAC,SAAS,EAAE,EAAE;YACnB,OAAO,EAAE,CAAC;SACb;QACD,OAAO,EAAE,CAAC;KACb,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QAChD,IAAI,KAAK,YAAY,mBAAmB,EAAE;YACtC,OAAO,kBAAkB,CAAC;SAC7B;QACD,OAAO,aAAa,CAAC;KACxB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE;QACzE,IAAI,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnD8B,QAAY,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;;QAEtC,IAAI,IAAI,GAAGC,CAAK,CAAC,iBAAiB,CAAC,CAAC;QACpC,IAAI,IAAI,GAAGA,CAAK,CAAC,iBAAiB,CAAC,CAAC;QACpC,IAAI,KAAK,GAAGA,CAAK,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACzD,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;QAElC,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;QAEvB,IAAI,KAAK,GAAG,IAAI,SAAS,CAAC,IAAI,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,4BAA4B,EAAE,IAAI,EAAE,CAAC,CAAC;;QAEjG,IAAI,mBAAmB,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACzD,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;QACtCD,QAAY,CAAC,mBAAmB,EAAE,6BAA6B,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,eAAe,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;;QAE9D,IAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QAClCA,QAAY,CAAC,eAAe,EAAE,uBAAuB,CAAC,CAAC;QACvD,IAAI,MAAM,GAAG,IAAI,gBAAgB,CAAC,eAAe,CAAC,CAAC;;QAEnD,IAAI,KAAK,CAAC;QACV,IAAI,UAAU,KAAK,kBAAkB,EAAE;YACnC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACtCA,QAAY,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC;YACrC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAChC;;QAEDA,QAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACnC,IAAI,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACvDA,QAAY,CAAC,kBAAkB,EAAE,oBAAoB,CAAC,CAAC;QACvD,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;QAC1C,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,kBAAkB,EAAE;YAC9C,YAAY,EAAE,IAAI,CAAC,YAAY;SAClC,CAAC,CAAC;QACH,OAAO;YACH,SAAS,EAAE,SAAS;YACpB,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,UAAU;YACtB,KAAK,EAAE,KAAK;YACZ,SAAS,EAAE,SAAS;SACvB,CAAC;KACL,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE;;QAE1E,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;YAC7CA,QAAY,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;SAC/C;aACI;YACDE,WAAe,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;SAClD;QACD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;YAChE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;aAC9D;iBACI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;gBACtE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;aAC1B;SACJ,CAAC,CAAC;;QAEH,IAAI,KAAK,YAAY,mBAAmB,IAAI,KAAK,CAAC,aAAa,EAAE,EAAE;YAC/DF,QAAY,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;SACnD;aACI;YACDE,WAAe,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;SACtD;;QAED,IAAI,KAAK,YAAY,mBAAmB,EAAE;YACtC,IAAI,KAAK,GAAG,KAAK,CAAC;YAClB,IAAI,SAAS,GAAG,IAAI,CAAC;;YAErB,IAAI,KAAK,CAAC,UAAU,EAAE,EAAE;gBACpBF,QAAY,CAAC,SAAS,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;gBAC7D,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,GAAG,MAAM,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;aAClF;iBACI;gBACDE,WAAe,CAAC,SAAS,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;gBAChE,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;aACnD;;YAED,IAAI,UAAU,GAAG,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC;YAC7C,SAAS,CAAC,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;YACzC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;SACzE;;QAED,IAAI,KAAK,YAAY,cAAc,EAAE;YACjC,IAAI,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,EAAE,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,qBAAqB,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,gBAAgB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;;YAEjH,IAAI,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,IAAI,wBAAwB,GAAG,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC;YACpF,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;YAEhC,IAAI,OAAO,GAAG,KAAK,CAAC,eAAe,EAAE,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,OAAO,GAAG,eAAe,IAAI,EAAE,CAAC;YACxC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;YACnC,OAAO,CAAC,gBAAgB,GAAG,KAAK,CAAC,qBAAqB,EAAE,IAAI,KAAK,CAAC,cAAc,EAAE,CAAC;YACnF,OAAO,CAAC,kBAAkB,GAAG,qBAAqB,IAAI,EAAE,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,cAAc,EAAE,EAAE,OAAO,CAAC,CAAC;;YAEvE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,gBAAgB,CAAC,CAAC;;YAErD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,CAAC;SACpD;KACJ,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;QACrE,IAAI,IAAI,GAAG,YAAY,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;KACrB,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;AACL,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,OAAO,EAAE,cAAc,EAAE;QAC7C,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;QACzC,IAAI,cAAc,KAAK,KAAK,CAAC,EAAE,EAAE,cAAc,GAAG,IAAI,gBAAgB,EAAE,CAAC,EAAE;QAC3E,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAIhC,UAAQ,CAAC,cAAc,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;KACtC;IACD,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;QACvD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;QAC1C,GAAG,EAAE,UAAU,OAAO,EAAE;YACpB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SAC3B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,YAAY,EAAE;QAC1D,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE;QAC7C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,UAAU,EAAE;QACxD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;QAC3C,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;QACtD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;QACzC,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE;QACtD,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;QACzC,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,uBAAuB,EAAE;QACrE,GAAG,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,sBAAsB,CAAC,EAAE;QACxD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;;;;IAIH,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QACrD,IAAIhB,OAAa,CAAC,OAAO,CAAC,EAAE;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACjD;KACJ,CAAC;;;;IAIF,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;QACrD,IAAIA,OAAa,CAAC,OAAO,CAAC,EAAE;YACxB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SAC3B;KACJ,CAAC;;;;;;IAMF,cAAc,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,WAAW,EAAE;QACzD,IAAI,WAAW,EAAE;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;SACvE;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;QAC9C,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QACjD,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;KAC3B,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACrD,IAAI,SAAS,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,SAAS,EAAE;YACX,OAAO9C,QAAY,CAAC,yBAAyB,EAAE,aAAa,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;SACvF;QACD,OAAOA,QAAY,CAAC,oBAAoB,EAAE,QAAQ,CAAC,CAAC;KACvD,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;QAClD,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;KAC5B,CAAC;IACF,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE;QAC3D,OAAO,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;KACnC,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;;AC5eL;;;;AAIA,AACO,IAAI,IAAI,CAAC;AAChB,CAAC,UAAU,IAAI,EAAE;IACb,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC;IACtC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;IAChC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,oBAAoB,CAAC;CAC/D,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACVxB;;;;AAIA,AAEA,IAAI+F,YAAU,kBAAkB,YAAY;IACxC,SAAS,UAAU,CAAC,GAAG,EAAE;QACrB,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,EAAE,YAAY,EAAE,OAAO,GAAG,CAAC,EAAE,EAAE,CAAC;KACnG;IACD,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAClD,IAAI,CAAC,OAAO,EAAE;YACV,OAAO,IAAI,CAAC;SACf;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,KAAK,OAAO,GAAG,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KAC3E,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,IAAI,KAAK,KAAK,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;KACjE,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,KAAK,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACtD,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,aAAa,EAAE;QAC1C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;KACtC;IACD,qBAAqB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACpE,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC,qBAAqB,IAAI,KAAK,CAAC,qBAAqB,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;KAC3F,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;KACrD,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KACvC,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,MAAM,kBAAkB,YAAY;IACpC,SAAS,MAAM,CAAC,aAAa,EAAE;QAC3B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;KACtC;IACD,MAAM,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACf,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;KAC1C,CAAC;IACF,OAAO,MAAM,CAAC;CACjB,EAAE,CAAC,CAAC;AACL,AACA,IAAIjC,UAAQ,kBAAkB,YAAY;IACtC,SAAS,QAAQ,CAAC,aAAa,EAAE,MAAM,EAAE;QACrC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB;IACD,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,MAAM,EAAE;QAChD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;KAC5C,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;KAChD,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KAC5E,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE;QAClF,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KAChF,CAAC;IACF,QAAQ,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE,YAAY,EAAE;QAC3E,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC1C,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;KAC5D,CAAC;IACF,OAAO,QAAQ,CAAC;CACnB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC7FL;;;;AAIA,AASA,IAAI,QAAQ,GAAG,MAAM,CAAC;AACtB,IAAI,UAAU,GAAG,QAAQ,CAAC;AAC1B,IAAI,YAAY,GAAG,UAAU,CAAC;AAC9B,IAAI,YAAY,GAAG,UAAU,CAAC;AAC9B,IAAI,sBAAsB,GAAG,2BAA2B,CAAC;AACzD,IAAI,gBAAgB,GAAG,cAAc,CAAC;AACtC,IAAInC,aAAW,GAAG;IACd,qBAAqB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;CAClD,CAAC;;;;AAIF,IAAI,WAAW,kBAAkB,YAAY;IACzC,SAAS,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE;QACrC,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC9C,KAAK,CAAC,IAAI,CAAC,OAAO,EAAEA,aAAW,EAAE,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;KAC1B;IACD,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjBT,GAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,EAAE,UAAU,OAAO,EAAE;YACrE,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;YAChC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC8E,SAAa,CAAC,eAAe,EAAEA,SAAa,CAAC,aAAa,EAAEA,SAAa,CAAC,mBAAmB,CAAC,EAAE,UAAU,CAAC,EAAE;gBACxJ,QAAQ,CAAC,CAAC,IAAI;oBACV,KAAKA,SAAa,CAAC,mBAAmB;wBAClC,IAAI,KAAK,CAAC,kBAAkB,EAAE;4BAC1B,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;yBAClC;wBACD,MAAM;iBACb;aACJ,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;YACnB,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC;SACxC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QACpC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;QACjC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KAC7B,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;;QAEhC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YACtC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;YACjC,IAAI,OAAO,EAAE;gBACT,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;aACnE;iBACI;gBACD,IAAI,CAAC,GAAG,EAAE,CAAC;aACd;SACJ;;aAEI;YACD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YAC7B,IAAI,OAAO,EAAE;gBACT,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;aACnE;iBACI;gBACD,IAAI,CAAC,GAAG,EAAE,CAAC;aACd;SACJ;QACD,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;KACf,CAAC;;;;;IAKF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;QAC3C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,OAAO,IAAI,CAAC;KACf,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACjC,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QAC5CC,EAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,oBAAoB,CAAC,CAAC;QACxD,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;QACtBA,EAAS,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,uBAAuB,CAAC,CAAC;QAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1D,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YACrC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACjC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACrC;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACvC;QACD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC;QACrE,OAAO,IAAI,CAAC;KACf,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;KACxC,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QAC1C,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACnC;aACI;YACD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACvB;KACJ,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC5C,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;QAC1D,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5C,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,UAAU,GAAG,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC3F,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,CAAC;SAC/C;KACJ,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC1C,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;;ACjLL;;;;AAIA,AACA,IAAIhG,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAqBA,IAAI,mBAAmB,kBAAkB,UAAU,MAAM,EAAE;IACvDE,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,mBAAmB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;QAC1E,IAAImE,WAAoB,EAAE;YACtB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;SACjD;QACD,OAAO,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KAC1E,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACtB,AACO,IAAI,UAAU,CAAC;AACtB,CAAC,UAAU,UAAU,EAAE;IACnB,UAAU,CAAC,UAAU,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,kBAAkB,CAAC;IACpE,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC;IACxD,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;CACvD,EAAE,UAAU,KAAK,UAAU,GAAG,EAAE,CAAC,CAAC,CAAC;AACpC,IAAI,aAAa,GAAG;IAChB,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACpC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACpC,qBAAqB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IAC/C,iBAAiB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IAC3C,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;IACtC,qBAAqB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;CAClD,CAAC;AACF,IAAI,wBAAwB,GAAGpE,QAAY,CAAC,oBAAoB,EAAE,4CAA4C,CAAC,CAAC;AAChH,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE;QACpD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC7C,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;QACzC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;KACrB;IACD,eAAe,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC/C,OAAOkB,GAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC;KAC3C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,SAAS,EAAE;QAC1D,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAGA,GAAC,EAAE,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE;;YAElC,GAAG,CAAC,EAAE,CAAC8E,SAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;gBACxC,IAAI,aAAa,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBACjD,IAAI,aAAa,CAAC,OAAO,KAAK,CAAC,eAAe;oBAC1CE,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC9B,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;iBACnC;aACJ,CAAC;iBACG,EAAE,CAACF,SAAa,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,OAAOE,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;iBACtF,EAAE,CAACF,SAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC;iBAClF,EAAE,CAACA,SAAa,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;;YAExF,KAAK,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,qBAAqB,EAAE,KAAK,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC;YAChH,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;;YAEzB,GAAG,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,EAAE,UAAU,cAAc,EAAE;gBAC/D,KAAK,CAAC,cAAc,GAAG,cAAc,CAAC;gBACtC,KAAK,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,cAAc,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE;oBACjE,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,gBAAgB,IAAI,EAAE;oBACjD,SAAS,EAAE,wBAAwB;oBACnC,eAAe,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe;oBAC7C,eAAe,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe;oBAC7C,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,WAAW;oBACrC,6BAA6B,EAAE,KAAK,CAAC,MAAM,CAAC,6BAA6B;oBACzE,yBAAyB,EAAE,KAAK,CAAC,MAAM,CAAC,yBAAyB;oBACjE,gCAAgC,EAAE,KAAK,CAAC,MAAM,CAAC,gCAAgC;oBAC/E,4BAA4B,EAAE,KAAK,CAAC,MAAM,CAAC,4BAA4B;oBACvE,8BAA8B,EAAE,KAAK,CAAC,MAAM,CAAC,8BAA8B;oBAC3E,0BAA0B,EAAE,KAAK,CAAC,MAAM,CAAC,0BAA0B;iBACtE,CAAC,CAAC;;gBAEH,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACjD,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;gBACpD,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBAC1D,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;gBAC7DG,qBAAyB,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAEH,SAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;oBACxF,IAAI,aAAa,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAC;oBACjD,IAAI,sBAAsB,GAAG,KAAK,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;;oBAEzE,IAAI,aAAa,CAAC,OAAO,KAAK,CAAC,YAAY;wBACvC,OAAO;qBACV;;yBAEI,IAAI,aAAa,CAAC,OAAO,KAAK,EAAE,oBAAoB,aAAa,CAAC,OAAO,KAAK,EAAE,kBAAkB,aAAa,CAAC,OAAO,KAAK,EAAE,mBAAmB,aAAa,CAAC,OAAO,KAAK,EAAE,eAAe;wBAC7LE,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;wBAC9B,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;;;wBAGpE,IAAI,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,KAAK,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,YAAY,EAAE;4BACzF,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;yBAC5E;qBACJ;;yBAEI,IAAI,aAAa,CAAC,OAAO,KAAK,CAAC,gBAAgB,sBAAsB,EAAE;wBACxEA,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;wBAC9B,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACpC,IAAI,OAAO,EAAE;4BACT,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;yBACnG;qBACJ;iBACJ,CAAC,CAAC;gBACHC,qBAAyB,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAEH,SAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;oBACrF,KAAK,CAAC,MAAM,EAAE,CAAC;iBAClB,CAAC,CAAC;aACN,CAAC,CAAC;;YAEH,KAAK,CAAC,aAAa,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC1B,OAAO,EAAE,iBAAiB;aAC7B,EAAE,UAAU,GAAG,EAAE;gBACd,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,WAAW,KAAK,UAAU,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;gBACjI,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE;oBAC1C,UAAU,EAAE,IAAID,YAAU,CAAC,KAAK,CAAC;oBACjC,UAAU,EAAE,IAAI,mBAAmB,CAAC,EAAE,aAAa,EAAE,aAAa,CAAC,WAAW,EAAE,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;oBACjI,QAAQ,GAAG,KAAK,CAAC,QAAQ,GAAG,IAAIjC,UAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC9D,MAAM,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC;oBACzB,qBAAqB,EAAE,IAAI,qBAAqB,CAAC,KAAK,CAAC;iBAC1D,EAAE;oBACC,aAAa,EAAE,EAAE;oBACjB,YAAY,EAAE,CAAC;oBACf,aAAa,EAAE,IAAI;oBACnB,kBAAkB,EAAE,mBAAmB,CAAC,OAAO;oBAC/C,oBAAoB,EAAE,mBAAmB,CAAC,MAAM;oBAChD,SAAS,EAAE9D,QAAY,CAAC,eAAe,EAAE,cAAc,CAAC;oBACxD,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,eAAe;oBAC9C,gBAAgB,EAAE,IAAI;iBACzB,CAAC,CAAC;gBACH,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;;gBAEhD,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,KAAK,EAAE;oBAC7D,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;iBAC5C,CAAC,CAAC,CAAC;gBACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC,UAAU,KAAK,EAAE;oBACjE,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC/C,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,YAAY,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC;wBACnI,IAAI,sBAAsB,GAAG,UAAU,GAAG,KAAK,CAAC,sBAAsB,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;wBAC3F,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;qBAClH;iBACJ,CAAC,CAAC,CAAC;aACP,CAAC;gBACE,EAAE,CAACgG,SAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;gBACxC,IAAI,aAAa,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAC;;gBAEjD,IAAI,CAAC,KAAK,CAAC,0BAA0B,EAAE;oBACnC,OAAO;iBACV;;gBAED,IAAI,aAAa,CAAC,OAAO,KAAK,EAAE,oBAAoB,aAAa,CAAC,OAAO,KAAK,EAAE,kBAAkB,aAAa,CAAC,OAAO,KAAK,EAAE,mBAAmB,aAAa,CAAC,OAAO,KAAK,EAAE,eAAe;oBACxLE,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC9B,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;iBAC/C;aACJ,CAAC;gBACE,EAAE,CAACF,SAAa,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;gBACtC,IAAI,aAAa,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBACjD,IAAI,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;;gBAEpC,IAAI,CAAC,KAAK,CAAC,0BAA0B,EAAE;oBACnC,OAAO;iBACV;;gBAED,IAAI,YAAY,GAAG,KAAK,CAAC,0BAA0B,CAAC,WAAW,CAAC;gBAChE,IAAI,oBAAoB,GAAG,OAAO,KAAK,CAAC,gBAAgB,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;oBACnF,IAAI,EAAE,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC5D,IAAI,SAAS,EAAE;wBACX,OAAO,KAAK,CAAC;qBAChB;oBACD,IAAI,SAAS,CAAC,QAAQ,IAAI,OAAO,KAAK,CAAC,cAAc;wBACjD,IAAI,aAAa,CAAC,OAAO,IAAI,aAAa,CAAC,MAAM,IAAI,aAAa,CAAC,OAAO,EAAE;4BACxE,OAAO,KAAK,CAAC;yBAChB;wBACD,OAAO,IAAI,CAAC;qBACf;oBACD,IAAI,SAAS,CAAC,MAAM,IAAI,OAAO,KAAK,CAAC,YAAY;wBAC7C,OAAO,IAAI,CAAC;qBACf;oBACD,IAAI,SAAS,CAAC,OAAO,IAAI,OAAO,KAAK,CAAC,aAAa;wBAC/C,OAAO,IAAI,CAAC;qBACf;oBACD,IAAI,SAAS,CAAC,OAAO,IAAI,OAAO,KAAK,EAAE,aAAa;wBAChD,OAAO,IAAI,CAAC;qBACf;oBACD,OAAO,KAAK,CAAC;iBAChB,CAAC,CAAC;gBACH,IAAI,oBAAoB,EAAE;oBACtB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACpC,IAAI,OAAO,EAAE;wBACT,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;qBACrC;iBACJ;aACJ,CAAC;gBACE,KAAK,EAAE,CAAC;SACf,CAAC;;aAEG,QAAQ,CAAC,0BAA0B,CAAC;aACpC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;QAE3B,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;;QAEnBG,qBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,EAAEH,SAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;YAChG,IAAI,aAAa,GAAG,IAAI,qBAAqB,CAAC,CAAC,CAAC,CAAC;;YAEjD,IAAI,KAAK,CAAC,0BAA0B,EAAE;gBAClC,OAAO;aACV;YACD,IAAI,aAAa,CAAC,OAAO,KAAK,EAAE,oBAAoB,aAAa,CAAC,OAAO,KAAK,EAAE,kBAAkB,aAAa,CAAC,OAAO,KAAK,EAAE,mBAAmB,aAAa,CAAC,OAAO,KAAK,EAAE,eAAe;gBACxLE,WAAe,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC9B,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;gBACpE,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;aACvC;SACJ,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;KACxC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAChD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAChD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAIxE,aAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACnF,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACnF,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACtF,IAAI0E,eAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACzF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE1E,aAAU,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC;YACnD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,WAAW,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,WAAW,GAAG,OAAO,GAAG,IAAI,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE0E,eAAY,GAAG,YAAY,GAAGA,eAAY,GAAG,IAAI,CAAC,CAAC;SACvF;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACnB,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,qBAAqB;aAC3D,CAAC,CAAC;SACN;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;gBAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe;gBAC5C,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe;gBAC5C,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW;gBACpC,6BAA6B,EAAE,IAAI,CAAC,MAAM,CAAC,6BAA6B;gBACxE,yBAAyB,EAAE,IAAI,CAAC,MAAM,CAAC,yBAAyB;gBAChE,gCAAgC,EAAE,IAAI,CAAC,MAAM,CAAC,gCAAgC;gBAC9E,4BAA4B,EAAE,IAAI,CAAC,MAAM,CAAC,4BAA4B;gBACtE,8BAA8B,EAAE,IAAI,CAAC,MAAM,CAAC,8BAA8B;gBAC1E,0BAA0B,EAAE,IAAI,CAAC,MAAM,CAAC,0BAA0B;aACrE,CAAC,CAAC;SACN;QACD,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAChC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC3C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,CAAC,EAAE;;QAE5D,IAAI,CAAC,YAAY,qBAAqB,EAAE;YACpC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,mBAAmB;gBACnC,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,MAAM,EAAE;gBAClD,OAAO,KAAK,CAAC;aAChB;;;YAGD,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;YACzC,OAAO,OAAO,CAAC,YAAY,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,cAAc,KAAK,OAAO,CAAC,YAAY,CAAC;SACjH;;QAED,OAAO,CAAC,CAAC,YAAY,CAAC;KACzB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;;QAEhC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACxB;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACxB;SACJ;;QAED,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KAChC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,aAAa,EAAE;QAChE,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;YAElB,IAAI,CAAC,IAAI,CAAC,0BAA0B,IAAI,aAAa,EAAE;gBACnD,IAAI,CAAC,0BAA0B,GAAG,aAAa,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;aACxB;;YAED,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,EAAE,mBAAmB,EAAE,eAAe,CAAC;SACrE;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE,OAAO,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACjC,IAAI,OAAO,GAAG,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QACzC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;;QAEpC,QAAQ,OAAO;YACX,KAAK,EAAE;gBACH,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACtB,MAAM;YACV,KAAK,EAAE;gBACH,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC1B,MAAM;YACV,KAAK,EAAE;gBACH,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC1B,MAAM;YACV,KAAK,EAAE;gBACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC9B,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC7B;qBACI;oBACD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;iBACzB;gBACD,MAAM;SACb;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;;QAEpC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,KAAK,QAAQ,EAAE;;YAE7C,IAAI,OAAO,KAAK,EAAE,mBAAmB,OAAO,KAAK,CAAC,cAAc,OAAO,CAAC,EAAE;gBACtE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;aACzB;;iBAEI,IAAI,OAAO,KAAK,EAAE,oBAAoB,OAAO,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE;gBAC5E,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;aAC1B;SACJ;;QAED,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChC,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,EAAEC,iBAAwB,CAAC,CAAC;SACnE;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;QAC/D,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YAC7B,OAAO;SACV;;QAED,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,uBAAuB,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC,CAAC;QAChH,IAAI,OAAO,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,0BAA0B,EAAE,IAAI,CAAC,0BAA0B,EAAE,CAAC;QACjI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;KACvD,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,aAAa,EAAE;QAC/E,IAAIC,OAAI,GAAG,IAAI,CAAC;;QAEhB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YAClB,IAAI,IAAI,GAAG,aAAa,IAAI,IAAI,CAAC,IAAI,CAAC;YACtC,IAAI,OAAO,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,0BAA0B,EAAE,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACjIA,OAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;SACtD;;QAED,IAAIA,OAAI,EAAE;YACN,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;SAC1C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;QACxD,OAAO;YACH,OAAO,EAAE,KAAK,KAAK,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;YACpL,GAAG,EAAE,KAAK,KAAK,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;SACvH,CAAC;KACL,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;QACvD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,0BAA0B,GAAG,OAAO,GAAG,OAAO,CAAC,0BAA0B,GAAG,KAAK,CAAC,CAAC;;QAExF,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;SACxB;;aAEI;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACzB;;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,IAAI,CAAC,0BAA0B,IAAIzD,QAAc,CAAC,KAAK,CAAC,EAAE;gBAC1D,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACxB;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACxB;SACJ;;QAED,IAAIA,QAAc,CAAC,KAAK,CAAC,EAAE;YACvB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAChC;aACI;YACD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,IAAI,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC;SACtF;;QAED,IAAI,OAAO,IAAI,OAAO,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;YACvE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;SAChD;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;SAC3B;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,MAAM,EAAE;QAC3D,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACjC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QACpE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KACnC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QACtE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY;YACtC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;;YAEpB,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC7G,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACrC,CAAC,CAAC,IAAI,CAAC,YAAY;;YAEhB,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;;YAEpB,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gBACxF,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;aACrC;SACJ,EAAEwD,iBAAwB,CAAC,CAAC;KAChC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE,CAAC,EAAE;QAC7D,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACf,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;KACpC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAG,EAAE,CAAC,EAAE;QAC7C,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;QAE9F,IAAI,SAAS,CAAC,oBAAoB,EAAE;YAChC,IAAI,kBAAkB,GAAG,KAAK,CAAC,CAAC;YAChC,IAAI,oBAAoB,GAAG,KAAK,CAAC,CAAC;YAClC,IAAI,MAAM,GAAG,SAAS,CAAC,oBAAoB,CAAC;YAC5C,IAAI,eAAe,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBACvB,IAAI,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC7C,IAAI,CAAC,kBAAkB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;oBACpD,kBAAkB,GAAG,KAAK,CAAC;iBAC9B;qBACI,IAAI,CAAC,oBAAoB,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;oBAClF,oBAAoB,GAAG,KAAK,CAAC;iBAChC;gBACD,IAAI,kBAAkB,IAAI,oBAAoB,EAAE;oBAC5C,MAAM;iBACT;aACJ;YACD,IAAI,YAAY,GAAG,kBAAkB,IAAI,oBAAoB,CAAC;YAC9D,IAAI,YAAY,EAAE;gBACd,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;gBACjC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAEA,iBAAwB,CAAC,CAAC;gBACzE,OAAO;aACV;SACJ;;QAED,IAAI,SAAS,CAAC,mBAAmB,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAEA,iBAAwB,CAAC,CAAC;SAC/E;;aAEI,IAAI,OAAO,SAAS,CAAC,cAAc,KAAK,QAAQ,EAAE;YACnD,IAAI,OAAO,CAAC,MAAM,GAAG,SAAS,CAAC,cAAc,EAAE;gBAC3C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;gBAC7C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAEA,iBAAwB,CAAC,CAAC;aAC/E;SACJ;;aAEI,IAAI,SAAS,CAAC,oBAAoB,EAAE;YACrC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;aACzB;SACJ;;aAEI,IAAI,SAAS,CAAC,kBAAkB,EAAE;YACnC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;aACzB;SACJ;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YACnB,OAAO;SACV;QACD,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,KAAK,EAAE;YACR,OAAO;SACV;;QAED,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAY;;YAEjC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;;YAEpB,IAAI,SAAS,EAAE;gBACX,IAAI,WAAW,GAAG,SAAS,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACtH,IAAI,WAAW,EAAE;oBACb,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;iBACrC;aACJ;SACJ,EAAEA,iBAAwB,CAAC,CAAC;KAChC,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC1C,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,UAAU,GAAG,CAAC,CAAC;SACrF;QACD,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,oBAAoB,CAAC;QACzB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE;YACvD,oBAAoB,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,EAAE,sFAAsF,IAAI,yBAAyB;SAC/K;QACD,IAAI,CAAC,oBAAoB,IAAI,oBAAoB,GAAG,eAAe,CAAC,gBAAgB,EAAE;YAClF,oBAAoB,GAAG,eAAe,CAAC,gBAAgB,CAAC;SAC3D;QACD,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9F,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,IAAI,OAAO,CAAC,MAAM,CAAC;QAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvD,IAAI,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,IAAI,MAAM,GAAG,WAAW,IAAI,oBAAoB,EAAE;gBAC9C,MAAM,IAAI,WAAW,CAAC;aACzB;iBACI;gBACD,MAAM;aACT;SACJ;QACD,OAAO,MAAM,CAAC;KACjB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,MAAM,EAAE;QAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YACnB,OAAO;SACV;QACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;;QAEvB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;QAEzB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;;QAEzD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,EAAE,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;;QAElH,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;;QAE/B,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE;YAC/B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;;QAED,IAAI,MAAM,KAAK,UAAU,CAAC,gBAAgB,EAAE;YACxC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;aACI;YACD,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SACjC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,6BAA6B,GAAG,YAAY;QAClE,OAAO,IAAI,CAAC,0BAA0B,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,WAAW,EAAE;QAC9D,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;SAC7C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,qBAAqB,EAAE;QACzE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YAC5B,IAAI,qBAAqB,KAAK,IAAI,EAAE,CAEnC;iBACI,IAAI,KAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE;gBAC3C,IAAI,KAAK,GAAG,qBAAqB,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBACrE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;aACpD;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;aAC1B;SACJ;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,UAAU,EAAE;QAC1D,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,GAAG,UAAU,GAAG,UAAU,GAAG,MAAM,CAAC;SACtE;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE;QACxE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YACnB,OAAO;SACV;;QAED,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE;YACnB,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;;QAED,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;;QAEzC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,IAAI,wBAAwB,CAAC,CAAC;SACrE;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,YAAY,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YAC9C,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;SAC1C;;;QAGD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QAC1C,IAAI,CAAC,0BAA0B,GAAG,UAAU,CAAC,YAAY;YACrD,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACjD,EAAE,GAAG,CAAC,CAAC;KACX,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;KAC/B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,UAAU,EAAE;QAClE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,UAAU,KAAK,QAAQ,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,GAAG,UAAU,KAAK,QAAQ,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;SACjL;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,oBAAoB,GAAG,YAAY;QACzD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;SAC/B;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACnC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACzB;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC3C,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YAClB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,OAAO,EAAE;gBACT,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;aACjC;SACJ;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;QACvD,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAC5D,IAAI,aAAa,EAAE;YACf,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SAC3C;QACD,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SAClD;aACI,IAAI,aAAa,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;SAC9C;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;QACpD,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;;QAElC,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,mBAAmB,eAAe,CAAC,SAAS,CAAC,CAAC;QAC9G,IAAI,IAAI,CAAC,OAAO,EAAE;;YAEd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;gBACf,KAAK,EAAE,cAAc,GAAG,IAAI;gBAC5B,UAAU,EAAE,GAAG,IAAI,cAAc,GAAG,CAAC,CAAC,GAAG,IAAI;aAChD,CAAC,CAAC;;YAEH,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;gBACtB,KAAK,EAAE,CAAC,cAAc,GAAG,EAAE,IAAI,IAAI;aACtC,CAAC,CAAC;SACN;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QACjD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;KAC/B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,CAAC,EAAE;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE;YACnB,OAAO;SACV;QACD,IAAI,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,0BAA0B,IAAIE,UAAc,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,EAAE;YAClG,OAAO;SACV;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY;YACjC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;gBACvB,OAAO;aACV;YACD,IAAI,KAAK,CAAC,UAAU,EAAE;gBAClB,OAAO;aACV;YACD,IAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,WAAW,IAAI,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YACxE,IAAI,CAAC,IAAI,EAAE;gBACP,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;aACrC;SACJ,CAAC,CAAC;KACN,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;KACvB,CAAC;IACF,eAAe,CAAC,SAAS,GAAG,GAAG,CAAC;IAChC,eAAe,CAAC,gBAAgB,GAAG,EAAE,GAAG,EAAE,CAAC;IAC3C,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;ACnxBL;;;;AAIA,AAMA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,EAAE,YAAY,EAAE;QAC5F,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;KACtD;IACD,qBAAqB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,EAAE;QACtF,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE;YACrD,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,QAAQ;YAClB,MAAM,EAAE,MAAM;SACjB,EAAE;YACC,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,aAAa,CAAC,cAAc;YAC5C,eAAe,EAAE,IAAI;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,EAAE;YACzE,qBAAqB,EAAE,UAAU;SACpC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;QAC/D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KAC/C,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAChD,OAAO,qBAAqB,CAAC,EAAE,CAAC;KACnC,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACrD,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAClD,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;KACzB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACpD,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;QACnD,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;SACvF;QACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC7C,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAC/C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC7C,CAAC;IACF,qBAAqB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACtD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO;gBACH,UAAU,EAAE,+BAA+B,CAAC,UAAU;aACzD,CAAC;SACL;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,sCAAsC,CAAC;IAClE,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;;AC1EL;;;;AAIA,AACA,IAAItG,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,AAIA,IAAIyG,qBAAmB,kBAAkB,YAAY;IACjD,SAAS,mBAAmB,CAAC,MAAM,EAAE,YAAY,EAAE;QAC/C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB;IACD,mBAAmB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACxC,OAAO,MAAM,CAAC,eAAe,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;KACzD,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC9C,OAAO,mBAAmB,CAAC,EAAE,CAAC;KACjC,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;;QAEhD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;KACJ,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;;QAED,IAAI,OAAO,GAAG,UAAUrD,WAAQ,EAAE;;YAE9B,KAAK,CAAC,gBAAgB,EAAE,CAAC;;YAEzB,IAAIA,WAAQ,IAAI,KAAK,CAAC,wBAAwB,EAAE;gBAC5C,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;gBAC1D,KAAK,CAAC,MAAM,CAAC,oCAAoC,CAAC,KAAK,CAAC,wBAAwB,EAAE,CAAC,cAAc,CAAC;aACrG;YACD,KAAK,CAAC,wBAAwB,GAAG,IAAI,CAAC;YACtC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACxB,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,UAAU,KAAK,EAAE;YACjJ,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;SACzE,EAAE;YACC,cAAc,EAAE,IAAI,CAAC,cAAc;SACtC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;;QAEtB,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE;YAChC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;SAC9D;;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU3C,QAAK,EAAE,MAAM,EAAE;QAClE,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YACrD,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;SAC1C;QACD,IAAI,cAAc,GAAG;YACjB;gBACI,KAAK,EAAEA,QAAK;gBACZ,OAAO,EAAE,mBAAmB,CAAC,2BAA2B;aAC3D;SACJ,CAAC;QACF,IAAI,WAAW,GAAG,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;QAC1E,IAAI,CAAC,0BAA0B,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;KACpD,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACzD,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,0BAA0B,CAAC,EAAE,EAAE,CAAC,CAAC;YACpE,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;SAC1C;KACJ,CAAC;IACF,mBAAmB,CAAC,EAAE,GAAG,uCAAuC,CAAC;IACjE,mBAAmB,CAAC,2BAA2B,GAAG,sBAAsB,CAAC,QAAQ,CAAC;QAC9E,SAAS,EAAE,gBAAgB;QAC3B,WAAW,EAAE,IAAI;KACpB,CAAC,CAAC;IACH,mBAAmB,GAAGE,YAAU,CAAC;QAC7BC,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;KAC5B,EAAE,mBAAmB,CAAC,CAAC;IACxB,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC;AACL,AACA;;;AAGA,IAAI,yBAAyB,kBAAkB,UAAU,MAAM,EAAE;IAC7DV,WAAS,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC7C,SAAS,yBAAyB,CAAC,cAAc,EAAE,IAAI,EAAE;QACrD,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QAC5C,KAAK,CAAC,eAAe,GAAG,cAAc,CAAC;QACvC,OAAO,KAAK,CAAC;KAChB;IACD,yBAAyB,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,MAAM,EAAE;QAClE,OAAOuG,qBAAmB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;KAC1C,CAAC;IACF,yBAAyB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,UAAU,EAAE,IAAI,EAAE;QACpE,UAAU,CAAC,GAAG,CAAC;YACX,cAAc,EAAE,IAAI,CAAC,eAAe;YACpC,QAAQ,EAAE,UAAU,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;YAC3D,YAAY,EAAE,UAAU,WAAW,EAAE,EAAE,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,EAAE;SAClF,CAAC,CAAC;KACN,CAAC;IACF,OAAO,yBAAyB,CAAC;CACpC,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,0BAA0B,CAACA,qBAAmB,CAAC,CAAC;;ACnIhD;;;;AAIA,AASO,SAAS,kBAAkB,CAAC,KAAK,EAAE;IACtC,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI,QAAQ,GAAG,8BAA8B,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE;QAC5E,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE;YACnC,OAAO,OAAO,CAAC,sBAAsB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACvD,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACtB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACvB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;aACvC;SACJ,EAAE,UAAU,GAAG,EAAE;YACd,yBAAyB,CAAC,GAAG,CAAC,CAAC;SAClC,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;QAC5C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrBC,SAAO,CAAC,WAAW,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;QAClC,WAAW,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAC3C,OAAO;YACH,OAAO,EAAE,WAAW;SACvB,CAAC;KACL,CAAC,CAAC;CACN;AACD,SAAS,wBAAwB,CAAC,CAAC,EAAE,CAAC,EAAE;IACpC,OAAO,KAAK,CAAC,wBAAwB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;CACrG;AACD,SAASA,SAAO,CAAC,MAAM,EAAE,OAAO,EAAE,sBAAsB,EAAE;IACtD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;QAC/D,IAAI,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;QAC1B,MAAM,CAAC,IAAI,CAAC;YACR,IAAI,EAAE,KAAK,CAAC,IAAI;YAChB,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,IAAI,EAAE,KAAK,CAAC,IAAI;YAChB,aAAa,EAAE,KAAK,CAAC,aAAa,IAAI,sBAAsB;SAC/D,CAAC,CAAC;KACN;CACJ;AACD,uBAAuB,CAAC,gCAAgC,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAChF,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC7B,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,EAAE;QAC5B,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;KACrC;IACD,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;CACpC,CAAC,CAAC;;AC3DH;;;;AAIA,AACA,IAAIxG,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAYA,IAAI,YAAY,GAAG,GAAG,CAAC;AACvB,IAAI,WAAW,kBAAkB,UAAU,MAAM,EAAE;IAC/CE,WAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAC/B,SAAS,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,EAAEO,QAAK,EAAE,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE;QAChF,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC;QAChC,KAAK,CAAC,KAAK,GAAGA,QAAK,CAAC;QACpB,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAChC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,OAAO,KAAK,CAAC;KAChB;IACD,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC7C,OAAOR,QAAY,CAAC,gBAAgB,EAAE,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KACpE,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACjD,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;YACpB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SAChC;QACD,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;KAC5B,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE;;QAE/C,IAAIQ,QAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,YAAY,CAACA,QAAK,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAACA,QAAK,EAAE,CAAC,cAAc,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC;KACf,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;;QAE3C,IAAIA,QAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAACA,QAAK,EAAE,CAAC,cAAc,CAAC;;QAEvD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC5C,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;KACtI,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,CAAC,mBAAmB,CAAC,CAAC,CAAC;AACxB,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDP,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAED,QAAY,CAAC,yBAAyB,EAAE,wDAAwD,CAAC,EAAE;YACxH,EAAE,EAAE,4BAA4B;YAChC,KAAK,EAAEA,QAAY,CAAC,0BAA0B,EAAE,iBAAiB,CAAC;YAClE,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,iBAAiB,CAAC,yBAAyB;YACzD,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,IAAI,eAAe,EAAE;aACtD;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,CAAC;aACX;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YAC5C,OAAO,IAAI,CAAC;SACf;;QAED,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;YACpD,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC7B,OAAO;aACV;YACD,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;SACtC,CAAC,CAAC;KACN,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;YACnC,QAAQ,EAAE,UAAU,KAAK,EAAE;gBACvB,OAAO,IAAI,cAAc,CAAC,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;aAC9E;YACD,YAAY,EAAE,UAAU,WAAW,EAAE;;gBAEjC,IAAI,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;oBACzC,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;iBACzD;gBACD,OAAO;oBACH,oBAAoB,EAAE,WAAW;oBACjC,mBAAmB,EAAE,CAAC,CAAC,WAAW;iBACrC,CAAC;aACL;SACJ,CAAC,CAAC;KACN,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE;QACnH,OAAO,IAAI,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;KAC9G,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE;QACxF,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,OAAO,GAAG,EAAE,CAAC;;QAEjB,IAAI,qBAAqB,GAAG,WAAW,CAAC;QACxC,IAAI,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;YACzC,qBAAqB,GAAG,qBAAqB,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC7E;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,KAAK,GAAG0G,IAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;YAEvC,IAAI,UAAU,GAAG,YAAY,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,UAAU,EAAE;;gBAEZ,IAAI,WAAW,GAAG,IAAI,CAAC;gBACvB,IAAI,OAAO,CAAC,aAAa,EAAE;oBACvB,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC;iBACvC;;gBAED,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,OAAO,CAAC,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC;aAC5I;SACJ;;QAED,IAAI,WAAW,EAAE;YACb,IAAI,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;gBACzC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;aACjF;iBACI;gBACD,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;aACjF;SACJ;;QAED,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;YAC/D,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,IAAI,aAAa,GAAG,IAAI,CAAC;YACzB,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;;gBAExB,IAAI,WAAW,KAAK,MAAM,CAAC,OAAO,EAAE,EAAE;;oBAElC,IAAI,aAAa,EAAE;wBACf,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC;qBAC3E;oBACD,WAAW,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;oBAC/B,aAAa,GAAG,MAAM,CAAC;oBACvB,WAAW,GAAG,CAAC,CAAC;oBAChB,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC/B;;qBAEI;oBACD,WAAW,EAAE,CAAC;iBACjB;aACJ;;YAED,IAAI,aAAa,EAAE;gBACf,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC;aAC3E;SACJ;;aAEI,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC1G,QAAY,CAAC,SAAS,EAAE,eAAe,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;SACtF;QACD,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;QAC9D,QAAQ,IAAI;YACR,KAAK,QAAQ,EAAE,OAAOA,QAAY,CAAC,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;YACtE,KAAK,OAAO,EAAE,OAAOA,QAAY,CAAC,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;YACnE,KAAK,WAAW,EAAE,OAAOA,QAAY,CAAC,WAAW,EAAE,kBAAkB,EAAE,KAAK,CAAC,CAAC;YAC9E,KAAK,QAAQ,EAAE,OAAOA,QAAY,CAAC,QAAQ,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;YACrE,KAAK,UAAU,EAAE,OAAOA,QAAY,CAAC,UAAU,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;YAC3E,KAAK,UAAU,EAAE,OAAOA,QAAY,CAAC,UAAU,EAAE,kBAAkB,EAAE,KAAK,CAAC,CAAC;YAC5E,KAAK,UAAU,EAAE,OAAOA,QAAY,CAAC,UAAU,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;YAC3E,KAAK,KAAK,EAAE,OAAOA,QAAY,CAAC,WAAW,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;YACvE,KAAK,aAAa,EAAE,OAAOA,QAAY,CAAC,cAAc,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC;YACrF,KAAK,MAAM,EAAE,OAAOA,QAAY,CAAC,MAAM,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;SAClE;QACD,OAAO,IAAI,CAAC;KACf,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE;QACjF,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;QACrD,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;;QAErD,IAAI,CAAC,GAAG,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,EAAE;YACT,OAAO,CAAC,CAAC;SACZ;;QAED,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACxC,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACxC,OAAO,aAAa,CAAC,eAAe,GAAG,aAAa,CAAC,eAAe,CAAC;KACxE,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE;;QAEjF,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;;QAEtD,IAAI,YAAY,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;QACtC,IAAI,YAAY,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,GAAG,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,EAAE;YACT,OAAO,CAAC,CAAC;SACZ;;QAED,IAAI,WAAW,EAAE;YACb,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;YACrD,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;;YAErD,IAAI,GAAG,GAAG,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YACnD,IAAI,GAAG,KAAK,CAAC,EAAE;gBACX,OAAO,GAAG,CAAC;aACd;SACJ;;QAED,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACxC,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACxC,OAAO,aAAa,CAAC,eAAe,GAAG,aAAa,CAAC,eAAe,CAAC;KACxE,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,yBAAyB,CAAC,CAAC,CAAC;AAC9B,AACA,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACtQzC;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAUA,IAAI,aAAa,kBAAkB,UAAU,MAAM,EAAE;IACjDE,WAAS,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;IACjC,SAAS,aAAa,CAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE;QAC5C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC7C,OAAO,KAAK,CAAC;KAChB;IACD,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;QAClD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC;QAC7I,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YACtB,QAAQ,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SACnC;aACI,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3B,QAAQ,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC1C;aACI;YACD,QAAQ,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACnD;QACD,IAAI,KAAK,CAAC;QACV,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC3B,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;SAClC;aACI;YACD,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;SAC3C;QACD,IAAI,OAAO,GAAG,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC;QACvE,IAAI,OAAO,EAAE;YACT,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxC,KAAK,GAAGD,QAAY,CAAC,iCAAiC,EAAE,kCAAkC,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;aACrI;iBACI;gBACD,KAAK,GAAGA,QAAY,CAAC,wBAAwB,EAAE,gBAAgB,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;aAC1G;SACJ;aACI,IAAI,QAAQ,CAAC,UAAU,GAAG,CAAC,IAAI,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC,YAAY,EAAE,EAAE;YAC5E,KAAK,GAAGA,QAAY,CAAC,iCAAiC,EAAE,qDAAqD,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;SACxI;aACI;YACD,KAAK,GAAGA,QAAY,CAAC,0CAA0C,EAAE,mDAAmD,EAAE,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;SACtK;QACD,OAAO;YACH,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,OAAO;YAChB,KAAK,EAAE,KAAK;SACf,CAAC;KACL,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QAC3C,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;KAClC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,OAAOA,QAAY,CAAC,mBAAmB,EAAE,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;KACvF,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QACnD,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;YACpB,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;KAC5B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;;QAE1C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;YAC5B,OAAO,KAAK,CAAC;SAChB;;QAED,IAAIQ,QAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,YAAY,CAACA,QAAK,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAACA,QAAK,EAAE,CAAC,cAAc,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;;QAE7C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;YAC5B,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;YAClC,OAAO,KAAK,CAAC;SAChB;;QAED,IAAIA,QAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAACA,QAAK,EAAE,CAAC,cAAc,CAAC;;QAEvD,IAAI,CAAC,SAAS,CAAC,YAAY,CAACA,QAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAChD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAC9C,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxK,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,CAAC,cAAc,CAAC,CAAC,CAAC;AACnB,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDP,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAED,QAAY,CAAC,qBAAqB,EAAE,yFAAyF,CAAC,EAAE;YACrJ,EAAE,EAAE,wBAAwB;YAC5B,KAAK,EAAEA,QAAY,CAAC,sBAAsB,EAAE,eAAe,CAAC;YAC5D,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,EAAE,IAAI,iBAAiB,EAAE;gBAChC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,cAAc;aACvD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;YACnC,QAAQ,EAAE,UAAU,KAAK,EAAE;gBACvB,OAAO,IAAI,cAAc,CAAC,CAAC,IAAI,aAAa,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9F;YACD,YAAY,EAAE,UAAU,WAAW,EAAE;gBACjC,OAAO;oBACH,mBAAmB,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC;iBAC9C,CAAC;aACL;SACJ,CAAC,CAAC;KACN,CAAC;IACF,OAAO,cAAc,CAAC;CACzB,CAAC,yBAAyB,CAAC,CAAC,CAAC;AAC9B,AACA,oBAAoB,CAAC,cAAc,CAAC,CAAC;;ACnJrC;;;;AAIA,AACA,IAAIC,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAWA,IAAI,wBAAwB,kBAAkB,UAAU,MAAM,EAAE;IAC5DE,WAAS,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IAC5C,SAAS,wBAAwB,CAAC,GAAG,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE;QAC/D,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACtC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QAChB,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAChC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,OAAO,KAAK,CAAC;KAChB;IACD,wBAAwB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACtD,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;KAC5B,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC1D,OAAOD,QAAY,CAAC,gBAAgB,EAAE,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC3E,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAC3D,OAAO,IAAI,CAAC,GAAG,CAAC;KACnB,CAAC;IACF,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;QAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;;YAEpB,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY;;gBAElC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACrB,IAAI;oBACA,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;oBACtD,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;iBACzC;gBACD,OAAO,KAAK,EAAE;oBACV,iBAAiB,CAAC,KAAK,CAAC,CAAC;iBAC5B;aACJ,EAAE,iBAAiB,CAAC,CAAC;YACtB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;IACF,OAAO,wBAAwB,CAAC;CACnC,CAAC,mBAAmB,CAAC,CAAC,CAAC;AACxB,AACA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDC,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAED,QAAY,CAAC,yBAAyB,EAAE,gDAAgD,CAAC,EAAE;YAChH,EAAE,EAAE,4BAA4B;YAChC,KAAK,EAAEA,QAAY,CAAC,0BAA0B,EAAE,iBAAiB,CAAC;YAClE,KAAK,EAAE,iBAAiB;YACxB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,KAAK;gBAC/B,OAAO,GAAGmE,IAAY,GAAG,GAAG,aAAa,EAAE,YAAY,EAAE,UAAU;aACtE;YACD,QAAQ,EAAE,EAAE;SACf,CAAC,IAAI,IAAI,CAAC;KACd;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;YACnC,QAAQ,EAAE,UAAU,KAAK,EAAE;gBACvB,OAAO,IAAI,cAAc,CAAC,KAAK,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;aAC9F;YACD,YAAY,EAAE,UAAU,WAAW,EAAE;gBACjC,OAAO;oBACH,mBAAmB,EAAE,IAAI;oBACzB,oBAAoB,EAAE,WAAW;iBACpC,CAAC;aACL;SACJ,CAAC,CAAC;KACN,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,QAAQ,EAAE,QAAQ,EAAE;QAC/D,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;QACrD,IAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC;QACrD,OAAO,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;KACnD,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,iBAAiB,EAAE,MAAM,EAAE,WAAW,EAAE;QACrG,IAAI,OAAO,GAAG,MAAM,CAAC,mBAAmB,EAAE,CAAC;QAC3C,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,OAAO,GAAG,iBAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,IAAI,UAAU,GAAG,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;gBACzD,IAAI,UAAU,EAAE;oBACZ,OAAO,CAAC,IAAI,CAAC,IAAI,wBAAwB,CAAC,OAAO,GAAG,OAAO,CAAC,QAAQ,EAAE,GAAG,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;iBAC7G;aACJ;SACJ;;QAED,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,OAAO,OAAO,CAAC;KAClB,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,yBAAyB,CAAC,CAAC,CAAC;AAC9B,AACA,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;;AC1HzC;;;;AAIA,AACA,IAAIlE,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AAGA,IAAI,kBAAkB,kBAAkB,UAAU,MAAM,EAAE;IACtDE,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YAC1B,EAAE,EAAE,kCAAkC;YACtC,KAAK,EAAED,QAAY,CAAC,oBAAoB,EAAE,4BAA4B,CAAC;YACvE,KAAK,EAAE,4BAA4B;YACnC,YAAY,EAAE,IAAI;SACrB,CAAC,IAAI,IAAI,CAAC;QACX,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAChC,OAAO,KAAK,CAAC;KAChB;IACD,kBAAkB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC3D,IAAI,sBAAsB,GAAG,QAAQ,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACnE,IAAI,IAAI,CAAC,kBAAkB,EAAE;;YAEzB,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACzD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAClC;aACI;YACD,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC;YACtE,sBAAsB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SAC/C;KACJ,CAAC;IACF,OAAO,kBAAkB,CAAC;CAC7B,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;;AC5CzC;;;;;;;;;GASG;;ACTH;;;;AAIA,AACA,IAAI,cAAc,kBAAkB,YAAY;IAC5C,SAAS,cAAc,CAAC,KAAK,EAAE;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;IACD,cAAc,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;QACjD,OAAO,IAAI,CAAC,KAAK,KAAK,KAAK,IAAI,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC;KACrF,CAAC;IACF,cAAc,CAAC,GAAG,GAAG,GAAG,CAAC;IACzB,cAAc,CAAC,KAAK,GAAG,IAAI,cAAc,CAAC,EAAE,CAAC,CAAC;IAC9C,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,UAAU,CAAC,CAAC;IACzD,cAAc,CAAC,MAAM,GAAG,IAAI,cAAc,CAAC,QAAQ,CAAC,CAAC;IACrD,cAAc,CAAC,qBAAqB,GAAG,IAAI,cAAc,CAAC,wBAAwB,CAAC,CAAC;IACpF,OAAO,cAAc,CAAC;CACzB,EAAE,CAAC,CAAC;AACL,AACO,IAAI,mBAAmB,CAAC;AAC/B,CAAC,UAAU,mBAAmB,EAAE;IAC5B,mBAAmB,CAAC,mBAAmB,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;IACtE,mBAAmB,CAAC,mBAAmB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;IAChE,mBAAmB,CAAC,mBAAmB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;CACnE,EAAE,mBAAmB,KAAK,mBAAmB,GAAG,EAAE,CAAC,CAAC,CAAC;;ACzBtD;;;;AAIA,AAUO,SAAS,cAAc,CAAC,KAAK,EAAEQ,QAAK,EAAE,MAAM,EAAE;IACjD,IAAI,iBAAiB,GAAG,EAAE,IAAI,EAAE,MAAM,IAAI,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,SAAS,EAAE,CAAC;IACxF,IAAI,QAAQ,GAAG,0BAA0B,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE;QACxE,OAAO,cAAc,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,OAAO,CAAC,kBAAkB,CAAC,KAAK,EAAEA,QAAK,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,mBAAmB,EAAE;YACvJ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE;gBACrC,OAAO,EAAE,CAAC;aACb;YACD,OAAO,mBAAmB,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,EAAE,OAAO,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;SAClG,EAAE,UAAU,GAAG,EAAE;YACd,yBAAyB,CAAC,GAAG,CAAC,CAAC;YAC/B,OAAO,EAAE,CAAC;SACb,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;SACzB,IAAI,CAAC,OAAO,CAAC;SACb,IAAI,CAAC,UAAU,cAAc,EAAE,EAAE,OAAO,SAAS,CAAC,cAAc,EAAE,qBAAqB,CAAC,CAAC,EAAE,CAAC,CAAC;CACrG;AACD,SAAS,aAAa,CAAC,MAAM,EAAE,MAAM,EAAE;IACnC,IAAI,CAAC,MAAM,EAAE;QACT,OAAO,KAAK,CAAC;KAChB;;IAED,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE;QAC/E,OAAO,KAAK,CAAC;KAChB;;IAED,IAAI,MAAM,CAAC,IAAI,IAAI,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAE;QACzG,OAAO,KAAK,CAAC;KAChB;IACD,OAAO,IAAI,CAAC;CACf;AACD,SAAS,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAE;IACjC,IAAI,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;IAC/C,IAAI,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;IAC/C,IAAI,SAAS,EAAE;QACX,IAAI,SAAS,EAAE;YACX,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;SAC3E;aACI;YACD,OAAO,CAAC,CAAC,CAAC;SACb;KACJ;SACI,IAAI,SAAS,EAAE;QAChB,OAAO,CAAC,CAAC;KACZ;SACI;QACD,OAAO,CAAC,CAAC;KACZ;CACJ;AACD,uBAAuB,CAAC,4BAA4B,EAAE,UAAU,QAAQ,EAAE,IAAI,EAAE;IAC5E,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAEA,QAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACjD,IAAI,EAAE,QAAQ,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAACA,QAAK,CAAC,EAAE;QACtD,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAAC,KAAK,EAAE;QACR,MAAM,eAAe,EAAE,CAAC;KAC3B;IACD,OAAO,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,aAAa,CAACA,QAAK,CAAC,CAAC,CAAC;CAC5D,CAAC,CAAC;;ACzEH;;;;AAIA,AAQO,IAAI,sBAAsB,GAAG,IAAI,aAAa,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;AACjF,IAAI,gBAAgB,kBAAkB,YAAY;IAC9C,SAAS,gBAAgB,CAAC,OAAO,EAAE,cAAc,EAAE,aAAa,EAAE,KAAK,EAAE;QACrE,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE;QACtC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,OAAO,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACnW;IACD,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC7C,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAClD,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE;QACpD,IAAI,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,EAAE,IAAI,IAAI,CAAC,4CAA4C,EAAE,CAAC;QACvG,IAAI,CAAC,gBAAgB,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ,EAAE;YAChD,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SAClD;QACD,OAAO,IAAI,CAAC,2BAA2B,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;KACtE,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,SAAS,EAAE;QAC/D,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC;QACtC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,WAAW,GAAG,SAAS,EAAE,EAAE,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YACrE,IAAI,QAAQ,GAAG,WAAW,CAAC,EAAE,CAAC,CAAC;YAC/B,IAAI,QAAQ,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC,QAAQ,EAAE,EAAE;gBACxC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;gBAC/B,OAAO;aACV;SACJ;KACJ,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QACrD,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;KAClC,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACvD,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC3F,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE;gBAC1C,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC7B;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,4CAA4C,GAAG,YAAY;QAClF,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;YACrB,IAAI,EAAE,GAAG,SAAS,CAAC,WAAW,EAAE,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;YACjF,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAC5C,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;;gBAEnB,OAAO,SAAS,CAAC;aACpB;iBACI,IAAI,MAAM,KAAK,CAAC,EAAE;;gBAEnB,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;oBACpB,OAAO,SAAS,CAAC;iBACpB;aACJ;iBACI,IAAI,MAAM,KAAK,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE;;gBAEpD,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;oBAClC,OAAO,SAAS,CAAC;iBACpB;aACJ;iBACI;;gBAED,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;oBAC5D,OAAO,SAAS,CAAC;iBACpB;aACJ;SACJ;QACD,OAAO,SAAS,CAAC;KACpB,CAAC;IACF,gBAAgB,CAAC,SAAS,CAAC,2BAA2B,GAAG,UAAU,OAAO,EAAE,gBAAgB,EAAE;QAC1F,IAAI,CAAC,gBAAgB,EAAE;;YAEnB,IAAI,CAAC,aAAa,CAAC;gBACf,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAE,SAAS;gBAChB,QAAQ,EAAE,SAAS;gBACnB,OAAO,EAAE,SAAS;aACrB,CAAC,CAAC;YACH,OAAO,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SACjC;aACI;;YAED,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACpC,IAAIA,QAAK,GAAG,KAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;YAClD,IAAI,QAAQ,GAAG,gBAAgB,YAAY,SAAS,GAAG,gBAAgB,CAAC,WAAW,EAAE,GAAG,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;YAC5H,IAAI,OAAO,GAAG,cAAc,CAAC,KAAK,EAAEA,QAAK,EAAE,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC;gBACf,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAEA,QAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,OAAO;aACnB,CAAC,CAAC;YACH,OAAO,OAAO,CAAC;SAClB;KACJ,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,MAAM,EAAE,aAAa,EAAE,iBAAiB,EAAE;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,qBAAqB,GAAG,sBAAsB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/F,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACvG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,OAAO,EAAE,CAAC;KAClB;IACD,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;KACnC,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,kBAAkB,EAAE;QACjE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;SACvC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;YACjC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;eACpB,0BAA0B,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;eACvD,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,EAAE;YAC9C,IAAI,gBAAgB,GAAG,EAAE,CAAC;YAC1B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,0BAA0B,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;gBACjG,IAAI,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBACtB,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,uBAAuB,CAAC,EAAE;oBACjD,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,QAAQ,CAAC,uBAAuB,CAAC,CAAC;iBACnF;aACJ;YACD,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,iBAAiB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3I,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;SACpD;aACI;YACD,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC;SACtC;KACJ,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE;QACnD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SAClD;QACD,OAAO,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;KACjC,CAAC;IACF,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;AC7KL;;;;AAIA,AAOA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,OAAO,EAAE,mBAAmB,EAAE,kBAAkB,EAAE;QAC7E,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,uBAAuB,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC;KACpE;IACD,qBAAqB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE,EAAE,EAAE;QACxD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;YACtC,OAAO,KAAK,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;gBAC/B,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,EAAE,GAAG,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,YAAY;oBAC5G,OAAO,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;iBAC1H,CAAC,CAAC;aACN,CAAC,CAAC;SACN,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;YACvB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;;gBAE7B,OAAO,QAAQ,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;aACzC;YACD,OAAO,OAAO,CAAC;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC;YACrC,SAAS,EAAE,YAAY;gBACnB,IAAI,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;oBAC1B,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;iBAC5B;gBACD,OAAO,EAAE,CAAC;aACb;YACD,UAAU,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,EAAE;YAC3C,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,EAAE;YAC/C,mBAAmB,EAAE,IAAI;SAC5B,CAAC,CAAC;KACN,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,qBAAqB,CAAC,SAAS,EAAE,WAAW,EAAE;QAChE,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,qBAAqB,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;QAC5D,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,iBAAiB,CAAC;QACzD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;;QAEtB,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;QACvF,IAAI,YAAY,GAAG,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC;QACrE,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;QAC9C,IAAI,CAAC,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC;QAClE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;KACzB,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChEL;;;;AAIA,AAQA,IAAI,eAAe,kBAAkB,YAAY;IAC7C,SAAS,eAAe,CAAC,MAAM,EAAE;QAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,uBAAuB,EAAE,CAAC;QAClD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5G,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;;YAErE,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,EAAE;gBAC5F,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;aAC/B;SACJ,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC4B,6BAAiC,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE;;YAE1F,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;;;YAGtB,IAAI,EAAE,GAAGtB,sBAA0B,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;YACtF,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC;YAC7D,IAAI6F,MAAG,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YACrC,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE;gBACxEA,MAAG,IAAI,UAAU,CAAC;aACrB;YACD,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAChB,CAAC,EAAE,CAAC,CAAC,IAAI;gBACT,CAAC,EAAE,GAAG,GAAG,MAAM,GAAGA,MAAG;aACxB,CAAC,CAAC;SACN,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAACrG,qBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,UAAU,CAAC,EAAE;YACvF,IAAI,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,MAAM,CAAC,EAAE;gBACvB,OAAO;aACV;;;;YAID,KAAK,CAAC,IAAI,EAAE,CAAC;YACb,IAAI,OAAO,GAAG,IAAI,sBAAsB,EAAE,CAAC;YAC3C,OAAO,CAAC,eAAe,CAAC,uBAAuB,EAAE,YAAY,GAAG,EAAE,YAAY;gBAC1E,OAAO,CAAC,OAAO,EAAE,CAAC;aACrB,CAAC,CAAC;SACN,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;;YAEtE,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,gBAAgB,EAAE;gBACjF,KAAK,CAAC,IAAI,EAAE,CAAC;aAChB;SACJ,CAAC,CAAC,CAAC;KACP;IACD,eAAe,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC5C,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,OAAO,iBAAiB,CAAC;KAC5B,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QAChD,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,KAAK,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;;;gBAGzG,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;iBACI,IAAI,IAAI,CAAC,YAAY,EAAE;;gBAExB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;aAC9B;YACD,IAAI,CAAC,YAAY,GAAG,IAAI,uBAAuB,EAAE,CAAC;YAClD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YACpC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;gBACtC,IAAI,CAAC,KAAK,CAAC,uBAAuB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7D,KAAK,CAAC,KAAK,EAAE,CAAC;iBACjB;qBACI;oBACD,KAAK,CAAC,IAAI,EAAE,CAAC;iBAChB;aACJ,EAAE,UAAU,GAAG,EAAE;gBACd,KAAK,CAAC,IAAI,EAAE,CAAC;aAChB,CAAC,CAAC;SACN;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;SAC9B;QACD,GAAG,EAAE,UAAU,KAAK,EAAE;YAClB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;SAC/B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,eAAe,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC1C,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,EAAE;YACtC,OAAO;SACV;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAI,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC;QACzC,IAAI,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,MAAM,GAAG,SAAS,CAAC,kBAAkB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAChE,IAAI,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,GAAG,MAAM,GAAG,EAAE,CAAC;QAC5D,IAAI,mBAAmB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,YAAY,EAAE;YACf,IAAI,UAAU,GAAG,CAAC,EAAE;gBAChB,mBAAmB,IAAI,CAAC,CAAC;aAC5B;iBACI;gBACD,mBAAmB,IAAI,CAAC,CAAC;aAC5B;SACJ;QACD,IAAI,CAAC,SAAS,GAAG;YACb,QAAQ,EAAE,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,EAAE,CAAC,EAAE;YACxD,UAAU,EAAE,eAAe,CAAC,QAAQ;SACvC,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;KAC1C,CAAC;IACF,eAAe,CAAC,QAAQ,GAAG,CAAC,+BAA+B,CAAC,KAAK,CAAC,CAAC;IACnE,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;;AC5JL;;;;AAIA,IAAIL,WAAS,GAAG,CAACF,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,IAAIW,YAAU,GAAG,CAACX,SAAI,IAAIA,SAAI,CAAC,UAAU,KAAK,UAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IACnF,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACjE,CAAC;AACF,IAAIY,SAAO,GAAG,CAACZ,SAAI,IAAIA,SAAI,CAAC,OAAO,KAAK,UAAU,UAAU,EAAE,SAAS,EAAE;IACrE,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;CACxE,CAAC;AACF,IAAIgE,WAAS,GAAG,CAAChE,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAIiE,aAAW,GAAG,CAACjE,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;AACF,AAoBA,SAAS,6BAA6B,CAAC,IAAI,EAAE;IACzC,OAAO,cAAc,CAAC,KAAK,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;CACrI;AACD,IAAI,kBAAkB,kBAAkB,YAAY;IAChD,SAAS,kBAAkB,CAAC,MAAM,EAAE,aAAa,EAAE,iBAAiB,EAAE,eAAe,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,YAAY,EAAE;QAC5J,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,EAAE,iBAAiB,CAAC,CAAC;QAClF,IAAI,CAAC,sBAAsB,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAE,kBAAkB,EAAE,UAAU,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACpJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,sBAAsB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC;KACpY;IACD,kBAAkB,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;QACvC,OAAO,MAAM,CAAC,eAAe,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;KACxD,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC/C,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtB,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9B,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAU,CAAC,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;;;YAGhD,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE;gBAC5B,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,KAAK,mBAAmB,CAAC,KAAK,KAAK,CAAC,CAAC,OAAO,CAAC,SAAS,KAAK,mBAAmB,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;oBACnI,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;iBACtC;qBACI;oBACD,KAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAC5D;aACJ,CAAC,CAAC;YACH,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,QAAQ,EAAE;YAClC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;SAC3D;aACI,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;;;;YAIrB,IAAI,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE;gBACvC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;aAC3D;iBACI;gBACD,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,CAAC,CAAC;aACnC;SACJ;aACI;YACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;SAChC;KACJ,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QAC7C,OAAO,kBAAkB,CAAC,EAAE,CAAC;KAChC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,MAAM,EAAE;QACpE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;KACjF,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE;QACnF,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;KACxF,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QAC7D,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QACrE,IAAI,KAAK,CAAC;QACV,IAAI,EAAE,EAAE;YACJ,KAAK,GAAGC,QAAY,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;SAC7E;aACI;YACD,KAAK,GAAGA,QAAY,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;SAClD;QACD,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC;KACvC,CAAC;IACF,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,MAAM,EAAE;QAChE,OAAO+D,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACjD,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;gBACnC,QAAQ,EAAE,CAAC,KAAK;oBACZ,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACrI,KAAK,CAAC;wBACF,EAAE,CAAC,IAAI,EAAE,CAAC;wBACV,OAAO,CAAC,CAAC,YAAY,CAAC;iBAC7B;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN,CAAC;IACF,kBAAkB,CAAC,EAAE,GAAG,mCAAmC,CAAC;IAC5D,kBAAkB,GAAGtD,YAAU,CAAC;QAC5BC,SAAO,CAAC,CAAC,EAAE,cAAc,CAAC;QAC1BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,eAAe,CAAC;QAC3BA,SAAO,CAAC,CAAC,EAAE,mBAAmB,CAAC;QAC/BA,SAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC;QAC9BA,SAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;QAC7BA,SAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;KACrC,EAAE,kBAAkB,CAAC,CAAC;IACvB,OAAO,kBAAkB,CAAC;CAC7B,EAAE,CAAC,CAAC;AACL,AACO,SAAS,eAAe,CAAC,MAAM,EAAE,gBAAgB,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,EAAE;IAC3F,OAAOoD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAC/C,OAAOC,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;YACnC,QAAQ,EAAE,CAAC,KAAK;gBACZ,KAAK,CAAC;oBACF,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC1C,OAAO,CAAC,CAAC,YAAY,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,gBAAgB,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC;gBACrG,KAAK,CAAC;oBACF,EAAE,CAAC,IAAI,EAAE,CAAC;oBACV,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACjB,KAAK,CAAC;oBACF,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC7C,OAAO,CAAC,CAAC,YAAY,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACpI,KAAK,CAAC;oBACF,EAAE,CAAC,IAAI,EAAE,CAAC;oBACV,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACjB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC;aACjC;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;CACN;AACD,SAAS,iCAAiC,CAAC,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,SAAS,EAAE;IACvF,IAAI,UAAU,GAAG,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAChD,IAAI,CAAC,UAAU,EAAE;QACb,OAAO;KACV;IACD,IAAI,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;IAC/B,UAAU,CAAC,0BAA0B,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,WAAW,EAAE;QACjF,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACrC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;SACvE;KACJ,CAAC,CAAC;CACN;AACD,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClD/D,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,cAAc,CAAC,EAAE;YACrB,KAAK,EAAED,QAAY,CAAC,wBAAwB,EAAE,cAAc,CAAC;YAC7D,KAAK,EAAE,WAAW;YAClB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,sBAAsB,CAAC;YACtG,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,iBAAiB,EAAE;aACnC;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACvD,OAAO,iCAAiC,CAAC,MAAM,EAAEA,QAAY,CAAC,oCAAoC,EAAE,2BAA2B,CAAC,CAAC,CAAC;KACrI,CAAC;IACF,cAAc,CAAC,EAAE,GAAG,wBAAwB,CAAC;IAC7C,OAAO,cAAc,CAAC;CACzB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,qBAAqB,kBAAkB,YAAY;IACnD,SAAS,qBAAqB,CAAC,IAAI,EAAE,KAAK,EAAE;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;IACD,qBAAqB,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE;QAC5C,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;YACjC,OAAO,IAAI,qBAAqB,CAAC,cAAc,CAAC,KAAK,EAAE,mBAAmB,CAAC,QAAQ,CAAC,CAAC;SACxF;QACD,OAAO,IAAI,qBAAqB,CAAC,qBAAqB,CAAC,eAAe,CAAC,GAAG,CAAC,EAAE,qBAAqB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7H,CAAC;IACF,qBAAqB,CAAC,gBAAgB,GAAG,UAAU,GAAG,EAAE;QACpD,QAAQ,OAAO,GAAG,CAAC,KAAK,KAAK,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE;YAChE,KAAK,OAAO;gBACR,OAAO,mBAAmB,CAAC,KAAK,CAAC;YACrC,KAAK,OAAO;gBACR,OAAO,mBAAmB,CAAC,KAAK,CAAC;YACrC,KAAK,UAAU,CAAC;YAChB;gBACI,OAAO,mBAAmB,CAAC,QAAQ,CAAC;SAC3C;KACJ,CAAC;IACF,qBAAqB,CAAC,eAAe,GAAG,UAAU,GAAG,EAAE;QACnD,OAAO,OAAO,GAAG,CAAC,IAAI,KAAK,QAAQ;cAC7B,IAAI,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC;cAC5B,cAAc,CAAC,KAAK,CAAC;KAC9B,CAAC;IACF,OAAO,qBAAqB,CAAC;CAChC,EAAE,CAAC,CAAC;AACL,IAAI,iBAAiB,kBAAkB,UAAU,MAAM,EAAE;IACrDC,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,iBAAiB,CAAC,EAAE;YACxB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,sBAAsB,CAAC;SACzG,CAAC,IAAI,IAAI,CAAC;KACd;IACD,iBAAiB,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE;QAChF,IAAI,IAAI,GAAG,qBAAqB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,OAAO,iCAAiC,CAAC,MAAM,EAAED,QAAY,CAAC,oCAAoC,EAAE,2BAA2B,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,oBAAoB,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAClM,CAAC;IACF,iBAAiB,CAAC,EAAE,GAAG,0BAA0B,CAAC;IAClD,OAAO,iBAAiB,CAAC;CAC5B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,AACA,IAAI,cAAc,kBAAkB,UAAU,MAAM,EAAE;IAClDC,WAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAClC,SAAS,cAAc,GAAG;QACtB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,cAAc,CAAC,EAAE;YACrB,KAAK,EAAED,QAAY,CAAC,gBAAgB,EAAE,aAAa,CAAC;YACpD,KAAK,EAAE,UAAU;YACjB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,sBAAsB,CAAC;YACtG,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,GAAG,iBAAiB,IAAI,eAAe,EAAE;aACrD;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,6BAA6B,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;aAC/G;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACvD,OAAO,iCAAiC,CAAC,MAAM,EAAEA,QAAY,CAAC,oCAAoC,EAAE,2BAA2B,CAAC,EAAE,EAAE,IAAI,EAAE,cAAc,CAAC,QAAQ,EAAE,EAAE,mBAAmB,CAAC,KAAK,CAAC,CAAC;KACnM,CAAC;IACF,cAAc,CAAC,EAAE,GAAG,wBAAwB,CAAC;IAC7C,OAAO,cAAc,CAAC;CACzB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,YAAY,kBAAkB,UAAU,MAAM,EAAE;IAChDC,WAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChC,SAAS,YAAY,GAAG;QACpB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,YAAY,CAAC,EAAE;YACnB,KAAK,EAAED,QAAY,CAAC,cAAc,EAAE,kBAAkB,CAAC;YACvD,KAAK,EAAE,eAAe;YACtB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,sBAAsB,CAAC;YACtG,QAAQ,EAAE;gBACN,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,6BAA6B,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;aAC7G;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACrD,OAAO,iCAAiC,CAAC,MAAM,EAAEA,QAAY,CAAC,kCAAkC,EAAE,6BAA6B,CAAC,EAAE,EAAE,IAAI,EAAE,cAAc,CAAC,MAAM,EAAE,oBAAoB,EAAE,IAAI,EAAE,EAAE,mBAAmB,CAAC,KAAK,CAAC,CAAC;KAC7N,CAAC;IACF,YAAY,CAAC,EAAE,GAAG,4BAA4B,CAAC;IAC/C,OAAO,YAAY,CAAC;CACvB,CAAC,YAAY,CAAC,CAAC,CAAC;AACjB,AACA,IAAI,qBAAqB,kBAAkB,UAAU,MAAM,EAAE;IACzDC,WAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACzC,SAAS,qBAAqB,GAAG;QAC7B,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrB,EAAE,EAAE,qBAAqB,CAAC,EAAE;YAC5B,KAAK,EAAED,QAAY,CAAC,uBAAuB,EAAE,kBAAkB,CAAC;YAChE,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,EAAE,6BAA6B,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;YACjI,MAAM,EAAE;gBACJ,MAAM,EAAE,iBAAiB,CAAC,eAAe;gBACzC,OAAO,EAAE,IAAI,eAAe,GAAG,aAAa,EAAE;aACjD;SACJ,CAAC,IAAI,IAAI,CAAC;KACd;IACD,qBAAqB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QAC9D,OAAO,iCAAiC,CAAC,MAAM,EAAEA,QAAY,CAAC,oCAAoC,EAAE,sCAAsC,CAAC,EAAE,EAAE,IAAI,EAAE,cAAc,CAAC,qBAAqB,EAAE,oBAAoB,EAAE,IAAI,EAAE,EAAE,mBAAmB,CAAC,QAAQ,CAAC,CAAC;KAC1P,CAAC;IACF,qBAAqB,CAAC,EAAE,GAAG,+BAA+B,CAAC;IAC3D,OAAO,qBAAqB,CAAC;CAChC,CAAC,YAAY,CAAC,CAAC,CAAC;;AC3VjB;;;;AAIA,AAEA,0BAA0B,CAAC,kBAAkB,CAAC,CAAC;AAC/C,oBAAoB,CAAC,cAAc,CAAC,CAAC;AACrC,oBAAoB,CAAC,cAAc,CAAC,CAAC;AACrC,oBAAoB,CAAC,YAAY,CAAC,CAAC;AACnC,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;AAC5C,qBAAqB,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;;ACX/C;;;gGAGgG"}